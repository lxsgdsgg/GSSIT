1 checkout 2 add item name textinputstyle style widget materialcomponents textinputlayout outlinedbox item to apptheme in the sample module 3 open a input dialog image url when added to my app it looks different but also clipped image url
1 create an input dialog with noautodismiss and show kotlin materialdialog this show noautodismiss title res r string title name input positivebutton r string action save name 2 touch outside the dialog
1 create a dialog with bottomsheet behavior 2 include an input by calling dialog input 3 show dialog by calling dialog show soft keyboard automatically shows thank you very much
1 change the sample project method showcustomviewdialog accordingly kotlin private fun showcustomviewdialog dialogbehavior dialogbehavior modaldialog val dialog materialdialog this customview r layout test custom view scrollable true horizontalpadding false noverticalpadding true turn off padding lifecycleowner this mainactivity debugmode debugmode cornerradius 16f dialog show 2 create a test layout with a scrollview as the root and set the item backgrounds to some color xml xml version version encoding utf 8 scrollview xmlns android url android layout width match parent android layout height wrap content linearlayout android width match parent height wrap content orientation vertical textview id id textview6 width match parent height wrap content background color primary text textview textview id id textview7 width match parent height wrap content text textview linearlayout scrollview 3 run the app and click on custom view button
materialdialog this show title r string title message r string message input hintres r string hint positivebutton android r string ok negativebutton android cancel try to long press on the edittext to paste something in the clipboard this happens only when the text is empty if a type a char and retry it pops up
1 create a fragment and some elements to test the behavior 2 open a dialog bottomsheet with a customview the view being the fragment 3 modify a property of an element for example the text on textview or image on an imageview inside class of fragment i ve used this code to test behavior inside override fun oncreateview imageview setimageresource r drawable ic launcher background for an image textview text test for text
my code is basically this kotlin private lateinit var bottomsheet materialdialog bottomsheet materialdialog requirecontext bottomsheet layoutmode wrap content customview r layout bottom sheet add photo noverticalpadding true do things here mybutton setonclicklistener bottomsheet show
val myitems listof hello world materialdialog context show ttitle text title tmessage text message tpositivebutton text positivebutton tnegativebutton text negativebutton tlistitemssinglechoice items myitems
1 build a date picker 2 show it 3 rotate to landscape
kotlin val defcal calendar getinstance apply set calendar hour of day 15 set calendar minute 45 materialdialog context show lifecycleowner this timepicker currenttime defcal show24hoursview android text format dateformat is24hourformat context dialog datetime some code here positivebutton res android r string ok negativebutton res android r string cancel
1 download material dialog sample 2 update to md color button text in apptheme custom to some color 3 inside the sample app change to custom theme and open any of the sample dialogs
1 create a dialog with just the message property set
1 display a dialog with stacked button long text on button
1 just use colorchooser
1 use a customview for the dialog 2 add a positivebutton where you get the values from your custom view this works my use case is getting the selected dates from a custom calendarview 3 call buttoninfragment settext selecteddates in ondismiss
1 use a dpad there is one in the emulator settings 2 open a yes no dialog or something similar 3 click around to find and lose focus on the buttons
kotlin override fun oncreatedialog savedinstancestate bundle dialog val title arguments getstring title val subtitle arguments getstring subtitle val positivebutton arguments getstring positive button val negativebutton arguments getstring negative button neutralbutton neutral button dialog materialdialog activity title text title message text subtitle if negativebutton null dialog negativebutton text negativebutton dialog dismiss callbacklistener onnegativebutton if positivebutton null positivebutton text positivebutton dismiss callbacklistener onpositivebutton if neutralbutton null neutralbutton neutralbutton dismiss callbacklistener onneutralbutton return
just load weex pages with some events and check behavior
the same source code behave defferent i only changed targetsdkversion
url 1 element class flickering 1 click a 2 click b 3 click b again no background why 4 click b again still background why 5 a 6 a again okay 7 a again so only first element works well 2 invalid class for first element 1 2 b 3 press and move finger to screen border you should see the same as screenshot below two elements are selected 4 you can d but first element still selected
errormessage degradetoh5 createinstance fail wx create instance error isjsframeworkinit false reinitcount 1
for basically use weex create course in cmd or bash in win10 ubunto
demo url it is the official websocket demo of weex from url onerror the demo works in my pc chrome browser but it cannot work in the weex playground app in the same wifi network i also tried taobao app and dingding app it did not work in them
look here url normal after using reload
steps to reproduce the behavior include a mcve using url crash stacktrace or share your app project please follow the guidelines for providing a mcve url
vue template div class wrapper scroller class scroller v for row in rows scroll direction horizontal text row length text div v for item index in row class item text index item name text div scroller div click changedata class button template i reduces item of row in function changedata the length of changed but the number of children which displayed didn t change
steps to reproduce the behavior include a mcve using url crash stacktrace or share your app project please follow the guidelines for providing a mcve url
1 removeallitems by getallkeys and removeitem 2 getallkeys again oops callback is not called
use the demo talker listener example to reproduce this bug issue steps to reproduce the behavior
steps to reproduce the behavior your name in dev docker apollo bazel bin modules planning integration tests sunnyvale loop test gtest filter sunnyvalelooptest qp path failure warning logging before initgooglelogging is written to stderr i0522 16 16 version 17580 class loader utility h 78 planning registerclass planningcomponent apollo cyber componentbase i0522 16 16 version 17580 global data cc 150 planning test host ip xxx note google test filter sunnyvalelooptest qp path failure running 1 test from 1 case global environment set up 1 from sunnyvalelooptest run sunnyvalelooptest qp path failure e0522 version 17580 planning base cc 109 requires flags prediction file to be set f0522 version 17580 base cc 163 check failed feedtestdata failed to feed data
steps to reproduce the behavior 1 create a python script and import cyber time from cyber py import cyber time 2 make repeated calls to cyber time time now the following script can reproduce the behavior from py import import while true sleep version print yber str now the last lines of output are something to effect of fatal python error deallocating none aborted core dumped
steps to reproduce the behavior 1 download the source code bash git pull rebase upstream master git reset hard 2 start and enter the docker bash bash docker scripts dev start sh bash docker scripts dev into sh 3 build the apollo project apollo sh build j 8 4 convert bag file to a record file rosbag to record data bag csc bag data bag csc record 5 modify modules common data global flagfile txt file as follows change use navigation mode false to use navigation mode true and add a line local utm zone id 49 6 modify modules localization conf localization conf file as follows change local utm zone id 10 local utm zone id 49 7 start dreaview scripts bootstrap sh 8 replay record cyber recorder play f data csc l
steps to reproduce the behavior 1 launch apollo version system with lidar camera radar perception mode 2 open the dreamview
steps to reproduce the behavior user in dev docker apollo bazel run modules perception camera tools offline offline obstacle pipeline
steps to reproduce the behavior 1 go to cyber recorder play f docs demo guide demo version record loop 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 write a new can message inside the protocol folder which has an incremented alive counter every time it is called the data is incremented 2 run the canbus module separately or run full stack 3 log can message output 4 change can message s period and log can messages again 5 when message s period is low and control command s update rate is higher i will see discontinued alivecounter
steps to reproduce the behavior 1 remove any old docker images to start fresh 2 run build dev sh dev x86 64 dockerfile from docker build 3 run bash docker scripts dev start sh l t image id 4 run bash docker scripts dev into sh 5 run bash apollo sh build
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
explained in detail above
if i understood correctly it should be changed in this way if flags use navigation mode content set global offset objs sensor2world pose
i guess this sensor objects sensor2world pose static options camera trans is needed to be changed into this sensor objects sensor2world pose static camera to car
try adding more than one camera subnodes subnodes id 3 name cameraprocesssubnode reserve device id front right side camera pb obj 1 pb ln msk 0 type subnode in visualization node with opengl subnodes id 41 name visualizationsubnode reserve vis driven event id 1008 camera event 1008 camera device front right side node publish pb with non zero int subnodes 4 name cameraprocesssubnode reserve device front left side pb obj 1 ln msk 0 type subnode in
here is use case in order to reproduce this issue let s say there are two cameras which need to be connected to two visualization sub nodes e g subnode config subnodes id 3 name cameraprocesssubnode reserve device id camera right side camera orientation right side pb obj 1 pb ln msk 0 subnodes id 41 name reserve vis driven event id 1008 camera event 1008 camera orientation right side subnodes 4 name cameraprocesssubnode reserve device left side orientation left pb obj 1 pb ln msk 0 subnodes 42 name reserve vis driven event 1009 event 1009 orientation left this both are trying to initialize
js in a html file like opened at file tmp axios html for example axios get file ttf responsetype arraybuffer then resp console log ok resp catch err if err request err request readystate 4 the response here should not be treated as an error console log err
just run axios on ie9 and set responsetype to json js var responsedata config responsetype config responsetype text request responsetext request response reponsedata always undefined on ie9
follow this tutorial url js try const address await axios get url params app id app id here app code app code here query maxresults 1 console log address address catch error console log address error error
here s my client code js const fs require fs const https require https const axios require axios this works const options hostname localhost port 3333 path method get pfx fs readfilesync client certificate2 pfx passphrase password ca fs readfilesync ca crt pem req https request options res res on data data process stdout write data req end this fails axios request baseurl url method get agent new https agent passphrase password pfx readfilesync client certificate2 pfx then resp console log resp data catch error console error error message here s my server code js require options key readfilesync server key pem cert server crt pem ca ca crt pem requestcert true rejectunauthorized true createserver options req res console log new date req connection remoteaddress method url res writehead 200 end hello world listen 3333 console log listening all the certificates have been generated following this tutorial url the pkcs12 certificate has been generated using the following command sh openssl pkcs12 export out client certificate2 inkey client1 key in client1 crt certfile with password as password
code snippet to reproduce ideally that will work by pasting into something like url a hosted solution or a repository that illustrates the issue
i tried to write a crawler to crawl the chinese website and then transcode it js axios url url responsetype blob responseencoding gbk transformresponse function data var html iconvlite decode data gb2312 return html then data do someing
i don t know how to reproduce it since it s randomly occurred
code snippet to reproduce ideally that will work by pasting into something like url a hosted solution or a repository that illustrates the issue
1 install fiddler url will act as proxy for testing or set a proxy on windows 2 start fiddler and capture network traffic make sure to capture https traffic from tools options https this will create a temporary proxy for testing 2 create new electron hello world app 3 call from electron renderer process the website code part js axios post url data anything
create a simple test file containing this at the start import axios from axios import httpadapter from axios lib adapters http import nock from nock axios defaults url url defaults adapter httpadapter this produces the following error ts7016 could not find a declaration file for module lib adapters http c users user project node modules lib adapters http js implicitly has an any type try npm install types if it exists or add a new declaration d ts file containing declare module
open url attach axios version uncomment line with axios version run fiddle console show true attach axios version uncomment line with axios version run fiddle console show undefined
code snippet to reproduce ideally that will work by pasting into something like url a hosted solution or a repository that illustrates the issue
any request that returns a response with content type application json typeof response data string
js const formdata new formdata const blob new blob test type text plain formdata append file blob test txt axios request api test headers test header content type text plain tdata formdata
runkit example url the example shows that the geturi method only returns the url parameter in the request interceptor but in response interceptor full url is returned
send a cross domain requests with axios in ie9
i can t reproduce it outside the work vm since it s work code i prefer not upload anything but i will write specific code if neccesarry
code snippet to reproduce ideally that will work by pasting into something like url a hosted solution or a repository that illustrates the issue
js in ie10 axios get someurl catch error console log json stringify error
js const instance axios create baseurl url params q question js instance get page params page 2 what happens is that the request param object overrides the instance default param object the instance no longer has a query param of q
js axios axios get xxxx responsetype text then res console log 111 console log res fetch fetch xxxx method get credentials include then res console log 111 console log res return text then text 222 text
set system envariable shell export http proxy url export http proxy url export https proxy url export https proxy url no domain com no domain com js axios get then data console log data catch e console log e
js axios post url an object content type application json charset utf 8 header will be set
this is in a react process with jsx set to preserve it is a tsx file imported by a js
1 create a web server which writes a few bytes and then stops const http require http const hostname version const port 3000 const server http createserver req res res statuscode 200 res setheader content type text plain res write h end server listen port hostname console log server running at url hostname port 2 make a get request to the with axios with a timeout setting axios require axios axios get url timeout 1000 then console log hello there 3 the request will never timeout
js return axios post api bind client panel id panelid client ids clientid headers authorization authservice getauthtoken
code snippet to reproduce ideally that will work by pasting into something like url a hosted solution or a repository that illustrates the issue
code snippet to reproduce ideally that will work by pasting into something like url a hosted solution or a repository that illustrates the issue
i couldn t try out the code in ie11 because runkit doesn t work in ie but this should be able to reproduce the error js var axios require axios var urlsearchparamspolyfill require ungap url search params window urlsearchparams urlsearchparamspolyfill axios request url url
code snippet to reproduce ideally that will work by pasting into something like url a hosted solution or a repository that illustrates the issue
code snippet to reproduce ideally that will work by pasting into something like url a hosted solution or a repository that illustrates the issue
js import react usestate from react import reactdom from react dom import axios from axios function app const loadingpercent setloadingpercent usestate 0 const canceltoken axios canceltoken const source canceltoken source const upload async file await axios put url file onuploadprogress progressevent any setloadingpercent math round progressevent loaded 100 progressevent total canceltoken source token cancel setloadingpercent 0 source cancel operation canceled by the user return div classname app input type file onchange e upload e target files 0 h1 loadingpercent h1 button onclick cancel cancel button div rootelement document getelementbyid root reactdom render app rootelement
1 using macos run make deploy 1 once finished run src qt bitcoin qt 1 ctrl c to quit bitcoin qt process 1 run make deploy again
in alpine linux version sh apk update apk add git cmake make curl gcc g perl automake autoconf libtool pkgconfig python3 git clone url cd bitcoin cd depends make no qt 1
bitcoin cli deriveaddresses
i am batch executing upsert 500 rows to import data into crdb since some of the data is already in the database i am using upsert to avoid getting errors for the batch execution when doing inserts the upsert is executed periodically
1 set up cockroachdb cluster version 2 create a database mydb run the script then try to drop db cr iri ddl sql gz url sql create database iri cat cr iri ddl sql cockroach sql insecure d iri drop database
i have developed a go project directory which contains the test and will exhibit the problem i am only able to reproduce the problem using this particular test which contains a small amount of proprietary code i will send the directory privately to andrew deally at cockroach labs please contact him to obtain it directory contains a readme md file with directions for reproducing issue test executes in one of two modes savepoint all transactions are retried when appropriate and url library is used for retries in order to demonstrate that problem is not necessarily limited library i typically use for retries non savepoint test executes using library that typically use configured use client side retries without savepoints execution time in savepoint mode is about 45 60 seconds on my development machine whereas execution time is about 1 second in non savepoint mode
type foo struct tbars string json bars create table if not exists foos id bigserial not null bars text array not null primary key id for rows next tvar foo foo tif err rows scan foo id bars err nil t treturn err t treturn nil
what did you do describe in your own words if possible provide steps to reproduce the behavior 1 set up cockroachdb cluster 2 send sql cli command 3 look at ui log file client app 4 see error
1 set up a 3 node cluster in roachprod running version 2 run a tpcc workload 10 warehouses 3 enable an enterprise license on the cluster 4 backup tpcc table into an s3 bucket or another cloud hosting 5 set up a rust app like this url main content 6 connect to your clusters public ip address take note of this when setting up cluster 7 execute the following in the client rust conn execute restore database tpcc from bucket link here unwrap
1 create a local cluster 2 create a new user 3 log in to cluster as that user 4 try to create a database
what did you do describe in your own words if possible provide steps to reproduce the behavior 1 set up cockroachdb cluster 2 run the django test suite once using the crdb backend url 3 after the tables and indexes have been created rerun tests and say yes to dropping database 4 this will fail with an error like split failed while applying backpressure to txn 97a88a2b put table 15 1 0 min put table 15 1 1 min on range r1654 table 15 2 failed 2019 07 18t23 49 version z n1 s1 n2 s2 2 n3 s3 3 next 4 gen could not find valid split key
this bash script fails reliably on my machine bash usr bin env bash set euo pipefail cockroach start insecure background let the db get its groove on sleep 1 cockroach quit insecure cockroach start insecure background
this bash script fails reliably on my machine bash usr bin env bash set euo pipefail rm f connfile cockroach start background insecure listening url file connfile dev null 1 2 cat connfile dev null
case 1 create table if not exists bugtest1 id serial not null primary key arr1 string 100 array not null default array arr2 int array not null default array insert into bugtest1 id values 1 result pq type of contents string doesn t match column type int case 2 create table if exists bugtest2 id serial null primary key arr2 int default arr1 string 100 default insert into bugtest2 id values 1 result pq type of contents int doesn t match column type string
as of yet unable to reproduce this issue on the system config range if possible provide steps to reproduce the behavior 1 set up cockroachdb cluster 2 send sql cli command 3 look at ui log file client app 4 see error
sql create table a b string insert into a values array foo bar insert into a values array baz boo testing for an element in an array works sql select from a where baz any b b baz boo 1 row but the opposite does not sql select from where baz any b foo bar boo
1 set up secured cockroachdb cluster all default configuration of 3 node with rf 3 in kubernetes cockroachdb version used is the latest v version 2 start benchmark run from the go client pod if requested can share the client code over support email channel 3 the go client pod logs would indicate write throughput degrading over period of time
create one gcp container download url install minikube etc run helm install with 3 replicas resource request of 2 cpus 4g memory create a load balancer gcp service to connect to the pods run cockroach workload init tpcc postgres root version 26257 sslmode disable warehouses 1000 the ip of the load balancer since the pods have non routable ips cockroach workload run tpcc postgres root version 26257 sslmode disable warehouses 1000 duration 10m initializing 2000 connections initializing 10000 workers and preparing statements error pq update setting split failed while applying backpressure could not find valid split key
set up the following schema sql create table elements id varchar 100 not null parent id varchar 100 display text primary key id create table element properties element id varchar 100 not null property varchar 100 not null value constraint fk element foreign key element references elements then execute this query sql select from elements e left join properties p on e p where e third or e in select e1 parent from elements e1 where e1 third removing either the left join or the select subquery fixes it
my company is trying to migrate an application to cockroach and it s currently the only application using the cluster cockroach was running slowly when i came in today so i performed a rolling restart of the clusters which typically solves the slowness issue after doing this i am now getting this error although i can t say for certain if this was an issue before restart do not know of any specific instance of us writing to same row a lot although was making a fair number of schema changes and reloading database as part this pending migration so potentially although certainly not thousands if possible provide steps to reproduce behavior unknown as do not have a scenario for what caused error nor can tell from message what problem area is
what did you do describe in your own words if possible provide steps to reproduce the behavior 1 create database with crdb v version 2 create table with a check constraint 3 upgrade crdb to v version 4 run sql show constraints from table name
user is able to reproduce each time the import they have provided their ddl as well as goroutines from when the import stalls it can all be found here url user is deploying us on gke using n1 standard 4 machines total of 12 nodes if possible provide steps to reproduce the behavior
follow the docs url up to point c job yields an error initial connection heartbeat failed rpc error code unavailable desc all subconns are in transientfailure latest connection error connection error desc transport authentication handshake failed x509 certificate is valid for localhost gke cockroachdb1 default pool 61vb us central1 a c superb xxx xxxx internal gke cockroachdb1 default pool 61vb us central1 a cockroachdb public cockroachdb public c superb ship internal not cockroachdb 0 cockroachdb ssl authentication while connecting the manifest relies on host 0 to initialize cockroach whereas gke generates different node host names causing the job to fail
i had concurrent inserts and a unique constraint that usually returns unique violation that i handle
unclear if this can reproduced reliably yet
i spun up a 3 node cluster using docker and forgot to forward the ports on 2 of the 3 nodes
what did you do describe in your own words if possible provide steps to reproduce the behavior 1 set up cockroachdb cluster 2 send sql cli command 3 look at ui log file client app 4 see error
i m not certain how to reproduce the error in our case we had a foreign key constraint on a table 10gb in size i altered the table to drop the constraint and then attempted to drop the index
what did you do describe in your own words if possible provide steps to reproduce the behavior 1 set up cockroachdb cluster 2 send sql cli command 3 look at ui log file client app 4 see error
index that was being created create index index name on table geo key expiry timestamp partition by list geo key partition eti mt idx values in mt partition eti be idx values in be partition eti de idx values in de
i attempted to reproduce but it appears that the schema we have may be outdated as when i ran the create index query after creating all the tables it gave me an error that a specific column did not exist we have the schema for db here url
export cluster andy decommission roachprod create cluster n 7 clouds aws aws machine type ssd c5d 4xlarge roachprod run cluster dev mount grep mnt data1 awk print 1 sudo umount mnt data1 sudo mount o discard defaults nobarrier dev mnt data1 mount grep mnt data1 roachprod stage cluster 1 6 cockroach roachprod stage 7 workload start 1 6 e cockroach engine max sync duration 24h adminurl open 1 run cockroach workload fixtures import tpcc warehouses 5000 db tpcc run 7 workload run tpcc ramp 10m warehouses 5000 active warehouses 4000 duration 10h split scatter pgurl 6 post error i m now running 7 workload tpcc ramp 10m warehouses 5000 active 4000 duration 10h tolerate errors scatter pgurl 6
setup sql 20 and compelted the initial restore did not run any load
create table t1 j json create table t2 j json insert into t1 values a b insert into t2 values c d select j from t1 union select j from t2 output is pq unable to encode table key tree djson
roachprod create cluster n 7 clouds aws aws machine type ssd c5d xlarge roachprod run cluster 1 6 dev mount grep mnt data1 awk print 1 sudo umount mnt data1 sudo mount o discard defaults nobarrier dev mnt data1 mount grep mnt data1 roachprod stage cluster 1 6 cockroach roachprod stage cluster 7 workload start 1 6 adminurl open run cockroach workload fixtures import tpcc warehouses 2000 db tpcc
postgres psql version debian version 2 server version debian version 1 pgdg90 2 postgres select foo jsonb foo column t 1 row cockroach psql debian 2 server root select foo jsonb foo column f 1 row
export cluster andy 60 roachprod create cluster n 61 clouds aws aws machine type ssd c5d xlarge roachprod run cluster dev mount grep mnt data1 awk print 1 sudo umount mnt data1 sudo mount o discard defaults nobarrier dev mnt data1 mount grep mnt data1 roachprod stage cluster 1 60 cockroach roachprod stage 61 workload start 1 60 racks 20 e cockroach engine max sync duration 24h run 1 cockroach workload fixtures import tpcc warehouses 10000 db tpcc
roachprod create cluster n 31 clouds aws aws machine type ssd c5d 2xlarge roachprod run cluster dev mount grep mnt data1 awk print 1 sudo umount mnt data1 sudo mount o discard defaults nobarrier dev mnt data1 mount grep mnt data1 roachprod stage cluster 1 30 cockroach roachprod stage cluster 31 workload start 1 30 racks 10 e cockroach engine max sync duration 24h adminurl open 1 run cockroach workload fixtures import tpcc warehouses 10000 db tpcc
here is a simple repro that demonstrates the issue url it has the instructions to run the code in the readme
this is the query that caused the issue sql select count userpositi0 region as col 0 0 from t1 as userpositi0 inner join position as positionen1 on userpositi0 position region positionen1 region and userpositi0 position tenant id positionen1 tenant id and position id positionen1 uid where tenant id uuid and region and external external tenant uuid if possible provide steps to reproduce the behavior 1 run the query 2 run cancel query query 3 check cpu usage graph disk write ops
1 setup a crdb cluster my instance was a 3 node local cluster on my local laptop 2 start up two crdb sql connections using the cockroach command line 3 create the following table create table myseq type id int not null primary key seq int not null 4 insert one record into the table insert into myseq values 1 0 5 run the following commands across two sql connections txn a tbegin tselect from myseq where type id 1 txn b tbegin tselect from myseq where type id 1 txn a tupdate set seq seq where type id txn b tselect from where tcommit b tsometimes is fine and sometimes returns i confirmed that no lease transfers happened at time in which i was executing this sql
1 export cluster andy nolbs 2 roachprod create cluster n 16 clouds aws aws machine type ssd c5d 4xlarge 3 roachprod run cluster 1 15 sudo umount mnt data1 sudo mount o discard defaults nobarrier dev nvme1n1 mnt data1 mount grep mnt data1 4 roachprod stage cluster 1 15 cockroach 5 roachprod stage 16 workload 6 start 1 15 racks 5 7 sql 8 set setting kv range split by load enabled false 9 adminurl open 10 run cockroach workload fixtures import tpcc warehouses 10000 db tpcc
what i did docker run rm d name roach cockroachdb cockroach v version start insecure docker run link roach rm ti e gf database url postgres root roach 26257 defaultdb sslmode disable name grafana grafana grafana with the second command repeated a few times while fixing the drop index migrations by manually dropping the index with cascade and recreating a similarly named index without any constraints a simpler case run any crdb and issue a query like select value 42 the result of that query is following root version 26257 defaultdb select value 42 as v pq unsupported binary operator string int
1 to monitor the i o run iotop opa d 2 2 from another terminal starts a cockroach instance observe the i o of jdb2 sda2 8 3 then start 2nd one observe the i o of jdb2 sda2 8 it starts to jump ranging from 6 to 14 4 close them them eventually it goes down to the normal level
1 export cluster andy base 2 roachprod create cluster n 7 clouds aws aws machine type ssd c5d 4xlarge 3 roachprod run cluster 1 6 sudo umount mnt data1 sudo mount o discard defaults nobarrier dev nvme1n1 mnt data1 mount grep mnt data1 4 roachprod stage cluster 1 6 cockroach 5 roachprod stage 7 workload 6 start 1 6 7 sql 8 set setting kv range merge queue enabled false 9 adminurl open 10 run cockroach workload fixtures import tpcc warehouses 5000 db tpcc 11 run 7 workload run tpcc ramp 5m warehouses 3400 duration 15m split scatter pgurl 3
1 export cluster andy base 2 roachprod create cluster n 7 clouds aws aws machine type ssd c5d 4xlarge 3 roachprod run cluster 1 6 sudo umount mnt data1 sudo mount o discard defaults nobarrier dev nvme1n1 mnt data1 mount grep mnt data1 4 roachprod stage cluster 1 6 cockroach 5 roachprod stage 7 workload 6 start 1 6 7 sql 8 set setting kv range merge queue enabled false 9 set setting kv range split by load enabled false 10 adminurl open 11 run cockroach workload fixtures import tpcc warehouses 5000 db tpcc 12 run 7 workload run tpcc ramp 5m warehouses 3400 duration 15m split scatter pgurl 3
export cluster andy base roachprod create cluster n 7 clouds aws aws machine type ssd c5d 4xlarge roachprod run cluster 1 6 sudo umount mnt data1 sudo mount o discard defaults nobarrier dev nvme1n1 mnt data1 mount grep mnt data1 roachprod stage cluster 1 6 cockroach roachprod stage 7 workload start 1 6 sql 1 e set setting kv range merge queue enabled false adminurl open run cockroach workload fixtures import tpcc warehouses 5000 db tpcc run 7 workload run tpcc ramp 5m warehouses 3400 duration 15m split scatter pgurl 6
run a workload which creates a large number of distsql flows
1 export cluster andy base 2 roachprod create cluster n 7 clouds aws aws machine type ssd c5d 4xlarge 3 roachprod run cluster 1 6 sudo umount mnt data1 sudo mount o discard defaults nobarrier dev nvme1n1 mnt data1 mount grep mnt data1 4 roachprod stage cluster 1 6 cockroach 5 roachprod stage 7 workload 6 start 1 6 7 adminurl open 8 run cockroach workload fixtures import tpcc warehouses 5000 db tpcc 9 run 7 workload run tpcc ramp 5m warehouses 4000 duration 15m split scatter pgurl 3
1 export cluster andy base 2 roachprod create cluster n 7 clouds aws aws machine type ssd c5d 4xlarge 3 roachprod run cluster 1 6 sudo umount mnt data1 sudo mount o discard defaults nobarrier dev nvme1n1 mnt data1 mount grep mnt data1 4 roachprod stage cluster 1 6 cockroach 5 roachprod stage 7 workload 6 start 1 6 7 adminurl open 8 run cockroach workload fixtures import tpcc warehouses 5000 db tpcc 9 run 7 workload run tpcc ramp 5m warehouses 4000 duration 15m split scatter pgurl 3
what did you do describe in your own words if possible provide steps to reproduce the behavior 1 export cluster andy nolbs 2 roachprod create cluster n 7 clouds aws aws machine type ssd c5d 4xlarge 3 roachprod run cluster 1 6 sudo umount mnt data1 sudo mount o discard defaults nobarrier dev nvme1n1 mnt data1 mount grep mnt data1 4 roachprod stage cluster 1 6 cockroach 5 roachprod stage 7 workload 6 start 1 6 7 sql 8 set setting kv range split by load enabled false 9 adminurl open 10 run cockroach workload fixtures import tpcc warehouses 5000 db tpcc
try set read the cluster settings in cockroach sql show cluster setting timeseries storage 10s resolution ttl invalid syntax statement ignored syntax error at or near 10 detail source sql show cluster setting timeseries storage 10s resolution ttl
docker run d p 26257 26257 p 18080 8080 cockroachdb cockroach v version start insecure and check out the pr url and run test cockroach sh
url see this repo and run run sh this spins up a 9 node cluster across 3 regions creates tables and then applies constraints the table central west should be constrained to the central and west localities however the above command does not work central west json executes the alternative command and table is properly constrained
if possible provide steps to reproduce the behavior 1 download source code to a ppc64le machine with proper environment extract it 2 run make build 3 after a while an error will pop out and the process stops build files have been written to root cockroach v version native powerpc64le linux gnu rocksdb scanning dependencies of target build version 0 building cxx object cmakefiles build version dir version cc o c error unrecognized command line option march native did you mean mcpu native cmakefiles dir make 62 recipe for target cmakefiles dir cc o failed make 5
16 53 docker run d name cockroachdb cockroachdb cockroach start insecure 16 53 docker exec it cockroachdb cockroach sql insecure server version cockroachdb ccl v version x86 64 unknown linux gnu built 2018 12 17 19 15 31 go version same version as client cluster id e7cde7cb ef2a 4600 9da7 bbba871acfda root 26257 defaultdb create database casesensitive create database time ms root 26257 defaultdb show databases database name casesensitive defaultdb postgres system 4 rows time ms root 26257 defaultdb d 16 54 docker exec it cockroach sql insecure d casesensitive warning unable to retrieve the server s pq database casesensitive does not exist warning error retrieving the name pq does not exist root 26257
create table test2 as select id status created from system jobs show create table test2 table name create statement test2 create table test2 id int null status string null created timestamp null family primary id status created rowid 1 row index index on created storing id status get count select count from count 318 1 row time version ms get the count of records in 3 days use now function select from where now interval 3 day 8 1 row time version ms explain explain select from where now interval 3 day tree field description group aggregate 0 rows scalar render scan idx spans null filter now 3d 8 rows time version ms we see that the spans in the plan are actually treating the function as a filter
execute cockroach debug zip on 3 node cluster running in docker copy file locally and unzip
starting cockroach server locally and client locally ps cockroach exe start insecure listen addr localhost ps cockroach exe sql insecure root 26257 defaultdb create database hi root 26257 defaultdb set database hi root 26257 hi create table t1 id uuid primary key default gen random uuid name string root 26257 hi insert into t1 name values a b c q ps cockroach dump dump mode data insecure error unknown byte type 6cde2645 bd30 4d55 a10e id uuid failed running dump
what did you do describe in your own words n a if possible provide steps to reproduce the behavior n a
tdbname db strconv itoa int uuid new id tconnstring fmt sprintf postgresql root localhost 26257 s sslmode disable dbname tdb err sql open postgres connstring tif err nil t tpanic err t t err db exec create database dbname tif nil t tpanic cannot create database error tdefer db exec drop database dbname db exec create table if not exists table1 id string primary key tif nil tpanic cannot create schema error tfor tctx context background tctx cancel context withcancel ctx tgo func ttime sleep 15 time millisecond tcancel tstarted time now tquery insert into table1 id values 1 tid uuid new string execcontext ctx query id tif nil context canceled tpanic tfmt println inserted time since started time since started 1 second too long
what did you do describe in your own words if possible provide steps to reproduce the behavior 1 set up cockroachdb cluster 2 send sql cli command 3 look at ui log file client app 4 see error
when spring batch is configured with the default options the error will happen
1 set up cockroachdb cluster 2 set up a spring boot project and use jpa to manage the schema of the database 3 set a non unique index on a column 4 start the java program stop it and start it again jpa will try to validate the schema and leads to exception
execute drop database oph cascade
kubectl exec i cockroachdb client secure cockroach dump fid smsstatistic dump mode schema certs dir cockroach certs host cockroachdb public x sql what did you do describe in your own words the result included these two lines alter table smsstatistic add constraint smsstatistic ibfk 1 foreign key senderid references users id on delete set null on update cascade alter table smsstatistic add constraint ibfk 2 foreign key receiverid references users id on delete set null on update cascade if possible provide steps to reproduce the behavior 1 set up cockroachdb cluster 2 send sql cli command 3 look at ui log file client app 4 see error
1 create a new cluster that spans multiple regions 2 create database 3 have flyway try to create tables within database
1 cockroach dump minds notifications certs dir cockroach certs host cockroachdb public dump sql outputs command terminated with exit code 1 2 dump sql outputs create table notifications tuuid uuid not null default gen random uuid tto guid int not null tfrom guid int null tcreated timestamp timestamp null default now timestamp tread timestamp tnotification type string 20 tdata jsonb tentity guid string tconstraint primary primary key uuid asc tindex to guid idx to asc tfamily primary uuid to from created read notification type data entity error unknown byte type 8d91 4ffd 9067 failed running dump
what did you do describe in your own words data in mysql mysql select from account444 lastipnum 10 rows in set version sec mysql show create table account444 g
import mysqldump url what did you do describe in your own words import mysqldump url if possible provide steps to reproduce the behavior import mysqldump url 1 set up cockroachdb cluster 2 send sql cli command 3 look at ui log file client app 4 see error error pq using skip requires all nodes to be upgraded to version 4
export databases and import into a new cluster
i ve attached a sql file taken from our test database sorry i didn t clean up column names and such that you can use to reproduce backup txt url cockroach sql database backup sql then run the query select from cr users u left join cr relationships r on u user key r user key and r deleted false left join cr user emails e on u user key e key and e deleted false where u any array 64e3 4e31 979a 4efd269c f755 4f8b a7ce error detected badly ordered input
i m not sure exactly what causes this but it looks like when a context is cancelled that s passed to querycontext the cancel function is invoked from watchcancel to cancel the original operation
create a systemd file like so etc systemd system cockroachdb service unit after network target description cockroachdb service timeoutstartsec 5 restartforceexitstatus sigpipe cpuquota 180 startlimitinterval 0 execstart usr bin cockroach start logtostderr no color limitnofile 50000 restartsec 5 memorylimit 6357m user cockroachdb timeoutstopsec 60 type notify restart always install wantedby multi user target and then observe that memory limit is reported incorrectly
diff 403 7 403 7 func loadtpccbench partargs rebalancewait time duration b loadwarehouses 100 time minute rebalancewait time duration b loadwarehouses 25 time minute switch b loadconfig case singleloadgen t l printf splitting and scattering 677 11 677 11 func registertpccbench r registry storedirversion version 5 nodes 3 cpus 16 nodes 11 cpus 32 loadwarehouses 2000 estimatedmax 1300 loadwarehouses 10000 estimatedmax 9000 bin roachtest bench tpccbench nodes 11 cpu 32 wipe false user andy
diff index 071ef8a3fe cd9858eeff a pkg cmd roachtest tpcc go b pkg cmd roachtest tpcc go 677 11 677 11 func registertpccbench r registry storedirversion version 5 nodes 3 cpus 16 nodes 9 cpus 64 loadwarehouses 2000 estimatedmax 1300 loadwarehouses 10000 estimatedmax 8000 then make bin roachtest and finally bin roachtest bench tpccbench nodes 9 cpu 64 wipe false user andy
diff index 071ef8a3fe cd9858eeff a pkg cmd roachtest tpcc go b pkg cmd roachtest tpcc go 677 11 677 11 func registertpccbench r registry storedirversion version 5 nodes 3 cpus 16 nodes 9 cpus 64 loadwarehouses 2000 estimatedmax 1300 loadwarehouses 10000 estimatedmax 8000 then make bin roachtest and finally bin roachtest bench tpccbench nodes 9 cpu 64 wipe false user andy
use roachtest from two days ago change test to diff 675 11 675 12 func registertpccbench r registry storedirversion version 5 nodes 3 nodes 12 cpus 16 loadwarehouses 2000 estimatedmax 1300 loadwarehouses 10000 estimatedmax 6000 loadconfig singlepartitionedloadgen objective 1 key result 1 run bin roachtest bench tpccbench nodes 12 cpu 16 partition wipe false user andy
ran bin roachtest bench tpccbench nodes 9 cpu 16 multi region wipe false user andy noticed that a restore wasn t working image url then went to investigate status note that my cluster appeared to have no problems image url i knew based on previous experience to click on problem ranges but nothing clued me into this clicked all problem ranges then observed an invalid lease clicked the invalid lease and saw image url inspected cs and saw image url
ran bin roachtest bench tpccbench nodes 30 cpu 16 wipe false user andy we set ramp duration to 8hs b pkg cmd roachtest tpcc go 414 7 414 7 func loadtpccbench generation doesn t actually run cmd fmt sprintf ulimit n 32768 workload run tpcc warehouses d split scatter s duration 3m tolerate errors pgurl 1 b loadwarehouses partargs duration 8h tolerate errors pgurl 1 b loadwarehouses partargs if out err c runwithbuffer ctx c l loadnode cmd err nil return errors wrapf err failed with output q string out observed the restore took 48 minutes exit status 1 exit status 1skipping cluster wipe fail tpccbench nodes 30 cpu 16 version s ttest go 570 cluster go 1318 tpcc go 663 tpcc 333 pq setting updated but timed out waiting to read new value fail
1 ran bin roachtest bench tpccbench nodes 9 cpu 16 multi region wipe false user andy
1 increase ramp dur from tpcc bench 414 7 414 7 func loadtpccbench generation doesn t actually run cmd fmt sprintf ulimit n 32768 workload run tpcc warehouses d split scatter s duration 3m tolerate errors pgurl 1 b loadwarehouses partargs duration 8h tolerate errors pgurl 1 b loadwarehouses partargs if out err c runwithbuffer ctx c l loadnode cmd err nil return errors wrapf err failed with output q string out 2 ran tpcc bench for 30 nodes without using partition 3 look at ui log file client app image url 4 see error on node 1 i see lots of errors for example 22 54 version storage replica range lease go 296 n1 s1 r2994 table 61 3 867 5 904 4 mismatch incrementing epoch for nodeid 25 epoch expiration version 0 draining false decommissioning false actual is nodeid 25 epoch expiration version 0 draining false decommissioning false on the dead node 17 i see no but all warnings
try to put any select2 component on the screen
change the accent colour hover over a sidebar navigation item text colour is always blue it does not consider the accent colour
steps to reproduce the behavior 1 clone the fresh repo 2 add attribute routerlink hallo to index html line 192 image url 3 run npm run dev 4 inspect sidebar image url
steps to reproduce the behavior 1 go to any page with sidebar mini 2 click on collapse the sidebar clicking at burger btn 3 click on accordion element or any other element at collapsed sidebar to get the sidebar opened 4 see the mini class doesnt change from collapse to open
steps to reproduce the behavior 1 go to url 2 click on any button recomendable buttons on second column 3 see bug affects all the table
steps to reproduce the behavior go to url or url
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior open the installer on windows 10 with all updates version
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
i m using this command to generate the video ffmpeg i video frame 0d png c v libx264 vf fps 25 format yuv420p out mp4
steps to reproduce the behavior 1 start training with any param 2 if files selected for a batch has some invalid characters in its path or name program crashes
train a dfaker model with the default settings i e with the facehull mask
run the windows install without chocolatey installed
steps to reproduce the behavior 1 run python setup py on windows 10 environment
1 train ok 2 convert ok 3 add more images to trump folder 4 convert error
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
on windows 10 run python tools py alignments j manual a alignmentpath fr framespath
steps to reproduce the behavior 1 docker build t deepfakes gpu f dockerfile gpu 2 nvidia docker run rm it p 8888 8888 hostname faceswap gpu name faceswap gpu v opt faceswap srv deepfakes 3 then should see the error
create this component tsx docs faulty tsx import react from react export interface faultyprops const faulty react forwardref htmldivelement props ref return div ref ref props children div export default faulty with this documentation docs faulty mdx import props from docz import from props of
1 create a playground component 2 inside the playground create a styled component 3 try to return the component
1 install docz 2 npx docz dev 3 the docz site opens in the browser
1 go to any docz site 2 scroll down 3 navigate 4 notice you won t be scrolled to the top of the new page
1 go to install docz and configure on any cra app 2 run docz dev server 3 see error when relative file paths shell error failed to compile with 1 errors 16 08 59 this dependency was not found redux rest in src pages counter reducers js to install it you can run npm install save redux rest in order to allow us quickly reproduce you issue please include a link a reproduction repository
1 go offline 2 open generated docz site with code block in markdown 3 see codemirror syntax highlighted pane empty white background
here is a minimal example to reproduce the issue git clone url cd gatsby docz example npm install gatsby develop navigate to localhost 8000 in your browser you will notice that docz is running successfully and is displaying our index mdx file as expected next navigate to our test page where we called the hook localhost 8000 test page you will likely notice that the docs array is empty this can be checked in the console where docs array logged or alternatively in dom where contents inside our div are empty
1 git clone url 3 cd docz theme example 4 npm i gatsby build 5 see error shell error building static html failed for path src pages example see our docs page on debugging html builds for help url 624 const docs usedocs 625 const tocheck usememo 626 location pathname 627 split separator 628 slice 0 1 629 join separator webpackerror referenceerror location is not defined index esm js 626 link object lib docz theme default dist index esm js 626 1 bootstrap 17 object usememo lib webpack bootstrap 17 1 index esm js 625 link lib docz theme default dist index esm js 625 28 bootstrap 22 c lib webpack bootstrap 22 25 sa webpack 25 30 a render webpack 30 30 a read 30 42 rendertostring 42 static entry 206 module cache static entry exports default cache static entry 206 18 24 promise 24 default html 9 promise resolvefromexecutor cache html 9 9 68 new promise 68 20 promise map path 20 5 trycatcher 5
1 create a module that default exports an object that contains an attribute that is a javascript reserved word js export default delete 2 import that module into an mdx file 3 see error shell module parse failed unexpected token 13 18 you may need an appropriate loader to handle this file type export default default if typeof delete undefined delete delete object object isextensible object defineproperty filemeta enumerable true minimum reproduction url
using docz s basic example project 1 set base in doczrc js to foo 2 run yarn dev 3 hover over menu items and docz example basic title
1 create an empty folder for example docz test 2 go into docz test 3 install dependencies yarn add docz docz theme default dev 4 create a home mdx with content described in getting started using url using 5 start dev server with npx dev 6 once open url you will see the above error in console in order to allow us to quickly reproduce you issue please include a link to a reproduction repository url
1 go to url 2 change from export const button children props buttonstyled props children buttonstyled to const button children props buttonstyled props children buttonstyled export button
1 install laravel installer composer global require laravel installer 2 create a new laravel project laravel new blog cd blog 3 install js deps yarn add react react dom yarn add docz next docz theme default next dev 4 add src config option to show that it s not relevant for this bug echo export default src resources js doczrc js 5 start the docz server yarn docz dev shell private tmp blog node modules snapdragon lib parser js 473 throw new error no parsers registered for self input slice 0 5 error no parsers registered for a r at parse private tmp blog node modules snapdragon lib parser 473 15 at parser parse private tmp node modules snapdragon lib parser 477 24 at snapdragon parse private tmp node modules index 122 28 at anonymous braces lib braces 40 45 braces parse braces 66 26 expand 87 18 create index 142 15 memoize index 298 13 function create index 165 10 function expand 81 17 getdirparts chokidar 435 31 fswatcher anonymous chokidar 452 24 readdirp readdirp 220 72 array filter anonymous readdirp readdirp 220 12 193 38 see here for a repository i ve prepared earlier url
1 put a random string into doczrc js as value for property indexhtml 2 run docz dev
1 write a couple of mdx file s 1 check if it s working xa8c run yarn docz dev and see it in the browser 1 create production build xa8c yarn docz build 1 check the generated bundle sh cd docz dist python m simplehttpserver in order to allow us to quickly reproduce you issue please include a link to a reproduction repository it s internal repo can t provide a link
1 open doczrc js 2 set the contents to be js export default htmlcontext head links rel stylesheet href url maven pro 400 500 3 go to the docz style guide 4 inspect the page using chrome dev tools 5 observe no link rel stylesheet matching the above font url
1 go to 2 click on 3 scroll down to 4 see error shell for bugs insert debug trace in order to allow us to quickly reproduce you issue please include a link a reproduction repository
1 open a docz generated site 2 open browser dev tools pinned to the right and increase size of dev tools window until viewport width is less than 1120px 3 attempt to click on hamburger menu to view sidebar here s a test repo url check out the repo run yarn docs and open generated site to reproduce the bug
this throws an error js playground class example extends react component render return div inside class div return example playground but this works just fine js playground div notice extra div here class example extends react component render return inside class return example playground stack trace screenshot 2019 02 26 16 58 14 url
1 run npm run dev in typescript folder under examples folder of this project 2 go to url 3 click open in sandbox image url 4 sandbox displays this error invariant violation element type is invalid expected a string for built in components or a class function for composite components but got undefined you likely forgot to export your component from the file it s defined in or you might have mixed up default and named imports shell evaluate index js 13 9 10 import reactdom from react dom 11 import component from example 12 13 reactdom render 14 div 15 h3 component imported with codesandboxer h3 16 p it may need additional props to get it rendering well p order to allow us quickly reproduce you issue please include a link a reproduction repository you can use the typescript folder under exsmples folder as sample
just running docz causes this error to appear details summary my doczrc js summary br js const path require path const merge require webpack merge const cleanwebpackplugin require clean webpack plugin our custom config that we ll be merging with docz s const oosuiwebpackconfig entry adding our styles using the same multi main entry pattern to ensure our styles are properly merged into the app entry point fyi docz entry config note they re using a tool to create create the config object url fyi docs on multi main from webpack guide docs url single shorthand syntax fyi docs on multi main from configuration docs url app src index less output path path resolve dirname dist static site module rules adding rule for less b c docz doesn t handle less files in its config test less use loader style loader loader css loader resolve extensions ts tsx plugins new cleanwebpackplugin dist static site export default define the menu entries that appear in documentation menu home colors set that will use to bundle our code here we re merging defaults provided by with custom modifybundlerconfig return merge oosuiwebpackconfig details br
1 update the dependencies of a project to include webpack version
i am assuming this bug comes from how i import my modules i used resolved path to import my module but docz thinks it is a node module missing dependency version
build docz in a non tty environment e g in ci
upgrade to emotion 10 run docz dev in order to allow us to quickly reproduce you issue please include a link to a reproduction repository
1 install the latest version of docz version for example 2 run docz dev through an npm script 3 see error this is just the latest error where i gave up node modules emotion styled base dist styled base browser esm js attempted import error withcsscontext is not exported from emotion core this is the before installing emotion core myself node modules docz theme default dist index m js attempted import error classnames is not exported from emotion core node modules theming dist theming browser esm js attempted import themecontext not exported from core node modules theming dist theming browser esm js attempted import themecontext not exported from browser esm themecontext
1 clone examples typescript 2 yarn yarn build 3 serve docz dist
in a shared utils file i have props types like this const prop types prop1 proptype bool in a separate component i import the proptypes import prop types from utils js component proptypes someprop2 proptype func prop types and the proptable only renders with someprop2 and prop1 is missing
run and inspect in order to allow us to quickly reproduce you issue please include a link to a reproduction repository
1 npx create react app my app cd my app 2 yarn add docz docz theme default dev 3 create a basic mdx file 4 yarn docz dev 5 a blank page appears 6 see this error in console uncaught typeerror cannot read property close of undefined at object eval index js e094 72 at eval index js 230 at object node modules chalk index js vendors js 554 at webpack require runtime app 801 fn runtime 164 eval formatwebpackmessages 5b63 10 object node modules react dev utils formatwebpackmessages vendors 6800 webpack require runtime 801 fn runtime 164 eval webpackhotdevclient 7ef4 23
install docz and try to start dev shell docz dev
1 install the most recent version docz theme default version docz version 2 run yarn docz dev 3 open the docs 4 see error shell whoops we crashed cannot read property mq of undefined stack trace in div created by context consumer in div created by context consumer in main created by context consumer in themeconfig created by page page asyncroute asyncroute route route context consumer switch mdxprovider docpreview docpreview themeprovider themeconfig theme theme theme scrolltotopbase route route withrouter scrolltotopbase withrouter scrolltotopbase router browserrouter browserrouter router router dataserver stateprovider errorboundary at root jsx 6 root hotexportedroot appcontainer hotexportedroot hotexportedroot at app index jsx 15
1 install docz package 2 run yarn docz dev which is docz dev 3 typeerror cannot read property tap of undefined during compilation shell compilation hooks addentry tap progressplugin entryadd t t t t typeerror cannot read property tap of undefined
reproduction repository url optional 1 generate a fresh create react app and install docz as usual 2 run yarn docz dev 3 see error shell create react app docz bug cd docz bug yarn add dev add scripts to package json yarn dev shell assertionerror err assertion mount path must begin with at mount c users kalyn robinson documents development aap spill ode modules koa mount index js 33 10 at object add c users kalyn robinson documents development aap spill ode modules core dist index js 1 at promise then c users kalyn robinson documents development aap spill ode modules core ode modules webpack serve lib app js 45 17 at process tickcallback internal process next tick js 68 7 error command failed with exit code 1
npm i babel plugin emotion and create a babelrc like plugins emotion then add div css backgroundcolor blue stuff div into an mdx file and watch it make a blue div then try adding div css backgroundcolor blue stuff inside a playground and watch it be not blue
1 clone the repo install dependencies and start the dev server clone git github com walkerrandolphsmith docz example issue git cd docz example issue npm i no progress silent npx docz dev 2 navigate to localhost 3000 in your browswer 3 your page source or open dev tools 4 observe svg symbol id mydot width 10 height 10 viewbox 0 0 2 2 circle cx 1 cy 1 r 1 symbol svg in the body it is expected in the head in order to allow us to quickly reproduce you issue please include a link to a reproduction repository url
1 clone repo 2 run npm install 3 run npm run docz dev 4 open browser to url and open developer tools 4 see error if however yarn is used in step 2 issue does not appear this issue only appears in version version x version x works fine with npm shell buble browser es js a7b4 633 uncaught typeerror cannot set property jsx of undefined at inject buble browser es js a7b4 633 at eval buble browser es js a7b4 9830 at array reduce anonymous at module eval buble es js a7b4 9829 eval 9918 module node modules dist vendors 1286 webpack require runtime app 788 fn runtime app 151 eval react live 849f 1 module node modules react live dist react live vendors 5579 in order to allow us to quickly reproduce you issue please include a link to a reproduction repository i created a clean project here url
i m not 100 how to reproduce this reliably you could try starting docz and before it finishes starting try to stop it kbd kbd kbd c kbd it doesn t stop and continues to try to compile i m fairly certain that this also happens when it s been running maybe only when s recompiling in order allow us quickly reproduce you issue please include a link a reproduction repository sorry closed source
1 go to 2 click on 3 scroll down to 4 see error shell for bugs insert debug trace in order to allow us to quickly reproduce you issue please include a link a reproduction repository
1 go to 2 click on a page from the sidebar menu multiple times to see the modal toggle 3 scroll down to 4 see error shell for bugs insert debug trace in order to allow us quickly reproduce you issue please include a link a reproduction repository
1 have a simple project with headings in mdx files 2 run npm install and docz dev 3 headings don t appear as a submenu item 4 stop project 5 remove node modules purge any lockfiles 6 run yarn install and docz dev 7 headings do appear as submenu item if yarn installs everything s groovy if npm installs things are broken
example of doczrc js which reproduces the bug export default htmlcontext head links rel stylesheet href veryfake css rel stylesheet href fake css this produces html like this all irrelevant html has been removed head link rel stylesheet href veryfake css head body link rel stylesheet href fake css body
js file shared js export const sharedproptypes foo proptypes string bar proptypes number js file cmp1 js import sharedproptypes from shared const cmp1 class extends react component cmp1 proptypes sharedproptypes file cmp2 import sharedproptypes from shared const cmp2 class extends react component cmp2 proptypes md any file mdx import cmp1 from import propstable from docz propstable of in order to allow us to quickly reproduce you issue please include a link to a reproduction repository not available at the moment
name typography import h1 from h1 h1 h1 title example jsx export const props text props in order to allow us to quickly reproduce you issue please include a link to a reproduction repository
1 go to url 2 you will see the error message here s the repo url
1 run docz dev 2 create a new mdx file 3 navigate to that newly created mdx file 4 reload the page 5 404
1 clone provided repo 2 install dependencies 3 run npm run docz dev 4 see console output shell fatal failed to process your server typeerror d is not a function at writeappfiles c users chris documents docz bug ode modules docz core dist index js 1 7906
in order to 1 git clone url 2 yarn install 3 yarn dev
1 download and install a vanilla es version and ki version 2 in kibana yml set xpack ml enabled true xpack security enabled false xpack spaces enabled false 3 start es and ki 4 in ki navigate to machine learning 5 a blank page is displayed and a javascript error is logged on the server side
1 edit pipeline configurations in kibana ui 2 sort columns by last edited data
1 create an index pattern 2 go to graph 3 you will see a no data source message although other apps see the index pattern
1 configure uptime heatbeat 2 attempt to use uptime integration links
1 create an index pattern 2 create 6 visualizations e g metric visualization 3 go to management kibana saved objects you will have 8 objects shown 4 select them all 5 press delete button
1 use kql 2 type test 123hello in the query bar 3 click update
i don t know how to reproduce it every time but 1 in monitoring drag mouse around a chart 2 when moving the mouse away from the chart sometimes the current value becomes object object
1 set up a visual builder visualization that sums values set up the chart so that some of the incoming terms should be a subset of other terms like subscriber control plane is a subset of subscriber control plane spark sip group the aggregation by terms and display the top 10 terms 2 display chart with data 3 click on shorter term in legend it is correctly displayed on chart and other values are grayed out in legend and not displayed on chart 4 click on longer term in legend while shorter term is grayed out in legend both short and long term values are displayed
1 in kibana select infrastructure then metrics explorer 2 then click on logs then click back to infrastructure the infrastructure tab opens in metrics explorer again but the page heading is logs see screenshot
1 go to kibana click infrastructure 2 in the search box start typing ho then using your mouse scroll down the dropdown list of suggested options to reach host name see screenshot 3 using your mouse click host name the dropdown of suggested options disappears but the selected option isn t added to search box
1 go to kibana click infrastructure you will see a hosts view showing six nodes three with names starting with filebeat and three starting with gke see first screenshot 2 in the search box start typing host name then wait to see what options you are supplied second screenshot
1 start kibana from master 2 open a workpad 3 click on add element 4 click on any element 5 modal closes nothing is added
1 in discover the saved object eventlogsmotionrange which is having timestamp field is opened 2 share csv reports generate csv selected 3 the downloaded csv file contains the erroneous timestamps
1 have some apm data very few 2 open kibana app and go to apm tab 3 if you don t get error immediately refresh tab
1 create cloud cluster 2 open kibana and goto data visualizer 3 upload csv 4 change settings to use header row for field names 5 try to import it
1 open an existing workpad or create a new one 2 click the canvas breadcrump near top left of the screen see gif 3 note that the url changes but just doesn t navigate
i ve tried various combinations of quotes operator spaces etc docker run name kibana5 p 5605 5601 e elasticsearch hosts url e server name localhost docker elastic co kibana kibana version
1 create new visual builder visualization and set to table 2 bucket results by something 3 add a count metric and filter that by some field value e g path reject
1 copy the watch json from url using watcher 2 click create watch 3 there are form validation errors image url
1 click elastic office layer dot 2 see error
1 open dev tools then console 2 start writing some mappings json 3 initiate autocomplete on a field s properties
1 start typing something in the search bar i was going for container name 2 once it comes up click it
1 go to logs ui 2 click in search bar 3 click above search bar
1 go to dashboard 2 create new filter 3 disable filter 4 edit filter change something and click save 5 filter becomes enabled again
1 create tag cloud visualization 2 insert any aggregation 3 uncheck the show label button and press apply changes
1 create a tag cloud visualization 2 select significant terms aggregation 3 insert any size 4 press apply changes
1 install elastic kibana logstash normally 2 install any compatible kibana plugin 3 start kibana
1 create an index called commodity 2 in the dev tools console type post commodity up
1 click the infrastructure tab 2 click on one of the hosts pods containers in the waffle map this shows both a menu of possible actions and an info box about the item that was clicked latter covers part of former
1 create a user with a username like foo bar 2 grant the kibana user role as well as any additional roles you desire 3 log out and try to log in as that user
1 generate pdf or png reports from a dashboard with multiple visualizations on it the larger the time range and more data the more likely to reproduce this issue 2 check the report to see if it has thin pink progress bar at top 3
1 create tsvb visualization 2 moving on the markdown section 3 on the markdown section moving on data section and set the variable name for the first series 4 switch from data to markdown section
1 insert a document with a text field and the character 2 kql expression with a keyword present before the 3 kql expression with a keyword present after the
1 create a pie chart 2 split slices over terms domain keyword ordered by metric count order descending size 100
1 visit kibana repeat visits still take 10 seconds to load the app 1 visit kibana wait until it loads 2 click another area of kibana such as timelion management monitoring etc
1 set an autorefresh interval of 1 with a large cardinality 30000 monitors 2 wait for things to back up
1 added filebeat as a source 2 set y axis to count 3 setx axis to time histogram 4 split chart by agent hostname
1 yum install elasticsearch 2 systemctl start elasticsearch 3 yum instal kibana 4 systemctl start kibana 5 systemctl stop kibana 6 ps ef grep elasticsearch there is no elasticsearch process appear
1 edit src legacy ui ui render ui render mixin js to include some css file src legacy ui render render mixin js 133 regularbundlepath print style css i added this 2 do not place the new css file in optimize bundles 3 kibana shows fatal error 4 do touch optimize bundles print style css 4 kibana loads fine
1 set up your system so you have some metrics to monitor 2 in kibana go to the
1 apm integration testing scripts compose py start snapshot version 2 create apm agent config in the ui 3 query the apm server s config v1 agents endpoint
1 setup kibana repository git clone git github com elastic kibana git cd kibana yarn kbn bootstrap 2 generate plugin node scripts generate plugin myplugin provide a short description an awesome kibana plugin what version are you targeting master should an app component be generated yes should translation files be generated yes should a hack component be generated yes should a server api be generated yes scss used 3 wait until the plugin 4 build the cd plugins myplugin yarn build yarn run v version warning package json no license field helpers build what version of are you building for version done in s 5 setup distro wget url tar xzvf darwin x86 64 tar gz cd darwin x86 64 6 install the bin install file path to plugins myplugin build myplugin zip attempting to transfer from file path to plugins zip transferring 88211 bytes transfer complete retrieving metadata from archive extracting archive extraction complete installation was unsuccessful due to error this is using link dependencies for non packages
1 create docker compose yaml removed elastic as it doesn t matter for this error version version services kibana image docker elastic co kibana kibana version container name kibana ports 5601 5601 volumes usr share config networks esnet environment elasticsearch hosts url volumes esdata networks esnet 2 run docker compose up
1 install and run elasticsearch version from elastic website using msi installer 2 download kibana version from github as zip 3 rename extracted folder to kibana and use node version version with nvm use 4 inititate git repository with git init 5 remove modules chromedriver and geckodriver from package json and yarn lock as they are unable to be installed due to a proxy 6 run yarn kbn bootstrap 7 generate plugin with node scripts generate plugin my plugin name 8 run the command yarn start oss in the generated plugin directory
1 install and run elasticsearch version from elastic website using msi installer 2 download kibana version from github as zip 3 rename extracted folder to kibana and use node version version with nvm use 4 inititate git repository with git init 5 remove modules chromedriver and geckodriver from package json and yarn lock as they are unable to be installed due to a proxy 6 run yarn kbn bootstrap 7 launch open source kibana dev server with yarn start oss
1 open canvas on a cloud instance of kibana 2 click on the templates tab 3 click on pitch to clone the workpad 4 observe the long pause and a timeout error
1 install elasticsearch kibana metricbeat and filebeat 2 load the default dashboards for metricbeat and filebeat 3 visual builder dashboard elements don t work
given a dummy search like this post search aggs name agg type position the cursor to the left of the n in name and press
1 navigate to uptime 2 open the url filter drowdown
1 freeze the kibana sample index in 6 x i was using version observing the index settings was added following settings index search throttled false frozen false after that even unfreeze the settings are still there 2 upgrade es kibana from 6 x to version 3 run kibana version upgrade assistant indices click reindex for index created before version then it would fail with errors creating new there was an error creation exception failed to create reindexed v7 kibana sample data logs path reindexed v7 sample data logs query body settings auto expand replicas 0 1 frozen false number of replicas 0 number of shards 1 search throttled false mappings statuscode 400 response error root cause type creation exception reason failed to create reindexed v7 sample data logs type validation exception reason validation failed 1 private setting frozen can not be set explicitly 2 private setting search throttled can not be set explicitly status 400
1 from discover or dashboard click
1 create and start a continuous data frame transform 2 while the transform is running delete the source index
1 crate new index put my index1 mappings properties username type keyword followers type long tags type rank features put my index1 doc 1 username bob followers 200 tags golf 10 football 2 put my index1 doc 2 username sally followers 20000 tags cooking 10 football 2 2 the above index tries to generate visualize but the following errors occur as you can see follwers is long type img width 333 alt 2019 07 04 4 41 50 src url
1 go to dashboard create an empty dashboard 2 click edit button 3 click add button
1 add i18n locale ja jp on the bottom of kibana yml and launch kibana 2 go to
1 install kibana 2 create a config like root node01 cat etc kibana kibana yml elasticsearch url url 3 start kibana root node01 usr share bin c etc yml allow root verbose fatal error elasticsearch url definition for this key is missing
1 auto interval screenshot 2019 07 02 18 16 36 url 2 minute interval screenshot 2019 07 02 18 16 27 url 3 check response screenshot 2019 07 02 18 15 33 url 4 response screenshot 2019 07 02 18 15 11 url 15 15 03
1 install kbn action url 2 start the functional test server 3 run kbn action create email email action user x password x from x gmail com service gmail 4 get the action id from the response to use in the next commands 5 run changing from using config service to using host and port instead kbn update actionid email user x password from gmail com host example com port 80 6 run kbn fire actionid subject testing message hallo to pmuellr gmail com logs status code 500 body statuscode 500 error internal server error message an internal server error occurred
1 load up the stack monitoring ui in kibana visit a page that has charts on it note the times shown on the x axis by default they should be in your browser s time zone 2 in kibana visit management advanced settings find the dateformat tz setting and change it to something other than your own time zone 3 refresh page with charts on it from step 1
1 install kbn action url 2 start the functional test server 3 run kbn action create slack bad webhook slack webhookurl url 4 get the id from the response to use in the next command 5 run kbn action fire id from response message hello
1 create the space via api curl x post u elastic password url h kbn xsrf true h content type application json d id marketing name marketing description this is the marketing space color aabbcc initials mk 2 in the browser check the monitoring site url 3 kibana returns statuscode 500 error internal server error message an internal server error occurred
1 add a filter to change the underlying view inventory metric explorer 2 mouse select the filter text and delete it 3 switch mouse focus from filter field 4 the filter doesn t reset
1 go to the logs ui 2 using the log minimap look for a high density time that s at least several hours away from the currently visible range of entries and click on it try clicking exactly on a place demarcated on the time ruler so that you have an easy point of reference to observe new timestamp e g 12pm exactly 3 wait for new entries to load
1 create a visual builder graph or a dashboard with visual builder graphs showing anything
1 collect logs with the sematext logagent 2 add index with these logs to infrastructure ui log indices 3 open metrics for random container
1 create a new space without access to the index pattern management feature 2 navigate to that space for the first time 3 kibana immediately redirects to the index pattern management interface causing an infinite loading error loop
1 create a pie visualization 2 hover over a pie slice
1 set xpack ml enabled false in kibana process environment 2 navigate to apm ui and select a service 3 notice page start to load and then abort with typeerror license features ml is undefined render url tg url bi url ci url di yh xh qf wg callee trycatch invoke method asyncgeneratorstep next run notify flush vendors bundle dll js 233 78217 qh callback ih hh vh zh fi unstable runwithpriority fi di yh xh qf wg callee trycatch invoke method asyncgeneratorstep next run notify flush
1 set up heartbeat with a simple monitor heartbeat monitors type http schedule every 5s name nodejs urls url 2 send to the cluster 3 visit the uptime app
1 on the kibana homepage click add log data then cloudwatch logs 2 follow the instructions 3 on step five observe that the functionbeat deploy command fails
1 open discover 2 save a search 3 share generate a csv 4 click link in 2nd toast message
1 brew tap elastic tap 2 brew install elastic tap kibana full 3 kibana verbose
1 log into kibana in ie11 2 you will be redirected to the something went wrong screen
1 install kibana version 2 create some dashboards over an index pattern targeting some data and test you can filter by some keyword 3 upgrade to kibana version 4 access the same dashboard and the same indices the filtering is not applied
1 go to index management 2 select some indices using the checkboxes 3 perform an action 4 see popup with bad display string
1 go to visualize data table 2 select split table under the buckets config 3 click rows or columns
1 create a new policy with warm phase enabled and a min age value leave move to warm phase on rollover disabled save the policy 2 edit the policy to enable move to warm phase on rollover save the policy 3 edit the to enable move warm phase on rollover again last change has not been saved
1 open kibana version go to management elasticsearch remote clusters list g version go to management remote clusters
1 in discover save a search lets call this saved search 1 2 create a new dashboard and add saved search 1 to it 3 view the new dashboard
1 install the ecommerce sample data set 2 create a data frame transform using the wizard on the machine learning page that pivots the data by grouping on order date and aggregating on cardinality of order id note i explicitly change calendar interval of date histogram to 1y under covers i see that it s also adding format yyyy to date histogram 3 confirm that preview shows a single result with a value of 2019 for date 4 start data frame transform and let it run to completion 5 confirm that when you search contents of destination index it shows correct value 2019 6 examine mappings were created for destination index in my case order has a type and format strict optional time epoch millis yyyy 6 examine results in discover tab there is shown incorrectly as dec 31 1969 16 00 version
1 try kibana 7 x on ie 11 i only tried default distribution at this point not oss 2 kibana k just spins 3
1 create a simple query and generate a short url it will open correctly when you navigate to it 2 create a new query and keep adding and conditions until it reaches 1000 characters 3 generate a short url and navigate to it will result in 500 error
1 from kibana console execute the following put test put test doc 1 time 2019 06 12t00 00 00 value1 2 create heatmap visualization with x axis using time and y axis using value1 3 hover over heatmap bar to display tooltip note that the value for value1 only displays the first digit
1 create a heatmap 2 apply a filter 3 confirm that the legend ranges do not update
1 create a pie chart with two bucket types and save it 2 insert the saved chart into a visualization 3 attempt to click one of the categories in the inner ring pie
1 create 105 transforms 2 view data frame list set paging to 50 3 observe that there are only 2 pages
1 create a visualization 2 choose any parent pipeline aggregation 3 click the apply button
via direct kibana index manipulation 1 get the current settings using get kibana doc config version 2 update the setting injecting a custom settings put kibana doc config version config buildnum dateformat dow monday injected fake setting setting value type config updated at 2019 06 07t14 09 version z references 3 refresh kibana browser page 4 open the advanced setting and you will see a new advanced like the following img width 822 alt screenshot 2019 06 07 at 17 29 28 src url same behavior happens if you add a new custom via saved object api put localhost 5601 api saved objects version t attributes t injected fake value t
1 ingest apm data to es 2 navigate to curated apm ui and ensure services are listed 3 hit refresh button 4 empty page no services showing up any more
install geoserver and point to a default layer coordinate map image url maps app image url
1 create a new visualization e x area 2 choose one of parent pipeline aggregation as a metric e x cumulative sum parent url 3 create a bucket e x x axis type bucket choose a histogram aggregation for it
1 using ie 11 go to management saved objects 2 select one or more saved objects 3 click the delete button
1 ensure metricbeat data with sufficient cardinality are present here the system process metricset 2 set the metric to system process cpu total pct 3 set the grouping field to process name 4 observe the chart arrangement
1 install over 100 visualizations i have the metricbeat packetbeat and filebeat visualizations installed 2 go to the visualize app
1 generate a png report 2 see temporary files accumulate in the tmp directory
1 ensure metricbeat data with at least one host ip address are present 2 navigate to app infra link to host detail via ip ip address with a non existing ip address 3 observe the error message 4 change the address in the url to match the host present in data and press enter 5 observe that error message updates but user is not redirected
1 load 100 visualizations into kibana
1 start version bc4 with kibana apm server metricbeat 2 navigate to discover and see prompt for index patterns even though some already exist though none are starred
1 i imported filebeat metricbeat and packetbeat saved objects so i had over 600 saved objects but i think this can be reproduced with only a few 2 go to management saved objects 3 don t filter on any type 4 note how many total saved objects you have in the link export 5 select all with the checkbox in the header row the first item in list will probably be something like advanced settings version snapshot 6 open browser console so you can catch errors 7 click delete button 8 confirm delete 9 for me it hangs here 10 refresh browser to recover 11 check how many you have vs how many you thought were deleting
1 set up a heartbeat monitor with a space in the name and at least one other with a different name heartbeat monitors type icmp name ping group schedule every 5s hosts www elastic co type icmp name other schedule every 5s hosts www google com 2 once there is data there from the uptime ui in kibana select the dropdown and select your new 3 see that it is quoted properly in the filter box 4 notice that it isn t actually filtered
i can reproduce it while running from source view page to search page can go back and forward url l103 functional test locally fail code history browser history can go back while exploring code app from source view page to search page can go back and forward error retry try timeout timeouterror waiting for element to be located by css selector data test subj queryinput wait timed out after 10059ms at users dzmitrylemechko github kibana node modules selenium webdriver lib webdriver js 834 17 at process tickcallback internal process next tick js 68 7 at lasterror users dzmitrylemechko github kibana test common services retry retry for success ts 28 9 at onfailure users dzmitrylemechko github kibana test common services retry for success ts 68 13
1 attempt to create index pattern filebeat 2 error pops up with failed to fetch 3 index pattern management is unusable until removed from saved objects
1 navigate to url or url
1 go to log ui 2 add filter stream 2 add stream field column 3 start scrolling to new documents 4 new documents are missing stream entry
1 go to log explorer 2 open a log line in the flyout 3 try to scroll if all the content fits on the screen resize your browser then try again
1 go to any metric detail page 2 open date picker quick select 3 click on today
1 load enough sample data to product multiple groups in side groups 2 go to infrastructure ui 3 group by 2 levels 4 notice that the grouping don t wrap properly like screenshot below
1 upload a logfile in data visualizer 2 override grok pattern is a non matching one
1 mouse over or inspect the link url and see that it s to 7 x docs 2 click the go to documentation link and see that it opens 7 x docs instead of version 3
1 create an index with a long field name for example 2 add a long value for example wellhistorydashboard 3 add that to a map and see the tooltip or screenshot
1 add a line string 2 change the colour to red for example 3 save the map 4 the linestring will have changed to white this is the case for saved map too
1 create an index with field names that contain spaces at start end 2 navigate to the data frames wizard and start creating a data frame by selecting a group by field to be one of the field names that contain a space 3 click on the pencil icon to edit the field name 4 ui won t let you save your changes for example to number of intervals if using histogram group by until you delete space at start end of name
1 disable apm infra or logs 2 start heartbeat and navigate to uptime 3 attempt to follow an integration link from uptime to another page
1 include some data with arabic text sample included below 2 make tag cloud visualization 3 arabic letter expected to be from right to left attached not separated letters from left to right
1 generate a pdf report using system stats above
1 download kibana 2 extract and modify config to point to es cluster 3 run kibana
1 call the stats api as shown above
1 create a space and only give it access to infrastructure 2 switch to new space 3 go to metrics explorer 4 set metric to system load 1 5 set group by host name 6 click on actions and select open in visualize 7 fail
1 have a rollup job currently in indexing status 2 forcefully stop the job via an api request to stop endpoint 3 check kibana rollup jobs page it will be blank
1 go to logs 2 focus the search box click on it 3 start typing e g a
1 load the sample data 2 create a new coordinate map visualization 3 open the options tab and notice the layers select box is blank by default
1 create a new metric visualization 2 in the buckets section split group terms 3 try to click on any metric count of label nothing is clickable
1 setup ilm policy with time unit second and byte size unit kb 2 navigate to kibana management elasticsearch index lifecycle policies and click on the configured policy this shows a wrong unit for the configured options
1 choose an aggregation type 2 select a field 3 choose a different aggregation type 4 field is reset
1 create new timelion visual 2 add query with line graph as step es lines steps true 3 select non auto interval from interval drop down e g 1h 4 execute query
1 upgrade to kibana 7 x from 6 x 2 go to discover 3 expand a document
1 login to kibana 2 click discover 3 click add a filter
1 for kibana version this docker compose yml file works fine base kibana image docker elastic co kibana kibana version environment elasticsearch url url xpack monitoring elasticsearch url url 2 with the same environment settings version cannot connect to the monitoring cluster 3 using the new environment variables in docker compose yml fixes this base image docker elastic co version environment elasticsearch hosts xpack monitoring elasticsearch hosts
1 configure kibana to use saml sso 2 create a dashboard 3 open the link to the dashboard on a system where you re not logged into kibana
1 create a visualization with histogram aggregation with metric set to a numeric field 2 set histogram aggregation interval to version 3 click apply button 4 browser tab freezes indefinitely 5 breaking execution shows javascript stuck in a loop inside orderxvalues
1 install the kibana sample data flights dataset 2 create the simple visualization as shown in the attached image 3 execute this query in the devtools get kibana sample data flights search size 0 query bool must match originairportid uio
1 set kibana sample data ecommerce as default index pattern 2 create a new tsvb visualization 3 you will see a flat green line on the timeseries visualization check api metrics data api call via devtools the panel object is issuing a that call with the timestamp wrong date field 4 now click on the panel option and visualization will disasppear showing an error message request for this panel failed 5 check last api metrics data call time field value is null and es is complaining about date histogram field doesn t support values of type value null
1 create a monitor with a trigger 2 link it to a slack channel 3 navigate to alerts monitor
1 index a document with the following source state ma 2 create a region map with the following configuration
1 run yarn start 2 change anything in src legacy 3 the changes do not cause server restarting
1 have a trial license 2 enable monitoring 3 go to watcher a list of cluster alerts appear 4 click edit on any of them
1 open infra ui snapshot view 2 play around with the browser scale until you get the squares closer to the screenshot 3 you should see some css weirdness
1 load sample web logs 2 view sample web logs document in discover 3 observe that utc time is months behind timestamp field
1 start kibana in non english locale config kibana yml image url 2 create a new tsvb visualization 3 set the duration value as a formatter for y axis 4 set some value for to and from fields 5 change value for to fields
1 create a role that is as close to the system superuser role as possible post xpack security role superuser2 cluster all indices names privileges all applications run as metadata transient metadata enabled true 2 create a kibana user that uses this role and log into kibana with that user so that the user definition looks like this get xpack security user elastic2 elastic2 username elastic2 roles superuser2 full name elastic 2 email myemail test co metadata enabled true 3 go to any dashboard in kibana and click share pdf report generate pdf report an observe the error on the bottom right try again with elastic system and observe this has no issue and it works fine
1 configure numerous monitors most of which are down 2 filter by monitor status 3 you may see less monitors in the list than what the snapshot view displays as its count
1 profile a query that s complex enough to produce enough text that will go outside the visible screen area when clicking more detail on a component like a large bool query 2 click view details using one of the affected browser versions 3 try to find the close button if the text flows off visible screen area
1 make a bar chart graph against data with a time range 2 for the bucket make a date range aggregation or sub aggregation with something like from now 1w and to now 3 select group other values to enabled 4 save 5 refresh
1 make sure to have several index patterns 2 navigate to management index patterns 3 check table sorting
1 have metricbeat data from a kubernetes cluster sending to elasticsearch 2 go the infrastructure ui and select the table view from the kubernetes tab 3 click on a pod with a short name
note it s usually hard to reproduce manually but can be done with automated tests 1 create a new visual builder viz 2 set the absolute time range to from 3 click metric top n etc tab before time series is rendered result new tab is opened with time series viz been displayed
1 create an index with a geo point and a text field primary jobs mappings properties description type text fields keyword type keyword ignore above 256 location type geo point 2 populate it with a document with large amounts of text location lat version lon version description high ash c e primary school is a vibrant successful and friendly primary school for children between 4 xa8c 11 years as growing school with increasing pupil numbers we are looking to expand our existing teaching team overall we are looking for two passionate and dynamic primary ks1 or ks2 teachers excellent classroom practice to join our team role 1 main scale teacher for ks1 2 tlr3 opportunity for the right candidate looking middle leadership experience role 2 main scale teacher ks1 2 contract type permanent working hours full time salary range mps role start date 1st september 2019 nqts welcome to apply to start in summer term 2019 3 add this as layer in maps
1 install version of logstash kibana and elasticsearch 2 configure logstash for stack monitoring 3 load up the stack monitoring ui in kibana 4 navigate to the specific logstash node in the stack monitoring ui then click on the pipelines tab
1 hover over the type of a field in discover 2 notice that the name of the field rather than the type pops up
1 configure heartbeat to monitor some hosts 2 run master kibana and an es snapshot 3 attempt to filter by status id etc
1 create a new kibana plugin with the generator 2 in the uiexports add multiple links javascript links id food potato title potato order 3000 url app food potato description yummy potatoes icon plugins kibana assets document svg euiicontype document id food ketchup title ketchup order 3001 url app food ketchup description mashed tomatoes icon plugins kibana assets eyeclosed svg euiicontype eyeclosed 3 add a router for those links html hashrouter switch route path potato component route path ketchup component switch hashrouter 4 implement and page 5 run the plugin 6 notice when you click in the navbar it will load page and it will be active in navbar but when you click on it will load page but will still be active
1 have an elasticsearch environment with security enabled one way to do so is running elasticsearch from the kibana project directory with yarn es snapshot license trial e xpack security enabled true 2 have metricbeat report data system data from local workstation is enough to this es instance 3 start kibana log in with the user elastic and verify that the snapshot view and the node detail view show data 3 still in kibana create a space test a role test role with index privilege metricbeat read and space privilege to space test read for infra ui none for all else a user test role role 4 log out and log in new user 5 navigate to infra ui note that snapshot view shows data 6 open node detail view note that it does show a graphql error no
1 set a url field formatter on an ip field to a relative hyperlink for example relativehyperlink 2 view the resulting formatted ip field on a dashboard 3 the field will not be hyperlinked and thus not clickable
1 go to visualisation 2 add timelion graph
1 go to infrastructure 2 click on a host 3 select view metrics
0 set browser to 1200px x 600px or so 1 kibana visualize new line chart source 2 change your y axis aggregation 3 if your browser size is similar it ll open upwards and it isn t possible to scroll to the top entry
1 install kibana behind nginx 2 attempt to reach app 3 see error on page and in developer console
1 visualize app 2 create new vis coordinate region type 3 any ip or search 4 vis editor loads with error and no map is displayed
1 create a document with arrays of objects containing geo point such as a list of stops with departure times post test doc 1 points departuretime 14 15 arrivaltime 14 15 location lon version lat version pointref nsr quay 11970 type stoppoint order 0 departuretime 14 17 arrivaltime 14 17 location lon version lat version pointref nsr quay 7169 type stoppoint order 1 2 create index pattern in kibana 3 add layer in maps app select the correctly suggested geo point field
1 visit the stack monitoring ui and enable monitoring if not already enabled 2 configure logstash for stack monitoring 3 start up a sample logstash pipeline like so bin logstash e input generator filter drop percentage 99 output stdout 3 visit the stack monitoring ui cluster overview logstash node list
1 just upgrade version elasticsearch and kibana to version 2 from browser go to kibana url and you get an error kibana is using default conf
1 create map with vector region of world countries 2 populate terms join with a valid mapping i e iso 3166 1alpha 2 code geoip country code2 keyword 3 observe odd error though i can t get this to occur consistently oddly even if using the same fields it sometimes occurs and sometimes does not
1 create a map with a vector shapes or other joinable layer 2 populate the term joins fields for that layer 3 purge the entry for left field 4 observe that the entry for right field has also be purged
1 load maps 2 add a world countries vector shapes layer 3 set borders to 0 4 observe think 2px borders drawn between the countries
1 load almost any kibana page
1 start an instance of kibana version 2 navigate to kibana endpoint status or kibana endpoint api status 3 some plugin ids will look like plugin kibana undefined not having a correct version
1 create a percentile aggregation with mode band and a fill of x percent 2 the legend doesn t show any item 3 using line mode the legend shows one element
1 create a new threshold alert 2 add metricbeat to indices to query 3 change control focus
1 deploy elasticsearch inside kubernetes and expose it wiht an ingress 2 try to connect from the kibana docker image to elasticsearch using the ingress url url and you get this error type log timestamp 2019 04 10t17 45 51z tags status plugin elasticsearch version error pid 1 state red message status changed from yellow to red request timeout after 3000ms prevstate yellow prevmsg waiting for elasticsearch 3 try now to connect the same docker image the service exposed as a loadbalancer and all works fine
1 edit heartbeat yml for type tcp 2 schedule every 5s 3 added hosts as below hosts localhost 9200 abcdef 22 abc123 22 350 more servers 4 started heartbeat by heartbeat 5 checked kibana uptime 6 can only see first 50 servers
1 setup a heatmap with 100 data points
1 go to devtools 2 double click history option 3 repeat as necessary
1 create visualization add it to a dashboard 2 change timezone to utc from kibana settings 3 dashboard reports data in the same timezone which was when you created visualization 1
needs to have logstash with monitoring enabled make sure you have you re console open 1 click on stack monitoring side menu item 2 click on overview under logstash 3 click on the nodes tab 4 click on a node in the table 5 the pipelines tab
1 on a kibana version do bin kibana plugin install url 2 start kibana 3 in browser launch url
this is an indicative way to reproduce the issue using sample data add the flight sample data per docs here go to the flights global flight dashboard create a range filter on say flightdelaymin image url after it is created and applied disable it image url go to the flights delay buckets dashboard further down image url and brush select a range of flight delay minutes say we choose roughly 300 to 330 visually nothing appears happen which is because filter we had previously configured is updated but it remains disabled image url thus new values don t apply and pre existing disabled filter mutes effect of active selection in dashboard
1 apply an exclude filter in any kibana dashboard 2 switch the theme to dark mode 3 notice the highlight color of the exclude filter
1 add a number 13 seems to be enough hosts with some overlapping tags mine are all tagged by ansible groups some of which are nested 2 use the group by button in infrastructure and choose tags
1 create a tag 2 add a configuration block with type metricbeat modules module apache and attempt to add to hosts tried formats version url url url hostname url hostname hostname version 3 apply tag to a metricbeat beat 4 tail f metricbeat logs 5 should see something like 2019 04 05t05 59 version z error centralmgmt cfgfile list go 96 error creating runner from config 1 error missing required field accessing hosts
1 turn on monitoring 2 turn on usage data 3 create new workpad 4 insert an image element upload an image
1 add the web logs sample data set 2 open logs total requests and bytes map in maps app 3 ems tile configuration and vector shape is unavailable
1 select two shapes keep holding the mouse button don t release 2 hit the g key 3 the elements or new group may jump error may be signaled and or the group becomes impossible to hover or select
1 use fls to make a geo field inaccessible for a user 2 although the field is invisible in discover as it should be it is visible in add layer in maps
1 start with a fresh install of kibana and elasticsearch 2 from the license management ui upgrade to a trial license 3 from the same ui downgrade back to a basic license
1 create a saved search 2 create a dashboard with dark theme enabled and add the saved search 3 expand one of the documents in the saved search and notice that the detail shows in light theme instead of dark theme
1 go to kibana infrastructure docker 2 ip address 5601 app infra home g waffleoptions customoptions groupby metric type cpu nodetype container view map waffletime autoreload t time 3
1 ingest auth logs using the system pipeline described in url or with filebeat s system module 2 log entries should show up with system auth program set to the various programs referenced in the auth log 3 view the logs in app infra logs observe system auth undefined
1 create an index template to keep down the number of shards put template thisisa order 0 index patterns thisisa settings index number of shards 1 number of replicas 0 2 run a shell script to create several thousand indices bin bash indexname for value in 1 2500 do curl x put localhost 9200 indexname value doc value h content type application json d user kimchy post date 2009 11 15t14 12 12 done 3 go to management elasticsearch index management in the kibana console 4 test some numeric and text filters that should work 5 test with the characters bx which matched no names in my cluster
1 select cell from overall swimlane 2 add a filter with results for that time range 3 refresh page and see swimlanes loaded correctly but anomalies table has no results
1 created a consistent data feed using logstash generator input 2 used kibana discover to get accurate count of events in 5 second buckets 3 created threshold watch in watcher through gui utilizing graph to determine a good threshold to start with 5 second buckets were displayed
1 configure the time picker as from any relative date to now 2 close the time picker clicking outside 3 open the timepicker clicking on from or to 4 the focus is on absolute tab header but selected one with a blue bottom border is relative or now one
1 yarn build skip os packages skip archives 2 cat build kibana node modules object hash dist object hash js the server reference object hash because we created a subprocess here url l30 and this package has a reference to object hash since the content is empty we see our functional test fail url but not long ago the tests are fine
1 on elk instance 1 create an index pattern and make it your default 2 on elk instance 2 create the same index pattern but it will have a different id 3 export the index pattern from elk instance 2 4 import it with automatic index pattern replacement enabled into elk instance 1 5 on one try and open the visualizations or dashboard tabs the no default error should appear
you need to be on a monitor with a higher resolution than the workpad to see this 1 load sample data 2 go to the canvas app 3 pick one of the workpads 4 hit the enter fullscreen mode
1 create a visualization in table 2 add an offset
1 open kibana to the logs app with some docker data 2 start typing cpu nothing comes up 3 start typing docker cpu and you now have values
1 open kibana to the infra app with some docker data 2 start typing cpu nothing comes up 3 start typing docker cpu and you now have values
1 create a visualization and position the legend at the top or at the bottom any standard kibana visualization with a legend should work timelion tsvb and vega are not affected 2 create an empty dashboard and add the visualization created in step 1 3 enable dark theme and inspect visualization legend
1 open the maps app in kibana 2 add a new wms layer 3 enter url as the url latest as the layer and default as style 4 open browser dev tools and review the url in network tab
1 enroll a filebeat 2 add the necessary configuration block 3 click save continue 4 check your browser s debug console
1 install es kibana populate with some demo web logs data 2 set kibana config values yml elasticsearch requesttimeout elasticsearch shardtimeout 3 to simulate long running query behavior install stu elastic slow query simulator plugin url with some modifications to work with version es url 4 restart es with installed plugin 5 open discover app in kibana 6 open dev console in browser and hit refresh button in discover app 7 capture request to elasticsearch msearch copy it as curl 8 change request body query subtree to query slow sleepsec 200 9 execute in shell bash time curl command observe closed connection after 120 seconds
1 create es cluster in cloud with v version rc1 2 use filebeat metricbeat etc to create dashboards and visualizations 3 export saved objects via the api endpoint provided above
1 create a dashboard and set it to auto refresh 2 inspect a visualization from that dashboard be on the request or response tab 3 wait until a refresh happens
1 store heartbeat data in es access uptime page 2 navigate to uptime s monitor page 3 check kibana server log
1 open a logstash pipeline in the pipeline viewer 2 resize the browser window
1 send the following request to kibana post api spaces space id space name space this returns an http 200 ok 2 switch from the default space to the newly created image url 3 we get the following image url note that if we specify id in lower case everything works as expected
1 create multiple index patterns with long names 25 characters say 2 view in management kibana index patterns 3 try to figure out which one is which
1 setup hb kibana es 2 attempt to filter without using kql
1 start heartbeat 2 start kibana es 3 navigate to the monitor view
1 set browser width 2 cringe
1 in kibana load the sample flights dataset 2 create a new vega visualization using the following spec schema url title faulty channels timefield timestamp padding left 5 right 5 top 5 bottom 5 data name channels url context true index kibana sample data flights body size 100 format property hits hits transform type identifier as i type formula as posx expr datum i 1 floor width 120 130 type formula as posy expr floor datum i 1 floor width 120 50 20 scales name status colors type ordinal domain 0 1 2 3 4 6 range green yellow red red red red marks rect from data channels encode enter xc field posx yc field posy width value 120 height value 30 cornerradius value 10 size value 500 stroke scale status colors field source dayofweek fill white strokewidth 3 cursor pointer href signal tooltip signal datum source text from data channels encode enter x field posx y posy align center fontsize 12 fontstyle bold text source flightnum limit 95 baseline middle cursor pointer tooltip signal datum source 3 hover over one of the rectangles and you will see a clipped tooltip
1 on discover use the relative dates to select from 75 years ago to 70 years ago 2 displayed date of to reads 69 years ago
1 log in as user with kibana user role 2 go to management 3 click index management
1 log into kibana with user kibana 2 go to management 3 click ilm
used to receive logs from metricbeat version infra ui was working in kibana version newly installed beats version es kibana upgraded from version in the cloud to
1 create a bar chart for data with single digit values 2 hover over one of those single digit values 3 you will no longer be able to click in the dark grey area to show the magnifiers
1 create a new visualization with the visual builder 2 select percentile rank for aggregation 3 choose a valid numeric field 4 input an integer for value 5 no results are returned
1 create a new user with kibana user role 2 access version upgrade assistant 3 observe error
1 open a bar chart visualization 2 click on one of the values which will open the color palette 3 notice there are no buttons to filter on that value
1 access to management elasticsearch rollup jobs create rollup job click learn more about cron expressions 2 it links to url cron expressions which is not exist anymore
1 create a dashboard made up of several visualizations 2 wait for some time to pass and data to accumulate 3 maximize a panel
1 go to canvas tab 2 3
1 image url 2 image url 3 image url
1 navigate to dashboard tab 2 edit an existing dashboard create a new dashboard 3 go to the menu bar and click edit 4 click options in the menu bar
1 generate a new policy that has set priority present 2 edit the policy and attempt to remove set priority 3 check generated json to see set priority action present
1 go to monitoring indices 2 click on some index 3 scroll down and try to find shards allocation it s not there
1 go to monitoring nodes 2 click on a node 3 check breadcrumbs at the top there is node id such as meaogftqte2hffb1rltklq instead of node name such as c04 eshot01 qa1 see screenshots
1 go to any url in kibana 2 manually add a query param to whatever url appears like a b c press enter 3 watch as the url is updated to include an encoded copy of everything after the in the original url note it will continue to copy everything repeatedly as you update the copying last copy in a recursive way
1 open kibana and go to the apm dashboard see img1 2 click a transaction route ending in a see img 1 3 the resulting screen does not find the correct data and shows no transactions were found see img2
1 set logalias to include many indices 2 go to the logs ui and click on stream live 3 look into the network console two or more pending requests at the same time
1 cloud instance with kibana and es 2 try and remove selected tags from the configuration tags list 3 ui keeps state but console shows permission failure mentioned above
1 add a remote cluster to your current cluster 2 confirm it works ok and monitoring page loads just fine 3 close the remote cluster 4 open the monitoring page again
1 start elasticsearch wait until it listens for connections 2 start kibana 3 kibana crashes
1 browse to url
1 create a line graph using a date histogram for the x axis 2 select yearly for the interval
1 create a 5 x cluster which uses watcher 2 upgrade to version without reindexing watcher via the version reindex helper or migration upgrade api url 3 load the version migration assistant
1 insert documents in elasticsearch on a single index until kibana presents the primary storage size with gb 2 access index management page 3 compare presented value in with the one presented in the size in bytes the get stats api see screenshots below
1 open discover 2 play with the time picker 3 observe the lockup
1 create a simple boolean scripted field 2 create a new controls visualization using the previous scripted field focus input click on a value nothing happens image url image url
1 add a new wms layer to the maps app for example url 2 enter a comma separated list of layers in the layers text box ex 1 6 3 also try adding a style ex default
1 load version metricbeat data 2 visit infrastructure ui 3 notice there is no data available
1 add new pages with image element 2 for each new image element drag and drop the image into the import image control 3 loads just fine 4 save workpad 5 leave space 6 come back to space 7 open workpad 8 errors
1 create a new visualization 2 save it using a special unicode character co subscript 2 is unicode u 2082 3 create a new dashboard 4 try to add the visualization to the dashboard by searching for co or co2
1 i install any sample logs kibana demo data 2 i go to discover tab 3 i click on timepicker editor button clock icon
1 on a workpad with at least 2 pages select and element 2 change to another page while that element is still selected 3 select an element on the new page this step isn t really required 4 go back to the first page you were on
1 add an index pattern optionally set as default 2 open the discover pane and set to the new index pattern 3 remove index pattern 4 open the discover pane to receive warning about indices
1 create a monitor 2 navigate to status page 3 view ms count that is much too low
1 open one of the maps from sample maps 2 click full screen in the top nav bar 3 use the browser back button to go back to the listing page 4 kick on another map 5 kibana opens it in full screen mode
1 load a sample data maps app 2 click on add layer and click on tile service 3 click on the dropdown tile service gets displayed as auto selection without user having to select it
1 start up heartbeat with an icmp monitor you ll need super user privileges 2 load the uptime ui 3 attempt to filter by monitor type icmp
1 add xpack cloud enabled false in kibana yml or kibana dev yml in development 2 start kibana 3 server crash due to fatal error
1 load the uptime app 2 refresh the page
1 create a line bar area chart visualization 2 place the visualization on a dashboard and size it so that the height is just large enough to show the full legend 3 select one of the items in legend
1 add the kibana sample data flights 2 edit the flights flight count and average ticket price visualization 3 pick a small interval that will includes some missing values between data points 4 mouse over one of this points
1 create ilm policy and fill in some number for number of replicas in either warm or cold phase 2 save ilm policy 3 edit ilm policy and clear number of replicas box 4 new empty value is not saved
1 load a csv file with crlfs in one of the fields
1 install elasticsearch version beta1 2 install kibana version beta1 3 see that when kibana starts up the following warning message appears log 06 08 version warning you re running kibana version beta1 with some different versions of elasticsearch update kibana or elasticsearch to the same to prevent compatibility issues v 9200 elasticsearch from get name imac local cluster name cluster uuid fy udaoztjegsq kcdqxhq number beta1 build flavor default build type tar build hash 15bb494 build date 2019 02 13t12 30 z snapshot false lucene minimum wire compatibility minimum index compatibility tagline you know for search
1 start up kibana 2 load the uptime app with no data
1 create a dashboard discover or visualization filter using a valid scripted field 2 update the field s script to return a different valid value 3 refresh the dashboard discover view visualization
1 add multiple filters to the filters bar 2 resize your window manually by dragging it smaller
1 i don t think this is related to the fact that i upgraded from version 2 use ie11 on windows 10 to open kibana and navigate to discover with a time based index 3 no timepicker sometimes when i refresh i get this so it could possibly be related image url
1 create a remote cluster index pattern 2 discover select a keyword field in the selected field section with multiple values
1 using microsoft edge browser on windows 10 open kibana 2 load sample ecommerce data 3 go to maps app and open ecommerce orders by country
1 click create on tsvb 2 try to change the index pattern and timefield 3 kibana logs the error which is not formatted
1 enable stack monitoring app 2 navigate to any page which contains a time series graph 3 quickly before data flows in hover over the left hand side of a graph and observe the values in the legend for that graph
1 run elasticsearch version 2 generate a plugin and set the following answers cd kibana kibana node scripts generate plugin js rabbit provide a short description an awesome kibana plugin what kibana version are you targeting version should an app component be generated yes should translation files be generated yes should a hack component be generated yes should a server api be generated yes scss used 3 after the build is finished go to the plugin and start it cd extra rabbit yarn start
1 load a csv with a lot of columns into the visualiser 2 open override settings 3 try to pick a field
1 install version kibana and elasticsearch and load data check upgrade assistant 2 upgrade elasticsearch to version check upgrade assistant again 3
1 open the stack monitoring applicaiton 2 in the overview page for elasticsearch select and graph and brush across it to sub select a time period 3 repeat step 2 a couple times most likely between three and six
1 input several lines of text into the sample data field 2 input a grok patter in to the grok pattern field 3 add some custom patterns to the custom patterns i am testing custom patterns field 4 click the simulate button 5 observe structured data field only contains structured data from first line of text in sample data all of inputs in sample will be parsed correctly but only if they are first line
1 click on a legend entry of a visualization 2 3
1 management index patterns 2 create index pattern 3 wait for timeout
1 navigate to the anomaly explorer 2 click to the left of the view by swimlanes 3 error page appears
1 select the time period jan 2 to jan3 2 3
1 apply url or update some typescript code to use an async import 2 attempt to load the code in the browser 3 see the error in the console
1 see steps 1 and 2 in 30739 2 create an alias field for the geo point field put map test mapping doc properties location type alias path my location 3 refresh index pattern in kibana 4 do the things in maps
1 create mapping with dot including field put map test mappings doc properties my location type geo point 2 add doc point is somewhat near nyc put map test doc my location 74 version 3 create index pattern in kibana 4 do maps stuff to try and view it
1 create a new heatmap 2 aggregate the x axis as a date histogram 3 aggregate the y axis by terms
1 kibana plugin that registers a task type and schedules a task see the demo repo 2 schedule a task that returns a promise that never resolves test run function async return new promise console log waiting for nothing to happen 3 eventually kibana will repeatedly log waiting for nothing to happen server log 20 11 version warning task manager the demo form scheduler 9 uzmgbxf7psramfowb is not cancellable waiting for nothing to happen server log 20 16 version warning manager the demo form scheduler 9 uzmgbxf7psramfowb is not cancellable waiting for nothing to happen server 20 21 version warning manager the demo form scheduler 9 uzmgbxf7psramfowb is not cancellable server 20 26 version warning manager form scheduler 9 uzmgbxf7psramfowb is not cancellable
1 navigate to as above 2 look at bottom of page the shard legend no longer has a display of the location and state of the shards of the index
1 install kibana and elasticsearch version 2 upgrade elasticsearch to version 3 check kibana status page url
1 git clone url 2 cd kibana 3 git checkout version 4 nvm use 5 yarn kbn bootstrap 6 node scripts generate plugin my plugin name 7 cd kibana extra my plugin name 8 yarn test server
1 find a dataset with long fields in discover 2 click the loupe to filter on a field of datatype long 3 edit the filter
1 create a date histogram based on a date value 2 set the interval manually 3 change time span on the time picker
1 open the advanced settings page in kibana 2 attempt to set any of the notification lifetime settings to infinity
1 open management index patterns 2 edit the timestamp field and set relative date as the format 3 open the discover tab 4 save the current view as a new saved search 5 click on share csv reports generate csv
1 navigate to the waffle map 2 start typing in the filter bar to trigger the suggestion popup 3 observe the waffle map table view switcher
1 open kibana in a new tab or refresh the kibana webpage 2 create a new region map visualization 3 as soon as the ui is available switch to the options tab 4 wait for select boxes to switch to blank options
1 load sample e commerce data 2 open ecommerce promotion tracking with type visual builder 3 open markdown tab 4 write in markdown text editor text mustache each all label last formatted data formatted each
1 have a apm service with two or more transaction types 2 create the first ml job for the first transaction type using the integrations context menu in apm integrations enable anomaly detection select the first transaction type at drop down menu click create new job 3 create second ml job for second transaction type using integrations context menu in apm integrations enable anomaly detection select second type at drop down menu click create new job
1 create rollup job with asia tokyo date histogram time zone 2 run job 3 create rollup index pattern from new rollup index 4 create area chart visualization using that rollup index pattern 5 observe that no visualization is rendered and error appears in console the same error occurs when sending the query from console image url
the same as describe the bug
1 create a field formatter for a string with the format truncated string 2 set the field named field length to version 3 view a visualization that makes use of the formatted field 4 observe that the formatted values are all literally
1 open a kibana tab 2 under visualize and explore data click on machine learning 3 select a job and click on anomaly explorer tab 4 if no data shown due to time range defaulting to last 15 minutes select job dropdown on top left and ensure also apply time range checkbox is checked then click apply 5 see that page elements load except for swimlanes which are empty both view by and overall
i can reproduce this issue in trial licence yarn es snapshot license trial 1 open management index patterns page 2 press on the create index pattern drop down and select rollup index pattern beta option image url
1 create a date histogram using a terms agg as a sub aggregation image url 2 switch from bar to line in chart type 3 switch from normal to stacked in mode the true line is drawn incorrectly as 100 normal mode image url stacked mode image url
1 kibana management 2 select kibana saved objects 3 select a few objects to delete 4 click delete
2019 01 23 17 53 08 2019 01 23 17 54 37 url
1 get some hourly data only datapoints on each hour 2 visualizes them as a line graph with x axis date histogram interval auto all looks ok 3 change the graph type to stacked on the metrics and axies page the graph now has a bunch of 0 data points on the half hour added giving an exaggerated sawtooth effect 4 change interval to hourly to fix it
1 goto kibana management advanced 2 change your timezone might have to be set to browser to start with 3 go look at some different visualizations i m not sure what the common feature was between the ones that failed and the ones that didn t
1 add xpack graph enabled or any xpack service key to a service yml file and the docker container will not run
1 add a shape with a border to canvas in chrome 2 add the same shape with the same border to canvas in ie11 3 observe the different border thickenesses
1 load canvas in ie11 2 hold down shift and click on an element 3 observe all of the highlighted text
1 install kibana default distribution i used a w2012 vm but i don t think the server matters only the browser 2 use ie11 to install all 3 sets of sample data 3 use ie11 to switch between the workpads for a few minutes clone a workpad make tiny edits etc eventually ie just locks up it might restart on it s own or it might pop up an error message that a script on the page is not responding
1 add a time filter component 2 add any other element like a datatable 3 move the datatable once 4 undo the action by navigating back a page or hitting ctrl z 5 observe the error in the console 6 hit undo again 7 observe filter returning back to normal 8 redo by navigating forward or hitting ctrl shift y 9 observe error again in console
1 with multiple workpads loaded sample data is good for this load the one at the bottom of the list 2 open the workpad list again home page or modal 3 workpad you just opened is now at top of list with a new updated timestamp
1 install elasticsearch on a centos 7 2 systemctl status kibana should show elasticsearch running 3 restore original user group of kibana by using rpm setugids kibana 4 systemctl restart kibana 5 systemctl status shows that fails to start
1 send nginx data to elasticsearch for a host 2 visit metrics page for host 3 notice there is no nginx metrics
1 add a deprecated setting to the kibana yml e g xpack monitoring elasticsearch ssl ca 2 yarn start the kibana server 3 observe the kibana process
1 on a version bc1 kibana add a remote cluster to a version cluster 2 on a version bc1 kibana add follower index for metricbeat from the version cluster 3 on cluster start metricbeat 4 on bc1 kibana you will observe that the follower index is not created
1 add remote cluster with http port e g localhost 9200 2 the ui shows that it failed but gives you no indication why
1 navigate to localhost 5601 app monitoring elasticsearch indices
1 install es kibana and metricbeat with default configuration 2 start up es and kibana 3 run metricbeat enroll url foobar
when creating the graph a filter checking the existence of a field was applied and the graph renders as expected when the visualization is placed on a dashboard filter is ignored and unknown entries are drawn like they were before filter was applied
1 resize firefox to a small window 2 add a new layer to the maps plugin 3 choose a data source and layer then click next 4 try to scroll to see all layer properties
1 create a short url except for default space url 2 access to the link 3 doesn t work url
1 open the single metric job creation page 2 refresh the page f5 cmd r 3 attempt to create a new job the chart loading spinner doesn t disappear
1 search with a daily index pattern over multiple days time range would execute sequential msearch requests 2 d3 visualization would throw an exception for invalid negative width
1 start a gcp instance of centos 7 2 download kibana tar gz and untar 3 try running the binary for the headless browser directly using the command line parameters that kibana reporting uses internally kibana data headless shell linux headless shell disable translate disable extensions disable background networking safebrowsing disable auto update sync metrics recording only default apps mute audio no first run user data dir tmp test gpu headless hide scrollbars window size 1024 768 enable logging v 1 setuid sandbox
1 create a role with cluster monitor and logstash view read index metadata manage 2 create a user with that role and log in as that user 3 this user can t create a metricbeat index pattern and the index pattern ui won t even show that such an index exists 4 but the management page does show all indices so it seems like this leaks information 5 management page shows this error if there are any indices that this user doesn t have privs on image url
1 latest master kibana 2 try to start it up on windows ie 3 see error page
1 build system containing apache2 and nginx indices with a filebeat index pattern 2 edit apache2 manifest json e g add an extra comma to make json invalid 3 in ml app create new job and select filebeat index pattern
1 go to management then watches 2 add a new advanced watch 3 click on simulate tab then condition overrides section 4 you can see a checkbox alone without its associated label
1 i create a user with a role where he can only write in kibana space space1 and cannot do anything in other spaces 2 i go to dev tools and do a get kibana search i get all documents whatever the space 3 then i put a document in kibana index with another space2 namespace and it works
1 click to visualize 2 click to visual builder 3 create a new visualization
1 clone 6 x branch and yarn bootstrap yarn start 2 access gis app from maps link 3 display error message
1 create a multi metric gauge 2 add to dashboard as wider horizontal panel 3 try to resize as vertical panel
create a random watch for instance this one triggered every 10 min json put xpack watcher watch test trigger schedule interval 10m actions log logging text executed at ctx execution time
1 open maps 2 add tms xyz layer 3 add url z x y png as url 4 click next 5 click cancel 6 crash
1 open maps 2 add layer 3 select datasource geohash aggregation show as point 4 goto vector style 5 enable dynamic fill 6 click on the line color 7 disable dynamic fill 8 the line color is now clickable
1 open maps 2 add layer 3 select datasource geohash aggregation show as point 4 goto vector style 5 disable dynamic fill 6 click on either fill color or line color
1 bootstrap kibana version 2 node scripts generate plugin my new plugin target version no to all other options 3 add a vistypes plugin in the index js uiexports 4 add tsconfig json to root plugin according to documentation extends kibana tsconfig json 5 add random ts file into a public folder and attempt to import react import react from react 6 error in resolution cannot find module react as it does not exist in node modules but ts cannot find the kibana node modules 7 troubleshoot with tsc traceresolution 8 notice that kibana node modules is never scanned just
1 create a dashboard with a visualization 2 setup elasticsearch behind a proxy and send the msearch path to unreachable address to make sure requests remain in flight till they timeout 3 open up the dashboard and resize the browser
1 download kibana version from git 2 follow contribution md to setup the development environment 3 create a custom plugin using node scripts generate plugin plugin name
1 setup new cluster on elastic cloud 2 setup kubernetes 3 setup metricbeat as per url
1 login as user a 2 write some code in ide 3 log out 4 log in as user b 5 view commands from user a in dev tools ide
1 index a document 2 create a control options list and add it to a dashboard 3 index another document with a new value for the category in your control options once the refresh interval passed this new value does not come up in the drop down list although the rest of charts updates fine with new category
1 open dev tools 2 run a simple query 3 open the history tool at the top right of the page
1 embed kibana dashboard in an iframe loading in other domain 2 enable block third party cookie and site data url 3 error occurs and no dashboard is loaded
1 create a horizontal bar chart with count on the y axis 2 set the x axis to use a filters aggregation where some filters are currently empty 3 add a split series aggregation on the x acis
1 create a scripted field for an index pattern with the following painless code for int i 0 i 2 i return test 2 create a visualization of that field e g a tag cloud and add it to a dashboard 3 click on one of the values to add filter to the dashboard 4 an error bar flashes up with null pointer exception
1 create a kibana visualization using filters to split the buckets 2 in advanced json input add other bucket key label here 3 observe that the other bucket does not materialize in the kibana visualization
1 load a visualization that includes a discover search 2 load test code via the browser console doc table panel content on rendercomplete function console log rendercomplete ran new date gettime 3 use the tables paging buttons to force a refresh 4 observe 101 lines logged to the browser console using an alert in the test pauses things with each iteration that seems to show it occurring as each row is rendered
1 have an expired trial license 2 go to management index patterns 3 observe that the create button and list are not displaying
1 pretty straignforward 2 3
1 in firefox get any visualization with a vertical legends bar e g flights delay type in the flights demo dataset 2 reduce the window size if necessary to force the scrolling in the legends bar and observe gap 3 colapse legends bar or stretch window to eliminate scrolling and observe gap disappear
1 create a space and assign a custom pdf logo in that space s advanced settings 2 create role with access to the space created in step 1 do not grant access to the kibana index 3 create user and assign role created in step 2 along with the reporting user role 4 login as this user and generate a pdf report
1 i created a nurse s health study index health status index uuid pri rep docs count docs deleted store size pri store size yellow open nurse s health study zev41dhmrnyjwgcmzfz8jq 5 1 0 version gb version gb 2 i have this query in kibana dev tools here is the screenshot before i run the query kibanabefore url resourcesbefore url processbefore url 3 i click the green play button here are the screenshots several seconds after clicking button kibanaafter url resourcesafter processesafter in resources tab can see chrome process memory steadily going up now it hovers between version and version gib
1 upgrade from elastic stack version to version 2 login to kibana and go to monitoring logstash nodes 3 see that the top summary stats bar is not being displayed correctly
1 just navigating in the dashboard through ie11 2 3
1 install kibana sample data flights 2 create a workpad and add a data table 3 choose kibana sample data flights index and timestamp and destcountry fields 4 add a time filter 5 set column setting to timestamp 6 choose any period 7 no data is shown in table
1 open discover 2 select a time range in the timeline 3 observe the results are not updated if you open console there is an error shown
1 create open canvas workpad 2 add another page if the workpad only has one 3
1 visit apm setup instructions app kibana home tutorial apm 2 start an apm server with no agents 3 note agent check passes
1 start kibana yarn start 2 visit api status curl li url http version 302 found location cdp status content type text html charset utf 8 vary origin cache control no cache content length 0 date fri 30 nov 2018 19 35 10 gmt connection keep alive http version 200 ok kbn name kibana kbn xpack sig vary origin accept encoding cache control no cache content type text html charset utf 8
1 create date histogram visual in version 2 upgrade to version 3 visual does not work 4 request to elasticsearch failed error root cause type illegal argument exception reason zero or negative time interval not supported
1 open expression editor 2 type pointseries to get the function hint popup for pointseries 3 click the hyperlink in currently we differentiate measure from dimensions by looking for a tinymath function
1 generate a vertical bar visualization with a split series including blank values 2 mouse over the legend for non blank values and see highlights applied 3 mouse over the legend for the blank value all highlighting disappears
1 install kibana version 2 upgrade to kibana version 3 systemctl status kibana systemctl status kibana service loaded loaded etc systemd system service enabled vendor preset disabled active inactive dead since wed 2018 11 28 16 45 52 est 53s ago process 20279 execstart usr share bin c etc yml code killed signal term main pid 20279 code killed signal term warning service changed on disk run systemctl daemon reload to reload units hint some lines were ellipsized use l to show in full guessing something within run fpm js url l116 section though i do not know fpm and this javascript interface enough to know for sure if this is possible
1 go to visualize new visualization 2 select pie chart type 3 add two aggregations 4 expand both aggregations 5 scroll down till you see the add sub buckets button 6 try to drag the second aggregation
1 go to visualize new visualization 2 select a chart type 3 make some error in the configuration e g split series before splitting charts 4 hover the error symbol next to the disabled apply changes button
1 create a visualization e g a pie chart save it and export it 2 edit the resulting json file and change the visualization type to dashboard 3 import the visualization back into kibana
1 create an index that has a field message mapped as text 2 create a second index that has a field message mapped as object 3 create an index alias that points to the two newly created indices 4 try to use this index alias as data source for a canvas visualization
1 log some records that include the field name error and subitem message 2 choose from drop down add filter menu error message 3 select relationship is 4 fill in a string value that should match some error message fields
1 configure filebeat to enable monitoring 2 verify in kibana you are seeing increments in output bytes
i can t reproduce this on demand but usually if i leave it running for 20 30 minutes it will happen
1 create a space 2 create a short url permalink to some view url 3 after opening the permalink kibana redirects to default space url visualize
1 create a visualization with any pipeline metric on a date histogram 2 set a small custom interval like 1m 3 expand the timerange to a few days so the time interval will be scaled
1 bug step 1 1 url 2 bug step 2 2 url 3 bug step 3 url 4 bug step 4 url
1 install metricbeats on 2 docker nodes with docker module enabled 2 start 2 docker containers with the same name 3 check the infrastructure ui
1 create two rollup jobs go to the listing table 2 select one job and start it 3 now select all jobs and start them kibana displays 500 internal server error
1 load sample data like flights or web logging data 2 open canvas
1 open workpad in internet explorer 2 ensure window size is just big enough to view workpad 3 open page list or expression editor
1 create a visualizationwith special character di ia 2 go to management saved objects 3 filter by di ia
1 open kibana and go to management advanced settings 2 scroll down to formatting locale and note that it is set to
1 create a dashboard 2 export via management saved objects 3 reimport the exported json file via the api
put test doc 1 hey 1 put test doc 2 you 2 put test doc 3 guys 3
1 install version x or probably any version previous to version with security enabled 2 make sure kibana yml contains elasticsearch username kibana 3 upgrade to version
1 set up a cloud instance using old version 2 upgrade instance to version 3 go to canvas and create a new workpad 4 create an element using timelion data source error appears
1 clone version branch from github repo 2 setup accordingly 3 run functional test node scripts functional tests
1 clone version branch from github repo 2 setup accordingly 3 run functional test node scripts functional tests
1 in kibana create a new bar chart visualization select an index containing data you wish to visualize 2 in left sidebar select x axis bucket select terms aggregation and select a string field from your index sort and size it however you wish 3 click the apply changes button 4 x axis bars should be sorted in the expected order 5 click add sub buckets button click split series terms aggregation and a different string field from your index sort and size it however you wish 6 click the apply changes button 7 sometimes data may still be ordered properly manipulate the amount of data through date range query box typically becomes apparent when some x axis bars would have a zero count
1 install elasticsearch version 2 install kibana version 3 start trial license 4 enable the security feature in elasticsearch 5 create an index in elasticsearch 6 try to create a new role that has manage follow index index level privileges for that index
1 git clone github com elastic opbeans go 2 cd opbeans go 3 docker compose up d 4 visit url 5 wait a bit 6 in apm ui navigate to the opbeans react service and then to the dashboard page load transaction 7 observe the first opbeans go transaction s name is swapped around
1 set up the apt repository from the documentation url deb repo 2 install kibana oss apt install kibana oss version version is installed
1 install elasticsearch 2 install kibana 3 start trial license 4 enable the security feature in elasticsearch 5 try to create a new role that has read ccr or manage ccr privilegse
1 create index with one doc in dev tools post test doc field c test field2 usr test csv 2 run search get test search this outputs all on one line took 2 timed out false shards total 5 successful 5 skipped 0 failed 0 hits total 1 max score version hits index type doc id e3n2dwcbsmcpon8wphrm score version source field c field2 usr csv img width 1454 alt screenshot 2018 11 13 at 14 33 52 src url 3 usually and for any other data whereby no field has data ending with the output we get is same as what you get when forcing elasticsearch to do the pretty json rendering get search pretty for reference this looks like this took 2 timed out false shards total 5 successful 5 skipped 0 failed 0 hits total 1 max score version hits index type doc id 1xn2dwcbsmcpon8w hqr score version source field c field2 usr csv
1 create es kibana cloud deployment 2 add sample data 3 generate pdf report from dashboards
1 install the flights sample data 2 create a workpad add an image repeat 3 change the datasource to sql 4 make the query select count as flights from kibana sample data flights 5 go back to the display pane 6 in measure box try to change value dropdown there are a bunch of occurrences of word value in there
1 go to advanced settings and find that there s no indication that xpack defaultadminemail is deprecated 2 set an email address in xpack defaultadminemail 3 check log for deprecation warning nothing yet 4 trigger one of the built in watcher alerts starting up another node is one way 5 check that you do get the email 6 check that you also get the warning about the deprecation as shown below
1 go to management 2 click rollup jobs 3 click create a job 4 follow the wizard creating a job for metricbeat index 5 when you get to the metrics tab look at the table
1 install kibana 2 install certbot 3 generate let s encrypt ssl certs for standalone server 4 create symlink etc letsencrypt live stats tag walk com fullchain pem etc kibana ssl fullchain pem 5 create symlink etc letsencrypt live stats tag walk com privkey pem etc kibana ssl privkey pem
1 add flight sample dataset 2 click visualize and open a piechart vertical bar or a region map 3 click to dashboard and create a new dashboard 4 now click again to visualize before opening the visualize page the text of the dashboard loose some style and it s moved to the left of screen
2018 11 07 23 15 37 url
1 install elk version 2 enable x pack reporting in kibana this is done by adding xpack reporting enabled true in kibana yml 3 restart kibana 4 open kibana in browser http ip 5601 5 navigate to discover tab you can see reporting option available near the top right side as shown below image url 6 navigate to discover tab reporting tab will not be available image url
1 create a rollup index name with in rollup job creation 2 fill other details 3 kibana doesn t validate the name of the index till the last step
1 add the sample flight dataset 2 open the global flight dashboard 3 open the dev console 4 move the input control range slider to right 5 error warning appear on console
1 go to login it displays log in page 2 go to it redirects to saml idp 3 go to login it redirects saml idp
1 open up a kibana page and grab the url 2 craft your curl statement like the docs indicate as such valguzman elastic lappy curl u redacted username redacted password x post url h kbn xsrf true h content type application json d url app kibana discover g a columns source index c03c43b0 b074 11e8 83dc interval auto query language lucene query sort score desc 3 it correctly yields the 32 character string 4 i navigate through the browser to url
1 create a vego visualization 2 use a layout with row column for example eg schema url title event counts from all indexes data url context true timefield timestamp index all body aggs time buckets date histogram field timestamp interval autointerval true extended bounds min timefilter min max timefilter max min doc count 0 size 0 format property aggregations time buckets buckets mark line encoding row field key type nominal x field key type temporal axis title false y field doc count type quantitative axis title document count 3 no scrollbar to view the complete visualization
1 create an option list on a controls visualizacion 2 choose a date field for the option list 3 use the visualization and select some dates you ll see they are shown in milliseconds
1 go to saved objects ui 2 click on a page and select all and delete all 3 notice that user is still on the empty page after the deletion goes through
1 create tilemap vis 2 change color schema 3
1 add a scripted field app kibana management kibana indices 2 delete a scripted field
1 select an element on a workpad 2 open the expression editor see bar above expression editor
1 git clone git github com sergibondarenko alert git 2 cd alert 3 npm install npm install g gulp 4 gulp sync kibanahomepath path to kibana 5 cd elasticsearch 6 bin elasticsearch 7 cd kibana 8 npm start 9 open a web browser and put this url url
1 go to a url like url discover a index test index query testid 3a1234 2 3
1 have a dashboard with maps and other visulaizations 2 select request in map visualization to see the elasticsearch request 3 wait a bit it will show a very long request at first but after several seconds this text will override other elements of the dashboard
1 i navigate to visualize tab and select visual builder 2 i select the time series tab specify the index in panel options 3 i take an average of int type field total time 4 i then add a sub math aggregation specifying the average of total time as my variable and naming it time 5 then do params 1000 for my purposes 6 now want the 99th percentile of this new calculation so add another sub aggregation this percentile aggregation 7 second select a percentile aggregation get an error flashed for a split second
1 open a workpad 2 add a gauge
1 sample data put my index doc 1 my fieldname my term 2 create index pattern 3 search in discover case insensitive search my fieldname term 1 hit term no hits wildcards fieldname t 1 hit t no hits searching all fields does kind of work in general but only if the exact term is being searched for hit
1 load a canvas workpage into the browser 2 switch to full screen mode 3
1 create a horizontal bar chart 2 set a maximum number of x buckets less than the total number of possible values 3 select the group other values in separate bucket checkbox and optionally set a label that isn t the default 4 render the graph
1 spin up canvas in safari 2 create a new workpad 3 drop an element on it i used just a square why is there no rectangle 4 align it to the left side 5 hit that fullscreen toggle img width 339 alt kibana src url
1 go to dashboard page 2 pick a dashboard to view 3 pink status bar animates and dashboard loads 4 click on search button no action happens 5 put a query and click works 6 click again no action happens 7 change query works
i did not have time to reproduce but these steps should work 1 have expiring license that triggers the cluster alert 2 apply new license 3 refresh monitoring page
1 ingest the sample data sets 2 switch to management saved objects 3 try to filter by any single type and observe the failed network requests
1 using firefox go to index management page in kibana pointed at an es cluster that has indices 2 try to select the name of an index
using metricbeat data 2018 10 18 17 59 18 url
1 create an ml job and start it pick one with a small bucket span that is expected to take a few minutes 2 kill autodetect process
say that i have multiple spaces 1 load the sample data in the first space 2 switch to second space 3 load the sample data in the second space 4 remove sample data from second space 5 switch back to first and go to still existing sample dashboard 6 all data is gone
1 on the beats list tag click the beat name to drill down into the details 3 on the config tag click link for a configuration type for example output
1 on the welcome page click enroll beat
1 visual builder table group by some keyword field in this example exception message 2 panel options item url some url with key for example a saved search where the search is replaced by key in this example url discover 9dd592a0 bc08 11e8 86d6 g refreshinterval display off pause f value 0 time from now 4h mode quick to now a columns exception classname exception message useragent environment c ip filters index a0e0d050 12a2 11e8 88fc interval auto query language lucene query exception message 22 key 22 sort timestamp desc 3 ensure some data has a pound sign and some does not in this example rows have message of error xfeff 123 description other rows have of error without a pound sign 4 save visual 5 click link without pound sign observe link works as expected if using saved search it is filtered as expected 6 click link with pound sign observe link is not properly escaped if using saved search an error unable to parse url is shown
for this reproduction scenario you need to pick a query which takes a moment before displaying any results 1 in discover search bar submit a query let s call it search1 within index pattern pattern1 2 while the above search is ongoing switch to another index pattern pattern2 from the drop down list 3 submit a new query search2 4 you will get results from search1 but for the current index pattern pattern2
1 put foo put foo bar 1 foo foo a b b c 2 image url 3 image url
1 create a new job based on an index pattern with a nested date field for example metadata timestamp 2 click validate job 3 validate job modal will report an error
1 create a new rollup job 2 set the terms list size to 20 3 add more than 20 terms to the list 25 should be enough 4 go to page 2 and delete a term this will take you back to page 1
1 create a controls options list visualization specifying a field on your index 2 create more visualizations using that field 3 add them to a dashboard 4 play around changing the time period and adding filters
1 run curl as described without the optional parameter curl x get url h kbn xsrf true 2 you will receive this error statuscode 400 error bad request message child dashboard fails because dashboard is required validation source query keys dashboard
1 close some elasticsearch index 2 go to management index management 3 click on the table header storage size 4 boom
1 open a canvas workpad 2 create an element 3 add a css style to the element via element style without an ending semicolon
1 clone an element 2 position the cloned element 3 clone the cloned element
1 create a region maps visualization 2 data is loaded and joined correctly is true 3 the icons in the region maps is missing
1 turn on monitoring 2 visit the elasticsearch node listing page 3 click on a node 4 visit the advanced tab for the node
1 create n visualization of different types pie chart area chart data table etc and add them to a dashboard 2 launch the dashboard and enable auto refresh 5 seconds make sure live data is pulled by kibana 3 observe in chrome task manager the memory growth for kibana tab 4 after disabling auto refresh the memory stays in the current level no increase decrease
1 go to discover view and search the button to get inspect spy feature 2 go to one visualize view then click on a visualization and search the button to get inspect spy feature
1 create bar chart 2 measure color with e g eye dropper of chart 3 compare with selected color on the color menu
1 visit the internal apm demo site 2 go to ml job manager 3 see the states note formgeist got one of the jobs restarted
1 install elasticsearch and kibana on the server 2 install a kibana plugin logtrail for example
1 git clone url 2 cd kibana 3 git checkout v version 4 yarn kbn bootstrap 5 yarn es snapshot license oss
1 index some audit log data 2 enable autocomplete under query options 3 search for a range of values in a particular field response 400 to 499 4 submit search and repeat without autocomplete for good measure
put debug index put debug index doc mapping properties id type keyword put debug index doc 1 id version get debug index doc 1 last command returns json type doc id 1 version 1 found true source id 10
1 install latest version of the stack 2 index some data 3 try using the kuery feature
1 use ie browser 2 open canvas 3 open the browser dev console and refresh the page to see errors
1 setup es kibana metricbeat locally 2 import metricbeat dashboard metricbeat version darwin x86 64 kibana 6 dashboard curl xpost h kbn xsrf true h content type application json localhost 5601 api kibana dashboards import d metricbeat host overview json 3 export to file populate enter dashboard id with correct id curl xget h kbn xsrf true h content type application json localhost 5601 api kibana dashboards export dashboard enter id host overview version 2 json 4 inspect file for index pattern
1 use default installation 2 start kibana 3 try to access kibana on localhost 5601 using ipv6
1 create indices big enough so timelion queries are expensive 2 set the following properties only the shard timeout should be needed but in the test the other 2 were also included elasticsearch pingtimeout 30000 elasticsearch requesttimeout 45000 elasticsearch shardtimeout 0 3 create an expensive multisearch timelion query across several big indices 4 run query in a fixed time interval and auto refresh 5 different executions provide different charts
1 watch kibana stdout 2 3
1 use version kibana default dist with reporting and save a report generation url 2 start kibana 6 x version and try to use that version url to generate a report pdf i was using a watcher watch but i think you can also post it with the proper headers and such 3 my test looks at the watcher history index to see the actual error the watches inidex would only show it successful or not but doesn t show detail of why it failed
1 spin up a version instance 2 navigate to dev tools and create several request blocks 3 attempt to press ctrl alt 0 to collapse all request blocks
1 look at the baseline report pdf checked in same in master and 6 x url 2 and or run the reporting tests and see the session pdf 3
1 log in to fresh install of kibana with no sample data installed 2 you will be routed to the welcome page asking if you want to try sample data here you will see the darker background graphics as below img width 1276 alt screen shot 2018 09 12 at 15 29 06 pm src url
1 create a few dashboards in kibana 2 open the landing page where dashboards are listed the dashboard list is ordered in order dashboards were created
1 create index with replica count of 2 2 wait for all primaries and replicas to be allocated 3 open monitoring indices created index and look at the shard legend panel 4 open dev tools enter get cat shards created index and look at the output
1 create more than one data series using a separate y axis assigned to the right side note this also applies to the left side
1 start with a version kibana 2 create a tsvb with 2 data series m where one of them is on a secondary y axis 3 upgrade to version on ess 4 check the tsvb and see that the secondary y axis series gets assigned to the primary y axis
1 upgrade to version 2 curl the api saved objects index pattern name endpoint
1 create index pattern for the index with boolean field 2 create control type visualization and add a control of the boolean field 3 click dropdown and select either true or false values
1 create a simple derivative graph with a date histogram image url 2 make any mistake i thought it was possible to create a split chart with derivative image url 3 then i fix the mistake by removing the split aggregation but the error state is still showing image url the tooltip just shows image url and hovering over red box doesn t show anything whatever i do i can t repair that error if create a new visualization from scratch without doing any mistakes same visualization works again
see linked issue
1 make sure data exists in es 2 navigate to visualize time series visula builder data table 3 make sure date parameter is selected in the panel options for a index 4 group by any parameter and provide any aggregation
1 create a visualization who s legend extends past the visible browser area 2 scroll down on visualization frame
1 close an index with curator in my case 2 go to kibana management index management 3 click sort by size crash
1 go to management saved objects 2 type netflow if you have the netflow dashboards 3 it shows a rough amount correct to the search 4 export all 5 check the file its everything
1 open tsvb do not change any settings the default count aggregation with the default index pattern is rendered correctly 2 switch to the panel options tab change the index pattern name to a different one count aggregation is working as it should with this new index pattern 3 switch back to data tab select a different aggregation from aggregation drop down list 4 try to select a field from field drop down list tsvb displays a there aren any options available message
1 assume es version is running with at least two indexes and can be reached at url 2 docker run name kibana test p 1234 5601 e elasticsearch url url e kibana index kibana 1234 docker elastic co kibana version 3 go to url create two index patterns and set one as default index 4 docker stop test docker rm test 5 run name test p 1234 5601 e elasticsearch e index 1234 elastic co version 6 revisit and click discover you have to set the default again
1 install react developer tools extension in firefox 2 visit a kibana page
put my index doc 1 date1 2018 08 28t12 10 30z date2 2018 08 28t14 10 30z the query generated by the
1 enable autorefresh with a 5s period 2 go to a different browser tab wait some time longer than 30s 3 tab back to kibana with a bit of bad luck it will show the timeout error screen after a fraction of second
1 set xpack security sessiontimeout to some short time like 20 second 2 restart kibana to get this in effect 3 login to kibana 4 open some visualisation 5 wait util your session ends and you got logged out 6 malformed login url is present in address bar like this one url g please note that next parameter does not contain actual next page 7 log in again 8 you end up on kibana home page instead of last opened visualisation
1 create index with doc values turned off for atleast one field put test1 mappings doc properties field1 type keyword doc values false field2 type keyword my date type date doc values true 2 index test documents in this index post test1 field1 val1 field2 va2 my date 3 in kibana create new index pattern test and go to discover tab notice that no data is shown
1 run this pr url 2 on this commit 3
1 set environment variable in docker compose file xpack security sessiontimeout 2 set elasticsearch url username and password variables 3 run kibana 4 login to kibana 5 wait a few seconds
create a controls visualisation add to a dashboard detailed steps 1 in visualise create a new visualisation of type controls 2 add an option list with the label test 3 select a relevant index pattern plus relevant field based on your setup 4 press the play button to view the visualisation 5 save the visualisation with name test controls or similar 6 click dashboard and create new dashboard 7 click add then add test controls you defined above result observe that dashboard has horizontal scroll bar even though no scrolling is necessary scroll bar persists no matter how wide panel is made
1 create custom visualization with specified responsehandler tabify 2 filter data to get empty request
load packetbeat dashboards navigate to packetbeat web transactions the page is pausing on the debugger
1 go to management 2 click on saved objects
1 create a watcher that periodically fired alerts every 30 seconds 2 try to fetch the watch history in the last 7 days 3 kibana crashed
run these in the dev tools console delete watcher history delete xpack watcher watch my watch post xpack watcher watch my watch trigger schedule interval 10h input simple actions send email to admin condition script return ctx payload foo true email to foo example org from foo example org subject subject body text body get xpack watcher my action condition will execute post xpack my execute record execution true alternative input foo true action condition will not execute post execute record execution true alternative input false action modes all force get to understand the issue check the api calls the first one will actually try to send an email but fails because no email server is listening on remote port thus action is marked as successful false second execution is just not trying send an because condition was not met last execution thus is now older than last run of but still has information that this particular has failed which seems mark as error in ui
1 start with a browser size wide enough so that none of the management page items wrap 2 make the browser window narrower and watch how the kibana section wraps text vs the elasticsearch section
1 for line diagrams where date histogram type is on the x axis 2 timezone under kibana settings is gmt 0 no time shift 3 add filter to line chart e g from now 2m 2h to now 2h time shift is here considered 4 enable current time marker
1 create a scatter plot 2 add a metric on y axis 3 run the kibana
1 go to index patterns and set the format for a string to url and audio format a searchable string not a aggregatable keyword 2 open the index pattern in discover 3 in chrome and firefox it shows the audio control image url but not in ie 11 image url
1 create an index with a long field name 2 go to discover in ie 3 mouse over the long field
1 start a new dashboard 2 click the add button in the this dashboard is empty dialog near the center of the screen
1 in ie browser go to a dashboard 2 click add in menu 3 click new visualization button in the panel 4 one time i briefly saw the red error banner at the top of the page but then quickly went on to show all new visualization types i wasn t able to capture that but if browser console is open i do catch error also get same error when removing a visualization from a dashboard
1 go to dev tools search profiler 2 just run the default query 3 there s some partial tab query profile overlapping other fields 4 some wacky selftotal and timetimetime and the time underneath that 5 it could depend on the size of the window if you see these issues i ll experiment with resizing and see if things get better or worse
1 create a input control and use a step value greater than the field value 2 try to operate the slider 3 it doesn t work and there is no warning
1 start the default distribution with basic license 2 install gold license 3 check prompt
1 import a plugin path like plugins reporting services job completion notifications 2 run eslint
1 add the sample data set 2 go to the discover tab and open the kibana sample data flights index pattern 3 add filters for destweather and destairportid 4 create a new index pattern for a different index 5 go to the discover tab and open new index pattern 6 page still tries to show information for destweather and destairportid
1 run kibana from yarn start 2 go to visualize page choose a visualization 3 set different time ranges and click on recent 4 open up console to see the error
1 go to saved objects select a object objects note that delete and export are enabled 2 select a type in search filter type 3 notice that delete and export buttons are still enabled click on them the previously selected objects will pop up
1 visit the apm sandbox ping jamie smith on slack for that url 2 visit the discover tab make sure there is no search criteria and on the apm index
1 create a line visualization with any y axis metric aggregation average 2 for bucket x axis choose date range and choose a field of type date 3 add range e g from now 2h to now
1 select saved objects and click on delete kibana changes the delete button to
1 export your saved objects first and delete everything in saved objects including index patterns 2 re import the saved objects 3 kibana displays in order to visualize and explore data in kibana you ll need to create an index pattern to retrieve data from elasticsearch
1 open a visualization 2 print a report 3 only the viz editor is being printed
1 go to kibana 2 go to discover 3 wait for rows to load 4 once rows load browser tab freezes up entirely and has to be closed this seems happen on graph load or something before that
note i ve observed this behavior in the options panel and with several types of config these steps are just one way to trigger the bug 1 start a new visualization 2 add a date histogram aggregation 3 apply the changes 4 change the interval apply button should not be enabled 5 change interval again apply button should become enabled
1 create a bar chart in kibana 2 assign one y axis with percentage type to chart and add another y axis in e g double format to it 3 in axis section separate two y axis for example make the second y in the right
i am unable to reliably reproduce this bug
1 go under management saved objects visualizations edit visualization 2 add fontsize field with a value under visstate params categoryaxes labels example categoryaxes t id categoryaxis 1 labels filter true rotate 75 show true truncate 20 fontsize 20 3
1 import url from url 2 follow steps here url 3 fail at step set aggregation to geohash and field to geo coordinates
1 create a coordinate map visualization in kibana and save it 2 add it to a dashboard and save it 3 click on reporting and try the two different reporting options the optimized for printing one is affected by the bug afaik
1 create docker compose yml with those environment settings version 2 services kibana image docker elastic co kibana kibana version ports 5601 5601 environment elasticsearch url url elasticsearch username elastic elasticsearch password changeme regionmap false regionmap layers 0 name departments of france regionmap layers 0 url url regionmap layers 0 attribution inrap layers 0 fields name department fields description full department name fields 1 name insee fields 1 description insee numeric identifier 2 startup the container with docker compose up command 3 open kibana create a new visualization with region map
just like the screenshots
just like the screenshots
2 create a coordinate map 3 the coordinate map will show some circle markers 4 put the search value in search bar please be sure that this search value will not return any result 5 the circle markers still there not disappear but if i refresh the web page circle markers will disappear
all the steps were reproduced in the dev console it is particularly important for step 3 as executing it with curl wouldn t display the erroneous behavior 1 create an index using the following command creating index txt url 2 populate index with following command populate index txt url 3 search with following command search txt url
1 add option list with parent child inputs to a dashboard 2 squash it vertically to fewer than 9 grid snaps 3 select a value from the option list
1 enable xpack monitoring collection on es nodes 2 sort by name in kibana monitoring 3 nodes are not ordered
tar with the minimal plugin to create bug minimal plugin to reproduce test tar gz url 1 create a plugin with an empty visualization 2 add angular material version version and its dependencies version version to the package json 3 import angular material and its dependencies in the plugin controller file 4 add ngmaterial to the module s visualization 5 open kibana 6 go visualization home page 7 go discover page angular material as dependency
1 go to advanced settings and set format number defaultlocale fr 2 create a tsvb visualization with numeric value displayed 3 check a numeric value 1000 that is displayed by tsvb thousand separator is instead of
1 try create pie chart visualisation 2 select term aggregation 3 select field which is longer than left panel with
1 build the kibana dashboards 2 embedd the iframe url in any web application i used python django 3 once you embed try maximising the any single visualization
1 create option list with a recently added client name field as the primary field 2 set use time filter in vis options 3 set time picker to 15 minutes option list shows four client values 4 set time picker to 24 hours option list shows two client values 5 remove use time filter from vis options option list shows two client values
1 click visualize 2 create a visualization 3 select vega
the steps below written for logstasgh sample index generated with node scripts makelogs js 1 create new table visualization 2 in editor panel click on split rows 3 choose date histogram 4 click on add sub buckets split rows terms 5 in field textbox choose machine os keyword 6 apply changes 7 disable histogram bucket 8 open browser consloe 9 apply changes at this point the visualization stay the same as before but the console print error uncaught in promise typeerror cannot read property key of undefined 10 enable histogram bucket 11 apply changes works without errors 12 define new metric click on add metrics 13 in aggregation choose max 14 field choose bytes 15 apply changes 16 disable term bucket 17 all rows max bytes columns show only value no errors console
1 url 2 make elasticsearch 3 docker logs kplug
already mentioned in description
1 create a pie 2 options labels settings 3 tick show values nothing happens 3 tick show labels you can see labels values eg quarter1 15 4 untick show labels no more nor values
1 complete filter in the following get search query bool filt 2 result looks like this get search query bool filter
1 create advanced watcher in json 2 add slackage without the text field but add an attachment 3 save actions my logging action slack message from watcher to attachments fallback some fallback color danger pretext some description title my problem title link url fields title priority value high short false
1 set kibana advanced setting filters pinnedbydefault to true screen shot 2018 06 24 at 08 28 59 url 2 add a filter to the dashboard using add a filter screen shot 2018 06 24 at 08 27 36 url
1 start yarn es snapshot 2 put this in kibana yml server ssl enabled true server ssl certificate test dev certs server crt server ssl key test dev certs key 3 start yarn start yes using the default dev flag which enables base path
1 manually install elasticsearch from rpm and start service 2 echo xpack ml enabled false etc elasticsearch elasticsearch yml 3 manually create the index using the curl command from step 2 on url
1 click on the management tab 2 click on index management 3 sort on the first 6 columns ok 4 sort on the last two columns ko
1 download kibana version from url 2 unpack the download 3 run bin kibana
1 start elasticsearch 2 start kibana 3 stop elasticsearch 1 wait for kibana to go red 1 start elasticsearch again 1 sometimes kibana won t go green again even though x pack main updates it s license information and things like login are possible
1 create a new visualization based on some data with multiple fields 2 create a date histogram x axis def 3 create a split series bucket 4 run the query 5 observe the expected graph 6 disable the series split and re query 7 observe a flat line
1 install kibana elasticsearch and ensure telemetry banner is getting displayed 2 use voiceover and try to access the banner 3 only read more yes or no are getting announced 4 once you choose an option the banner goes away silently without any announcement about whats going to happen
1 create two indices as follows only difference first one with time format explicitely set to epoch millis and second one with automatic time format put test epochmilli 1 settings number of shards 1 number of replicas 0 mappings doc properties timestamp type date format epoch millis name type keyword put test epochmilli 2 settings number of shards 1 number of replicas 0 mappings doc properties timestamp type date name type keyword 2 create the same document with epoch millisecond date in both indices put test epochmilli doc timestamp name some name put test epochmilli 2 doc timestamp some 3 create two corresponding index patterns and 2 with time field 4 open in discover or render a data histogram in visualize this works 5 open in discover or render a data histogram visualize
1 create an index pattern populate with a lengthy field 2 create a visualisation split by the lengthy field set metric to count average is the same 3 rows are not showing
1 type the name of the index pattern in kibana s configure an index pattern page 2 click create 3 instead of creating a new index pattern kibana throws a fatal error
1 start kibana up with a an array type configuration 2 take and action that will call elasticsearch
1 go to menu discover kibana 2 select an index 3 two ways add a filter or click icon to query document with value i g
1 install es kibana on server 2016 2 execute command seen in screenshot happens for any plugin install not just the one pictured 3 wait
1 use voiceover 2 go to discover and try to save a search with the same name as one of the existing searches 3 kibana shows a warning prompt 4 but that action is not announced in screenreader
1 go to license management when running a basic license 2 start a trial 3 refresh not sure if this is actually necessary to reproduce 3 click revert to basic and accept the modal
1 start up the default distribution basic license 2 do not start up elasticsearch 3 attempt to access kibana
1 on discover tab click to add a new filter 2 select a date field like timestamp 3 select is not between so you can see it create a gap in the date histogram 4 enter date times that would be within your date picker time range 5 if you make the mistake of entering a value without the t between the and time you get big red error notification
1 use voiceover 2 go to index management and click on an individual 3 the euiflyout which opens up is not announced in the screenreader only tabs within it are announced
1 use voiceover 2 click on edit on dashboard go to panel actions edit or reset the panel title 3 screenreader announces where the user is but once the user completes the action there is no indication
1 use voiceover 2 click on full screen button on dashboard 3 screenreader doesn t announce that user is viewing the dashboard in full screen mode
1 maximize a view that is below an input control 2 minimize the view 3 click on the input control that is above the display
1 create a dashboard with only tsvb markdown input control and or vega vizs 2 share the dashboard with an iframe link that step isn t even required 3 click on add filter it has only fields from the default index pattern of kibana
1 index document with really long field names 2 try to add a filter on that field in discover visualize dashboard 3 filters don t handle long names and layouts break
1 update your license management to trial using license ui 2 notice the cluster alert for expiry date 3 get the trial license from internal elastic wiki and upload it 4 both monitoring and license ui update the expiry date 5 cluster alert remains the same and doesn t have new info
1 feed the following data post bulk index index my test index type result id 1 num data 100 datatype datatype01 count 1 date 2018 05 23t10 00 00 index my test type result id 2 num data 110 datatype datatype01 count 1 date 2018 05 23t11 00 00 my test type result id 3 num data 150 datatype datatype02 count date 2018 05 23t10 30 my test type result id 4 num 100 datatype datatype02 count 2 date 2018 05 23t10 5 100 datatype01 2 23t11 6 130 datatype02 23t10 7 99 datatype02 2 23t11 8 85 datatype01 30 9 140 23t11 10 85 30 create pattern image url 3 create line chart visualize settings image url metrics axes settings image url
1 create a visualization 2 get the embedded iframe link and create the html 3 open the viz in browser 4 filters don t work please note they work on dashboards
1 create a new vertical bar chart visualization with a time range that includes some data 2 add an x axis date histogram aggregation on your timefield eg timestamp 3 click to add a new filter use the timefield eg timestamp i used is not between enter 2 timestamps that are within your time picker range 4 you would expect to see a gap in the histogram but there isn t 5 check the spy panel and look at the request and we see filter isn t being added
1 pull the elasticsearch oss version container and bind the internal port 9200 to 80 2 pull the kibana oss version container and specify the elasticsearch flag to host where es is hosted 3 read logs from kibana
1 running kibana with x pack and a trial license create and save or open a saved visualization 2 open the reporting dialog note the ability to generate a pdf 3 open the visualization s spy panel reporting dialog tells you to save your changes
1 i don t think the os that kibana is running on is important but i was using windows 2012 server 2 use ie 11 set advanced settings state storeinsessionstorage true 3 navigate to a visualization with a long url add a couple of filters to make it even longer it doesn t matter if it doesn t work or if it gets any data i don t think even matters if you save the visualization 4 navigate to dashboard and open some dashboard again doesn matter if loads any results 5 open the ie browser dev console so you could see errors 6 click the visualize link in nav bar
1 add an input control vis with multiple fields to a dashboard 2 size the input control vis so that fields are aligned vertically 3 generate a report
1 use chromevox or voiceover 2 go through create index pattern page 3 screenreader doesn t announce details of include system indices checkbox
1 use esarchiver to load this set of logstash and kibana index unzip it url node scripts es archiver load data dashboard es url url 2 export the dashboard and all dependencies curl k xget url export dashboard 3a0da240 54a1 11e8 951c json 3 inspect the json output file to see if it has the closing at the end 4 and trying to import like this curl k xpost h content type application json d export dashboard 3a0da240 54a1 11e8 951c json output is statuscode 400 error bad request message invalid request payload format
1 use voiceover or chromevox 2 go to kibana management tab through sections 3 screenreader announces users roles index management license management and continues on 4 screenreader doesn t announce which section to which those list items belong
1 create metric with aggregation unique count 2 field sysloghost keyword 3 switch to options and check auto extend range
1 enable voiceover or chromevox 2 click on license management 3 screenreader goes through the top padding and then jumps immediately into update license and revert to basic links 4 only if you click on the license info block screenreader will announce the license information i ran the axe tool for accessibility and error seems to be axe help url fix following required aria child role not present tab
1 use chromevox or screenreader on kibana home page 2 once the screenreader announces apm and add data only add data is read out for subsequent solutions
1 set your xpack reporting queue timeout to a low value so that your report generation will fail 2 make reporting fail at least twice 3 go to the reporting page on management and click on failure button max attempts error message will get displayed but failure button will move up or down on which row you are
1 create a simple gauge in visual builder gauge as shown in the screenshots 2 3
1 go to advanced settings search for savedobjects listinglimit 2 notice that default is 1000 change it to 25 go to listing pages under visualize dashboard saved objects and verify the listing behavior 3 go back to advanced settings and delete 25 and save it notice the default 1000 again for the value 4 try access viz listing table you cannot 5 go back advanced settings and explicitly set the value 1000 listing table works fine
1 create data table visualization 2 for a numeric value pick mean min max and median 3 view results of visualization
1 be on windows 10 1903 2 clone my electron quick start url 3 switch to the openitemissue branch 4 npm install 5 npm start 6 click the button
const app browserwindow require electron async function createwindow tconst mainwindow new browserwindow tconst childwin new browserwindow tchildwin settitle child tchildwin setparentwindow mainwindow commenting this out will fix the issue app on ready createwindow
run the example code const app dialog require electron app on ready async console log before dialog const res await dialog showmessagebox buttons ok title title message this is a message console log after dialog console log res json stringify res catch e console error e observe the delay after clicking on ok
sample app url to reproduce you must have multiple monitors on windows with different dpi levels the primary monitor on your desktop should be a high dpi one while a secondary monitor should be lower dpi
check the two screenshots
1 implement a simple react component in typescript 2 name the file with the extension tsx 3 build it with webpack source map and open electron devtools it looks similar to the screenshot below
sh git clone git github com bigtimebuddy electron recent docs bug git b master npm install npm start electron
export next root 1 start electron
unknown i have other windows in my application that work perfectly using the same very basic win show i also tried js win showinactive win focus
run from cmd exe sh git clone url cd electron win64 zombie bug yarn yarn electron after the crash there will still be a electron exe renderer process running in taskmanager note if you run it in bash on windows use the following command to run sh node modules electron dist exe
step 1 copy below code const electron require electron const desktopcapturer electron desktopcapturer const remote electron remote const electronscreen remote screen fs require fs path require path os require os var screenshotpath let getscreencapture function timeoutscheduled date now thumbsize determinescreenshot console log thumbsize height console log thumbsize width let options types screen thumbnailsize thumbsize desktopcapturer getsources options function error sources if error console log error message return sources foreach function source screenshotpath path join os tmpdir screenshot timeoutscheduled jpeg console log screenshotpath fs writefile screenshotpath source thumbnail topng function err if err return err message setinterval getscreencapture captured 5000 determinescreenshot screensize electronscreen getprimarydisplay workareasize maxdimension math max screensize width screensize height maxdimension return width maxdimension window devicepixelratio height maxdimension window devicepixelratio step 2 install npm run this code step 3 lock your window screen window l lock your screen at least 10 minutes step 4 unlock your widow and see the dialog box popups with the below error message url
npm install electron on windows
my demo repo url 1 start e g notepad exe 2 paste its pid into main js 3 npm run start 4 close electron window main process doesn t exit until you kill notepad exe
git clone url cd electron lag npm install electron packager g
js const filter domain facebook com const cookies await webcontents session cookies get filter filter by domain is returning empty array but if i try to filter using url is returning the actual cookies tested on all 7 beta versions on 6 filtering by domain was worked
just following the build instructions gn gen out debug args import electron build args debug gn ninja c out debug electron
1 open the electron api demos app 2 click on getting started 3 open jaws and enable virtual pc cursor 4 once enabled use it to navigate to a text block in the rhs for example browserwindow 5 once highlighted on a text block press shift down 6 the text should be selected
via url 1 install signal on linux mint or ubuntu 1 run the command xdg mime query default text html 1 the output should be signal desktop desktop as shown below xdg mime query default text html signal desktop desktop
git clone url cd electron quick start npm install npm start
1 create a window this is the creator window with following webpreferences set preload some preload file which at least requires the electron remote module nativewindowopen true sandbox true can be false when is true true can be false when sandbox is when at least one of sandbox or is set to the problem occours 2 load a website which opens a new window on a click i used url 3 open new window by clicking link which should open new 4 close the new 5 try to select some text in creator when problem occours any interaction should not be possible
reproduction url 1 git clone url 2 yarn 3 yarn start crash 4 wait 1 10 seconds for the crash all the example does is create and terminate an empty worker on an interval yarn start starts the app with nodeintegrationinworker false demonstrating that things work fine when it is false
example see main js for the menu setup sh git clone git github com bigtimebuddy electron recent docs bug git b master npm install npm start electron
run the following app in version and version
js const browserwindow require electron browserwindow settimeout y new browserwindow width 500 height 500 hasshadow true frame false vibrancy light transparent true background titlebarstyle hiddeninset y loadurl url settimeout y loadurl url 1000 100 i m serving a simple index html on 4000 doctype html html lang en head head style body font family apple system sf pro text blinkmacsystemfont segoe ui helvetica neue helvetica roboto oxygen ubuntu cantarell droid sans sans serif margin 0 padding 0 color fff background font size 14px line height version rem webkit app region drag user select none height 100 width 100 html body height 100 width body display flex box sizing border box style body div style align items center justify content center width div style font size 16px font weight 300 loading div div i m really happy to look into this and patch it i have electron pulled locally and all set up for debugging if anyone knows the area to look for i ll spend a day poking around maybe it s not clear where this goes wrong if so likely can t spend enough time to find it
install the signal app on elementary os and receive a new message
not exactly my case but a similar behavior can be reproduced via const app browserwindow require electron function createwindow const mainwindow new browserwindow x 0 y 0 width 5000 height 1350 console log mainwindow getbounds app on ready createwindow it logs x 0 y 0 width 2560 height 1350 which is the maximum size of the monitor on which it was launched the first time i launched it i guess it was going to create on the second monitor instead of first and so width height was set to second monitor s bounds even though window was moved to first monitor now this might due to fact that chrome clamps window bounds so if you try launching a window via window open with a width height greater than s size will be clamped size so if there is a bug bug is that browserwindow s size is initial s not of that we ve repositioned
see this branch on my fork of quick start url it launches two windows with the same affinity and closes one of them the remaining window goes blank and content never shows remove sandbox true from the config makes things all work fine git clone url b sandbox affinity npm install npm run start
const filter urls localhost 88 session webrequest onbeforesendheaders filter details callback details requestheaders authorization bearer this securetoken callback requestheaders details requestheaders
follow the build instructions from url to build with visual studio community edition 2019 fails for both the debug and release builds
see forked repo jocodev1 electron quick start url sh git clone url b bug notfiringcrashevents npm i no optional npm start in window run process hang or process crash from console you should see console messages when each event should get triggered but there are none
git repo url url sh git clone url npm install npm start
start scanning by calling requestdevice in an environment with no ble devices or with a filter that does not match any devices
git clone url npm run v6 will install electron v6 and start app move mouse around the black sidebar as the window is resized and repositioned see window flicker this flicker also exists on electron v5 npm run v5 and electron v7 npm run v7
i m running a minimal app compiled by webpack only the frontend is compiled by webpack the renderer index js is untouched if necessary i ll upload an example later
see my electron fiddle gist url
mainwindow webcontents on login event webcontents request authinfo callback event preventdefault console log callback undefined
stick window on a side then trigger reload
this issue is readily reproducible for me with the following steps 1 run git clone url 2 run npm install 3 run npm start 4 observe your process list with a tool like process explorer tree view is best or task manager notice the single renderer process and pid along with other electron processes 5 close electron 6 observe that the electron type renderer process remains after all other processes exit the orphaned doesn t use much cpu but holds quite a bit of ram until its forced terminated
1 open electron window with control buttons by new browserwindow frame true 1 change close logic to default mac behavior hide app on close not quit can be done by mainwindow on close event event preventdefault mainwindow hide 3 set fullscreen mode 4 click close button
run process on document start console log test in the preload script in a window with sandbox mode on url
fiddle gist url
run the following app js use strict const app browserwindow require electron path require path fs require fs offscreen true let win if offscreen app app commandline appendswitch disable software rasterizer commandline appendswitch in process gpu on ready win new browserwindow width 1440 height 900 usecontentsize true show true webpreferences offscreen offscreen nodeintegration false contextisolation true preload path join dirname preload js win webcontents on did stop loading event console log did stop loading settimeout capturepage 500 win webcontents opendevtools mode right loadurl url function capturepage console log capturepage start webcontents capturepage image console log callback fs writefilesync png image topng exit
create sample app and load whatsapp web via win loadurl url useragent myuseragent is this something i ve spoiled cheers
run asar extract app asar command on asar file
jsfiddle to test in web browser url electron fiddle that reproduces the issue url
sh git clone git github com handtrix electron content type bug git npm install npm start or use the following code js const app protocol browserwindow require electron const passthrough require stream function createstream text const rv new passthrough passthrough is also a readable stream rv push text rv push null return rv app on ready protocol registerstreamprotocol atom request callback callback statuscode 200 headers content type text html charset utf 8 content type text html is working data createstream h5 response h5 let win new browserwindow width 800 height 600 win loadurl atom app
if you provide a url please list the commands required to clone setup run your repo e g sh git clone your url b branch npm install npm start electron
url npm i npm start 1 drag the window smoothly from left to right this should trigger aero shake 2 out of 5 times 2 drag the window to the left most part of your left most monitor this will trigger aero snap 100 of the time
1 git clone url 2 cd electron drag bug 3 npm install npm run start 4 try to drag the window
url check url out
see the crash log
code main js const app globalshortcut browserwindow require electron const path require path let mainwindow function createwindow mainwindow new browserwindow width 800 height 600 webpreferences preload path join dirname preload js mainwindow loadfile index html mainwindow on closed function null app on ready function createwindow globalshortcut register commandorcontrol t function console log commandorcontrol t globalshortcut register commandorcontrol n console log commandorcontrol n app on window all closed if process platform darwin app quit on activate if null createwindow
js const app protocol session require electron const http require http const host app const scheme some scheme targeturl url app on ready session defaultsession protocol registerstreamprotocol scheme request callback build proxy options url options request rewrite url webpackdevserverurl url replace scheme host targeturl replace proxy request to webpack dev server endpoint http request webpackdevserverurl options callback end let win new browserwindow width 800 height 600 win loadurl some app
putting the following two files in a folder on windows 10 and running electron in the directory with electron version x globally installed should demonstrate the issue package json t name bug t main index js t dependencies t devdependencies index js const app browserwindow require electron app once ready async tvar win new browserwindow tcloseable true tminimizable true tmaximizable true tresizable false twin on maximize tconsole log maximized twin maximize tconsole log win ismaximized
i made repository with reproducing url please run it and when you ll see github home page please click any link with relative path for example it s a green sign up button
run the test suite on a 6 0 x woa build on woa hardware specifically the command npm run test ci g browserwindow movetop
1 create a browserwindow with frame false 2 add the following to the page s html html div style height 50px width 100 background color red cursor pointer div 3 run the app 4 hover your cursor over the top of window electron fiddle example url
open child window and then close it
try to change zoom factor of any child window if you provide a url please list the commands required to clone setup run your repo e g sh git clone your url b branch npm install npm start electron
clone the electron quick start from here url it s currently using electron version npm install npm start press ctrl shift i or select from the menu to toggle the dev tools nothing happens uncommenting line 23 in main js mainwindow webcontents opendevtools does not help either older version in package json set devdependencies electron to version npm install npm start dev tools open just fine
move browserwindow to second screen
try installing electron version beta 3 on windows
1 switch to 30 bit color depth by editing xorg conf 1 open any electron application
run the test suite on a woa build on woa hardware specifically the command npm run test ci g due to dns not resolved
ipcmain on showchildwindow function e data const modalpath process env node env development process env webpack dev server url rapid app dirname index html rapid let childwin new browserwindow parent mainwindow modal false show true width 800 height 320 webpreferences nodeintegration true websecurity false childwin setalwaysontop true childwin on ready to show childwin show on close function rapidwin null loadurl modalpath
app on ready console log ready if options debug let exts browserwindow getdevtoolsextensions console log exts react let reactdevtooldir path join os homedir appdata local google chrome user data default extensions appdata local google chrome user data default extensions appdata local google chrome user data default extensions hrome react if fs existssync reactdevtooldir version 0 let versiondir string null let versiondirs fs readdirsync reactdevtooldir if versiondirs versiondirs length versiondir versiondirs length 1 console log prepare react debug tool react browserwindow adddevtoolsextension hung up here path join reactdevtooldir versiondir console log debug tool enabled exts browserwindow getdevtoolsextensions exts new mainwindow show
put lt input gt in the page call window alert xxx
i e set up a repository url with the above minimal example to reproduce the issue run the following commands on a machine running macos version sh git clone git github com lexi lambda electron 4 x font smoothing repro git cd electron 4 x font smoothing repro npm install npm start
1 open dev tools in any electron based application 2 open dev tools and go to the javascript console 3 type print in the console and hit enter 4 click the cancel button on the print dialog 5 attempt to interact normally with app
create a simple electron app with react trigger a js alert
have an app with a custom title bar emit the maximize function on a custom placed maximize button the properties of the window should be frame false and transparent false
1 window not maximized 2 window maximize 3 window minimize 4 window reopen clicking the icon on taskbar 5 unmaximize
1 create new browserwindow 2 create new browserview 3 browserview webcontents loadurl someurl 4 browserwindow setbrowserview browserview 5 browserview setbounds somebounds 6 trying to resize browserwindow crashes the app
open a hello world app and add this code js settimeout tmainwindow focus 5000 click on another app the window is not focused it works fine with electron 4
on the command line add schemes for one of the argument switches handled in atomcontentclient addadditionalschemes
app crashes when calling app dock hide but only when running as root e g started as a service by launchd package json name electron dock version version main main js scripts start electron devdependencies electron version main js const app browserwindow require electron app dock hide console log reached process exit 0 as non privileged user npm start dock version start path to reached as root via sudo sudo npm start path to reached root via su or via launchd sudo su root npm path to 2019 08 22 13 23 73780 nscfconstantstring objectatindex unrecognized selector sent to instance
js app setname foo gist url
run the app js use strict const app browserwindow require electron let win app on ready win new browserwindow width 1440 height 900 usecontentsize true webpreferences nodeintegration false win webcontents session webcont perm origin details console log chromepermissioncheck s o perm details return false win webcontents session webcont perm callback details console log chromepermissionrequest s o perm details callback false webcontents opendevtools mode right loadurl url eval await navigator permissions query name microphone in the devtools console
js settimeout const bounceid app dock bounce console log bounceid 3000 gist to reproduce issue url
yarn install and yarn dist of url then run the executable dll error yarn install and yarn dist url then run the executable works as intended only difference assumed between the branches new electron version
javascript mainwindow new browserwindow autohidemenubar true webpreferences nodeintegration true mainwindow maximize mainwindow setresizable false
url put the app in the background for a while and focus main window the issue will be reproduced
ts const serve true serve is set to true when running in dev server win webcontents on new window event any uri string framename string disposition string options additionalfeatures any console log event url framename options additionalfeatures event newguest if uri indexof foobar 0 open window as modal event preventdefault options options webpreferences webpreferences websecurity serve serve newguest new browserwindow console log done creating window return newguest
clone reproduce repo and start with electron 5 or electron 6 bash git clone url b nativewindowopen cd electron bugs electron in the subwindow the webview isn t rendered in the devtool of subwindow a error uncaught typeerror cannot read property loadurl of null occours
i logged the behavior ts win on minimize e console log minimizing const bounds any win getbounds console log bounds win on restore e console log restoring const bounds any win getbounds console log bounds result minimizing x 100 y 200 width 1400 height 800 restoring x 100 y 200 width 420 height 250 the dimensions come from ts new browserwindow minwidth 420 minheight 250 frame false this line might be relevant for the current issue i have the problem happening in my app in master tracking with url can be reproduced by cloning repository running npm install having angular cli installed npm i g angular cli and running app npm start needless to say error occurs in built version of app npm run electron windows note error does not occur when window is maximized minimized and restored error might not occur on mac can t be sure because mac has a stupid minimize maximize animation thank you electron team for your amazing work my app would be impossible without you
1 clone and install source code sh git clone url b bug for file chooser after canceled npm install npm start electron 2 click input type file show file chooser dialog 3 click cancel button of the dialog close the dialog 4 click input type file again can t show chooser dialog
sample in attachments to reproduce npm i npm start reload document cmd r click new child window observe child window console electron quick start zip url
js const app dialog require electron app on ready dialog showopendialogsync title hello properties openfile
add these two lines into your preload script const webframe require electron webframe setzoomlevel 2
setinterval win setbounds x 1079 console log win getbounds width 100
add the following img tag to reproduce img id chapter class novelcover src url border 0 alt css just in case novelcover width 240px height 300px border radius 5 5 0 0
index html doctype html html head meta charset utf 8 title hello world title link rel stylesheet href assets css main css head body div class row div id price container p class subtext market monitor p h1 id about by source h1 div div id goal container p span id targetprice monitor the prices of items on the market span p right container button launch launch button script src index js script body main live prices class subtext main html index js const browserwindow require electron remote const path require path const shell require electron const launchbtn document getelementbyid launch launchbtn addeventlistener click event modalpath path join file dirname launch let win new browserwindow width 400 height 320 win on close win null win loadurl modalpath show doctype head meta charset utf 8 title hello world title link rel stylesheet href assets css main css head body class row price container subtext test h1 about test h1 goal span targetprice test span right button test button script src js script body
javascript import session from electron session defaultsession setcertificateverifyproc request callback console log request go to url output json hostname www google com certificate data begin certificate end certificate issuer commonname google internet authority g3 organizations google trust services organizationunits locality state country us issuername google internet authority g3 subject commonname www com organizations llc organizationunits locality mountain view state california country us subjectname www com serialnumber validstart validexpiry fingerprint sha256 takt7k issuercert data begin certificate end issuer commonname globalsign organizations globalsign organizationunits globalsign root ca r2 locality state country issuername globalsign subject commonname internet authority g3 organizations trust services organizationunits locality state country us subjectname internet authority g3 serialnumber validstart validexpiry fingerprint sha256 prqgfzbs verificationresult net ok errorcode 0 there are only the leaf and intermediate certificates in the request object above
git clone url cd electron quick start npm install npm install electron builder save dev npm run electron builder build linux
create a menu with accelerators buildfromtemplate and menu setapplicationmenu after this call globalshortcut unregister test out application and see that keyboard shortcut is still handled globally
from the render process try to connect to any secure web socket which uses a self signed cert main process process env node tls reject unauthorized 0 const win new browserwindow webpreferences nodeintegration true websecurity false true win webcontents on certificate error event url error certificate callback event preventdefault callback true render process const connection new websocket wss some ip some port connection onopen event void console log user is opening socket connection event connection onclose void console log user is closing socket
see fiddle url the console output is before fork electron run as node is undefined after fork electron run as node is 1 hello world electron run as node should not be set
url if you provide a url please list the commands required to clone setup run your repo e g sh git clone url cd electron quick start npm install npm start
have a firefox session open and launch visual studio code v version the cpu usage will spike immediately
add script window print script into index html in electron fiddle url
mainwindow new browserwindow height 800 width 1200 backgroundcolor icon dirname switzerland png also tried with icns ico icon is of the dimension 24x24
set the scale to anything other than 100 listen to will resize call getbounds and you ll se the diff is off the chart
install this plugin url try to inspect a component or a vuex state
sh git clone url cd electron https referrer npm install npm start
1 clone the electron quick start url project 2 update main js with the code below 3 execute window location url 4 note navigation occurs and no console log output
1 register custom protocol via protocol registerbufferprotocol 2 add will navigate or will redirect event listener 3 trigger a navigation redirect event window location custom foobar 4 event listener s are not called
include the usual trimmings in main js if require electron squirrel startup return require update electron app also handle checking if the app is already running var shouldquit app makesingleinstance function commandline workingdirectory notifier notify title radiam message radiam is already running package with url and install then try clicking on the app s desktop shortcut after it s already running the makesingleinstance event is handled but there is also an electron error popup
double click on the app in linux it works from terminal but not from file manager
just created a most basic electron app just loads a single page that says tab in h1 tags zoom does not work check out my electron fiddle to see what i mean url
const app require electron app on ready try const logspath app getpath logs console log logspath catch e console error e app getpath userdata worked fine so it does seem like a logs specific problem
using the electron quickstart repo git clone url edit the quickstart main js file to enable nodeintegration create the browser window mainwindow new browserwindow twidth 800 theight 600 twebpreferences t preload path join dirname preload js t nodeintegration true t once started open the developer tools and enter into console var bounds x 0 y 0 width 480 height 480 var boundsxchange x 240 y 0 width 480 height 480 var boundsheightchange x 0 y width height 482 var browserview browserwindow require electron remote view new browserview browserwindow getallwindows addbrowserview view alternatively getfocusedwindow view setbounds bounds view webcontents loadurl url create above multiple times with following combinations to see bug bug does not update x position setbounds bounds setbounds boundsxchange subsequent call blocked bug does not update position until called twice setbounds bounds boundsxchange subsequent call blocked boundsxchange correct behavior does update position correct behavior does update position boundsheightchange
this fiddle reproduces the bug url as soon as i move the absolute positioned div below a few pixels it starts working properly url edit any dom element intersecting the webkit app region drag div breaks the drag behavior looks similar to 11768 but i think that it is a different problem
use my code below in any version 3
set up a crash reporter and run process crash
updated repro see comment history for original version 1 ensure windows choose your color setting is set to dark 2 clone and install repro and launch electron t sh t git clone url t cd electron darkmode crash t npm i npm run start the first time electron will launch normally 3 once electron has launched close it 4 launch again sh npm run start the second time will hang and never display a window the above repro contains the following changes from quick start master url
i don t have any js code to share and i m not a js dev i use f and compile to js with fable i think the issue should be easy to reproduce though
setup instructions for macos can be found here url sh git clone url b bump electron yarn yarn build dev yarn start
hide the menu trigger fullscreen mode leave fullscreen mode
1 maximize window 2 minimize window 3 restore window click on the icon in the taskbar 4 unmaximize window
create browserwindow open dev tools console and run javascript setimmediate console log never gets logged
npm install g vue cli vue create vue app cd vue app add electron builder in background ts i add this import workerpath from file loader name name js test worker import worker from worker threads const worker new workerpath the file loader module looks like this declare module file loader name name js const value string export value the test file is empty for the test the last step is npm run serve electron
install an electron based application
the best way to reproduce this is to build my project url all instructions are in the readme then try to add some bookmarks close the app and restart it and see if they appear under the address bar also as i mentioned before sometimes web requests doesn t work so you may not see weather card then try to reload using ctrl r and you will see that everything works correctly
const app dialog require electron app on ready dialog showmessagebox title also something with windows looks broken type info
go to any website that request push notification pemission and subscribe then go to dev tools application service workes and click on push nothing happens
just open any electron app on the affected versions i think the difference is more noticeable when having a coloured text image url for the above screenshot i have used electron fiddle and the following code in renderer js html style sample font size 20px color orange style div class sample sample text div
i have provided a simple example repo git clone url install the npm packages yarn check that the site is working in a web browser url after command exec yarn webdev use parcel to bundle the output yarn build start electrond yarn start
run node v version in a command shell console log process versions node process versions openssl run electron 5 x break into devtools console log process versions node process versions openssl the practical impact of this is that the different hash algorithms are available in the different making code fail that runs in v version of node just in electron
try to use recentdocuments role on a menuitem
the app crashes as soon as this line is called ts const success await systempreferences askformediaaccess microphone we have included a in our info plist as described here url macos here is the full function we use to request media access it is called when the permission request handler is invoked with the media permission app does not reach catch block so error not logged we tested this behavior on 3 different machines ts async function askformediaaccess promise boolean try if platform darwin return true const status await systempreferences getmediaaccessstatus microphone log info current microphone access status status if status not determined const success await systempreferences askformediaaccess microphone log info result of access success valueof granted denied return success valueof return granted catch error log error could not get permission error message return false
this issue is happening whenever you try to make a cors request from the chrome extension content script i have tested this in the chromium browser version and was working fine there after enabling cisco webex scheduler id and navigate to google calendar new event page and check the developer tools
sh git clone url npm install npm start electron you will need to update the secrets js file with a valid mapbox token
1 open this test repo url 2 type process crash in devtools console and wait for window to recover 3 type again process crash in devtools console
1 install macos version of electron version 2 clone and enter the demo repository git clone url cd electrondelay 3 run the first instance and note the displayed times applications electron app contents macos electron test js my times on a macbook pro start test 10 36 18 am start eval 10 36 18 am end eval 10 36 18 am 4 without exiting run the second instance and note displayed times applications electron app contents macos test js my times on a macbook pro start test 10 37 29 am start eval 37 29 end eval 37 33
install electorn version and check electron d ts
url sudo npm start with above configuration
reproduced in repo url i m not sure if this is the intended behavior with context isolation enabled
sh git clone url b ttt npm install npm start
1 launch the following app in version index js js use strict const app browserwindow require electron path require path let win app on ready win new browserwindow width 1440 height 900 usecontentsize true webpreferences nodeintegration false contextisolation true preload path join dirname preload js win loadurl about blank win webcontents opendevtools mode right preload js use strict const webframe require electron window evalmainworldsync function code let result webframe executejavascript code false res result res return result 2 in the devtools console for the main world enter foo 1 3 switch console context to the electron isolated context 4 eval evalmainworldsync foo 5 it prints 1 6 repeat 1 5 with electron version beta 12 7 it prints undefined
the code is available here url sh clone this repository git clone url go into the repository cd electron quick start install dependencies npm install run the app npm start or you can fork electron quick start url add an input or something that will open the keyboard windows 10 osk change background
1 git clone url b emoji and symbols bug 1 npm install 1 npm start electron 1 click the edit emoji symbols menu or press kbd kbd kbd kbd space to open the popover select any character from the popover
git clone url npm install electron latest jquery npm start than go to plazma burst 2 for example and you will see it is unable to load the flash plugin close it than do npm i electron version than npm start and do the same thing and you will see it works with older version of electron and breaks on the current version
see this branch of my fork of electron quick start url use npm install and npm start to build and run use the click me link to open the dialog then when you use escape to close it notice how the count goes up count is incremented when an escape key keyup event is fired on the browser window s window see renderer js
run this in the console of any electron window require electron remote getcurrentwindow getnativewindowhandle this returns a uint8array which when assembled into a hex string yields a value like the ones shown above in actual behavior
install the latest version of microsoft visual studio code vscode for mac url or the latest spotify desktop application for mac url open vscode or spotify press command shift on the keyboard observe the help menu is not opened edit jul 1 slack desktop app version version also has same issue edit jul 5 electron quick start application shows same issue url to use at time of testing app displayed these versions we are using node js version chromium and electron
open electron open developer tools console execute the following commands const electron require electron electron remote systempreferences isdarkmode observe that the return value is false even if the system is in dark mode
run tccutil reset camera tccutil reset microphone to clear permissions for the macos terminal run electron quick start url open developer tools in the console run navigator mediadevices getusermedia audio true video true then e console log e observe that the promise resolves with a mediastream before you click don t allow or ok on the dialog that pops up
repository url sh git clone url b catalina vibrancy npm install npm run electrify
you can download the pia version version at this url url then create a new pia click on the preview icon click on the printer icon wait for the printer dialog box click on cancel button try to go on another page of application
url sh git clone url npm install npm run package win then open on windows and you ll see it crashes straight away then in src index html remove then following link href url rel stylesheet link href url rel stylesheet then re package and it will work similarly the see the http requests issue these can be uncommented in src app app component ts
use any electron version with 18666 fix create a tray icon using a template image
end user case reproduced only locally
using typescript setup write const desktopcapturer require electron const sources await desktopcapturer getsources ttypes screen const chosensource sources 0 ts will detect this error at the last line element implicitly has an any type because expression of type 0 can t be used to index type desktopcapturersource property 0 does not exist on type desktopcapturersource
run xxhash url using child process from electron
reproduce repo url
noticed in url when running the desktop version the code that makes it happen js watch for a change in macos s dark mode and reload the window to apply changes systempreferences subscribenotification if mainwindow null mainwindow setvibrancy systempreferences isdarkmode ultra dark light mainwindow webcontents reload sh git clone url b beta6 npm install npm start npm run electrify in system preferences change the appearance mode from its current setting to dark mode wait for change to take effect on window then change it to auto mode
i can t find a pattern to reproduce the issue it just happens suddenly and without any apparent reason i ve been able to catch the issue on multiple occasions and received reports from customers please check screenshots
clone sample app url run electron app cd electron sandbox sample yarn npm start
from vscode javascript tvar uri vscode uri file c program files folder search html q searchforthis as string t url is confirmed to have a query value of tawait vscode env openexternal uri will not load anything nothing happens tvar fixed uri with query q searchforthis t fixed has correct query value now tawait vscode env openexternal will also not load anything nothing happens tvar blank file c program files folder search html as string tawait env openexternal blank will load local webpage in browser as expected tvar query blank with q searchforthis t has correct value now tawait env openexternal will load webpage with however q searchforthis be missing in maps onto url shellopenexternalurl options jrieken commented that there is little we can do and that i should forward this issue to electron
unclear just filing in case someone else has similar issues
main js js const app browserwindow require electron const path require path const url require url let window null wait until the app is ready app once ready create a new window window new browserwindow set the initial width to 500px width 600 set the initial height to 400px height 600 don t show the window until it s ready this prevents any white flickering show false webpreferences websecurity false nodeintegration true true webviewtag true loadurl url format pathname path join dirname index html protocol file slashes true once ready to show show index html html doctype html body electron webview example webview id foo src url style display inline flex width 640px height 480px webview body webview will be loaded remotely using index doctype body h2 h2 iframe width 560 height 315 src frameborder 0 allow accelerometer encrypted media gyroscope picture in picture allowfullscreen iframe iframe body
electron fiddle gist url label blade id blade accelerator b click a b e console log e
have foo v1 located in applications foo app open it have foo v2 still named foo app located somewhere else open it use app movetoapplicationsfolder instead of moving the app the currently open v1 window will be focused and movetoapplicationsfolder returns true instead of throwing
this is an example url you can run commands below to reproduce sh git clone url npm install npm start
the following can be opened in electron fiddle to reproduce the issue url
run the attached test electron fiddle app in the first window iframe click on the button under notifications to which will emit a device permissions request on the content in second window webview click same button under notifications look at console output
example repo url 1 git clone git github com olessavluk notification issue git 2 yarn 3 yarn make 4 go to out make squirrel windows x64 and run notification issue version setup exe 5 wait 5 sec and click on notification when you see it 6 after clicking on notification app should close itself
url download and run then try edit and view menus this uses version i have same problem in my own app using version problem eliminated by downgrading to version
clone this repo url git clone url npm install cd app npm install cd npm run development
i use the contents downloadurl url method to download the file and downloaditem pause to pause it and app exit to exit the app
unzip any electron 4 distribution zip url and check locales directory on windows
1 change system language to japanese 2 clone and run sh url cd electron reproduce calendar bug npm install npm start 3 clicking lower triangular arrow this app shows input type date element clicking lower triangular arrow on input type date nothing happens
url git clone url b master cd electron crash test electron
from a render process using the console var browserview browserwindow require electron remote var view new browserview browserwindow getallwindows 0 addbrowserview view alternatively getfocusedwindow view setbounds x 0 y 0 width 480 height 480 view webcontents loadurl url console log id at creation is id console log webcontents id at creation is webcontents id webcontents on dom ready e tconsole log response is e sender does not match creation tconsole log response is e sender output vm885 7 at creation 1 vm885 8 at 3 vm885 11 response 3 vm885 12 response 3
in a main script global mysymbol symbol test in a renderer script const remote require electron console log symbol from main remote getglobal mysymbol undefined
clone this repo url git clone url npm install cd app npm install cd npm run development
if you provide a url please list the commands required to clone setup run your repo e g sh git clone your url b branch npm install npm start electron
install an electron based application from the app store trello would work log in use shift cmd n to open a second window and then use cmd to try to toggle between the two windows i verified that this occurs for multiple applications before opening this bug
create npmrc with the following content disturl url runtime electron target version arch x64 npm install diskusage for example
1 create a window with display false and call win minimize when dom ready event is fired or clone the repository and run sample app sh git clone url b launch minimized npm install npm start 2 wait till window is displayed in the taskbar and click on it to open
yarn electron serve refresh the dev tools
fiddle gist url
sh git clone url b master npm install npm start electron
reproducible trivially with electron quick start sh git clone url b macos no gpu crash npm install npm start
1 clone this repo url 2 checkout branch slow webview 3 run npm install and npm start 4 open devtool to see the time took to set new src
as root run sh git clone url npm install npm start no output again as root run sh export electron enable logging true npm start warning message appears
unable to share the repository because code is private
git clone url cd electron issue npm install npm run start
1 clone the repo window flash branch install modules and start the project sh git clone url b window flash npm install npm start 2 minimize the smaller window 3 click flash toggle button it calls win flashtoggle true you can see it in the console 4 wait for 10 12 seconds window in taskbar is orange all time 5 click flash toggle button once again it calls win flashtoggle false
url or just add textarea to index html
create window and run any ppapi plugin inside new browserwindow webpreferences sandbox false
here is the minimal code that reproduces the issue url here are the commands required to clone setup run the repo sh git clone url b hiddeninset browserview drag issue cd electron quick start npm install npm start
seems related to this issue url but i can reproduce it without sandboxing turning nativewindowopen off resolves the issue so it appears related to that download the electron quick start app and main js const app browserwindow require electron function createwindow var mainwindow new browserwindow width 800 height 600 webpreferences nativewindowopen true mainwindow loadfile index html app on ready createwindow index html s body webview id w src about blank allowpopups webview script require renderer js script renderer js settimeout function tvar w document getelementbyid w tw loadurl url tw opendevtools 1000 after webview has loaded after npm start ing the app execute the following in devtools w window open url a width 500 focus observe that window doesn t get focus similarly close doesn t close window if it points to a cross domain site but it sets closed to true turning off nativewindowopen makes work tried in chrome and works there electron 5 and 6 also appear be broken while canary which uses chromium that electron 6 uses i believe works same issue when using browserview instead of webview
drag an frameless not sure this matters electron window to the top of the screen until it occurs probably a couple hundred times unfortunately i have no idea how to consistently reproduce this
unfortunately not sure how to reproduce yet maybe i can take the private repo and clip all the code except for the webview and try reproducing that i think i may have better luck refactoring not to use a webview i really hope webviews will be un deprecated now that oopif s will be a thing
requires 2 windows machines machine a desktop 16gb memory full hd monitor nvidia gtx 970 machine b razor blade 2017 16 gb of memory 4k touch monitor gtx 1060 repro steps machine a 1 enable rdp 2 start fiddle with gist machine b 3 rdp to a 4 quit rdp session 5 start new rdp session 6 observe display added loop electron fiddle for repro url
create a menuitem with role service in a context menu or anywhere other than in the main menubar
download vscode and try to update behind a mitm proxy
create a child window with native chrome window open scriptable window as shown here url then set backgroundcolor constructor property of browserwindow to some color the result is that it is ignored the color is set just fine if i do not use the window open
sh git clone url cd electron disabled menus npm install npm start the menu bar has a test menu which contains a disabled submenu the disabled submenu has 2 other enabled menuitems with the shift h and shift j accelerators assigned inspect the terminal for console logs when shortcuts are pressed on macos nothing will happen while there will be console logging for windows and linux
just use the spellcheck api anywhere
start signal desktop link to an account have running but not in focus receive a message install signal desktop v version or build this tag url
clone url and click the click button
url sh git clone url b node in subframe runs too often npm install npm start electron
url sh git clone url npm install npm start electron
clone electron quick start download mksnapshot from electron version generate an empty snapshot with mksnapshot startup blob snapshot blob bin run v8 context snapshot generator output file v8 context snapshot bin copy the generated bin files into electron app contents frameworks electron framework framework resources blob bin run quick start via npm start then either in the devtools run require domain create click anywhere in the page content or in the devtools run js async hooks require async hooks hook async hooks create init function hook enable click anywhere in page content
prepare a ready to update app restart in a second
try using the typescript ts import app protocol from electron app on ready protocol registerbufferprotocol atom request callback callback error 10 this call should be valid
1 run this commands sh git clone url cd can not select file npm install npm start or download installer for the sample app url then install and run it 2 the app shows mozilla s page with example for input type file 3 click choose file and select a local file it can not select it keeps to show no choosen
press and hold a key to trigger the accented character picker for example a when the picker appears choose a number for example 1 then type any letter immediately afterwards for example q the result will be a instead of waiting for some amount of time before pressing q will avoid the issue this can be reproduced in any electron app examples include slack version beta4 head 79ae6a5 github desktop version and discord version it does not happen in non electron apps
go into finder and locate a directory that is in icloud and not downloaded locally as indicated by the cloud symbol screen shot 2019 05 22 at 7 34 38 am url then use showopendialog in electron and select that directory electron dialog showopendialog properties opendirectory createdirectory filepaths console log filepaths and filepaths 0 will contain the parent directory instead of the selected director
here s the repo for my project git github com chrisalexandrepena googledrive linux git the index js only creates a tray with click event that opens a window all that is needed to run the code is git clone git github com chrisalexandrepena googledrive linux npm install npm start
i was able to reproduce this by taking the quickstart url and adding code to make the request in the main js file using the node request library here is a link to branch i created link to branch url by some experimentation i was able get an error which said following uncaught exception error error ssl routines openssl internal no renegotiation third party boringssl src ssl ssl lib cc 966 reason i am using request is that api am trying access blocks normal xhr requests due cors and even if disable websecurity in electron still am unable pass authentication and get redirected a login page am guessing there is some kind of redirect if it detects a request coming from a browser also tried execute exact same code make by writing separate script and running it using command node script js this worked without any issues from what ve read electron is using boringssl implementation which doesn t support this there some kind of way skip renegotiation or bypass it
always reproduce with the code below use strict var electron require electron var app electron app var browserwindow electron browserwindow let mainwindow app on window all closed function if process platform darwin app quit on ready function mainwindow new browserwindow frame false show true transparent true resizable false skiptaskbar true mainwindow loadurl file dirname index html mainwindow setfullscreen true on closed function null
url sh git clone url electron
js const app browserwindow require electron app on ready const win new browserwindow win destroy settimeout execution never reaches here console log here 500
install electron v version beta 3 add input type file click on upload file input repo fork url demo url
just run electron quick start
1 clone and start sample app sh git clone url cd crash electron with download link npm install npm start 3 click a download link in the app crash electron app
1 clone and start sample app sh git clone url cd crash electron with file picker dialog npm install npm start 3 click a button in the app crash electron app
sh this works touch index js npx electron index js inspect chrome inspector can be attached and require exists in the devtools console sh this does not work download prebuilt electron binary for windows and cd to its directory cd resources mkdir app cd app touch index js cd electron inspect chrome inspector can be attached but require is not defined in the devtools console
upgrade electron to v version in url and try open external links demo
i ve created a fiddle here url you can see that i set fullscreen false and then output isfullscreen in console log the output is false
upgrade electron to v version in url and try open external links demo
electron mem leak zip url sh yarn yarn electron
chrome desktopcapture choosedesktopmedia screen window audio callback const stream await navigator mediadevices getusermedia audio mandatory chromemediasource desktop chromemediasourceid id video mandatory chromemediasource desktop chromemediasourceid id maxframerate 60
demo url sh git clone url npm install npm start electron
sh git clone url npm install npm start expand the last 2 iframes in the devtools iframe with google com origin is inspectable iframe with atlassian com origin is not inspectable
js import session from electron async function testcookies if session session defaultsession throw new error could not get default user session const cookies defaultsession cookies const name foo const url await cookies set url name value hello world expirationdate version console log cookies before await get await remove url name console log after await get app on ready testcookies
you can pull down signal desktop v version right now and repro this you can also repro this when you use expos signal desktop appears to believe that it has focus when this happens as well
just open an external url in the new browserwindow where youtube video is embedded with an iframe
main js const app browserwindow require electron const path require path const url require url let window null wait until the app is ready app once ready create a new window window new browserwindow set the initial width to 500px width 600 set the initial height to 400px height 600 don t show the window until it s ready this prevents any white flickering show false webpreferences websecurity false nodeintegration true true loadurl url format pathname path join dirname index html protocol file slashes true once ready to show show index html doctype html html head body div iframe width 560 height 315 src url frameborder 0 allow accelerometer autoplay encrypted media gyroscope picture in picture allowfullscreen iframe div body
you can test it in my own testing repository here url clone above repository the navigate to folder open all link to default browser sh cd open all link to default browser npm i npm start then click to any link you want test try with two version of electron change electron version in package json with version version and
sh git clone url b package json in asar cd app npm install cd npm install npm run script build npm run script start
replace the renderer process script in electron quickstart electron fiddle with the following and click the refresh button with webviewtag true in webpreferences javascript document addeventlistener domcontentloaded const wv document createelement webview wv src url wv style height 400px const a document createelement a a innertext refresh a addeventlistener click wv reload document body append
run require electron screen and will return undefined
i forked electron quick start to demonstrate the issue i found url you can then use npm run buildwindows to create the appx if you re unfamiliar with appx deployment appx files need to be signed to be installed even in developer mode this is basically how do that from microsoft s docs url process windowsstore is undefined in both the main and renderer processes when installed as an appx
doing this requires node python and a working c and c compilation toolchain sh git clone recursive url cd grpc node packages grpc native core home electron gyp node modules bin node pre gyp configure rebuild package runtime electron target version disturl url note that replacing version with version results in a successful build
you will need a mqtts broker setup i m using ibm mq on a corp network i ve made an example project that shows how my code is setup url code doesn t run without a mqtts broker to connect to
here url is a commit that demonstrates the preload script loaded properly when run with electron version but not loaded when run with electron version and here is the branch sh git clone git github com jeremyspiegel electron quick start git b preload not run on window open npm install npm start electron
may be hard to reproduce since the app needs to be packaged signed url on mac git checkout yarn yarn prepare release yarn package mac build clean build mac mqtt explorer app contents macos mqtt explorer workaround url
clone an reproduce example sh git clone url b webview nested iframe memory leak electron play youtube video in the webview run webview executejavascript document queryselector iframe src document queryselector iframe src in devtools the iframe is reloaded but the former is still existed the video in former is still playing and memory of former is not recycled which means browserwindow webview iframe0 iframe1 reload this one iframe2 and this one not destroyed
on a win7 pc without visual c redistributable try to load a node file
according to this page url search for the text before v4 x the registering of schemes changed in electron v5 typescript has a compilation error while using the format shown on that page protocol scheme scheme1 privileges standard true secure true scheme scheme2 privileges standard true secure true
using url svg in background image doesn t render anymore with electron v5 in this exemple the grid doesn t show in the red square changing to v version will show the expected svg grid
1 run electron with inspect 9229 or inspect brk 9229 2 attach with a debugger such as visual studio code 3 quit electron without detaching below is a repo that reproduces the issue repo that reproduces the issue url sh git clone url npm install
please clone the following branch from my repo sh git clone url b e5bugmac npm install npm start electron working branch with electron version sh git clone url b experimental npm install npm start electron
app html html doctype html html lang en head meta charset utf 8 meta name viewport content width device width initial scale version meta http equiv x ua compatible content ie edge title document title head body script console log process script body main js js const app browserwindow require electron app on ready promise resolve then let mainwindow new browserwindow contextisolation false nodeintegration true webviewtag true mainwindow loadurl file dirname app mainwindow on closed mainwindow null package json json name elec break 5 version version main index js license mit dependencies electron version
probably to download polar open up a pdf and then load dev tools i m can take screenshots of our webapp vs electron version too
difficult i can provide an executable if needed
clone this repository git clone url npm install npm start then in the renderer js file put const desktopcapturer require electron desktopcapturer getsources types screen error sources if error throw error for let i 0 i sources length i console log source sources i name finally while keeping the app opened lock your screen and you will notice on the login screen the binoculars icon even though there aren t any apps recording screen this icon will be seen on your lock as long as you have electron app opened
this involves cloning the official package sources for archlinux checkout the last commit for electron version x and building it sh in a archlinux environment install the required minimum packages sudo pacman s asp git base devel fetch the package sources electron source code is fetched at build time asp checkout electron cd electron checkout latest commit for version x version git checkout build package makepkg s
git clone url cd electron packagejson main npm install or yarn pure lockfile yarn is preferred npx asar p app node modules electron dist resources app asar node modules electron dist electron
sh git clone url b bug focus webview npm install npm start electron
new a browserwindow and load url to any webpage which can download a file when the file download dialog is open it s not parented to current page which is not modal
based on the electron fiddle test with below code javascript const app browserwindow nativeimage tray require electron let mainwindow let tray function createwindow mainwindow new browserwindow width 800 height 600 webpreferences nodeintegration true mainwindow loadfile index html mainwindow on closed function null function createtray tray new tray nativeimage createfrompath d electron test logo ico console log getbounds on click event bounds position console log bounds app on ready createwindow createtray app window all closed function if process platform darwin app quit activate if null createwindow
import app dialog from electron async function run await app whenready dialog showmessagebox message title detail detail buttons yes no option console log option console log got it run
git clone url git checkout fix electron issue key propragation sencha app watch see contributing md url to see build requirements in another terminal npm start
here is a repo showing the issue url instructions git clone git github com erikjalevik electron retina nativeimage bugs git npm install npm run start when running this on a retina screen i expect the first image in each section adaptive image to be the same as the third image hardcoded 2x when on non retina i expect first image to be same as second hardcoded 1x in short 1 prepare a 1x and 2x version of a png 2 use nativeimage createfrompath passing filename without suffix 3 use returned s todataurl and set its return value to src attribute of an img tag nb same issue is also present when using app getfileicon as shown in second section of repo s demo page
nb this bug appears from version version
no specific repro steps yet trying to find out more info it s not systematic as i tried to reproduce at least 100 times with no problem i ve also tried upgrading to version in case bugfixes between version and version will fix this issue but reading the release notes i doubt it
create a link to a download in index html doctype html html head meta charset utf 8 title hello world title head body a href url download link a body html
use dialog showmessagebox and see that electron has no space to the left of the message box title
here s the situation i have custom keyboard shortcuts used in my app not global shortcuts but local global shortcuts related to url problem is that developer tools for some reason adheres to the same shortcut definitions as the main window to recreate the issue create a menu template and remove copy paste commands assign menu to window and open developer tools const menu menu buildfromtemplate menutemplate setapplicationmenu create browser window win new browserwindow windowoptions win setmenu null win webcontents opendevtools mode detach
simple try to use ipcrenderer send in a javascript file that is a class and call it in some function and attempt to catch it in your main js create a class file with use strict and module exports classname create it on the app ready as a variable
create a hidden browser window and set the screen sleep timeout to 1 minute under windows power options let the screen go to sleep and return you should see artifacts if this does not work showing the window and hiding it again and then allowing the screen to go to sleep should definitely produce issue
just make simple html file and put an audio element in it lt audio gt lt audio gt is enough
url sh git clone git github com r0stig electron quick start git npm install npm start click on the button send notification click on the notification and notice the log messages that indicate the click handler fired click on button send notification on notification and see that this time onclick handler did not fire same occur when you just wait for to close from timeout button send wait for to be closed automatically button send and notice that onclick handler did not fire
sh git clone url cd electron sample apps webview browser electron
javascript app relaunch app quit or app exit and build a signed version with the mas versio
not really anything to do to reproduce just look at the documentation the parameter isn t there url url
url the error code appears to change randomly image url image url
i ve written a small test app off the electron quick start to reproduce the bug sh git clone url cd electron quick start npm install npm start when run the program will attempt to call process getprocessmemoryinfo in sandbox mode and will print out the exception thrown and available functions on process api
use a wacom tablet with either gitkraken or visual studio code
1 make container of webview have both overflow hidden and border radius 1px or any value 2 make a div cover on this container 3 make cover div pointer events none and ensure it will be rendered such as add background rgba 0 0 0 version doctype html html head meta http equiv content type content text html charset utf 8 title index title style web width 500px height 500px overflow hidden border radius 1px web webview width 500px height 500px fix position fixed top 0 bottom left right background rgba version pointer events none style head body div class web webview src url div class fix body html
1 fork electron electron and make a branch 2 upload branch to personal fork 3 make a pr 4 wait for circleci s build mac workflow to run
would love to strip the app down and provide a means of reproduction but i ve yet to identify what specific area causes the crash and i m not entitled to release the overall project
we are building the angular desktop app with electron for mac os current app electron version is v version and electron packager is v version our app needs to access camera and microphone we know that mojave has strict access on microphone and camera so we already use request permission to access these first access camera with navigator mediadevices getusermedia audio false video true then xxx catch this handleerror bind this if error occured then through ipc request media permission systempreferences askformediaaccess mediatype then running app from command line with electron is working ok the permission window is pop up and microphone camera can after allowed without code signing microphone has long dealy after referencing this url it mentioned that code signing solve the issue but when we are packing signing with packager osxsign the cannot to on mojave could someone help to take a look for this thanks a lot
url from terminal git clone url cd electron issue webview mouseevents npm install run the app npm start
run the following electron fiddle url
npm g install serve git clone url electron works as expected display we are using node js version chromium version and electron version quit server s open another window and run electron url display the content of the index html but does not exectue the apps displays we are using node js chromium and electron
fork url sh git clone git github com miker87 electron quick start git npm install npm start the actual modifications in main js javascript const events blur focus hide maximize minimize restore show events foreach event mainwindow on event console log event mainwindow isvisible ran the project with npm start minimized the window and observed the cmd window s output
js const electron require electron const browserwindow app electron app on ready function let win new browserwindow win loadurl data text html charset utf 8 encodeuricomponent html html baseurlfordataurl file test test with timout for win reload settimeout win reload 5000 webcontents on did finish load webcontents opendevtools mode detach
sh npm install electron beta export path home node modules bin path git clone url cd google chat linux here edit wrappedwindow js line 180 uncomment the console output console log favicon changed href electron or without sandbox export electron disable sandbox true electron
clone url install with npm install create build using electron packager electron packager folder to project ajaxtest platform win32 overwrite prune true arch x64 out release builds electron version version copy build to shared network drive attempt ajax call with test button
this should do it but i don t have access to a mac to try a standalone example 1 download electron quick start url 2 add app getgpuinfo complete then console log in main js createwindow 3 npm start disable gpu 4 observe the output in the console
1 download electron quick start url 2 add app getgpuinfo mode then console log in main js createwindow 3 npm start disable gpu 4 observe the output in the console output when using basic mode it also happens using complete but i ve been unable to capture the output just now due to 17187 active false deviceid 1071 driverdate 2 3 2015 drivervendor nvidia driverversion version vendorid 4318 active false deviceid 1042 driverdate 8 16 2018 drivervendor intel corporation driverversion version vendorid 32902
the following can be loaded in electron fiddle to demonstrate the issue url
run any electron app
package an electron app eg electron quick start url with electron packager or electron react boilerplate url with built in builder and give the app accessibility permissions on macos security privacy privacy accessibility open the app and it will hang freeze for a few seconds before opening
url sh git clone url npm install node modules bin electron sit back and wait for a few seconds for the app to crash with exit code 127 or exit code 1 if started from npm or yarn
1 install current flash player for chrome on your system ppapi flash player version 2 run the electron fiddle example from my gist url 3 right click on the flash content in the flash about page that is automatically loaded in the browserwindow context menu should be open now 4 wait 1 2 minutes until context menu automatically closes application is now unresponsive and context menu cannot be opened again
1 use macos 2 clone this repo url sh git clone url cd electron quick start npm install npm start 3 enable the british keyboard layout 4 start the app 5 use cmd to toggle between the two spawned windows 6 switch keyboard layout to british pc 7 try to use cmd again but note that the windows no longer toggle nb backtick key will have moved verify you ve got right key by trying to type it somewhere for completeness here is simple code in repo javascript const app browserwindow require electron const windows new set function createwindow url const window new browserwindow width 800 height 600 window loadurl url windows add window window on closed delete app on ready createwindow createwindow
main js const app browserwindow protocol require electron const path require path keep a global reference of the window object if you don t the window will be closed automatically when the javascript object is garbage collected let mainwindow protocol registerstandardschemes miniapp app on ready protocol registerfileprotocol miniapp request callback const url request url console log url callback path normalize localhtmlfilepath error console error registerfileprotocol error error index html webview src miniapp 1 html partition persist webview1 webview sh git clone git github com chenerzhang electron quick start git b test npm install npm start electron
open devtools in electron and run object for i 0 i i var j a sssssssssssssssstring sssssssssssssssstring sssssssssssssssstring sssssssssssssssstring object push j try localstorage setitem a json stringify object catch e
git clone url npm install npm start electron
just run the electron quick start example git clone url npm start
renderer await ipc sendsync executebackendfx fxname printtopdf fxargs null main global printtopdf async let out await new promise resolve reject mainwindow webcontents printtopdf marginstype 0 printbackground false printselectiononly false landscape false function error1 data1 fs writefile rootdir ui temp print pdf data1 error1 resolve success return out
to reproduce take a windows 10 laptop with 2 monitors and use this docking station url to plug the two monitors in while operating the laptop in clamshell mode in this case you will also notice that the id printed by getsources is screen 3 0 while traditionally if 1 display is available it would return screen 1 0 which seems quite peculiar you can see the issue being logged out in this custom built version of our loom application url
this happens randomly but also when i open the app and open another one on top if so the previous app is in the background and i resize the app that has focus app in background gets blurry and it also happens when has focus but only focused part works and other parts of gets blurry like menu or other grid panels etc
package json scripts start react scripts start build react scripts build test react scripts test test coverage npm run test coverage watchall false jest collectcoveragefrom src components js src state js src templates js src routes js coveragethreshold global branches 80 functions 80 lines 80 statements 80 run coverage the console shows a message that coverage failed but the passes
write your steps here 1 create a new project 2 create an mp3 inside src 3 set homepage in package json to 4 import the mp3 5 console log the url in watch mode and in build mode
1 try out react scripts test ci and cross env ci true react scripts test
1 npm install save enzyme enzyme adapter react 16 react test renderer 2 created src setuptests js and configure adapter javascript import configure from enzyme import adapter from enzyme adapter react 16 configure new 3 use npm test to run tests where s shallow is used javascript import shallow from import react from app app it renders without crashing shallow app
see code snippet above alternatively see url
i have my structure setup like this src assets fonts icons myfonts ttf scss global variables scss this file references the font path variables scss font path src assets fonts icons default i used to have the path setup as font path assets fonts icons default however this caused other pathing errors and the application wouldn t load in the browser so i changed to new and now fonts fail to load however app is running now previous error i was getting using font assets icons default as src app scss node modules css loader dist cjs js ref 6 oneof 5 1 node modules postcss loader src postcss node modules resolve url loader ref 6 oneof 5 3 node modules sass loader lib js ref 6 oneof 5 4 app module not found can t resolve global myfonts svg in users jasperdunn desktop myapplication
create a new project and insert a line of comments like this typescript eslint disable next line missing rule then try to build or start the app
1 clone cra locally 2 run e2e tests via docker 3 e2e kitchensink sh tests fail
1 have a project that contains for of loops 2 upgrade to react scripts version to address security vulnerabilities in previous versions 3 eslint fails because of false positives unused variables in the for of loops
write your steps here 1 mock a dependency in mocks module name 2 write a test that depends on the mock 3 run tests
1 npx create react app my app 2 mv my app my app 3 cd my 4 npm test
1 add some cli argument for setupfilesafterenv to your package json e g test react scripts test setupfilesafterenv jest expect message 2 run yarn test and see that the setuptests file is not being executed
use the ie9 polyfill inside a webworker loaded by worker loader url
write your steps here 1 create a new cra yarn create react app test 2 build and run it yarn build serve s build 3 add this line at the top of index js the entry file eslint disable next line webpack public path url
see code snippet above
1 have app module scss as a stylesheet using sass features such as variables for background colour 2 have other module scss as a stylesheet with a class name that composes something from app module scss 3 import both app module scss and other 4 yarn build
1 add prisma client lib as a dependancy 2 insert your generated types schema from a prisma project 3 import prisma from your folder of choice prisma client 4 use x in a react component so it gets called at any point in time
1 create a new app with npx create react app 2 add test module css file and import in in app js 3 try editing the css module file it will reload the whole app
1 npx create react app eslint test 2 cd eslint test 3 touch eslintrc js or eslintrc json eslintrc yml 4 extend eslint true yarn start note that in step 3 the contents of eslintrc doesn t matter a valid will also fail edit this is a bit more nuanced the following works js module exports this does not js module exports extends eslint recommended but this does js module exports extends react app recommended
1 npx create react app test app 1 cd test app 1 yarn add d eslint config prettier 1 techo module exports t extends t react app t prettier prettier t plugins prettier eslintrc js echo eslint disable src js yarn start
write your steps here 1 create a manual mock of any node modules package 2 put it to mocks directory 3 run your test
1 npm run build to create the production build 2 run the production build in the browser and see the error in console
1 npm ini y 2 npm i react scripts typescript 3 look at the npm warn npm warn typescript eslint eslint plugin version requires a peer of eslint version but none is installed you must install peer dependencies yourself warn typescript eslint parser version requires a peer of version but none is installed you must install peer dependencies yourself 4 i 5 5 look at the warn config react app requires a of 6 x but none is installed you must install dependencies yourself
cat src foo test js eof test let domparser new domparser let response html body a href foo foo a body html let d domparser parsefromstring response text html expect array from d queryselectorall a map a innertext tobe foo eof npm test src test js
1 i am trying to run create react app and it keeps deleting the folder that s created because of an error
1 install the latest core js 2 polyfill promise allsettled from core js features promise all settled 3 try to call promise allsettled in edge
1 npx create react app my app 2 cd my app 3 npm run build 4 serve s build 5 browse to url 6 redirected to google com
1 create a react app 2 add proxy url to package json 3 observe console the connection to wss localhost sockjs node 264 ludnoeal websocket was interrupted while the page was loading
explained above
use create react app that brings in the vulnerable dependency
see 7164 for a trivial reproduction of the issue
1 run the build script 2 run the source map explorer on the production js files
copy paste this lines in a react component and try out var ipc require node ipc ipc config id t t example server t tipc config retry t 1000 tconsole log ipc tipc connectto example etl function tipc of example etl on function callback function data tvar err data error tdelete data error cb err data tipc disconnect example etl of etl on connect function log connected to config delay of emit
1 visit shallow rendering url option 1 shallow rendering
1 npx create react app cra bug 2 add proxy url to package json 3 run a web server on port 5000 ideally one that logs requests 4 npm start
1 create a new cra app with npx create react app reproduction 2 paste this code into index js import react app polyfill ie11 import react app polyfill stable import react from import reactdom from dom reactdom render div hello div document getelementbyid root 3 start in dev mode with yarn start and observe a blank screen 4 start in prod mode yarn build serve build and observe word hello
1 npx create react app my app 2 examine my app src serviceworkers js 3 open the link in the comments
npx create react app my app
write your steps here 1 create a new document 1 write an id different to doc 1 witness how the sidebar doesn t show up
1 you must know and use your default ip address for this reproduction i suggest a machine with an ipv4 address a b c d 2 use one or both of the following commands ip route get version or ip a to determine your local ethernet ip address 3 start version version using and substitute your host addr for version below npm start host 4 if a browser window opens most platforms then view source and see this at the end script src url script 5 reload the page then view source you will see at the end script src url script
at the windows command prompt 1 cd to the website directory of a docusaurus repository 1 type git user githubusername current branch master use ssh true npm run publish gh pages replacing githubusername and press enter it fails on my system 1 type git user githubusername current branch master npm run publish gh pages replacing githubusername and press enter it fails on my system in git bash 1 cd to the website directory of a docusaurus repository type git user current branch master use ssh true npm run publish gh pages replacing and press enter it fails on my system type user current branch master npm run publish gh pages replacing and press enter it runs on my system
1 goto url 1 navigate between two pages in the the basics group
1 in git bash or at the windows command prompt cd to the website directory of a docusaurus project 1 run yarn examples versions 1 attempt to run yarn version n n n where n is a version number it fails 1 attempt to run yarn version new version where is a number it fails run npm where is a number it works
create a page wherein the first sentence contains markdown here s an example from my site md id hack support title hack support this hack is always enabled all hacks md always enabled hacks when using the mod launcher
write your steps here 1 write
write your steps here 1 i installed docusaurus and tried to create new content but it is not appearing in the side menu
1 visit url 2 scroll to the bottom
1 open url in safari 1 scroll down
without yarn installed when yarn is installed it defaults to using yarn for the underlying commands note that both the following sets of steps exhibit the same behavior 1 npm i g docusaurus init 1 mkdir test site 1 cd test site 1 docusaurus init or mkdir test site cd test site npx docusaurus init
1 npm install global docusaurus init 2 npm start inside the website folder
1 create a custom page using react in doc pages en e g custom page js 2 add newly created page to sidebars json json docs custom page custom 3 run docusaurus i ve tried adding filename filename js filename label filename and en js none seem to work
write your steps here 1 create a doc with header like this markdown
write your steps here 1 visit url dispatch 2 hover over the chain svg for the dispatch heading and the content jumps ohno url the markdown for this file is here url dispatchaction and actual markdown looks like this markdown
write your steps here 1 add a subcategory to the sidebar for a subdirectory products products products cool app type subcategory label my example subcategory ids products cool app architecture derp
write your steps here 1 git clone and cd docusaurus repo 2 yarn install 3 cd website 4 yarn start
write your steps here 1 npm install global docusaurus init 2 docusaurus init also tried it using command npx docusaurus init but results are the same
1 run git clone url on your terminal 1 run cd docusaurus sandbox website 1 run yarn install 1 run yarn start open url page on your browser click foo bar link on the page
make sure you are working on a docusaurus repository with versioning enabled 1 create a new page under docs directory with proper front matter i e id title sidebar label 1 add the new page to the website sidebar json file
example 1 pre code 1 do this lt docusaurus code tabs gt lt tab1 gt some code lt tab2 gt some other code lt end docusaurus tabs gt 1 do that pre example 2 pre 1 do this docusaurus tabs tab1 some tab2 some other end docusaurus tabs do that pre
write your steps here 1 follow the steps mentioned here url referencing site documents 1 create 2 documents doc1 md doc2 md 1 create a link in doc1 md link to document 2 doc2 md
1 use the following markdown url 2 run docusaurus and view page
write your steps here 1 create multiple directories in docs 1 each subdirectory has a index md including the root docs directory file and each of them has id index as the frontmatter yml value and set the sidebar label and title to be different from each other 1 configure your sidebar to show documents from each of those index files the docs index md should be first page everything should be working as expected at this point now create a new version by running yarn run version version now very first page of doc has title of md file from one subdirectory that is configured as first item in sidebar sidebar label is also changed accordingly however contents pages are coming from docs md as expected checked behavior in latest i e next and that is working properly checked behavior other pages in latest version i e those seem to be accurate
write your steps here 1 put image under docs assets folder 1 write md file to reference this image 1 run docusaurus version to back up current version of documents 1 md file is backed up but the asset folder isn t
write your steps here 1 cd website 1 rm rf node modules 1 npm install
write your steps here 1 visit url 2 search anything 3 hover algolia logo
1 create a new site using docusarus 1 set cleanurl to true 1 set url url 1 build the site
1 create a markdown page that has lots of h1 h2 tags with different names 2 view the table of contents on the right hand side 3 scroll down in chrome and view that some of them are cut off
refer to so post
i am running docursaurus url on chrome 71 for windows 10 version 1809
write your steps here 1 add docsurl to siteconfig js 2 i then followed the following instruction and created an docs assets directory with my images linking to images and other assets static assets can be linked to in the same way that documents are using relative urls static assets used in documents and blogs should go into docs and website blog respectively the markdown will get converted into correct link paths so that these paths will work for documents of all languages versions example alt text doc image png the site does not render images in docs at first i thought it s because i m referring to from markdown files that are in subdirectory trying manipulate url images markdown files didn t help then i tried it from markdown files that are directly under docs directory still would not render removed docsurl config from siteconfig js now image links are working even from files subdirectories of
write your steps here 1 mess up link in md 1 deploy app with translations 1 watch in horror as most translations are deleted from gh pages
1 set headerlinks to in siteconfig js 1 open your site in your browser and resize your browser to reduce the width below 1024px 1 at this width the left and right sidebars disappear and are replaced by a navigation bar with left and right dropdowns 1 the current css assumes the presence of hearer links that will appear in their own bar when width is constrained i e there should be a title bar then a header bar then a navbar however if you have no headerlinks you just see empty space of 50px appear between title navbar note this really is transparent empty space rather than an opaque space with no content when you scroll your page you can see underlying content scrolling upwards through this space
1 initialise a new docusaurus project 2 rename the example docs directory to docs 3 yarn install the modules in the website directory 4 delete the example blog directory 5 remove blog entry from headerlinks in website siteconfig js 6 add docsurl setting to website siteconfig js 7 add docs assets directory and put an example image in there 8 link to your example image in a doc document assets jpg
markdownblock features feature 1 feature 2 markdownblock
browse to a docusaurus mobile site on an ios 12 device scroll down
write your steps here hard to show since it s in a private repo but 1 create a new version 1 run a dev server 1 change some mark down doc file any title or content in the current version add to sidebar 1 add a new page in the current version also add to sidebar restart dev server
sidebar definition sidebar json ory hydra hydra hydra index type subcategory label getting started ids hydra 5min tutorial type subcategory label guides ids oauth2 jwks configure deploy advanced debugging production integration type subcategory label sdk ids sdk sdk sdk index api go js type subcategory label further reading ids limitations dependencies environment security architecture faq appendix yields after running npm run version oryos 9 in versioned sidebars version oryos 9 sidebar json version oryos 9 docs ory version oryos 9 index object object object object
1 initialize a new repo on windows 2 try to publish the repository
1 curl url 2 you can see meta property og description content game screenshot developers img screenshot png 3 source code is here url img width 515 alt screen shot 2018 10 02 at 3 28 39 pm src url
1 go to any page on the docusaurus website 2 resize screen 1024px 3 type anything in the search bar
write your steps here 1 clone url 1 cd website 1 yarn start to run site locally 1 run the publish script to publish to gh pages see problem you may be able to see it if you just do a yarn build and run the site form the build directory
1 in siteconfig js in the highlight field add this js hljs function hljs hljs registerlanguage reason reasonhighlightjs where reasonhighlightjs is an existing callback that adds a new highlighter 1 run dev see that the custom highlighting works
1 i honestly don t know there s no difference that i can see between the docs that are doing this and the docs that aren t other than being in a different subdirectory i thought it might be video embeds at first but the post in the third screenshot has no video
1 checkout a storybook app 1 generate a static version of storybook 1 put that folder in assets
1 go to url 1 click on blog title original issue url
1 choose a value for id for a page 1 use the same value of id for sidebar label as well 1 use a title that is not the same as id or sidebar label
1 set onpagenav in website siteconfig js to some value other than separate to hide the right side nav menu 1 go to url
1 create a new website 2 set siteconfig js as url url baseurl reason react 3 take a look at the generated sitemap xml
create a md file with the following content text title example text function inithighlight block cls try if cls search bno highlight b 1 return process block true 0x0f class cls catch e handle exception for var i 0 2 i classes length i if checkcondition classes i undefined console log undefined export inithighlight js function inithighlight block cls try if search bno highlight b 1 return process block true 0x0f class catch e handle exception for var 0 2 classes length if checkcondition classes undefined console log undefined export inithighlight
1 create an assets folder within the docs folder and add an image there 2 add a new document and link to that image url linking to images and other assets 3 add a baseurl to the siteconfig test 4 yarn start
1 npx docusaurus init 1 cut a new version yarn examples versions yarn run version version 1 the sample doc2 md has a link to doc3 md so we can rename doc3 md to something else and update the link in doc2 md start docusaurus now and you ll find that in the next version url the link works correctly but in current one url it does not
steps to reproduce the behavior 1 change one line in local 2 npm run test changedsince current branch
1 write a test consisting of expect x 1 tomatchinlinesnapshot 1 run jest snapshot gets inserted fine 1 write another test under the existing one again consisting of expect x tomatchinlinesnapshot run jest again the new snapshot is inserted correctly but the first snapshot s indentation gets increased pasting these commands into a bash script is an easy way to repro bash mkdir indent bug cd indent bug npm init y npm i jest prettier echo test one expect x tomatchinlinesnapshot index test js npx jest echo two expect x tomatchinlinesnapshot index js npx echo three index js npx then take a look at index js you ll see the indenting is inconsistent javascript one object two object three object scotthovestadt from poking at code this was most likely introduced in url
steps to reproduce the behavior
steps to reproduce the behavior 1 set up a mongodb docker container 2 create the following files code package json test part test jest watch runinband jest config js module exports preset ts jest testenvironment node coveragedirectory coverage collectcoveragefrom src setupfilesafterenv jest setup ts setup ts import mongoose from mongoose beforeall async await mongoose connect mongodb localhost 27017 jesttest usenewurlparser true beforeeach async await promise all object keys mongoose connection collections map async key await connection collections key deletemany afterall async await setimmediate disconnect
sample jest config js module exports testenvironment environment ts globalsetup globalsetup ts globalteardown globalteardown ts preset ts jest globalsetup and globalteardown does work but testenvironment doesn t function exports require module filename dirname import nodeenvironment from jest environment node syntaxerror unexpected identifier
situation can be reproduced via executing such test on node js v12 javascript describe should not use tostring const testcases tostring clear test title test each testcases s testcase
steps to reproduce the behavior js test works with incomplete surrogate pairs expect u d801 tomatchsnapshot
repl it link further down in any project using jest with at least two test files using jsdom override the virtual console setting in jest config js testenvironment jsdom testenvironmentoptions virtualconsole new require jsdom virtualconsole then run jest
code call with fn js function callfnwith a fn const result fn arg a return result module exports callfnwith test call with fn test js const callfnwith require call with describe undefined arg const jest arg 3 result undefined callfnwith 3 it should include an undefined arg i would have assumed i needed to include result undefined below expect tohavebeencalledwith 3 the test passes with both variants of this assertion expect tohavebeencalledwith 3 expect tohavebeencalledwith
steps to reproduce the behavior package json json vue cli plugin babel version babel core version bridge 0 babel jest version babel plugin graphql tag version jest bablerc presets vue app plugins graphql tag jest config js js module exports modulefileextensions js json vue modulenamemapper vue dist runtime min js css rootdir src mocks css rootdir src 1 roots rootdir src transform jest
define a describe skip block define a beforeall inside the describe skip block do something within the beforeall function to confirm that it does or does not get run e g add a console log statement set some flag etc
view startup docs using typescript npm install save dev test jest
1 write a test file that errors outside of an test it block that is inside at least one describe block 2 run the test specifically using a parameter like testnamepatten
i guess it could only be re produced on circleci or a similar ci environment which is overloaded and has a good number of cores
the most basic example i could create to demonstrate js test hasassertions should fail expects in promises expect hasassertions note that the expect below does not count as a failed assertion for this test but hasassertions also does not fail as it should promise resolve then expect true tobe false
consider the following jest test javascript class myclass constructor value this value value describe test arguments are skipped during title parameter injection test each d new object my object given s returns p running it produces pass test unit testargsskipped js arguments are skipped during title parameter injection given nan returns p the title parameters have not been substituted as expected the first one s has been substituted by the non number nan suggesting some confusion with actual injected value of d and second one p has not subtituted at all from what i observed two conditions must be met at same time for this to happen having arguments looking like parameter placeholder themselves d in my example having certain object arguments does seem to happen with all prototypes perhaps presence of a tostring function matters
steps to reproduce the behavior first get a jest environment ready i ve used jest version typescript version and jest version typescript version and i was able to reproduce the same bug in both environments typescript code typescript class baseerror extends error constructor message string super this message message this name error class validationerror extends baseerror class strangeerror extends baseerror describe exceptions it should throw validationerror function errorpronefunc throw new validationerror zzz expect errorpronefunc tothrow validationerror fails i get below error messages exceptions should throw expect function tothrow type expected the function to throw an error of type instead it threw zzz at baseerror as constructor src tests helloworld test ts 3 5 at new src tests helloworld test ts 25 42 at errorpronefunc src tests helloworld test ts 15 13 at object anonymous src tests helloworld test ts 17 28 new promise anonymous however on a standard babel setup with the exact same code except for type declarations i cannot reproduce bug all please check out url and run add js
steps to reproduce the behavior 1 run jest watch 2 remove any ran test file 3 see the issue
1 npm init y 2 npm i d jest 3 add the following to sum js js function sum a b return a b module exports sum 3 add the following into sum spec js js const require test adds 1 2 to equal 3 expect 1 2 tobe 3 4 run npx jest coverage
monorepo backend package json json name backend version version scripts test jest devdependencies babel plugin transform es2015 modules commonjs version jest version jest testenvironment node testmatch spec test m js x modulefileextensions js mjs transform m js babel jest babel env test plugins transform es2015 modules commonjs monorepo backend lib backend lib mjs js export function return monorepo use lib test mjs works fine import from lib using library expect tobetruthy monorepo project mjs export function foo return foo use project encountered an unexpected token import foo from project using project level library expect foo tobetruthy steps to reproduce the behavior 1 git clone git github com dandv parent dir transform git 2 cd parent dir 3 git checkout 50a49bc 4 npm install 5 npm
node expose gc node modules bin jest detectleaks repl js
given a repository execute jest execute again jest and take note of the execution time execute jest runinband and take note of the exeuction time execute jest maxworkers 1 and take note of the exeuction time
clone url copy env development to env run npm test
steps to reproduce the behavior react native init jestbugdemo cd jestbugdemo jestbugdemo tests lodash js const lodash jest genmockfrommodule lodash lodash foo jest fn 5 mock extra function to export default jestbugdemo mock app test js import react native import react from react import app from app note test renderer must be required after native import renderer from test renderer from it mocks correctly expect foo toequal 5 running yarn test outputs expect received toequal expected expected 5 received undefined so it seems the automocking of failed
write a test like this describe toequal it should handle an anonymous function const foo a in in const bar a in in expect foo toequal bar
steps to reproduce the behavior 1 git clone url 2 yarn install 3 yarn test
i ve created a reproduction repo to show off what i m talking about url to reproduce git clone url cd snapshot inconsistencies yarn install yarn test notice that a test fails the first test has thingfour set on the object under test and saved in the committed snapshot but thingfour is missing from the nested property matcher this passes this seems to be expected behavior for jest second has thingfour set on object under and saved in committed snapshot however thingfour is not specified in property matcher object nested within an array this fails because jest seems to be doing an exact match on this property match object rather than a subset match my understanding is that in order be consistent should subset match nested and pass after doing some debugging it looks like underlying jasmine passes for both tests propertypass is true url l136 l139 but for second snapshotstate results differences actual and expected values url l166 l171
i config the module name so ui souche ui so ui and my so ui package index js require so lib index js if the jest resolve cant find the path its not change to souche
steps to reproduce the behavior
steps to reproduce the behavior 1 install the latest version of jest
pull down this branch and run npm run coverage or npm run test ci to see the error run npm test to see the tests pass just fine
steps to reproduce the behavior go to this page url
babelrc presets babel preset env babel preset react plugins babel syntax dynamic import env test plugins dynamic import node package json dependencies dependencies material ui core version material ui icons version express version react version react dom jest babel jest plugin dynamic import node devdependencies core plugin syntax dynamic import preset env preset react eslint plugin jsx a11y eslint plugin http proxy middleware less parcel bundler parcel eslint npm run test where test is a script that runs jest
1 create a a new drive from a folder on the c drive using subst url 1 open vscode 1 create a react app within the newly created drive 1 create jest test run jest with coverage from the new drive put breakpoint in the jest test run jest debug config coverage paths are wrong breakpoints aren t hit
use the following test describe basic it should match expect wibble wibble tomatchsnapshot base note that without the additional arguments to tomatchsnapshot this breaking behavior is not seen using tomatchsnapshot base to specify a name also works however the docs url snapshotname do not imply that the propertymatchers argument is optional
spy on or mock out date now and write an async test
steps to reproduce the behavior js function foo settimeout 4000 new promise resolve reject settimeout reject new error unhandled rejection 3000 return 1 it should warn about open handles done expect foo tobe 1 settimeout done 100 pass tests index js should warn about open handles 128ms test suites 1 passed 1 total tests passed total snapshots 0 total time version s ran all test suites the problem persists with latest jest release version
set invalid value for a property in the style attribute of an element javascript var parent document createelement div parent innerhtml div style font size 1r5px some text div
135 vulnerabilities found packages audited 52247 severity 135 low done in version s screenshot from terminal img width 564 alt screen shot 2019 02 16 at 2 52 06 pm src url
steps to reproduce the behavior npm i jest run npm update handlebars depth 5 to resolve 2 vulnerabilities high prototype pollusion package handlebars dependency of jest dev path jest jest cli istanbul api istanbul reports handlebars more info url
steps to reproduce the behavior create a component using react memo render that component inside some other component then write a test for that component using the shallow renderer of react and create a snapshot out of it
steps to reproduce the behavior checkout this repo url run the commands in the project s readme see the console for error message
run a test suite containing a describe only block with at least one it only and one it please see the above screenshots
clone repo npm install npm run test
clone repo npm install npm run test
1 create a component that uses several subcomponents we re using material ui but we ve seen similar results without libraries 2 run test and record speed 3 add jest mock with factory function example javascript jest mock material ui core listitem listitem listitemsecondaryaction listitemsecondaryaction listitemtext listitemtext withstyles component component 4 run tests again and record speed
compare results between v24 and v23 of pretty format for a shallow component render
clone the latest commit from url steps to reproduce the behavior in terminal run yarn install and then yarn npx jest no cache runinband or yarn npx jest no cache maxworkers 1
steps to reproduce the behavior git clone b context issue single branch url cd jest transform self transform bug yarn npx jest watch
steps to reproduce the behavior run a set of tests in jest version run that same set of tests in jest version
steps to reproduce the behavior go to any example yarn install yarn test
open above urls with your browser
steps to reproduce the behavior in a test file do 1 import a type from somewhere 2 mock a module and provide a factory which uses that type 3 run the test
steps to reproduce the behavior change babel version run tests using jest change babel version back to old version jest cache is not busted
you may run this test case it will fail js const assert require assert const err new error error message test assert error object expect assert ok false err tothrow err the failed error message is image url
add new xmlserializer to a test
steps to reproduce the behavior
my example is in typescript method export async function readbinaryfile filepath string return new promise function resolve reject fs readfile filepath err contents if err reject new error error reading filepath err resolve contents test test that readbinaryfile throws when unable to read file async expect await upgradedchainsaw readbinaryfile data not curl rejects tothrow steps to reproduce the behavior create a promised form of fs readfile attempt to read a file that does not exist observe the thrown rejection is not caught by jest
change directory into the folder e2e babel plugin jest hoist and then use node packages jest cli bin jest js fail tests integration automock off test js test suite failed to run couldn t find preset es2015 relative to directory c users gonryun documents opensource jest e2e babel plugin hoist at node modules babel core lib transformation file options option manager js 293 19 at array map anonymous fail tests integration test js test suite failed to run couldn t find preset es2015 relative to directory c users gonryun documents opensource e2e babel plugin hoist at node modules core lib transformation file options option manager 293 19 at array map anonymous suites 2 failed 2 total tests 0 total snapshots 0 total time version s ran all suites
using jest v version testing a vue application with babel jest v version based on the below jest configuration as part of the package json file 1 delete the coverage folder 2 run npm test jest configuration json rootdir modulefileextensions js vue transform vue rootdir tests node modules vue preprocessor js rootdir tests node modules babel modulenamemapper rootdir 1 collectcoverage true collectcoveragefrom js node modules router js coveragereporters html text summary coveragedirectory coverage notify true tests setup
steps to reproduce the behavior
steps to reproduce the behavior install react navigation version install babel core version babel plugin proposal class properties version babel core version bridge 0 babel jest jest write one small snapshot test
steps to reproduce the behavior 1 install deps bash yarn global add jest yarn global babel jest babel core 2 create a jest config bash vim jest config js type module exports transform jsx babel run a test config config js a test js content of the a test js it test expect 1 tobe 1 cli doesn t output any log
just run sh npx jest config projects modulefileextensions ts js transform ts js babel jest testmatch rootdir src ts runner jest runner tsc displayname typescript modulefileextensions ts js transform js babel jest testmatch rootdir src spec displayname test rootdir
specify the prettierpath option in a config file or config json object
please see this test suite url in the repository
don t know what exactly causes this issue simply run yarn jest or yarn jest watch
steps to reproduce the behavior 1 install node version v version 2 install npm version version or pnpm 3 install yarn 4 install example repo 5 npm i 6 jest 7 rm rf node modules rm package lock json repeat steps 5 7 for pnpm and yarn
this is very difficult unless you have a network drive with a symlink for c developer to point to the root of your network drive jest config js file is provided below js module exports verbose true bail true setupfiles rootdir node modules core js fn object values rootdir node modules core js modules es7 string pad start rootdir jestsetup collectcoverage true coveragedirectory jest node modules dist jestsetup src const src index collectcoveragefrom rootdir src modulenamemapper css less sass scss mocks stylemock gif ttf eot svg mocks filemock and when running in debug mode the value of my is h ion ion ux components
assuming you run in the default jest environment jsdom document is all you need to provoke this behavior js test break expect document tomatchinlinesnapshot demo url
the test it test toequal const blob1 arraybuffertoblob str2ab test2 text plain const blob2 arraybuffertoblob str2ab test1 text plain expect blob1 not toequal blob2 you can find arraybuffertoblob and str2ab implementation in the codesandbox io snippet below i have tried with the new tostrictequal and i receive the same output it is worth to note that before upgrade jest to 23 and babel to 7 from beta 37 it was working for me so looks like a regresion in version 23
js test true is true let mymixin superclass class extends superclass mixin methods here expect true tobe true js dependencies babel runtime version ejs version express version livereload version rollup devdependencies babel core babel plugin transform runtime babel preset env register core bridge 0 eslint eslint plugin import jest npm run all puppeteer rollup plugin rollup plugin eslint rollup node resolve replace uglify sinon image url
steps to reproduce the behavior git clone url cd reaction yarn install then make sure to run tests with and without watch mode using the same number of workers sysctl n hw ncpu 4 yarn jest w 3 yarn jest watch w 3 type a
steps to reproduce the behavior i have been working for two days to try and figure out a method to reproduce this but it almost appears random
steps to reproduce the behavior 1 create a bunch of angular components with tests using ng g c my test cmp 1 cmp 2 etc 2 run jest runinband logheapusage components so it runs all the tests 3 observe heap size grow as many times there are tests also if you take a heapdump you could see a bunch of global proto window entries one for each test 4 observe that environments for each test are not torn down until all test complete if you have enough of those tests or if you lower allocated memory with max old space size ll it running out of memory
1 write a simple function that uses rest parameters destructuring 2 call it from another function that is actually being tested 3 it should throw an unexpected token at the first function declaration
1 test case javascript it should update snapshot function expect hello tomatchinlinesnapshot any value here hello 2 after running with updatesnapshot javascript it should update snapshot function expect hello tomatchinlinesnapshot any value hello 3 running without updatesnapshot throws error text received value does not match stored snapshot md detect changed should update snapshot 1 received any value
i have a function that need to make a request to external api and in the same method just save in the database without waiting for a response i don t want to wait until the saving process is done but i m forced to change the behavior of my application get it tested through jest or i need close connection stop server for my code work
on node 11 git clone url cd jquery terminal npm install make test make test is running this command bash jest node modules bin jest test t jest coverage testmatch tests spec js no config file
steps to reproduce the behavior yarn yarn test watch
given the following directory listing projects jestbug app tests atest js projects jestbug app atest test js projects jestbug app atest test js projects jestbug app subfolder tests atest js subfolder test tests test using the following package json json name devdependencies jest version none of the tests in a folder staring with are found bash rm rf node modules npm install npx jest listtests no cache using the following package json json name devdependencies jest version jest testregex spec jsx none of in a folder staring with are found bash rm rf node modules npm install npx listtests no cache
steps to reproduce the behavior create a simple function that returns a text with a new line character js function generatenewline return description this is a test with new line execute the function and generate snapshot js describe generatenewline it should generate snapshot expect generatenewline tomatchsnapshot
1 using a simple project configure a snapshot resolver to move your snapshot files to a different directory structure 2 run yarn test notice all your tests pass and snapshots are in their new location 3 notice that it says 45 snapshot files obsolete from 45 test suites 4 run jest u to remove obsolete snapshots notice that all your snapshots are gone
use nodenv or nvm switch to node 4 and create a project with jest steps to reproduce the behavior
i ve provided a repo url that have this set up and issues for the git hook 1 make a change 2 try to commit it 3 will fail and in the jest outputs there will be transpile errors for vscode jest extention 1 install the extention 2 won t work correctly and the jest outputs will have same transpile errors as git hook
steps to reproduce the behavior here is my test code ts import envvars ienvvars from envvars let env ienvvars beforeall async env await envvars console log a beforeall env env describe a test suites console log a describe scope it test console log a test case scope expect 1 tobe 1 here is the stdout bash pass src multiple beforeall spec ts console log src multiple beforeall spec ts 10 describe scope undefined src multiple spec ts 6 apikey 123 baseurl url src multiple spec 12 case scope apikey 123 baseurl url
add a setupfile to your jest repository with a console log statement in it so you can see when it runs you ll notice that the console log statement prints once per test file test suite in your repository not once per test as the documentation states
steps to reproduce the behavior start jest watch change the access time for a file and nothing else example touch a src components somecomponent js
steps to reproduce the behavior 1 set up a component that produce the above text snippet 2 write a snapshot test for the component
say i have a globalsetup js module exports function args const regex csv allfiles map f f match regex filter f f null map 1 foreach convertcsv and a data test js import buildings from buildings where the buidlings js has import xxx from buildings csv the problem or maybe its by design is quite clear import xxx from buildings csv is executed first and the asny function in globalsetup will be executed after all sync process finished
let values beforeall values hello world describe test setting variable in before all test non parameterized expect values tohavelength 2 passes test each values parameterized value expect value tobedefined fails is undefined let othervalues 1 2 3 test each othervalues parameterized with variable set right before value expect value tobedefined passes
steps to reproduce the behavior 0 checkout url 1 install dependencies yarn install 2 run the tests npx jest 3 remember the following line in async test ts it leaves my async alone async done 4 update the snapshot using npx jest u 5 now check line again
const request require supertest const mongoose require mongoose mongoose connect mongodb localhost debugging const app require app let server describe get products name beforeeach server app listen 3001 aftereach server close aftereach done server close done this does not work also afterall done mongoose disconnect done does not work even when using await on disconnect does not work also it should return a 404 status async const res await request get name expect res status tobe 404 when i explicitly call in afterall i get this jest has detected the following 1 open handle potentially keeping jest from exiting tcpserverwrap 8 9 10 beforeeach app listen 3001 11 aftereach close 12 aftereach close this does not work also 13 afterall at function listen node modules express lib application js 618 24 at object listen tests routes test js 10 36
steps to reproduce the behavior test case describe test unit encoding tit encodes to unit8 t tconst util require util t tconst enc new util textencoder utf 8 t t expect uint8array prototype isprototypeof enc encode fsdfsd tobetruthy jest config module exports ttestenvironment node run npm test
step1 create counter vue vue template div span class count count span button click increment increment button div template style style script export default name counter data return count 0 methods increment this count script step2 create counter test js js import mount from vue test utils import counter from vue describe const wrapper mount const vm wrapper vm it rendenr correct to 0 expect wrapper html tocontain span class 0 span it is a button expect wrapper contains button tobe true it click a to increment expect vm tobe 0 const find trigger click expect vm tobe 1
take this example javascript const foo jest fn foo 42 foo i am a valid string expect foo tohavebeencalledwith expect stringcontaining valid it results in this error being thrown bash actual is not a string 1 i am a valid string 2 3 expect tohavebeencalledwith expect stringcontaining valid
create an entity with relations decorator import entity column primarygeneratedcolumn manytomany jointable from typeorm import group from group group entity entity export class user primarygeneratedcolumn id number column length 32 unique true readonly true uid string manytomany type group cascade true jointable groups
js it should fail when done called second time done done done
steps to reproduce the behavior create a simple test for react using jest enzyme and react and make it fails import react from react import shallow mount render from enzyme import field from xxx field describe field suite it should render a p with title and content expect shallow field title hello content mycontent find span tocontain mycontent
steps to reproduce the behavior my package json javascript scripts test jest coverage no cache babel presets env devdependencies babel core version babel preset env version babel jest version jest version regenerator runtime
i can t reproduce it locally see link of travis build run below the only difference between the ci builds and my local environment is the operating system travis ci is using linux trusty and appveyor is using windows whereas i m using macos high sierra version but i m guessing it s not a problem with the operating system as both work fine when using node 8 relevant packages babel cli version babel core version babel preset env version babel core bridge 0 jest loader jest config js which doesn t seem to be running when under node 6 in ci module exports api const env api env let presets let plugins switch env case test presets preset break return presets plugins
add syntax to a jsx file run jest coverage
steps to reproduce the behavior
relevant package json dependencies config devdependencies babel core version babel plugin proposal class properties version babel plugin proposal decorators version babel plugin proposal object rest spread version plugin syntax dynamic import preset env preset react register core bridge 0 jest loader jest jest environment jsdom jest junit transform graphql regenerator runtime node modules graphql transform gql graphql transform graphql js setupfiles rootdir src jestsetup js snapshotserializers enzyme to json serializer testresultsprocessor junit babelrc presets preset react plugins proposal class properties object rest spread syntax dynamic import decorators legacy true env test presets preset env react jestsetup js import regenerator runtime import enzyme from enzyme adapter from enzyme adapter react 16 configure adapter new adapter
steps to reproduce the behavior js let mockfunction jest fn mockimplementation a this temp a
the following outputs null js object defineproperty window frameelement value 123 console log window frameelement window frameelement
1 create a custom class that extends the error object js class customerror extends error constructor message code super message this code code 2 create a custom error object using class constructor js const customerror new customerror something wrong happened err custom code 3 in the that needs to be tested throw that custom error js function fnthatthrownomatterwhat throw customerror 4 in the test try to pass a new instance of that object created in the test file and pass it to tothrowerror js const expectederror new something wrong happened wrong err expect main tothrowerror expectederror pass when it should fail
steps to reproduce the behavior run a test suite with the following case js test writetofile some i nvalidfile name txt test text expect writetofile some i nvalidfile name txt test tothrowerror ioerror this case should pass but print something like this on the stdout home maxie dropbox projects hashmyjs src hashmyjs js 3348 throw new error couldn t write in filename err message err context error couldn t write in some i nvalidfile name txt npm err failed see above for more details
steps to reproduce the behavior 1 clone this repo url 2 create a new branch from master reset head to the commit before head add package json and yarn lock but keep the changes and unstage them so now you have a test js uncommitted and package json has name test uncommitted 3 run yarn test w you will get the same error i assume cause is because 1 coverage is enabled it has to be via jest config collectcoverage true and not cli coverage 2 watch is enabled it possibly also occurs with watch all so only uncommitted changes are watched in order to reproduce this bug there needs be changes a test file changes in a non js file like eslintrc json or package json 3 this is actually pretty common scenario at least for me so i get this error lot
install jest version set style test jest in package json file run npm test
steps to reproduce the behavior run class blah symbol iterator yield this const video play x console log received x return true test plays video const val new blah const spy jest spyon video play const isplaying video play val expect spy tohavebeencalledwith val expect isplaying tobe true this results in fail tests test js console console log tests test js 9 received blah plays rangeerror maximum call stack size exceeded 17 isplaying play val 18 19 expect spy tohavebeencalledwith 20 expect isplaying tobe true 21 22 at object tohavebeencalledwith tests test js 19 15 suites 1 failed 1 skipped 1 of 2 total tests 1 failed 17 skipped 18 total snapshots 0 total time version s estimated 2s ran all suites
create react app myapp cd myapp rm r node modules package lock json pnpm install pnpm test outputs error cannot find module slash at object anonymous node modules registry npmjs org jest runtime version node modules jest runtime build scripttransformer js 25 15 manually adding slash as peerdependency of jest runtime using pnpmfile js like this url issuecomment fixes the issue
try to put your coveragethreshold inside the glob of projects jest projects displayname test coveragethreshold global line 50
steps to reproduce the behavior 1 have a test with a describe skip 2 have a beforeall inside this skipped describe 3 add some code inside the beforeall to check if it is being executed
use assert in an async test function js test it shows diff async async assert equal hello goodbye hello hmmm
follow the documented url jestretrytimes steps
steps to reproduce the behavior 1 have a test subject that calls process exit 1 2 have one file with a test running that code and at least one other test file which does not run any code calling process exit 3 run the test files using workers that is without runinband 4 hope for the best the run will sometimes simply terminate possibly due to invocation order example run that simply terminates url a of only file with failing always terminates immediately after process exit is called and same applies when running multiple files in band
steps to reproduce the behavior i cannot define specific steps to reproduce the problem only run jest tests
create a ts file test it run jest coverage
url git clone git checkout madness jest npm i npm test i prepared a file called sum tsx as dummy file for testing if you comment out on sum test tsx the only test available not the whole file just the test the sum tsx file appears on coverage report if you change filename of sum tsx to anything else coverage appears for similar issues appear to every other video of first case url
describe broken afterall afterall expect 1 toequal 2 it should pass regardless
steps to reproduce the behavior use node version or other 6 version and run jest tests
js test some test const object foo bar expect typeof object foo tobe string expect object tomatchsnapshot foo expect any string expect typeof object foo tobe string that test will fail the last assertion image url
the package json used is the following json name minimal jest babel 7 version version license mit scripts start babel node consumer js test jest babel presets babel preset env devdependencies core version beta 52 node version beta 52 preset env beta 52 core 0 jest
1 create a worker using the node worker threads library 2 do any console output inside the worker
pretty basic set up that throws on your proposed config package json json scripts start node node modules react native local cli cli js start test node modules bin jest dependencies apollo boost version apollo cache inmemory version apollo client version apollo link version link http aws amplify aws amplify react native aws appsync aws appsync react sdk graphql graphql tag react alpha 2 native native cognito js navigation devdependencies babel jest alpha 0 babel preset env babel preset babel preset jest test renderer alpha 2 reactotron jest preset sourcemaps inline presets env config js javascript use strict const defaults require config module exports verbose true setupfiles setup js testregex tests test spec ts tsx globals window true loadingscreen javascript use strict import from import view from import safeareaview from navigation import auth from amplify class loadingscreen extends component constructor props super props this state route c currentauthenticateduser auth currentauthenticateduser not authenticated then user this setstate state props route a catch err this setstate state props route b componentdidmount if this state route a navigation navigate ascreen else if b navigation navigate bscreen else navigate cscreen render return safeareaview style flex 1 justifycontent center safeareaview export default loadingscreen
typescript function later delay return new promise function resolve settimeout resolve delay jest settimeout 5000 describe expectation is asserted even after a timeout it should timeout async expect assertions 1 await later 6000 expect true tobetruthy it should only receive one assertion but gets two async expect assertions 1 await later 2000 expect true tobetruthy
1 create angular project using angular cli in version version 2 add jest version jest preset angular version types jest 3 in package json add jest settings json preset preset angular rootdir src setupjest ts collectcoverage true coveragereporters html 4 in src directory add setupjest ts typescript import preset error stacktracelimit 4 5 test each in test
create a new angular project with cli add jest import file from outside project import name from shared use import in component input name name input cause error run jest error is cannot find module ts jest from index ts 1 export interface name 2 givenname string 3
steps to reproduce the behavior js it foo expect foo tomatchsnapshot null hello with jest 23
refer to the included code snippet it s self explanatory
git clone b deps update git gitlab com flockademic flockademic git yarn yarn run jest unfortunately i wouldn t know how to reproduce this in a fresh repo
steps to reproduce the behavior
steps to reproduce the behavior launch config vscode with below config and hit f5 name jest current file type node request launch args workspacefolder test configcases ignore only resource context test js runtimeargs inspect brk workspaceroot node modules jest bin jest js runinband console integratedterminal internalconsoleoptions neveropen image url image url
use create react app version version to create a new app within root app directory run yarn install open app in vs code almost immediately test js shows an error before i have modified any files in the
1 clone the repository 2 type yarn test in the command line to execute jest tests 3 see that the antd test fails and the test without antd component passes
steps to reproduce the behavior 1 create a property matcher for a nested object example javascript expect data foo foo bar bar tomatchsnapshot data foo expect any string 2 resulting snapshot will not include bar e g object data object foo any string
1 git clone git github com gandra node jest err demo git 2 cd node jest err demo 3 npm install 4 cp env example env 5 npm run test
create two test files tests test js and tests test noop js fill with a placeholder test set testmatch in jest config to testmatch tests js noop js run jest a minimal repo to repoduce is provided here url
change one of the reducer files in your project and check coverage for the rest of the files it suddenly drops
just create a component like above and a test too the action called is just a regular function that receives 2 parameters dispatch should be called with that function don t know if i am testing it the wrong way don t know if it is relevant but i am running the tests in npm with the following jest verbose setupfiles jest config js details summary here is action if needed summary js import moment from moment import firebase firebaseref from firebase index export const updatetodo id updates return type update todo id updates export const starttoggletodo id completed return dispatch getstate var todoref firebaseref child todos id var updates completed completedat completed moment unix null return todoref update updates then dispatch updatetodo details
package run command cross env node env test jest silent config jest config js config for jest js module exports collectcoverage true collectcoveragefrom lib js index js 1 create a single test and run jest index test describe index test should skip this because it has no body 2 watch fail image url
have a typescript project that transpiles js into a folder that is ignored by gitignore update a ts file while haven tsc and jest both running in watch mode
run the project run jest in watch mode try to modify app module after some modifications jest task is crashed with error jest1 url
steps to reproduce the behavior 1 run yarn test react scripts test env jsdom
steps to reproduce the behavior js describe jest fn expect typeof jest fn tobe function ok expect jest fn instanceof function tobe true fail
create a file called string test js with the following contents javascript describe not stringcontaining const expected are you it matches if the actual string does not contain the expected substring expect how are you toequal expect not stringcontaining expected then run the following bash jest
execute the test given above using node v version on macos
test bug repro done bugrepro if we check the coverage report only log statement is covered not the constant values
steps to reproduce the behavior 1 commit changes to a function that is tested via snapshot without updating the snapshots 2 run jest watch and input a when prompted to run the full suite 3 the tests will fail as expected on out of date snapshot 4 input u to update snapshots 5 jest will log that no changes were found and not update any snapshots no tests found related files changed since last commit press a run all tests or run jest with watchall watch usage press w show more
this code snippet is valid and runs tests without errors js flow import react component from react type state loading boolean counter number class app extends component state constructor props super props this state loading false counter 0 handleasyncinctask incrementvalue number async event syntheticevent htmlbuttonelement this setstate loading true await new promise resolve settimeout resolve 1000 this setstate counter state counter incrementvalue loading false code snippet throws syntaxerror await is only valid in async function js flow import react component from react type boolean number class app extends component constructor props super props false 0 handleasyncinctask incrementvalue number async event syntheticevent htmlbuttonelement setstate true await new promise resolve settimeout resolve 1000 setstate incrementvalue false
see this repl it url
js const fastify require fastify const server fastify server seterrorhandler error console log hello error error server get test request reply reply send hello world server listen 8080 error if throw console log listening
here is a minimal pnpm workspace can reproduce the issue fastify pnpm workspace zip url unzip it and follow the readme to install packages then run the script warning will be alerted
hook js fastify addhook prevalidation async function request reply reply code 403 send error unauthenticated handler js module exports function fastify opts next fastify get async request reply this gets still executed and reply sent is true here next
js const fastify require fastify const fp require fastify plugin const plugin fp function fastify opts next next const start async function app app register plugin await app ready this will throw an error specifically cannot add route when instance is already started app post test function start
js async handler req fastifyrequest reply fastifyreply serverresponse ts error property child does not exist on type logger req log child
for example this will not work js website type string nullable true pattern https www a za z0 9 a za z0 9 w 2 s email type string nullable true format email as a workaround it can be declared like this see the type value for example this will work js shortbio type string nullable true website string null nullable true pattern https www a za z0 9 za z0 9 w 2 s email null format email example url
js const fastify require fastify const opts schema querystring type object properties hello type array required hello fastify get opts request reply reply send ok true fastify listen 3535 function err if err throw err console log server listening on server address port
js app get schema query this should querystring type object properties name type string default world required name async request reply return hello request query name
js use strict read the env file require dotenv config require the framework const fastify require fastify instantiate fastify with some config const app fastify logger true plugintimeout 10000 const app logger prettyprint true serializers res res the default return statuscode res statuscode req req return method req method url req url path path parameters parameters including the body and headers in log could be in violation of privacy laws e g gdpr you should use redact option to remove sensitive fields it could also leak authentication data in logs body body headers headers register your application as a normal plugin app register require app js start listening listen process env port 5123 err if err log error err process exit 1
removing generics server incomingmessage serverresponse typescript pops a compiler error generic type routeoptions httpserver httprequest httpresponse query params headers body requires between 3 and 7 type arguments ts import server incomingmessage serverresponse from http import routeoptions routeshorthandoptions from fastify const listattendance routeoptions server incomingmessage serverresponse method get url handler req reply reply send const listattendances routeshorthandoptions
steps to reproduce the behavior 1 clone this url repo 2 install deps 3 export to aws lambda or try with serverless framework 4 see it not registers plugins paste your code here js const app fastify app register myplugin
js const assert require assert const fastify require fastify const server fastify const schema id schema type object properties hello type string server get schema body schema server ready then assert ok id
steps to reproduce the behavior paste your code here ts fastify get api xx function req res this no completion and type checker complains
steps to reproduce the behavior js const app require fastify app get throw req reply throw new error i crash the app app get throwasync async req reply throw new error i work seterrorhandler error req reply reply send internal server error listen 8080 console log started at 8080 opening throwasync will correctly show the handler opening throw will crash the
run this code with fastify version installed js const fastify require fastify fastify addhook prevalidation async function prevalidation request reply next await new promise resolve settimeout resolve 1000 next get async request reply console log 1 await new promise resolve settimeout resolve 10 console log 2 await new promise settimeout 10 reply send ok listen 8090 then run or use a browser curl localhost 8090
steps to reproduce the behavior run the example code and make a get request to url js require the framework and instantiate it const fastify require fastify logger true declare a route fastify get request reply reply send remoteaddress request ip run the server fastify listen 8080 version err if err log error err process exit 1 log info server listening on server address port
steps to reproduce the behavior add schema with simple item then add schema for items array and use first schema id in items then use the first schema in some route paste your code here js const fastify require fastify async const name item const item type object properties foo type string fastify addschema id name item fastify addschema id name list type array items name get response 200 async req res return await ready await listen 3000 console log app listens node 21665 error is invalid data items should be object boolean data should be array data should match some in anyof at ajv validateschema tmp xxx node modules ajv lib ajv js 177 16 at ajv addschema tmp xxx node modules lib js 306 10 at addschema tmp xxx node modules lib js 136 29 at object keys foreach key tmp xxx modules fast json stringify index 937 11 array foreach anonymous isvalidschema fast json stringify index 936 33 build fast json stringify index 39 3 lib validation 13 10 validation 19 21 reduce anonymous
i used only one prehandler hook but showing three examples to demonstrate the issue expected js async function prehandler1 request reply return abc request hangs here return request also hangs here request also hangs if i do not return at all fastify addhook prehandler prehandler1 js async function prehandler2 reply reply send abc finishes fastify addhook prehandler prehandler2 js async function prehandler3 reply throw new error abc finishes fastify addhook prehandler prehandler3
steps to reproduce the behavior js const fp require fastify plugin const app require fastify app register fp async fastify fastify decorate myaddschema function console log add schema called addschema id sch1 type string app register async register async f f myaddschema id sch2 this params actually don t affect behavior type string we can just call decorated function async await app ready await listen 3000 console log started
steps to reproduce the behavior paste your code here js fastify route t tmethod get t turl getobjectbyid type id t thandler objectcontroller getobjectbyid t exports getobjectbyid async req reply
steps to reproduce the behavior paste your code here js npm i fastify version rc 4 ncdu node modules
type object additionalproperties false required id properties id pattern 0 9a fa f 24 also try type object additionalproperties false required id properties id pattern 0 9a fa f 24 without or also try type object additionalproperties false required properties type string pattern 0 9a fa f 24 with string paste your code here body object additionalproperties false properties omit userproperties token notifications roles response 200 responsebaseschema omit userproperties token notifications roles params required string pattern 0 9a fa f 24
this was not intentionally produced so i sadly have no reproduce steps
i am using fastify http proxy and in beforehandler trying to set multiple cookies on reply like reply setcookie cookie1 httponly true reply setcookie cookie2 httponly true reply setcookie cookie3 httponly true setcookie cookie4 httponly true
js const fastify require fastify logger true const fluentschema require fluent schema const bodyschema fluentschema prop somekey fluentschema asstring const schema body bodyschema valueof fastify post the url schema request reply reply send hello world fastify listen 3000 err address if err throw err log info server listening on address
steps to reproduce the behavior paste your code here js
insert a url to your test case use codepen io jsfiddle net jsbin com codesandbox io or whatever url describe any details about the test case that we need to know like whatever you do don t click the red button do whatever i guess
apply font to any project
i created a plunk so that you can try it out url
this code typescript layer push push faclock classes fa fw raises a compiler error expected 1 arguments but got 2
download fontawesome common types version tgz url and compare content of package json and license txt
1 go to url 2 inspect the icon 3 add class fa swap opacity
in the head link rel stylesheet href url integrity sha384 xxnlwszcxoe q crossorigin anonymous in the body i class fab fa facebook square i i class fab fa google i
insert a url to your test case use codepen io jsfiddle net jsbin c awesome font performance url om codesandbox io or whatever describe any details about the test case that we need to know like whatever you do don t click the red button
cant reproduce through external apps as this is a font awesome pro issue to replicate use a duotone icon when using the fa li ul class structure
insert a url to your test case use codepen io jsfiddle net jsbin com codesandbox io or whatever span class icon social icons i class fab fa facebook i span script defer src url script describe any details about the test case that we need to know like whatever you do don t click the red button
test case mvce bug firefox inspector font awesome zip url see bugzilla for steps to reproduce
my github repo url
1 go to any project section where url is required 2 type n or p in the url field
1 go to the settings page 2 put a long description in the portfolio item 3 check out the public portfolio hard refresh it ctrl f5 this update bug is under triage
steps to reproduce the behavior 1 as a logged out user 2 go to the first challenge 3 complete it 4 press ctrl enter 5 it marks as solved also the following challenge and you can go ahead
1 open firefox 2 open a console from a site that is not freecodecamp org 3 attempt to execute js fetch url res json then data console log data
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
appears to be an account specific issue
1 be logged in at www freecodecamp org 2 click on the button go to the coding curriculum 3 open up browser tools and enable xhr logging 4 see errors
steps to reproduce the behavior 1 go to submit and move on to next challenge 2 click back 3 all code reset
steps to reproduce the behavior 1 create an account using a github account 2 change your username on github 3 try to sign in to the platform 4 see you re being registered as a new user
steps to reproduce the behavior 1 git checkout 2 npm run develop 3 log out of your local freecodecamp either via settings or just go incognito 3 go to url 4 see that you get redirected to url with a message something is not quite right a report has been generated and the freecodecamp org team have been notified
steps to reproduce the behavior 1 go to url 2 click on solution input bar and submit any arbitrary link for example google facebook amazon com will require full url 4 accepts the link as a solution and checks it off in your curriculum only if your press advance if you press back nothing happens
steps to reproduce the behavior 1 go to url 2 make sure you have dark night theme enabled 3 scroll all the way up and notice a white space visible just under the navigation nbar
steps to reproduce the behavior 1 go to fcc forums 2 click on your profile image on top right and select preferences 3 click on interface on bottom left 4 select dark theme under theme and see how the background is not working properly
steps to reproduce the behavior 1 go to freecodecamp profile 3 scroll down to the heatmap with zoom at 100
steps to reproduce the behavior 1 go to url 2 search any term 3 now type in another term in the search bar 4 click on magnifying icon
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 go to any lesson 2 open the dev tools 3 inspect the editor 4 observe the role attribute
steps to reproduce the behavior 1 go to default props challenge url 2 type shoppingcart instead of items 4 see error
steps to reproduce the behavior 1 go to challenge link url 2 click on solution input box 3 enter url 4 the solution gets accepted 5 enter url 6 see error
steps to reproduce the behavior 1 go to url 2 scroll down to second paragraph 3 oops there is a bug
steps to reproduce the behavior 1 go to www freecodecamp rocks 2 reduce the browser width until the menu button appears in the top right 3 navigate to www freecodecamp rocks guide 4 click on top right menu button 5 click on top left logo final click can be on any link that doesn t cause a page load about learn sponsors etc
steps to reproduce the behavior 1 go to freecodecamp rocks 2 oops there is a bug
steps to reproduce the behavior 1 locally open the project 2 install node js and npm 3 run npm test
steps to reproduce the behavior 1 go to url 2 click on search bar in header 3 type d3 js well you can type anything 4 see error alignment of search result is improper
steps to reproduce the behavior 1 go to url 2 see the progress heatmap
1 open a challenge page on a local site e g url 2 edit and save the corresponding markdown file e g curriculum challenges english 01 responsive web design basic css use a css class to style an element english md 3 the page may not update and or not reflect the changes when reloaded
steps to reproduce the behavior follow the steps in the guide after installing and cloning everything in summary 1 npm install 2 mongod 3 npm run seed 4 npm run develop
steps to reproduce the behavior 1 go to any challenge and complete it 2 click the submit button or use ctrl enter to submit 3 observe the error
steps to reproduce the behavior 1 go to learn freecodecamp org and type in any query in the search bar you will be redirected to a new tab 2 click on the search bar and press enter or write any new query and press enter 3 you will see that the query in search bar disappears and no result is given
steps to reproduce the behavior 1 go to learn freecodecamp org 2 type in a search query on learn platform and press enter 3 a new tab opens with a trailing quotation in the query
steps to reproduce the behavior 1 go to freecodecamp rocks freecodecamp rocks via mobile 2 scroll down to 3 see error
steps to reproduce the behavior 1 go to write concise declarative functions with es6 url 2 click on run tests 3 open console 4 see error
steps to reproduce the behavior 1 complete a challenge 2 click on run the tests 3 assuming you have passed the test cases a modal window appears with 2 options submit and go to next challenge ctrl enter and download my solution 4 click on download my solution which will download the solution in json format 5 press ctrl enter 6 solution is downloaded again 7 we are taken to next challenge
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 sign into fcc on google chrome 2 clear your cached images and files on google chrome found where you clear history 3 sign back into fcc on google chrome if necessary 4 go to curriculum and find that you are signed out
steps to reproduce the behavior 1 go to the challenge on local 2 enter the correct solution a b b a 3 click the run tests button 4 results window shows test fails see screenshot below
1 go to url this is where i found it but it s not strictly necessary to reproduce it paste the following code in the editor function smallestcommons arr extract min max boundaries of the sequence const min max arr sort a b a b creating array with sequence of min max bounderies const arrseq array from length max min 1 i i starting with let i while true if arrseq every el return el 0 found was divisible by every member of the sequence return not found increment console log smallestcommons 23 18 it works in codepen io url jscomplete com url jsfiddle net url and native chrome console
steps to reproduce the behavior 1 go to free code camp url 2 click on sign in with google or github 3 you will see that my account is not the correct one and you will see that i still have the old and new username
steps to reproduce the behavior 1 from root cd api server npm run babel dev server 2 after db has loaded go to browser url localhost 3000 3 error will appear in node console
enter a wrong or no otp
steps to reproduce the behavior 1 go to for example url 2 in code area replace code with let test abfc console log before test 0 a console log after
1 go to challenge page like this url 2 try to drag separator which is between a code panel and a description 3 very hard to catch it by mouse because ff draws a scroll related ui controls
1 submit a minor pr change 2 check build in travis ci ie url
steps to reproduce the behavior 1 go to challenges linked above 2 see error also you can see horizontal scroll bar
steps to reproduce the behavior 1 go to url 2 type text in search input at the top navigation bar 3 see the auto complete dropdown the block width is out of screen
steps to reproduce the behavior 1 log in to freecodecamp 2 go to the settings page 3 see the save button is truncated next to the username field
steps to reproduce the behavior 1 go to my public profile url 2 notice the heat map does not contain any colored boxes even if there is data on october 17th to 19th upon hovering 3 open the browser console and notice the error see
steps to reproduce the behavior 1 git fetch upstream master 2 git reset hard upstream master 3 see error
steps to reproduce the behavior 1 go to any lesson in the curriculum 2 enter the code editor set focus to it 3 press alt f1 to show accessibility help for the editor and choose enable screen reader mode 4 complete lesson advance next and repeat steps two and three
create a repo with a readme md put an image in the repo for example img example png create an image ink in the readme md for example img example png url
steps to reproduce the behavior 1 try to perform a git push or git pull
steps to reproduce the behavior 1 run gogs container docker run d v root gogs data p 8080 3000 p 10020 22 gogs gogs 2 create a repository in 3 stop and remove the container 4 repeat step 1 and container run successfully but will not be accessable
steps to reproduce the behavior installed changed port and tried to set to https only both failed once installed
see left section of screenshots in 1415 1416
steps to reproduce the behavior 1 just create a pr
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
have gogs running turn off your router turn on your router try to pull from repo git pull origin master fatal unable to access url failed to connect to repo domain com port 6000 connection refused
steps to reproduce the behavior 1 having a working gogs on macos at volumes data macos gogs
steps to reproduce the behavior 1 after building a docker instance per the instructions open page at 10080 install 2 set your parameters in the fields following the guidelines mysql is db choice i selected 3 click install gogs button after you are done with settings 4 see error version 3306 connect connection refused my host ip is version i did not open a port to 3306 on host as it was not in guidelines
steps to reproduce the behavior 1 login create with active directory user 2 logout 3 try login again
steps to reproduce the behavior 1 create a fork of a fork on some gogs instance e g url just forked the first fork i could find on explore 2 create an api token via settings 3 try to get the list of repositories of the user that created transitive fork so e g curl i header authorization token token url 4 see error 500
steps to reproduce the behavior 1 create an authentication source say a smtp auth source with id 2 2 change user to the new auth source in admin panel 3 change auth source to local id 0 with api http print hhb patch url gogs host api v1 admin users gogs user authorization token gogs token id 0 login name gogs user email user mail com password 4 server response 200 but auth not changed per admin panel and login error message
steps to reproduce the behavior 1 get a repository a in gogs 2 fork repository a as b 3 enable pull requests in repository b s settings 4 press new pull requests in b s gogs page
install on windows 2012 r2 with external openssh try checking out with ssh
steps to reproduce the behavior 1 start creating a new repo 2 click on the help icon next to the readme field
steps to reproduce the behavior 1 sign in as the admin user 2 go to the admin panel users create new account 3 enter information and an email address in the aforementioned format 4 gogs responds with email address is not a valid email address
steps to reproduce the behavior 1 go to your settings 2 click on applications 3 click on generate new token 4 enter a token name and then click generate token 5 use the generated token to clone a private repo e g git clone https try gogs io user repo git 6 navigate to your settings applications 7 note that the you used clone the git repo doesn t show as ever being used
steps to reproduce the behavior 1 add change parameter subject prefix mytag under mailer section in custom conf app ini 2 restart gogs 3 send test email to any email address 4 subject for test email is gogs gogs test email
steps to reproduce the behavior 1 just add proto file to project 2 edit it and paste this text into file syntax proto3 package nacommands service nagreeting rpc nasearch searchrequest returns searchreply message searchrequest uint32 sequenceid 1 string sender info 2 string dummy 3 message searchreply uint32 sequenceid 1 string service info 2 3 save changes 4 what you see are those strings with no coloration and highlighting message searchrequest uint32 sequenceid 1
steps to reproduce the behavior assuming that the server runs on url 1 from a linux unix windows substrate terminal 2 type the following command curl s url grep csrf 3 copy the csrf token from command above 4 create a file with following content named request txt boundary content disposition form data name file filename test txt test test boundary 5 type following command note replace token with csrf token from step 3 curl kis x post h x csrf token h content type multipart form data boundary boundary b lang en us data binary request txt url command will make a multipart request to releases attachments endpoint with data from file request txt step 4 6 server will reply with an uuid for attachment file visit page at url to see it
steps to reproduce the behavior 1 create a new pull request 2 insert an emoji in the title 3 click on create pull request
steps to reproduce the behavior post api call with curl for example curl vvv x post u username password h content type application json url
steps to reproduce the behavior 1 create commit message throw exception if confirmation contact was parsed incorrectly in2 1433 2 push 3 see gogs log server side
steps to reproduce the behavior 1 go to
fetch and install any package from packager io and attempt to use either a sqlite database pam authentication or self signed certificate generation
steps to reproduce the behavior 1 take two uitextview 2 focus on 1st textview 3 press tab key 4 don t move to the next field
steps to reproduce the behavior ran this command xcodebuild workspace name xcworkspace scheme name qa sdk iphoneos configuration release qa code signing identity name provisioning profile profile archive archivepath pwd build name xcarchive
steps to reproduce the behavior 1 go to textfield and open keyboard 2 the view in moving up 3 scroll down to dismiss or click on done 4 the view keeps on top like the screen shot
steps to reproduce the behavior 1 open and run the demo project 2 click on search bar at the top of table view 3 scroll down to the end of table view 4 see error odd gap between table view content and keyboard
steps to reproduce the behavior 1 take text field with numpad keyboard 2 open keyboard and then dismiss with done button 3 check behavior black screen will display at bottom 4 see error
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 go to collectionviewcontroller 2 click on uitextfield 3 tapped done button on keyboard 4 see error after keyboard was hide the same issue on other iphones with ios 12
steps to reproduce the behavior 1 create an uialertcontroller with custom view using library url 2 add uitextfield inside 3 when you tap the uitextfield everything looks fine it moves the ui to the top so you can enter text 4 when you click done keyboard dismisses but ui doesn t go back from top
i am have using iqkeyboardmanagerswift for multiple apps recently i have updated pods and installed version version its not showing keyboard toolbar and not focusing to correct textfield in scrollview tableview
turn on voiceover navigate to a place where iqkeyboardmanager is up the toolbar is visible with buttons tap once on a button to hear toolbar done button button
steps to reproduce the behavior 1 create an app for ios 12 enable iqkeyboardmanager in the app delegate 2 create a viewcontroller that has a uisearchbar at the top ours is added to a uinavigationcontroller and a uitableview laid out below 3 launch the app tap in search field you will observe keyboard being displayed and uitableview being shifted down exposing horizontal black bar 4 if you explode view hierarchy in xcode debugger you will see that black is coming from uiwindow
steps to reproduce the behavior 1 tap start 2 tap textfield to open the keyboard 3 swipe back or tap back button 4 see error
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
i was able to reproduce this in all data entry viewcontrollers of one of my apps i was updating
version this is reproducible with one of my app store apps
steps to reproduce the behavior 1 set up a search bar controller with a tableview all underneath the navigation bar 2 when selecting the searchbar the searchbar animates up as expected as navigation bar and title disappears but search bar immediately animates down to its original position leaving a big white space between top of view and search 3 this problem appears on devices that are not at least ios 11 4 in simulator you only get this bug if you disable connect hardware keyboard i e where simulator keyboard is visible on simulator to simulate what happens on an actual device
steps to reproduce the behavior 1 create an empty project 2 create a view controller a add child view controller b for it 3 in childviewcontroller b add a scroll view vertical stackview some text fields 4 if you try to scroll several times wrong insets will appear
steps to reproduce the behavior 1 create extension import uikit extension uialertcontroller class func simplealert title string message string positiveoption string ok handler uialertaction void let alert self init title title message message preferredstyle alert let positiveaction uialertaction title positiveoption style default handler handler alert addaction positiveaction let viewcontroller uiviewcontroller getfrontviewcontroller viewcontroller present alert animated true completion nil import uikit extension uiviewcontroller class func getfrontviewcontroller uiviewcontroller var viewcontroller uiapplication shared keywindow rootviewcontroller while let vc viewcontroller presentedviewcontroller if vc is uinavigationcontroller vc return 2 use extension ibaction private func postbuttontapped sender any guard category category else uialertcontroller simplealert message handler nil return 3 run the app 4 tap the button 5 frozen
steps to reproduce the behavior 1 select iphone xr 2 run build 3 click on text box 4 keyboard attempts to come up but stops after the word done
steps to reproduce the behavior 1 pin a text field to the leading and trailing safe area 2 add it to enabled classes for iqkeyboardmanager 3 open project in landscape on phone with notch 4 touch the field to present the keyboard see safe area snap cgrect zero 5 dismiss keyboard with cmd k and rect goes back expected value
steps to reproduce the behavior 1 composing a view controller using masonry 2 adding a uitextfield to view 3 calling becomefirstresponder of the uitextfield in viewdidload 4 clicking done button of iqkeyboard
steps to reproduce the behavior 1 build ipad app 2 build multiple textfields inside storyboard 3 set return key value of every textfield to next except of the last one set it to done 4 implement iqkeyboardreturnhandler as described in the docu 5 start the app and look at returnkey of last textfield
steps to reproduce the behavior 1 setup a uicollectionview with horizontal scrolling 2 activate the keyboard on a cell that would be covered by the keyboard 3 the uicollectionviewcell is relayed out in uicollectionview
steps to reproduce the behavior 1 set autofocus is true in textinput and use iqkeyboardmanager in one page 2 navigate to this page from other page the keyboard accessory is missing
steps to reproduce the behavior 1 open the test app tap go to detail 2 tap on the ipsum lorem text preferably near the bottom 3 observe that cursor is hidden behind keyboard
steps to reproduce the behavior 1 run vault read auth approle role my role 2 see error
vault vault 002 vault operator raft join tls skip verify url error joining the node to the raft cluster error making api request url post url code 500 errors failed to join raft cluster error during bootstrap init call put url x509 certificate signed by unknown authority
i use hvac and hashi vault to retrieve the vault secrets for my ansible playbooks lookup hashi vault secret app role secrets data certificate auth method approle
steps to reproduce the behavior 1 enable an audit log device 2 attempt to read the problem endpoint vault read sys internal counters requests
steps to reproduce the behavior 1 initialize vault json data secret shares 5 secret threshold 3 vault address url curl data json data request put vault address v1 sys init 2 seal vault root token not shown here curl header x token root token address v1 sys seal 3 try to unseal see error key 01 not shown here curl data key key 01 request put address v1 sys unseal works key 02 not shown here curl 02 request put v1 sys unseal works 03 not shown here 02 request put unseal fails as described
steps to reproduce the behavior 1 run vault with consul backend and proxy protocol behavior use always 2 use haproxy as loadbalancer and set send proxy in the server segment 2 or use curl to emulate the proxy protocol curl v haproxy protocol url same result 3 client is unable to communicate via proxy and the aforementioned error message can be seen in vault logs
steps to reproduce the behavior 1 enable an ldap auth method 2 attempt to set a certificate for the method in the ui eg ui vault settings auth configure ldap configuration
steps to reproduce the behavior 1 reading the documentation
auth oidc config key value bound issuer n a default role reader jwt supported algs jwt validation pubkeys oidc client id app id oidc discovery ca pem n a oidc discovery url url id v version auth role reader allowed redirect uris url ip 8200 ui vault auth callback url ip 8200 callback bound audiences app id bound cidrs nil bound claims nil subject n a claim mappings nil groups claim groups max ttl 0s num uses 0 scopes period 0s policies default role type ttl 0s user claim email azure ad callbacks ip 8200 callback ip 8200 ui vault auth callback command issue to login user host vault login method role reader port complete the login via your provider launching browser to oauth2 v version authorize client client nonce redirect uri http 3a 2f 2flocalhost 3a8200 2foidc 2fcallback response type code scope openid state
steps to reproduce the behavior 1 run vault operator init 2 run vault operator unseal unseal key 1 3 see error error unsealing error making api request url put url code 400 errors vault is not initialized
steps to reproduce the behavior 1 run vault server dev and run vault secrets list 2 run vault server dev config vault config config hcl and run secrets list there is secrets path enabled
steps to reproduce the behavior 1 create a vault user with a space in the name 2 run curl header x vault token url
steps to reproduce the behavior 1 start up vault 2 post a request to version 8200 v1 transit keys 123 3 verify that you receive 204 no content 4 post a request to version 8200 v1 transit keys 123 5 now you receives 404 not found with following body json errors 1 error occurred t unsupported path this indicates that dash in the end of the key fails it s also possible to reproduce the exact same problem with dash in beginning of key
steps to reproduce the behavior 1 create a tls certificate role user name client demo test 2 echo name client demo test demo payload json 3 try to authenticate curl request post data demo payload json url 4 get the erroneous response errors missing client token
steps to reproduce the behavior 1 initialize and setup vault consul backend with approle with no token ttl or token max ttl 2 trigger large number of requests to vault 3 core shuts down and vault seals itself
steps to reproduce the behavior 1 enable file auditing run vault audit enable file file path dev null 2 add a k v secret run vault kv put secret foo bar test 3 read the secret at a high rps run vault kv get secret foo
steps to reproduce the behavior 1 run vault secrets enable azure 2 run vault write azure config subscription id azure subscription id tenant id azure tenant id client client client secret client secret 3 vault read field secret config 4 error field secret not present in
steps to reproduce the behavior 1 start vault with azure app gateway endpoint as the backend storage
steps to reproduce the behavior 1 run vault write auth okta groups scientists policies nuclear reactor 2 ensure the user user1 is in the scientists group within okta 3 run vault login method okta username user1 4 unable to see policy nuclear reactor attached to entity with alias user1
steps to reproduce the behavior 1 open vault ui 2 log in 3 enable a ssh engine 4 create an ssh role click on more options change ttl or max ttl with some other vaule than the default 30mins 5 click create role 6 try to sign a key with it 7 run ssh keygen exe lf example pub to check the actual cert ttl
steps to reproduce the behavior 1 run vault read sys capabilities self paths abc auth token create 2 see error
steps to reproduce the behavior 1 start two nodes processes with config below 2 shutdown kill the active node node a 3 run vault status on the standby node node b it s still standby 4 start original active a it s also in standby mode 5 none of the two nodes will become active mode anymore even i kill them all and start a single only
steps to reproduce the behavior 1 curl headers url 2 no response
n a documentation bug
steps to reproduce the behavior 1 run vault operator rekey init pgp keys key1 backup tls skip verify key shares 1 key threshold 1 target recovery 2 complete rekey process 3 run vault operator rekey backup retrieve pgp keys key1
steps to reproduce the behavior 1 install and initialize postgresql 11 server 2 configure the backend and plugin per published hashicopr documentation 3 attempt to start the service 4 view error with systemctl status vault
steps to reproduce the behavior 1 with the web ui enabled turn on userpass or database engines 2 observe they are greyed out and unusable via the web
steps to reproduce the behavior 1 run vault write 2 run vault login 3 see error
1 setup an approle according to url steps 2 use vault to login with your role id and secret id as follows json vault write format json auth approle login role id role id secret secret jq auth client token accessor policies default token policies default identity policies null metadata role name orphan true lease duration 3600 renewable true 3 there you can t find entity field 4 use curl to directly send a request for rest api json curl request post data secret vault addr v1 auth approle login jq auth client token accessor policies default token default metadata name lease duration 3600 renewable true entity type service orphan true 5 response body contains entity
consider the following structure in the kv2 secret engine kv application app1 secret kv application app2 secret kv application app3 kv application app4 secret test where app3 is an empty folder executing a list via the http api on returns the following answer with http status code 200 request id 13a80f8d b7b8 5543 f0c6 lease id renewable false lease duration 0 data keys app1 app2 app3 app4 test wrap info null warnings null auth null according to this answer folder app3 should exist executing a list via http api on returns following answer with http status code 404 errors according to this answer folder should not exist
steps to reproduce the behavior 1 setup vault in a cluster with one active and standby servers 2 enable prometheus metrics endpoint 3 scrape in prometheus all vault servers 4 standby servers are forwarding the sys metrics calls to active server 5 metrics in prometheus for standby servers are showing the same values as the active server
steps to reproduce the behavior 1 open a new directory off the gopath 2 run go mod init foo to get a module enabled repo 3 create a file with the following contents go package main import github com hashicorp vault command agent auth func main 3 run go mod tidy 4 run go get 5 see error build foo cannot load github com hashicorp vault api ambiguous import found github com hashicorp vault api in multiple modules tgithub com hashicorp vault v version gopath pkg mod github v version api tgithub api v version gopath pkg mod v version
create some secret vault kv put secret test test test attempt to generate a curl request output for a patch vault kv patch output curl string secret test newvalue result curl x get h x vault token vault print token url
steps to reproduce the behavior 1 make sure no audits are enabled vault audit disable
with version v version vault write database roles role dba creation statements create user name identified by password grant connect to name grant create session to name alter user system grant connect through name grant select catalog role to audit create session by audit all by audit insert table update table delete table by audit select table default ttl 1h max ttl 1h result success data written to database roles role dba with version v version vault write database roles role dba creation statements create user identified password connect session alter user system connect through select catalog session all insert update delete select default ttl 1h max ttl 1h result error writing data database roles dba error making api request url put url code 400 errors empty attribute
steps to reproduce the behavior 1 run vault secrets enable database 2 run vault write database config my postgresql database plugin name postgresql database plugin allowed roles my role connection url postgresql username password localhost 5432 username root password root 3 see error error creating object error verifying connection pq could not detect default username please provide one explicitly
steps to reproduce the behavior 1 add a policy to consul 2 add a role to the consul secrets engine that uses the consul policy 3 do get request to url 4 get request fails with 500 error and message about max ttl must be greater than 0
steps to reproduce the behavior 1 curl url 2 note the 429 response if the agent proxies to a standby node
steps to reproduce the behavior 1 start vault with listener tcp proxy protocol behavior deny unauthorized proxy protocol authorized addrs 2 make any http request to vault from a whitelisted ip ie curl url 3 make any http request to vault from a non whitelisted ip ie curl url max time 5 4 make any http request to vault from a whitelisted ip ie curl url max time 5 it will fail
steps to reproduce the behavior 1 create a secret using the web ui 2 add a key value pair including leading trailing whitespaces in the key 3 try to access the value via api using key without any leading trailing whitespaces it cannot be found
steps to reproduce the behavior 1 run vault login against vault version 2 export vault addr url 3 run vault login against version 4 see error 5 run rm token 6 run login and succeed
1 move your ca crt to a path such as home certs ca crt 2 export vault cacert home certs ca crt 3 vault status
steps to reproduce the behavior 1 vault operator rekey init key shares 5 key threshold 3 my screenshot url 2 vault operator rekey nonce nonce number and give it 3 unseal key nothing shows up on the screen my screenshot url
steps to reproduce the behavior 1 not sure to be completely honest
steps to reproduce the behavior docker run d v opt vault vault cap add ipc lock vault server export vault addr url operator init chown r was having issues with mkdir default dirs because it was owned by root unseal login kv put secret hello foo world
steps to reproduce the behavior 1 run vault kv put secret test foo bar directly to vault without passing thru the agent 2 run vault read secret data test with export vault agent addr url 3 see error
steps to reproduce the behavior 1 vault server dev 2 export vault addr url 3 vault auth enable userpass 4 vault write auth userpass users testuser password test 5 login method userpass username testuser password test 6 write auth userpass users testuser password newpass 7 you get permission denied
steps to reproduce the behavior follow the steps shown in this tutotial url web ui 2
setup a vault pki role for client authentication vault write my int ca roles client allow server false allow client true allow any name true allow bare domains true max ttl 1440h issue a barename cert works fine vault write my int ca issue client common name foo issuing a cert with a comma in the name fails vault write my int ca issue common name foo the error message is error writing data to my int ca issue error making api request url put url code 400 errors common foo not allowed by this role this also fails if you provide valid dn e g cn foo dc example dc com
steps to reproduce the behavior 1 run vault dev server with the kv v2 secrets engine enabled at secret 2 run vault kv put secret foo bar baz value data 3 run vault policy write policy eof path secret data foo baz capabilities read eof 4 create a token with that policy vault token create orphan policy 5 using that token run the following commands and receive the following results kv get secret foo bar baz error making api request url get url code 403 errors preflight capability check returned 403 please ensure client s policies grant access to path foo bar baz read data bar key value data map value metadata map deletion time destroyed false version 1 created time 2019 04 03t13 59 version z
steps to reproduce the behavior 1 run vault server dev 2 login via a browser with the cough root token 3 enable ldap auth method and click enable method 4 click the ldap options 5 the check boxes are missing
steps to reproduce the behavior 1 set vault token environment variable to root token value 2 execute vault login command 3 system asks for token value despite the fact the vault token is set will be hidden 4 provide a non root value 5 vault instance open session as non root context with warning of expected behavior that does not reflect reality warning the environment variable is set this takes precedence over value set by this command to use by this command unset environment variable or it to displayed below success you are now authenticated information displayed below is already stored in helper you do not need run login again future requests will automatically use this key s accessor blytso4zqul1latnh90ircur duration renewable true policies default pki services identity policies policies default pki services can be reproduced by setting a non root in and executing login command providing inline session is open in context with warning of expected behavior that does not reflect reality only way use execute as login if official way then warning message should be removed and documentation updated otherwise there a bug
from a systemd file have an execstart value like so execstart usr bin vault agent config etc vault agent hcl etc vault agent hcl should include vault address url
1 setup a consul backend storage with upper case hcl storage consul address 8500 path vault service vault service tags traefik enable true traefik frontend rule host test vault mydomain com token 2 restart unseal your vault 3 check on consul ui your service the host define in configuration became host
steps to reproduce the behavior 1 enable the vault totp secret backend vault secret enable totp 1 attempt to write a key with a secret key value that is already in base32 but lower case
steps to reproduce the behavior 1 run vault secrets enable ssh 2 run vault write ssh roles everyone default user ubuntu key type otp 3 run vault write ssh config zeroaddress roles everyone 4 run vault delete ssh roles everyone 5 write roles everyone default user ubuntu key type otp 6 delete 7 see error
steps to reproduce the behavior 1 try to put an empty key in s3 maybe using aws s3 cp somefile txt s3 myvaultbucket test 1a it sounds like some people have been able to accidentally do this with the aws java api here url 2 run vault operator migrate with this bucket as the storage source 3 command hangs on the previously successful key and prints no output as to what command is actually doing
steps to reproduce the behavior 1 on latest std freebsd version p3 install vault from freebsd packages or download the version hashicorp binary 2 make a simple config file that is not dev mode as mlock warning is not shown in dev mode 3 run vault and get spanked by mlock error vault version vault v version server config usr local etc hcl error initializing core failed to lock memory cannot allocate memory this usually means that the mlock syscall is not available uses mlock to prevent memory from being swapped to disk this requires root privileges as well as a machine that supports please enable on your system or disable from using it disable from using it set the disable configuration option in your configuration file
1 create admin policy from guide url policy requirements 2 create user 3 add user to group 4 attach admin policy to group
ps c git buildpipeline grafana vault token lookup asdf error looking up token error making api request url post url code 403 errors permission denied ps c git buildpipeline grafana vault token lookup asdf text txt error looking up token error making api request ps c git buildpipeline grafana cat text txt ps c git buildpipeline grafana
steps to reproduce the behavior 1 create a lot of entities in vault at least 120 2 enable the syslog auditing 3 see the error coming from the v1 identity entity id list true api endpoint
steps to reproduce the behavior 1 configure ldap authentication with an binddn account from the web ui url 2 attempt to login via ldap see the authentication 3 see error authenticating error making ap request message reproduced in full below 4 configure the ldap same way via vault cli i e vault write auth ldap config url ldapserver com binddn cn vault ou service ou users o org c com bindpass password userdn ou employees ou users o org c com userattr samaccountname groupdn cn groups o org c com groupattr cn insecure tls false
steps to reproduce the behavior 1 vault server dev dev root token id mytoken 1 export vault token mytoken export vault addr url 1 vault kv put secret 1 2 3 4 kv list secret no value found at secret metadata
see above docs fix
steps to reproduce the behavior 1 open vault ui 2 create new secrets engine open method options menu and check for values of 30 minutes 3 check config of engine again after creating
steps to reproduce the behavior 1 run docker run rm name vault network host t e vault dev root token id 12345 vault version 2 run vault login 3 run write sys config cors allowed headers x my allowed origins test read sys config cors see success data written to sys config cors key value allowed headers content type x requested with x aws iam server id x mfa no request forwarding wrap format wrap ttl policy override authorization token my allowed origins test enabled true 4 repeat step 3 and see success data written to sys config cors key value headers content type requested with aws iam server id mfa no request forwarding wrap format wrap ttl policy override authorization token my content type requested with aws iam server id mfa no request forwarding format ttl policy override authorization token my origins test enabled true 5 write headers other header origins read see success data written to key value content type requested with aws iam server mfa no request forwarding format ttl policy override authorization other header enabled true
steps to reproduce the behavior 1 write a kv secret to a v1 kv store with a key of ttl and a duration value e g 60m 2 read the kv secret using the cli vault kv get my secret backend my secret
1 run vault status format json or yaml 2 the ha information is missing from the output vault status format json type shamir initialized true sealed false t 3 n 5 progress 0 nonce version version migration false cluster name vault cluster xxxx cluster id xxxx recovery seal false with default format vault status key value seal type shamir initialized true sealed false total shares 5 threshold 3 version version cluster name xxxx id xxxx ha enabled true ha url ha mode active
steps to reproduce the behavior 1 enable okta authentication per instructions url 2 require mfa in okta for user groups 3 log into vault ui with okta with username or username domain com and approve mfa push to okta verify app 4 wait a period of time and try to browse vault ui verify app will pop up a message requesting approval and will continue to do so verify app notifications building up image url vault ui message that appears even though it seems like it s attempting auto renew the token image url
added the following test case to logical framework path test go diff git a logical framework path test go b logical framework path test go index c3ccb2a56 8e5cf0b6f a logical framework path go b 55 6 55 12 func testpath regex t testing t pathmatch true captures map string string val foo pattern a b genericnameregex val optionalparamregex val2 input a b foo pathmatch true captures map string string val foo pattern foo matchallregex val input foos ball running the tests for the package results in failure bash version fail testpath regex version s 100 map val2 does not have key fail fail tgithub com hashicorp vault t version s
steps to reproduce the behavior 1 run vault secrets enable ad 2 run vault write ad config binddn username bindpass password ttl 60 url ldaps win hlb3i5cjje5o ahdladh tk userdn dc ahldadh dc tk t 3 run vault write ad roles poc test service account name poc test ahdladh tk you see the below error
to reproduce run this script i put together url it assumes you have docker and jq installed the script will set up vault in docker batch encrypt an empty string batch decrypt the result and output the result of the call to decrypt key
steps to reproduce the behavior 1 run vault write auth aws role some role inferred entity type ec2 instance inferred aws region eu central 1 2 run vault login method aws header value fqdn of vault server role some role 3 see error
steps to reproduce the behavior 1 start a new vault with auto unseal configured 2 initialize the vault via the web ui with one key and threshold of one 3 after a while the page shows vault is sealed 4 after a few more seconds it changes to login page but i don t have any tokens or recovery keys
steps to reproduce the behavior 1 set up an stunnel to the google ldap instance config ldap vault accept 1636 cert usr local etc stunnel tls ldap vault crt ciphers edh camellia edh arsa eecdh arsa aesgcm eecdh arsa sha384 eecdh arsa sha256 eecdh camellia256 aes256 camellia128 aes128 sslv3 anull enull low 3des md5 exp psk dss rc4 seed ecdsa client yes connect ldap google com 636 key usr local etc stunnel tls vault key options cipher server preference sslversion all verifychain no verifypeer no 2 set up the vault auth backend auth enable write auth config url localhost 1636 binddn username bindpass password userdn ou users dc domain dc com groupdn ou groups dc domian dc com groupfilter memberuid username userattr uid write auth groups sre policies operators login method username aholyoake 2 enter password 3 no groups are found 2019 01 26t10 59 version z debug 58ff7e6a searching groupdn ou groups domain com rendered query memberuid aholyoake 2019 01 26t10 59 version z debug 58ff7e6a fetched from server num server 0 server
steps to reproduce the behavior 1 set up an azure sql server and a vault database within it 2 set up a mssql storage setting to point to it in etc vault config hcl 3 run vault server config etc vault config hcl 4 see resulting error above
steps to reproduce the behavior 1 run vault namespace create dev 2 run export ns dev 3 run vault secrets enable namespace ns path dynamicsecrets database postgres test database 3 run vault write namespace ns dynamicsecrets database postgres test config postgres plugin name postgresql database plugin allowed roles my role connection url postgresql username password your url 5432 postgres username vaulttest password 6abmc de f1ypnyu
hcl with inferred type hcl auto auth exit after auth true method aws config role concourse web sink file config path tmp vaulttmp token ubuntu ip 172 31 90 3 tmp vaulttmp sudo e u concourse vault agent config config hcl log level debug vault agent configuration cgo disabled log level debug version vault v version version sha error creating aws auth method missing type value json with explicit type json auto auth exit after true method type aws role concourse web sink file path tmp vaulttmp token ubuntu ip 172 31 90 3 tmp vaulttmp sudo e u concourse vault agent json log level debug agent configuration cgo disabled log level debug version v sha error creating aws method missing value
steps to reproduce the behavior 1 log into vault web ui 2 open interactive console 3 execute command read sys health or sys seal status
steps to reproduce the behavior 1 set up an instance profile for an ec2 instance with an instance profile and associated role that allows access to the kms key that will be used for auto unseal do this in a region that is not the default not us east 1 2 configure the vault server on instance with awskms seal type don t specify region 3 start vault and observe that vault fails to start because it uses default region us east 1 instead of reading region from profile
vault server dev dev root token id test export vault addr url export vault token test sleep version vault secrets enable path test kv write test a key keys a keys b read a
steps to reproduce the behavior 1 assume there s a kv v2 store available at the path a b 2 using the python hvac library you can get hold of the keys using client secrets kv v2 read secret version path a b 3 however client secrets kv v2 list secrets path a b throws up permission denied error policy used to issue token is like so path secret data b capabilities create read update delete list note i have also tried with acl set to secret data xa8c to no effect
steps to reproduce the behavior 1 setup a policy as specified in the hcl section below 2 login with user having that policy 3 from the ui you get not authorized if you access something at devops zyx but you can navigate there you don t have access to secret if think ve reached this page in error please contact your administrator go back home
these commands show two certificate signing requests one that works and one that fails input the vault root token read p vault root token s vault token export vault token identify the server export addr url set a san other name version utf8 bar generate a csr csr openssl req new newkey rsa 2048 nodes config end cat req prompt no distinguished name req dn req extensions ext dn commonname foo ext subjectaltname san san othername other name end keyout foo key sign the app certificate repeating the othername in json payload which will work curl s header x data jq n arg csr csr arg other name other sans addr v1 pki sign test role jq r data certificate openssl x509 text tee foo 1 crt sign app certificate only specifying othername in which will create an incorrect with no othername curl s header x data jq n arg addr v1 pki sign test role jq r data openssl x509 text tee foo 2 crt
steps to reproduce the behavior 1 attempt to configure vault to use mssql as backend storage 2 build configuration file 3 specify server without instance 4 port is not an option in config file and when attempting to start vault it tries find databases using default port of 1433
i am running grpc proxy v version with this configuration grpc proxy start advertise client url url listen addr version 2379 resolver prefix grpc proxy endpoint resolver ttl 60 endpoints cert file etc ssl etcd etcd proxy pem key file etc ssl etcd etcd key pem trusted ca file etc ssl ca pem key etc ssl key pem cert cacert ca debug then trying to connect to it with vault error initializing storage of type failed to get api version client response is invalid json the endpoint is probably not valid cluster endpoint disabling tls and sniffing the connection with tcpdump i realise that vault is trying to access the version api endpoint get quorum false recursive false sorted false http which grpc replies http 404 not found
steps to reproduce the behavior 1 create a database mount 2 create a database connection restricted by role 3 create a database role does not match one of the allowed roles 4 try to use that role
steps to reproduce the behavior 1 run vault server config 2 see error
try to login in the ui using a valid or not valid token with the github auth method
steps to reproduce the behavior 1 call url 2 call link again 3 see results taken from ansible output here json ca cache control no store changed true connection close content request id 8d6457cb 4fdb 06e2 d228 lease id renewable false lease duration 0 data null wrap info null warnings refusing to generate a root certificate over an existing root certificate if you really want to destroy the original root certificate please issue a delete against pki root auth null content length 337 content type application json cookies cookies string date sun 09 dec 2018 14 00 13 gmt failed false json auth null data lease duration 0 lease id renewable false request id 8d6457cb 4fdb 06e2 d228 warnings refusing to generate a certificate over an existing if you really want destroy the original please issue a delete against pki wrap info msg ok 337 bytes redirected false status 200 url url
steps to reproduce the behavior 1 run setup an okta backend with a read only admin token setup a user with okta push setup 2 login via the ui with okta auth 3 see error authentication failed okta auth failed http method post url url http status code 403 error code error summary you do not have permission to perform the requested action error causes
steps to reproduce the behavior 1 run vault on kubernetes with consul in cluster as the backend 2 enable cassandra database secrets backend url 3 runs for about 4 hours ok and then cpu spikes to double and vault crashes beyond its resource limit on k8s what should be the limit if we are generating alot of roles and credentials 100 s of credentials due to creating credentials for a keyspace per git branch deploy
steps to reproduce the behavior 1 create a policy called some policy with any content 2 try to delete it from the web ui 3 see error in console vendor js 3086 uncaught r stack error property set failed object in path should dor js 3734 15 description undefined filename undefined linenumber undefined message property set failed object in path shoulddelete some could not be found
1 create a rds mssql instance configuring vault with the master login and password 2 configure vault mssql w the sample custom revocation script 3 log in with the vault provided credentials 4 attempt to revoke the lease 5 observe user retains login and query permissions
steps to reproduce the behavior 1 login to vault 2 open web ui cli 3 write fullscreen 3 see error
steps to reproduce the behavior 1 mount azure secrets engine and wrte azure config with sp role having permissions as described on this page url authentication 2 configure a developer role giving contributor role to your subscription vault write azure roles developer ttl 3600 max ttl 24h azure roles eof role id subscriptions subsid providers microsoft authorization roledefinitions xxx scope subscriptions subsid resourcegroups eof 3 read some generated creds back vault read creds developer error reading creds developer error making api request url get url code 500 errors 1 error occurred t error while assigning roles authorization roleassignmentsclient create failure responding to request statuscode 400 original autorest service returned an status 400 code message the api version 2018 01 01 preview is invalid the supported versions are 2018 11 01 2018 09 01 2018 08 07 06 05 02 2017 12 2017 08 2017 06 2017 05 10 05 03 2016 09 2016 07 2016 06 2016 02 2015 11 2015 2014 04 preview 2014 04 2014 2013 03 2014 02 26 04
steps to reproduce the behavior 1 vault write aws config root access key abcdefghijkl secret key acvfgcbhjksluycgd jhgdpbps2x region eu central 1 above entry is dummy keys vault write aws roles my role credential type iam user policy document eof t t version 2012 10 17 statement sid visualeditor0 effect allow action iam deleteaccesskey iam getuserpolicy iam getaccesskeylastused updateaccesskey getuser listrolepolicies createaccesskey listaccesskeys resource arn aws
steps to reproduce the behavior 1 generate a csr with windows security net api 2 use rest to sign verbatin the csr 3 see error
when i m asking the url endpoint with an unauthenticated client on both instances one of the instances returns is self true in the answer and the other returns is self false when i m using an authenticated client where token is set field is self true in both cases always
steps to reproduce the behavior 1 run vault list identity group id or vault list identity group name when no groups exist
1 start 2 vault instances one backed by etcd api v2 another with etcd api v3 1 init and unseal both instances write some data to the v2 instance 1 create a migrate hcl file like hcl storage source etcd address url etcd api v2 ha enabled true path vault tls ca file source ca pem tls cert file source client pem tls key file source client key pem storage destination address url api v3 ha enabled true path vault tls ca destination ca pem cert destination key destination client key 1 run vault operator migrate config migrate hcl
steps to reproduce the behavior 1 create a new secret in a kv2 backend that has check and set as a required parameter
steps to reproduce the behavior curl s url begin certificate
steps to reproduce the behavior 1 run vault write 2 run vault login 3 see error start vault issue a list on sys plugins catalog
steps to reproduce the behavior 1 click on the introduction section link in readme md 2 see error
steps to reproduce the behavior 1 call the encrypt endpoint of the transit backend in a tight loop ideally in parallel with key upsert i e a new unknown key per call
steps to reproduce the behavior 1 call auth token lookup self remember ttl value 2 call auth token renew self with increase 10 3 call auth token lookup self ttl 10
steps to reproduce the behavior in go 1 read a secret from a location using the kv secret engine v2 2 on the secret object returned call the tokenmetadata method 3 error value returned from this call will error with either unable to convert metadata value false to string or unable to convert metadata value 1 string
steps to reproduce the behavior 1 enable totp 2 try to create a key totp keys jzarnett 40example com with the 40 intended to replace the symbol 3 see error org springframework vault vaultexception status 404 totp keys jzarnett 40example com 1 error occurred unsupported path
steps to reproduce the behavior 1 let s say i m creating a policy like this hcl path secret supersecret policy write i ll name it
steps to reproduce the behavior 1 in vault ui click create new version for a kv v2 secret 2 toggle json on 3 change some feature of the secret 4 click save 5 observe the new version is identical to the old version
steps to reproduce the behavior 1 run brew install vault with dynamic 2 see warning warning vault this formula has no with dynamic option so it will be ignored 3 run brew options vault 4 no formula options are provided
steps to reproduce the behavior 1 start a vault dev server 2 create an entity within the identity backend 3 create a group within the identity backend with the above entity as a member 4 create 20 30 groups with group created in step 3 as a member 5 attempt to read entity created in step 2 via identity entity id 6 observe memory usage of vault server small script for above sh export vault addr url id vault write field id identity name test user child group id write field group name child member ids for n in seq 1 i do write name n member ids child done read
steps to reproduce the behavior bash use vault token with admin privilege vault secrets enable path certs kv success enabled the kv secrets engine at certs vault write certs foo bar success data written to certs vault write subkey foo bar success data written to subkey cat policy hcl path capabilities list read policy write policy hcl success uploaded policy token create key value token 8ztbi5ee0vcjgxr1ecjhpuh0 token accessor duration 768h renewable true policies default identity policies policies default and subkey are both listable 8ztbi5ee0vcjgxr1ecjhpuh0 list keys n a subkey is readable 8ztbi5ee0vcjgxr1ecjhpuh0 read key value refresh interval 768h foo bar is not readable 8ztbi5ee0vcjgxr1ecjhpuh0 read error reading error making api request url get url code 403 errors 1 error occurred t permission denied in practice when using with consul template range secrets will return and while reading with the same is not possible
vault write ca foo dev pki vouchers sign verbatim pki server csr tmp blarg csr ttl 24h error writing data to ca foo dev pki vouchers sign verbatim pki server error making api request url put url code 400 errors requested ttl of 768h0m0s is greater than max ttl of 72h0m0s
define a dns setup with a name responding on srv record like what you could have with consul if you registered it as a service vault consul example com 10 in srv 1 1 80 loadbalancer213 example com have a loadbalancer configuration matching on host header to load balance requests use the vault cli to target it
steps to reproduce the behavior 1 run vault vault write auth userpass users foo password bar 2 go to access entities in the web ui 3 see error
using the vault ui but i see the same behavior in api create an identity group with name child group create an identity group with name parent group add child id to parent member list verify parent has child as member ok remove child from member of parent nok
1 start a vault dev server 2 enable the userpass auth method 3 create a user with username first last 4 authenticate as first last 5 attempt to revoke the token returned in step 4 via auth token revoke self small reproduction script in one window vault server dev dev root token id aaaaaaaa bbbb cccc dddd eeeeeeeeeeee in another window export vault addr url vault login token aaaaaaaa bbbb cccc dddd eeeeeeeeeeee auth enable userpass write auth userpass users first last password pass123 login method userpass username first last password pass123 write force revoke self
steps to reproduce the behavior 1 set up a vault server to use a tcp listener with tls with the certificate etc ssl vault vault certificate crt and the key etc ssl vault key key 2 start the server 3 tail system logs 4 replace certificate etc ssl certificate crt and key etc ssl with a new valid and set 5 run pkill 1 6 check for reload triggered e g oct 01 20 29 21 azwus dev digitalonus com 54493 reload triggered 7 check for any changed certificates presented in ui and curl responses as they should be according to url 052 march 16th 2016 url tls cert file 8 note their absence 9 raise eyebrow 10 file bug report in case it s something that doesn t just affect me
steps to reproduce the behavior 1 run vault write auth okta config base url baseurl org name org token token 2 run vault login method okta username arusso 3 see error message saying invalid token vault login method okta username arusso password will be hidden error authenticating error making api request url put url code 400 errors okta failure retrieving groups http method get url http status code 401 error code summary invalid token provided causes
scripted url manual steps to reproduce the behavior 1 launch dev vault server 2 enable approle auth 3 create a policy granting read write to an arbitrary path e g secret approle test and populate it with a secret 4 create an approle with a token ttl and period of 60 seconds and a max token ttl of 0 5 attach the above policy to the approle 6 login with the 7 renew every 30 seconds for 2 minutes 8 attempt to read arbitrary secret from above this should work 9 attempt login vault ui this should present an error stating your auth token expired on datetime you will need re authenticate
steps to reproduce the behavior 1 vault delete identity entity alias id xxxxxxxx xxxx xxxx xxxx xxxxxxxxxxxx error deleting identity entity alias id xxxxxxxx xxxx xxxxxxxxxxxx error making api request url delete url code 500 errors 1 error occurred alias was not indexed
1 mount a kv v2 secrets engine at secret data 2 do a post request at secret data key with payload data foo bar 3 get a 204
steps to reproduce the behavior 1 create aws secret engine 2 add a aws role 3 create a policy with read permission to aws creds role 3 log into ui with that policy active and try to generate aws credentials 4 receive error error 1 error occurred permission denied it will work if the update permission is added to creds role
bin bash export vault addr url export vault token devtoken function poison pill tpkill p file mktemp function vault up tvault server dev dev root token id vault token 2 1 file function unseal key grep unseal key file awk print 3 tr d function reseal operator seal operator unseal unseal key up trap poison pill exit set e sleep 1 group id write format json identity group type external name test group jq r data id tr d auth enable ldap accessor auth list format json jq r ldap accessor tr d alias id write format json identity group alias name test alias canonical mount accessor accessor jq r data tr d echo list all aliases list identity alias echo echo resealing reseal sleep 1 echo list all aliases after re identity rm f file exit 1
steps to reproduce the behavior 1 run vault server dev 2 add new auth method and select list method when unauthenticated 3 go to url 4 you are redirect to other
1 run vault with gcs storage support 2 write until gcs returns error 503 backend error which happens quite often
steps to reproduce the behavior 1 run vault version on url 2 export vault addr url on home machine 3 run vault status on home machine where the vault binary is version
curl header x vault token vault token request get vault addr v1 sys mounts and vault read format json sys mounts sometimes does and sometimes doesn t return any information about jwt mount point
steps to reproduce the behavior 1 setup vault with aws without giving it iam permissions to create actual users 2 create a role for aws within vault 3 try to generate a account through the web interface might also work through cli you ll get this error error creating iam user accessdenied user arn aws iam our aws account id user vault is not authorized to perform iam createuser on resource arn 4 afterwards check the cloudtrail logs and see that vault tries revoke the user every minute
steps to reproduce the behavior 1 start the vault process with an updated ld library path variable ld library path usr lib oracle version client64 lib vault server config etc vault vault hcl log level trace 2 enable and configure the oracle plugin as defined in the below documentation url setup 3 logs report they are unable to locate shared library files because they are not in standard paths
steps to reproduce the behavior add the following policy to a new token path secret capabilities list path secret notvisible capabilities deny
steps to reproduce the behavior 1 log into vault ui 2 create a secret with the json toggle enabled 3 paste this into the text box name connection 1 default true connection args private key json redacted projects name connection 2 default false connection args private key json redacted projects project alpha name 3 default false args private key json redacted projects project abc 4 notice that vault has replaced the array with objects 0 args private key redacted projects default true name 1 1 project alpha false 2 2 project abc false 3
steps to reproduce the behavior bin bash vault auth enable approle vault policy write bug vault bug policy hcl vault write auth approle role bugrole policies bug read auth approle role bugrole role read field role id auth approle bugrole id echo secret write f field secret id bugrole secret id echo secret write login token create policy root
steps to reproduce the behavior 1 enable s3 backend with minio cloud configuration 2 perform typical vault operations
bin bash export vault addr url export vault token devtoken function poison pill tpkill p function vault up tvault server dev dev root token id vault token trap poison pill exit up set e sleep 1 group id write format json identity group type external name test group jq r data id tr d auth enable ldap accessor auth list format json jq r ldap accessor tr d alias id write format json identity group alias name test alias canonical mount accessor accessor jq r data tr d echo lookup name write format json identity lookup name test jq data alias echo echo lookup write identity lookup test mount data echo read by read exit 1
steps to reproduce the behavior 1 add a vault node and some other machines to an infrastructure orchestrator like terraform 2 terraform apply 3 change config that forces the recreation of all machines and terraform apply 4 if another machine gets the vault server s old ip address it is still considered a vault node in the service catalog
steps to reproduce the behavior 1 enable a vault tls auth backend for example at auth cert 2 use the following command to call the api curl k l header x vault token root token request list url v 3 get a 404 error
steps to reproduce the behavior 1 have existing ldap auth method 2 set listing visibility unauth on the ldap method using the ui 3 start new session to ui and see the new lowercase ldap method 4 try to log in as ldap user but fail
vault server dev browse to vault webui log in via root token click on secret click on create secret enter path for this secret dst service ad foobar provide some random key and value i used some and value for my tests hit save error message appears error object object interestingly enough the same error can be caused by using dst service ads foobar instead of only dst service ad foobar ad replaced by ads but not by using something like ada some ad combinations work some others won t
steps to reproduce the behavior 1 using the go api set up a loop that reads the same secret repeatedly with a low timeout i used 1 second on the same system that s running instance of vault you are testing against 2 track whether secret is returned
deploy 3 units of vault in my test case use 1 mysql unit for storage and 3 units of etcd for ha storage initialise and unseal vault and validate api with vault status shutdown the etcd unit that corresponds to the first ip in the address list in the ha storage etcd section run vault status with addr pointing at any of units status error checking leader status error making api request url get url code 500 errors context deadline exceeded
steps to reproduce the behavior 1 write payload to plugin vault write customplugin action large 28mb payload 2 see error error core failed to run existence check error rpc error code resourceexhausted desc grpc received message larger than max vs
1 create a boolvar flag with default false and an envvar that is not the empty string 2 run the command with the above flag with the environment variable having value true 3 see error
steps to reproduce the behavior 1 start vault in server mode 2 attempt to start a rekey operation
1 vault server dev 2 vault auth list format json get the accessor of any backend for example token 3 create an entity in vault curl h x vault token token k x post d addr v1 identity entity and save the id 4 lauch in parallel for i in seq 1 100 do curl h x token k x post d mount accessor
tconfig vault config address os getenv vault addr tclient err vault newclient config tif err nil t tfmt println err t error error encountered setting up default configuration both client cert and client key must be provided
this is summarised so apologies if i miss something out but the root token is being provided in the header secret has three versions get v1 secret metadata mysecret http version t request id 095c 91c0 c07c c49dbfd8ca9c t lease id t renewable false t lease duration 0 data cas required false created time 2018 06 25t15 30 version z current version 3 max versions 0 oldest version 0 updated time 2018 06 25t15 41 z versions 1 created time 2018 06 25t15 30 z deletion time destroyed false 2 created 2018 06 25t15 35 z deletion destroyed false 3 created 41 deletion destroyed wrap info null warnings null auth null request 1 v3 returned get v1 secret data mysecret http 1 request id 99e030dd 723c ef19 641a lease id renewable lease duration 0 data data foo coo zip bop metadata 41 deletion destroyed 3 wrap info null warnings auth
steps to reproduce the behavior 1 run vault dev server vault server dev 2 grab unseal and root token 3 grab test script from url and populate unseal and root token variables 4 run the script 3 see error at the last step renewal of self token
steps to reproduce the behavior 1 run dev server vault server dev you may need to set the following environment variable export vault addr url the unseal key and root token are displayed below in case you want to seal unseal the vault or re authenticate unseal key root token b84fad72 ff02 a9c6 96c9 31b9cee50dbf 2 get secret foo via curl curl h x vault token b84fad72 ff02 a9c6 96c9 31b9cee50dbf x get url 3 see error request id d0e71aea 29e1 9460 877e lease id renewable false lease duration 0 data null wrap info null warnings invalid path for a versioned k v secrets engine see api docs for appropriate api endpoints to use if using cli use kv get for this operation auth null
steps to reproduce the behavior 1 open vault ui in browser 2 navigate to a listing of a secret path and refresh the browser or navigate directly to that path by pasting the url into the address bar
steps to reproduce the behavior vault secrets enable database vault write database config test dev plugin name postgresql database plugin allowed roles my role connection url postgresql username password vault test db url rds amazonaws com 5432 username amet password ametamet vault write database roles my role db name postgres creation statements create role name with login password password valid until expiration grant select on all tables in schema public to name default ttl 1h max ttl 24h read creds my role error reading creds my error making api request url get url code 500 errors 1 error occurred failed to find entry for connection with postgres
steps to reproduce the behavior 1 enable a new authentication method eg ldap 2 enter details eg under sections ldap options customize user search etc 3 click enable method 4 edit auth method 5 only method options is available
steps to reproduce the behavior for the aws auth backend 1 run vault auth enable aws 2 run vault write auth aws config client access key foo secret key bar 3 run vault read auth aws config client 4 see the access key field but not the secret key field correct behavior but not documented
steps to reproduce the behavior 1 run systemctl stop vault on the active node 2 there s the following output in the log and then nothing until vault is killed by sigkill jun 11 11 07 43 vault int 01 vault 2407 shutdown triggered jun 11 11 07 43 int 01 2407 2018 06 11t11 07 version 0200 info storage consul shutting down consul backend i ve attached a full log of process incluing is a trace retrieved by sending sigquit log txt url
steps to reproduce the behavior 1 run vault kv put secret foo test 1 key value created time 2018 06 08t08 11 version z deletion time n a destroyed false version 1 2 run vault kv get wrap ttl 60s secret foo vault kv get wrap ttl 60s secret foo key value wrapping token aebfb959 e174 ef37 9ff0 wrapping accessor 3dd357e4 4793 996e 677f wrapping token ttl 1m wrapping token creation time 2018 06 08 08 11 version 0000 utc token creation path secret foo 3 run vault unwrap unwrap aebfb959 e174 ef37 9ff0 key value http content type application json http raw body http status code 404 3 decode the http raw body echo base64 d request id 780feaed 77b9 b505 2810 lease id renewable false lease duration 0 data null wrap info null warnings invalid path for a versioned k v secrets engine see the api docs for the appropriate api endpoints to use if using cli use kv get for this operation auth null
1 open vault ui with firefox 2 go to any checkbox and click it to check it 3 notice that only the surrounding line changes from grey to blue there is no checked mark
steps to reproduce the behavior 1 create a secret console vault kv put secret foo user foo password bar 2 create a wrap token console vault kv get wrap ttl 10m secret foo key value wrapping token 65a98aa4 26ee 38a1 e4c7 wrapping accessor 89e2 c1f9 5643 wrapping token ttl 10m wrapping token creation time 2018 06 06 21 29 version 0000 utc creation path secret foo 3 unwrap console vault unwrap 65a98aa4 26ee 38a1 e4c7 vault unwrap 65a98aa4 26ee 38a1 e4c7 key value http content type application json http raw body http status code 404 decode the error echo snip wxsfq base64 d request id 96b2eba2 0a92 3bae 8aae lease id renewable false lease duration 0 data null wrap info null warnings invalid path for a versioned k v secrets engine see the api docs for the appropriate api endpoints to use if using cli use kv get for this operation auth null
steps to reproduce the behavior 1 run vault operator init 2 see failed to unseal barrier vault is not initialized
steps to reproduce the behavior 1 create an ssh config that specifies a non default known hosts location hostname version userknownhostsfile known hosts 2 ssh to the host and accept the known hosts entry ssh version f ssh config the authenticity of host version version can t be established ecdsa key fingerprint is sha256 are you sure you want to continue connecting yes no yes warning permanently added ecdsa to list of known hosts 3 make sure entry for this host doesn t exist in running normal should prompt accept host key authenticity of can t be established ecdsa key fingerprint is sha256 are you sure you want continue connecting yes no 4 use vault connect vault role bastion mode otp f config vvvv debug3 hostkeys foreach reading file users mick failed run command exit status 6
vault server dev dev root token id foo export vault addr url export vault token foo sleep 3 vault kv put secret a b c e f echo path capabilities read update create list delete tmp policy json policy write test tmp policy json token create policy test fg then login using the token given and go to any dir press refresh button or directly load an url like url try to click on an item links to secret a bc
1 opt vault write pki issue role common name username ttl 2 opt vault list pki certs keys 68 21 c2 42 47 5d f9 c3 7a 73 fc f3 c0 54 3e ec 98 4d a6 a8 3 opt vault read format json pki cert 68 21 c2 42 47 5d f9 c3 7a 73 fc f3 c0 54 3e ec 98 4d a6 a8 jq r data certificate openssl x509 noout text grep not after not after may 26 00 59 11 2019 gmt 4 opt vault write pki tidy tidy cert store true safety buffer success data written to tidy 5 list certs keys 68 21 c2 42 47 5d f9 c3 7a 73 fc f3 c0 54 3e ec 98 4d a6 a8 6 write tidy cert store true safety buffer success data written to 7 list certs no value found at certs
steps to reproduce the behavior 1 run a vault write command many times repeatedly 2 observe a 5 second delay in some cases
create a new vault installation mount a secrets engine on web try to insert a key
steps to reproduce the behavior 1 run vault write database roles my role db name my mysql database creation statements create user name identified by password grant select on to name default ttl 20s max ttl 1m output success data written to database roles my role
vault kv put secret trafficgen test test vault kv get secret trafficgen metadata key value created time 2018 05 21t14 19 version z deletion time n a destroyed false version 5 data key value test test i ve also tried escaping a bit with no luck
1 vault write test pki roles user 2 vault read test pki roles user returns key bits 2048 key type rsa 3 try to sign an ec csr using vault write test pki sign user 4 get error role requires keys of type rsa
steps to reproduce the behavior from pytorch transformers import automodel model automodel from pretrained gpt2 this only happens with the gpt2 shortcut not others gpt2 medium etc 564 magic number pickle module load f pickle load args 565 if magic number magic number 566 raise runtimeerror invalid magic number corrupt file unpicklingerror invalid load key contents of the downloaded file xml version version encoding utf 8 error code accessdenied code message access denied message requestid requestid hostid gpdcan zjba0gnn7hjc4crqpa hostid error
robertatokenizer from pretrained distilroberta base this will yield an error oserror model name distilroberta base was not found in tokenizers model name list roberta base roberta large roberta large mnli we assumed distilroberta base was a path or url to a directory containing vocabulary files named vocab json merges txt but couldn t find such vocabulary files at this path or url
steps to reproduce the behavior 1 start run ner py with evaluate during training 2 during evaluation the error will happen
just run the colab from the link i posted above the main part of the code is input ids torch tensor tokenizer encode links hello my dog is cute unsqueeze 0 to device inputs input ids input ids with torch no grad past none for i in range 3 print i logits past model inputs past past logits logits 0 1 next token logits argmax input ids torch cat next token view 1 1 dim 1 inputs
steps to reproduce the behavior here is the code import requests import os import tarfile import zipfile multiprocess json if not os path exists tempdir os makedirs tempdir download scibert weights and vocab file urllib request download the file from url and save it locally under file name urllib request urlretrieve url scibert tar untar weights tarfile tar tarfile open scibert tar r tar extractall close extract weights tarfile open scibert scivocab uncased weights gz r gz extractall scivocab uncased close os listdir scivocab uncased pip install pytorch pretrained bert from pytorch pretrained bert bertmodel as oldbertmodel works oldbert oldbertmodel from pretrained content scivocab uncased gz cache dir tempdir pip install transformers from transformers bertmodel as newbertmodel doesn t work newbert newbertmodel pretrained content gz cache dir tempdir 321 result consumed self buffer decode data self errors final 322 keep undecoded input until the next call 323 self buffer data consumed unicodedecodeerror utf 8 codec can t decode byte 0x8b in position 1 invalid start byte for convenience here is a colab notebook with code that you can run url
steps to reproduce the behavior 1 use pytorch tranformers library version 2 use sample sequence from run generation py on gpu 3 use tranformers library version 4 use sample sequence from run generation py on gpu 5 step 4 is running 5 times slower than step 2
steps to reproduce the behavior run the following bash from transformers tokenization gpt2 import gpt2tokenizer tokenizer gpt2tokenizer from pretrained gpt2 tokenizer add special tokens sep token sep this works outputting sep tokenizer convert tokens to string tokenizer convert ids to tokens encode sep this fails decode encode the last command gives this error miniconda3 envs deepnlg lib python version site packages transformers tokenization utils py line 937 in decode text text replace self cls token self token typeerror replace argument 1 must be str not none
steps to reproduce the behavior corpus transfoxlcorpus lower case true delimiter corpus build corpus example dir text8 traceback most recent call last file build xl corpus py line 26 in module build example dir text8 file home tom local lib python version site packages transformers tokenization transfo xl py line 521 in build os path join path train txt ordered true add eos false file home tom local lib python version site packages transformers tokenization transfo xl py line 187 in encode file encoded append self convert to tensor symbols home tom local lib python version site packages transformers tokenization transfo xl py line 246 in convert to tensor return torch longtensor self convert tokens to ids symbols nameerror name torch is not defined
steps to reproduce the behavior 1 when i run without amp training works as intended if i train at amp level o2 training runs as intended 2 running with amp level o1 leads to an error runtimeerror expected scalar type half but found float 3 i have verified that there is no model eval and that scaled loss and clip grad norm calls are the same as prescribed in the example 3 examples of model initialization train loop and error are below
steps to reproduce the behavior 1 2 3
steps to reproduce the behavior 1 create tokenizer tokenizer xlnettokenizer from pretrained path 2 try to decode index 4 tokenizer decode 4 3 you get empty list although expected is a string
when i load the gpt2 large model in the same way as gpt2 and gpt2 medium i get an nonetype when loading the tokenizer self tokenizer gpt2tokenizer from pretrained gpt2 large bos token start unk token unk eos token eos sep token delimiter cls classify pad pad self model gpt2lmheadmodel from pretrained large at this point in the debugger self tokenizer none is true issue is clear when i try to use tokenizer file train py line 70 in load num added toks self add special tokens special tokens dict attributeerror nonetype object has no attribute add special tokens
steps to reproduce the behavior 1 run the following code python from pytorch transformers tokenization gpt2 import gpt2tokenizer tokenizer gpt2tokenizer from pretrained gpt2 tokenizer add tokens special token encoded tokenizer encode special token tokenizer decode encoded 2 currently i get the error keyerror traceback most recent call last ipython input 5 in module 1 decode encoded miniconda3 lib python version site packages pytorch transformers tokenization utils py in decode self token ids skip special tokens clean up tokenization spaces 665 token ids skip special tokens skip tokens 666 667 text self convert to string filtered 668 if clean up tokenization spaces 669 text self clean up text miniconda3 lib python version site packages pytorch transformers gpt2 py in convert to string self 187 converts a sequence of string in a single string 188 text join 189 bytearray byte decoder c for c decode utf 8 errors errors 190 return 191 miniconda3 lib python version site packages pytorch transformers gpt2 py listcomp 0 187 converts a sequence of a single 188 join 189 bytearray byte decoder c for c utf 8 errors errors 190 return 191 keyerror
steps to reproduce the behavior python pretrained tokenizer gpt2tokenizer from pretrained gpt2 vocab file merges file pretrained tokenizer save vocabulary new tokenizer gpt2tokenizer vocab file merges file unicodedecodeerror occurs here
steps to reproduce the behavior 1 2 3 error message i got is error pytorch transformers tokenization utils using sep token but it is not set yet and then the next sentence that it predicts has nothing to do with my given sentence
steps to reproduce the behavior 1 have a tensorflow checkpoint 2 convert it with python pytorch transformers gpt2 path to checkpoint path to save model 3 run python run generation py model type gpt2 model name or path path to saved model top p version prompt hello huggingface this results in the following error traceback most recent call last file run generation py line 195 in module main file run generation py line 175 in main context tokens tokenizer encode raw text attributeerror nonetype object has no attribute encode
steps to reproduce the behavior 1 finetune a cased model with do train and do eval the latter is optional 2 use do eval to make predictions
steps to reproduce the behavior 1 run the glue example from documentation on a multi gpu machine with 4 gpus the only change i made was switch the base model to bert uncased base and number of gpus to 4 2 training completes fine 3 script tries to evaluate hangs at 08 09 2019 18 02 56 info main loading features from cached file home taavi hackathon glue data mrpc cached dev bert base uncased 128 mrpc
add ion datetime value null ion datetime the console will show error once opened cannot close it
to reproduce the error please fork the project on github and clone you will run npm install to get all dependencies installed and after you can build the application
create an app with two routes the second page presents a modal navigate from the first page to the next present a modal on the second page press browser back button browser returns to first page but modal is not dismissed
create ionic blank project add ion searchbar component in the toolbar call focus function of the searchbar test in ios version safari app or ios version with cordova and see that nothing happens if you switch to another app and then return to the ionic app the searchbar gets focused and keyboard is shown
1 implement ion select without ion item it was necessary for our design 2 add an attribute interface popover or action sheet 3 write eror msg to be visible in case nothing was selected from options
1 pull this code url 2 excute cmd ng serve open 3 access this page url and click on tab item
create a small form like this form submit onsubmit event settingsform formgroup userform class zns form ion list ion item ion label position floating nope ion label input formcontrolname age step 1 type number input item list form type in a value such as 10 an leave the input
1 navigate to a page which has an ion back button component using navcontrollers navigateroot method 2 note that the back button is visible when it should not show
use the following code hen double click the picture
example repo url this works handler this itemlist splice this itemlist length 1 1 this itemlist itemlist does
ionic version angular version zone js version opening i e navigating to a page with many many ionic components while taking profile on chrome inspector s performance tab searching for detectchanges will tell you a large number of change detection has run
make a page with a ion input field add clearinput to the field type in field press on x to delete content
specify target es2015 in tsconfig json of any ionic angular app run it on chromium 53
1 simulate the ionic project in ios simulator or build the ionic app and send to iphone 2 tap the input and do not touch anything more thanks so much
1 change the background to a dark color 2 add the ion skeleton text component to the page 3 change the variables provided by docs url css custom properties
i tried the app in edge please take a look above
1 put a button on a page 2 set its fill to outline or clear 3 hover over it 4 the hover color should be about a 40 transparency but it is a 4 transparency
create a page with a list of items to scroll through clicking on one of these items opens a modal panel make up and down swipe gestures on this modal panel close modal panel and notice the page in the background has been scrolled instead
1 set disabled property of ion refresher equal to true 2 change that property value to false 3 ion refresher is still hidden not working
the following codepen will reproduce this url if you comment uncomment the following line it will force a reload and you ll see the selected tab changes between tab one and tab three console log comment this out to force a reload
add a ion header with an ion toolbar
you can reproduce this error by visiting the already live demo app here at this exact url url then pressing the back button in the header
default default url pulling pulling url end end url
simply having a ion footer element that is pushed up by the keyboard preference name keyboardresize value true
1 checkout the material drawer content size branch from url 1 npm install 1 ng serve
1 create modal 2 create an android build with the prod flag 3 fail build because the modal is part of the declarations of 2 modules 4 resolve the issue with stack overflow solution found here url 5 fix all problems finally open on device with ionic cordova run andriod device livereload 6 opens directly on modal not home page 7 read 15349 and have same issue of it opening up modal as other person 8 read 15491 try all combinations of args to pass to modalcontroller dismiss but nothing works 9 get mad at 15349 as no solution was ever posted
ion slides ion slide ngfor let slide of slides let i index text justify multiple text here ion slide ion slides
1 add ion searchbar on page 2 launch app on device 3 focus on ion searchbar 4 scroll page to bottom and see that height of scroll is too big
open the ionic conference app with a notched android phone or on an android emulator running android p or above so that a notch can be added programmatically to test then add this statusbar overlayswebview true in the initializeapp function located in app components ts before running the app img width 319 alt screen shot 2019 04 01 at 2 47 27 pm src url img width 315 alt screen shot 2019 04 01 at 2 46 48 pm src url but this is handled fine on ios img width 384 alt screen shot 2019 04 01 at 2 49 27 pm src url
just use safari10 to visit the official demo url linked below url test with simulator iphone 5s with ios 10 and also real device iphone 5s iphone 7 with ios 10 same problems appeared see error ionic iphone ios10 url
1 clone url 1 npm install 1 ng serve open url and click the go to canvas page using ion content link the console logs will print canvas size on view init 0x0 canvas size after timeout then go back to the homepage and click the go to canvas page using div content notice how console logs have changed to size on view init size after timeout only difference between two pages routes is that on first page component is placed inside an ion content ion content element while on second page component is placed inside a plain div div
navigate back from any page to a page with the fullscreen attribute on ion content observe the ion header appearance vs w o the fullscreen attribute
create a new ionic react app with tabs routing
create grid with rows and cols and fill them with an item and label
1 create an ionic v4 app link to be provided below for reproduction 2 create an ion list with an item containing an ion item option with the disabled attribute set to true 3 run the app 4 slide the item to the left 4 observe button is still enabled
1 clone url this is the blank starter project with an added page with a candeactivate guard that always returns false 2 run npm install 3 run npm run start 4 open the served page in chrome and open chrome developer tools 5 enable the device toolbar and choose an iphone as the simulated device 6 reload page so that simulated user agent is used 7 click go to page two button 8 click drag from left edge towards right to simulate a back swipe 9 observe that you could swipe back to home and that you can t click go to two button
1 use the sample app ionic start myapp tabs 2 to make it more obvious i cloned the existing ion items in the list to have more content area to scroll 3 then run ionic serve and start ios simulator 4 start safari in the ios simulator and visit localhost url provided in console when running ionic serve
open stackblitz below click datetime to open picker
1 create new lazy loaded ionic project with tabs template 2 head over to tab1 and add a new button which on click performs this router navigate relativeto this activatedroute 3 set up a subscription in the page to the latest data from the activatedroute data stream this activatedroute data subscribe val console log val
show toast on screen try to make it full width
run ionic serve when the page is loaded selecting other menu item cause flicker it only happens once on freshly loaded page a refresh triggers it again
see sample app url 1 click test 2 scroll down to note ion textarea and focus it the keyboard appears and the field is not vissible 3 now focus default label the keyboard appears but the field is still visible
1 create a project using ionic v version 2 create an ion select with interface popover ion select slot start interface popover interfaceoptions cssclass custom popover ngmodel language ionchange onlanguagechange event ion select option value fr french ion select option option value en english option 3 put in page css file host custom popover radio color checked red for simplicity i used a direct color
after upgrading to version old apps stop working new apps never work
1 create new project with version version 2 in app component html add the sample example found in ionic documentation regards ion item sliding 3 swipe from left to right or vise versa issue will be generated
1 in new application create a virtual scroll in the home page binded to a list of items which is empty at first 2 asynchronously fill the data array without user interaction
npx cap add android ng build project foo configuration myenv cap copy it generates a gradle project with firebase gradle fails on this dependency
use any component extending overlaybasecontroller and call the gettop method without any alert currently present with the alertcontroller for example returned object will be of type promise htmlionalertelement while it should be promise htmlionalertelement undefined
use ion checkbox in a simple html and run lighthouse audit from chrome it shows the following error for accessibility 1 buttons do not have an accessible name when a button doesn t have an accessible name screen readers announce it as button making it unusable for users who rely on screen readers failing elements button type button
create any ion input element and try to override or set text indent especially when you are trying to use image background for this input
use the component ion select with multiple true and value initialized with a list of comma separated values the values are valid values in the children ion select option with only one value in the value property component works as expected
change any variable color from variable css example if change the primary color to black when on android 5 or 6 it will display blue instead do not work even if we create a custom variable color it will display blank
create a component with ionic slides element export that component and import into a page add multiple copies of that component and try to resize the screen to observe responsiveness when only one slide component exists it will respond well if there is more than one only one will behave as desired
1 open dealers page 2 click on any dealer s card 3 dealers item subpage is opened 4 click on any menu item e g news 5 subpage won t dismiss selected root page news isn t opened
1 add ion slides pager true ion slide 1 ion slide ion slide 2 slide slides 2 view on a device with safe area e g iphone 10
1 create a page 2 add the code snippet below 3 notice that the content disappears
1 create a new ionic project i replicated this with tabs 2 in tab1 page html add an ion button i used this ion button color primary expand full type submit button type block test ion button 3 run the project the primary color is not applied the is not expanded to full width
the issue happens when the function is called or when the code reads the console log
see the following codepen open the top and bottom layout items url
1 create a new angular app using the angular cli ng new my app 2 add deps ionic core ionic angular 3 add an ionic angular controller injectable to app component 4 npm run start 5 view above error in console
git clone url cd ion list test npm i npm run start open url in firefox scroll down click an item click back button scroll position is at top
1 ionic start test sidemenu 2 ionic cordova run android on an adnroid version device
just rebuild below git repo url
use ion datetime on different platforms and see that the values returned are not consistent
create a link to another page with animated false on the page that your app loads after booting the link will still animiate to the next page on the first click tap clone repo to see an example url
1 create an ionic app 2 set the mode to md ionicmodule forroot mode md 3 create an ion list and a single ion item that has a routerlink which routes to another page 4 run the app on a device or an emulator 5 click the ion item ripple effect bug url
ionic 4 project
create fresh ionic tabs project ionic start myapp tabs
setting ion tab bar with translucent true and adding content to the page to make it scrollable then test and see if you can see the content scrolling under the tab bar
add the code below to a barebone ionic application and navigate to any page
install ionic latest create a new project run ionic serve c or ionic serve devapp in your devapp see if the application shows up it should not
use one of these components in md mode without specifying an icon
i have a simple test example web app in visual studio code which i am happy to supply but stackblitz says it does not support some of the file types yet i don t know how else to show you file structure src app home src app payments src app usage
add new ionic project apply zoomin animation from animate css library
create a component that uses candeactivateguard like in the related code when canleave is false and you swipe to go back you are still able swipe the page away while the alert is open
just add this code to a blank ionic 4 app ion item ion label position floating select ion label ion select select option value nes nes select option option value n64 nintendo64 option value ps playstation value genesis sega genesis saturn sega saturn snes snes item then run on ios try tapping on the floating label it will not trigger the however if you tap outside the range of label it will work on android this is working perfectly
1 create an action sheet with a long subtitle
just click the input field and it appears
1 open this codepen url verify the div is not displaying even though it has display block adding important does not override either 1 open this codepen url see that the div is displaying properly when ionic is not included
please refer to the blog post documented above
in virtual scroll add several items sliding dynamically and update the list
1 create a scss file mixin i e file src scss media scss layout breakpoint xs 200px mixin media xs media max width layout breakpoint xs content 2 import it in main scss file src index import media 3 use the mixin in component s my page component import src my page title include xs display none
either set the placeholder text in html statically dynamically as the result of some event or even programmatically in typescript all roads leads to rome and broken floating labels
see github repo url
create ionic 4 tab starter and add ion footer with ion toolbar inside
ion item color primary lines none ion icon src assets icon icon svg slot start ion icon ion label label label item
1 prepend the following two css variables to root in variables css this will add background contrast to make the issue noticeable css root these examples use the same color lightsteelblue ion background color b0c4de ion background color rgb 176 196 222 2 add the following to any component s template html ion header ion toolbar title tab two title toolbar header content h3 demo to illustrate range issue h3 p when display toggle is in its unchecked position brightness level range component is incorrectly styled as a workaround night filter component never gets disabled by its html attributed but receives a css class that will simulate it as disabled p list item toggle displaytoggleui toggle label display label item item range disabled displaytoggleui checked false min 10 max 100 label slot start brightness level label range item class disablerange displaytoggleui checked min 10 max 100 slot start night filter list content 3 as a workaround and as night filter demostrates above add following class be applied component s template disablerange pointer events none filter grayscale 100 opacity 25
1 create formdata variable 2 append the api parameters key value pairs 3 send the post request 4 subscribe the result
put a ion img in a red div i have a red space behind the img element div style background color red my ion img src url my ion img div
it s very easy to duplicate the issue just create a new ionic project with ionic version version and create a number of pages on that project and insert a number of click events you will get the problem
add a viritual scroll to a page and initialize with some items and update the list with new set of data
just declare the ion slides on the html and import the slides on the ts file
check example repo 1 add an ion checkbox or ion spinner to a blank ionic v4 project 2 add cordova crosswalk 2 run on android device
check below code
use ionic source code core src components modal test basic and add to test ion slides first time when modal is opened everything is ok second time that modal is opened it is unresponsive if you change ion button in test with anchor tag everything going to be ok
create ion select and try to add as option eg ion icon
1 instantiate a new loadingcontroller with await this ionic loadingcontroller create 2 attempt to call any method on it 3 receive an error that the newly created loadingcontroller is undefined
clone the pwa toolkit and add a ion select with interface popover
create ion datetime select february in days will be 29 31 exit ion datetime select ion datetime again only now the number of days will update to 28
1 install ionic core on a barebones cordova project 2 include some form of the ion spinner ion spinner tag on a working page the test repo uses the loadingcontroller to demonstrate other components are working as intended 3 load the app onto a phone may or may not show incorrectly
add a simple ioninput component html ion item ion label position fixed floating label ion label ion input input item with the following css css item padding start 0px padding end 0px
create a new project and add an ion date time in its home page build without production mode and run the app in an android emulator or android device and scroll through options of the pickers to get the warnings build in production mode and run the app in an android device scroll through options of pickers to get errors
create a page with ion content set with background image like below ion content background url assets images ica slidebox img 1 png no repeat 50 10
create an ion button with fill outline in the css set ion button variable border color linear gradient to left fff 0 000 100
use tabs example project runs on android device while tab1 is active press hold tab2 for seconds then release you will see tab1 and tab2 are both in active state color
see current behavior for instructions to reproduce the issue
create ion range with dual knob next change their values from code
issue demo repo url 1 clone the repo 2 make sure the latest ionic version is installed 3 run ionic serve 4 close the alert which shows on page enter 5 click on on the ion button in content section of page tab1 page 5 on opened page some click back button 6 verify that there is no alert showing up anymore
use default tabs template and place into tabs page html lt ion header next remove lt ion header from tab1 tab2 tab3 lt ion header will overlay the content
1 create a new ionic app 2 add preference name keyboardresizemode value body to config xml 3 add a button that opens ion alert with an input 4 ionic cordova run ios l c buildflag usemodernbuildsystem 0
start with the ionic
select an ion input when the keyboard is open select an ion input below it the second input should be positioned somewhere halfway under the header
use the related code below tap to select an option on the home page the popup is pink by default i have set viewencapsulation none in home page ts comment that line out and reload app tap to select an option on the home page popup is white
i ve written a test tabbed app url app consists of two tabs tab one and tab two tab one has test navigation buttons that navigate to tab two using various parameters i have 2 routes in the two module for tab2page one is the default empty route and another allowing for an id pointing to the same page registers listener for the data and queryparams events and displays them also has a test button which re navigates to itself using relative paths a random queryparam test 1 using empty route to tab2page 1 on one click only queryparam 111 button displays correctly with correct events 2 click calling tab2 with a random parameter multiple times parameters are correctly received via events displayed on page 3 go back click only queryparam 222 button this navigates using same route but with different queryparam
i tested this on honor 10 and redmi note 6 pro both have version android version and android system webview updated as 6th february 2019 so why is it stuck on white screen forever i am using ionic cordova run android which builds the app directly on my phone through usb
create a method to display toast public async showoffline const toast any await this toastctrl create message you are offline duration 5000 await toast present detect when user is offline this connectionservice monitor subscribe isconnected this log debug isconnected isconnected if isconnected this alertservice showoffline online false else online true i m using package ng connection service
above pasted code should be sufficient
1 we need an ionic page with a tab bar and at least two input fields 2 click on an input field keyboard is shown tabbar hidden 3 click on another input field while the keyboard is still shown 4 keyboard will be still shown correct but the tab bar will be shown too
create an ion button with color attribute deploy on ios simulator then tap the button it works if the color attribute is removed ion col ion button expand full color warning text uppercase click onloginfunction event login ion button col
use popover controller and pass in event from the click event on an element
see the following codepen url remove the important s
follow the documentation will not work
create a new project by using a starter template ionic start tabs add generate additional service ionic generate service services test import native file in this service class import file from ionic native file add a file to the constructor of the service constructor private private
1 change the status of a formcontrol using the angular forms markasxxx functions 2 inspect the dom and check the ng xxx and ion xxx classes applied to corresponding ion item 3 ng xxx classes are applied ion xxx classes don t
1 download any starter as a base 2 add a simple ion input element to a list or any other structure 3 build and run on for ios automatically uses wkwebview plugin 3 x ezgif 2 url ion input clearinput value clear me ion input
1 use the starter app with the latest wkwebview plugin 3 x add multiple inputs text to a page 2 build for ios and run on ios 3 select any input keyboardwillshow and keyboarddidshow will be properly triggered the keyboard appears and the tab bar disappears 4 with keyboard being still open select another input field triggers keyboardwillhide and keyboarddidhide does not trigger show didshow events thus letting tab bar reappear on top of keyboard messing around with view height calculations ezgif 2 url
1 setup a new project with angular type ionic start myapp tabs type angular 2 open webstorm open the tab2page class and create an alert and try to get intellisense for example the dismiss method of the htmlionalertelement
below is the code as reference let me know if i am doing anything wrong
describing the steps according to what we faced 1 searched for a particular filter got the list infinite scroll works perfectly 2 when the whole list is retrieved scroll event been made true infinite scroll event is disabled by event target disabled true 3 searching for another filter got the list which is not complete this time since scroll event is diabled it won t work so we tried making it false enabling listener using this infinitescroll disabled false but did not work
just add a video to new ionic project see url
the error occurs when you run the following command ionic cordova build android prod generates chunk cordova cordova js cordova version kb entry rendered error in common js from terser typeerror cannot read property minify of undefined at minify home vini projects minify error node modules terser webpack plugin dist minify js 175 23 at module exports home vini projects error node modules terser webpack plugin dist worker js 13 40 at handle home vini projects node modules worker farm lib child index 44 8 at process anonymous home vini projects node modules worker farm lib child index 51 3 process emit events 197 13 emit internal child process 828 12 internal process next tick 76 17
1 create a new blank project ionic start myapp tabs type angular 2 add to home ion icon name arrow up ion icon and ion icon name settings ion icon 3 witness the desperately empty place of arrow up try not to cry cry a lot
see related code
installed npm and cordova ionic cordova plugin add cordova plugin android permissions npm install ionic native android permissions inject in service androidpermissions from import androidpermissions from ionic native android permissions ngx
ionic start footer bug blank add the following code to the end of home page html ion footer ion buttons slot start ion button ion icon slot icon only name arrow round back icon button back buttons buttons slot end button icon slot only name arrow round forward button forward buttons footer
just use any ionic demo app and change the router outlet to have a name something property
add icon svg to project in assets folder set ion icon tag to src to svg set a custom color in variables scss check the icon in browser
the following images of a ionic page shows the behavior the pink area is the contenteditable div
try to override the background variable for a button like this html ion button color primary test ion button
two pages in tabs with implemented oninit try at least to execute console log
this is a very simple page with 1 input field it can be tested on ios and safari and then on chrome inputting works on chrome but won t work on safari and ios even chrome in ios url
1 create a new folder name it like
1 use steps from docs to open a action sheet modal 2 create a class in your scss file like the one below match item action sheet border top left radius 10px border top right radius 10px 3 now provide the css class name to cssclass attribute in options of action sheet controller as shown below const actionsheet await this actionsheetcontroller create mode md cssclass match item action sheet red buttons 4 you can see your class is not applied to modal
implement virtual scroll with a custom component inside of it
just two tabs and another page outside of this really simple to reproduce
1 create ionic 4 project 2 add ion select with 2 options 1 with very long text and 1 with short text 3 open the ion select the first element should display only 30 40 characters and hyphens ios example image url md example image url if you do the same with an ionic 3 project this should show properly both of the lines ios example image url md example image url
1 new project 2 add ion img code 3 build using above command with base href 4 start a web server with the application running on the same root path as base href 5 note the image does not render properl
ionic start myapp sidemenu type angular
create an alert with alertcontroller add a checkbox and set the disabled property to true
create react app myapp using cra version cd myapp npm install ionic react ionic core add to index js import registerionic from ionic react registerionic npm star
add some slides to a page added images to those slides make them zoomable zoom and slide
add the related code to your build and you ll see what i mean
initialize a typescript vue application with vue cli and install ionic vue as a dependency
introduce a 100ms delay between oninit and populating the control
1 create new blank app using ionic start myapp blank 2 replace the ion content in the main home html template to be as below ion content padding ion item ion label position stacked test label select placeholder select one select option value f female select option option value m male option button slot end color primary click test test button item content 3 add a test handler function inside home ts 4 run the app and click on button note that it will always open a dialog and will never invoke function
use an ios device such as an iphone or ipad using the github repo sample you will find the first dropdownlist to be unusable if you want to select the last item in the list as you attempt to scroll down list it closes on you second dropdownlist shows a workaround i found and should help to find root cause of problem at hand basically ionic interprets a touchend event in this context in a weird way maybe it steals focus
first open a page in a modal const loginmodal this modalcontroller create component loginpage loginmodal then modal modal present then navigate within that modal to a new page using the router this router navigatebyurl tests products list
create a page that navigates to another one this navctrl navigateforward user info go back in the child view ionviewdidenter this navctrl navigateback home
set a button with a disabled property attached to an angular component property switch the property from true to false and see the changes are not reflected once the button gets disabled it reamins this way
start a new project i used the sidemenu project add color primary and mode ios on the ion toolbar element in home html
running the following project repo url and navigating to the testpage the back button won t show up even though it should
create an ion toolbar with ion searchbar inside it and add the color attribute to both elements
check out ionic conference app git clone url call ionic serve use android device with firefox browser to open served web app go to schedule page and scroll up and down
create a formgroup with a formcontrol bound to an ion toggle notice that the formcontrol does not react to any ion toggle state modification
1 create a new ionic 4 app using
i integrated 4 slides with slideoptions with loop but the looping is not working correctly if i disable loop property it is working fine
rc 1 rc 2 codepen io simonhaenisch pen dwbpwj url codepen io simonhaenisch pen egbamw url
1 create a new ionic 4 app and add 3 or 4 slides or take ionic conference app and upgrade to version rc 2 2 build project for ios 3 install on device or run in simulator and change orientation
navigate to a page with router navigatetourl or router navigate directly when entering page either swipe or click at ion back button in header video here url
take url and change the for loop in the constructor to push only a couple a values
1 create a sidemenu app with ionic cli version 2 replace ion router outlet with router outlet
upgrade to rc2 and attempt to fire a method when clicking on toast buttons
see code and screenshot below
use edge on a fab button inside a tab bar
create a project with two pages and two navigation options that passes any arbitrary query parameter on one option navigate using navcontroller navigateforward on the second opton navigate using angulars router router navigate on the second page inject activatedroute and oninit subscribe to activatedroute queryparammap logging the parameters passed
create any kind of ionic app open a modal try to navigate with the keyboard over elements in the page you can also use a phone and turn voice assistant then try to navigate over the elements on a mobile phone is even worse as the modal becomes full screen yet navigation still starts on underlying page elements edit added a video to explain issue modalissue url
1 create a basic cordova application with dependencies listed below 2 add a basic ionic tab example such as the one found at the beta tabs api example url 3 launch on a physical device i e cordova run device
ionic serve lab
create a new project based on blank ionic start select blank locate the home page html duplicate the p in the home page several times to create a long content page compile it for android try to scroll and you will see the problem
tried updating plugins changing the base tag to which fixes the asset location issue but then it messes up the router
create a page containing an ion checkbox and run the project on ios
here s a repo url don t mind the repo name bug might not come from capacitor ng serve go to the browser and click on open modal ionic asks to add modalpage to entrycomponents uncomment entrycomponents modalpage from app home home module ts go back to the browser and click on open modal it works use capacitor for android compile and starts it in debug mode capacitor logs component modalpage is not part of any ngmodule or the module has not been imported into your module uncomment modalpagemodule from app home home module ts if you go back browser modal always shows up same problem if you rebuild and recompile for android
download ionic team s conference app url run npm i npm audit fix ionic cordova build ios ionic serve icons show in the ionic serve opened in firefox or chrome on localhost 8100 but not on the simulator of ios if build is ran and deployed by a node server icons cannot be seen as well
1 use ion split pane with a menu on the left page and a lot of overflowing content in the right page see related code 2 create an ios cordova build 3 run on ipad 4 scroll the right pane and while it is still scrolling try to tap on a menu item in the left pane only responds when scrolling has stopped
in a page create an array of objects testarray name test1 name test2 name test3 in the template populate a row with the following template ion virtual scroll items testarray tr virtualitem let item t td item name td tr ion virtual scroll if we replace tr tags with ion item the error disappears and it renders the elements in dom but elements are not visible
see related code
1 create ionic4 rc1 project 2 add bellow code 3 see result
drop the snippet below into an app
create new app based on sidemenu template ionic start inspecttest sidemenu type angular add android platform ionic cordova platform add android build for android ionic cordova build android copy apk to device launch app on device open chrome inspector for the app chrome inspect devices click around in the app i ve had success reproducing by opening the side menu and tap dragging on one of the menu options maybe it s related to animations once i close inspector window i m unable to reproduce issue
for min bug use the code below and scroll down to feb days between 1 and 11 are to available unless you click done and open again ion datetime displayformat dd mmm min 2019 01 11 ion datetime for max bug use the code below and scroll down to day 30 scroll down to may you will be able select a date after 2019 05 11 ion datetime displayformat dd mmm max 2019 05 11 ion datetime
1 set disabled property on ion segment button 2 bind disabled property to variable which can be interactively changed to true or false 3 when set to true the tab becomes active but the tab gives the impression of being disabled 4 select the tab and see opacity change back to normal
ionic start myapp tabs type angular replace tabs page ts with the following contents import component oninit viewchild from angular core import iontabbar from ionic angular component selector app tabs templateurl tabs page html styleurls page scss export class tabspage implements oninit viewchild iontabbar tabbar iontabbar constructor ngoninit this tabbar el onclick console log this tabbar selectedtab
1 create an ionic tabs starter 2 in the tabs page scss file paste ion tab bar background grey ion tab button color blue color selected red background focused orange 3 run ionic serve and preview in firefox don t see it working in other browsers either 4 move along the tab buttons by using the physical tab key on the keyboard 5 observe that when a button receives focus its background remains unchanged
with a ios version device plugged ionic cordova run ios device
use icons in html ionic cordova build ios run on device from xcode
start a new blank rc 1 app include the demo code from the docs problem is reproductible with other ion slides templates build for production ionic build prod start app in browser tested in chrome version official build 64 bits safari version version firefox version 64 bits
serve the template code below with prod flag
after upgrade ionic angular to version rc 1 and built the codes into a release apk on a linux machine with os ubuntu version and open jdk8 the issue appeared and i ve tried to build the same codes on a windows machine with android studio and oracle jdk8 things went well without the issue i downgrade ionic angular to version rc 0 repeat build in linux environment it goes well again
1 create a new page 2 add a div content in the footer section 3 add swipe event
git clone url ionic cap run ios livereload i think this might be related with navcontroller the same approach was working just fine in last ionic beta 19
from my sample it s a fresh app from blank template 1 open modal from modal btn 2 write something on the input x 1 then tap cancel button test other button from the home screen if they work 3 if they work open modal modal btn write something on the input x 2 then tap cancel button test other button the home screen if they work 4 if they work repeat step 3 by writing something in next input till in home screen stop responding in my case bug happend on 4th input on my nexus 6p and a pixel 2 it happend 6th text a nexus 5 so it can be different depending phone i guess
1 create a new blank project ionic start test blank type angular 2 fill home page content with inputs ion header ion toolbar ion title ionic blank ion title toolbar header content item label position stacked input 1 label input input item item label position stacked input 2 label item position stacked 3 position stacked 4 5 6 7 8 content 3 in appcomponent hide the statusbar export class appcomponent constructor private platform platform private splashscreen splashscreen private statusbar statusbar this initializeapp initializeapp this platform ready then this statusbar styledefault this hide line causes the problem splashscreen hide 4 run on android device click on an keyboard will cover some inputs inputs cannot be scrolled into view
example in ionic4 documentation shows the issue url list look at preview not ios example
create an elm app and an ionic app run the elm app and then run the ionic app onto an emulator without live reload enabled the directory structure i have is as follows projects project1 www root elm directory projects project2 merchant root ionic directory
steps to reproduce the behavior 1 go to url and copy paste the tab code found under the usage heading into any lazy or eagerly loaded component 2 run ionic serve 3 see error in console 4 see error in visual studio code
append the code onto the html element attributes html cameraview background transparent none important body ion app ion content modal wrapper ion page inner scroll background transparent none important ion background color background transparent none important app home visibility hidden
use the related code and you will see the line under the checkbox item is different from the other kind of components
1 create a project with sidemenu starter 2 run app on phone android maybe also ios 3 swipe from left side towards right while the app is starting before home page is fully loaded 4 try to click a link button or swipe side menu open
create a list of items
create a list of items
1 start a new angular project 2 run ng serve change app component htm multiple times and notice how the compile time is 1seconds after a couple compiles 2 run npm i ionic angular 3 add ionicmodule to the angular module 4 run ng serve and notice how the average time is now 5 seconds
clone repo below run open in firefox make window narrow
use a text only button in a toolbar
create an app with these packages angular animations version angular cdk version angular common version angular core version forms http material material moment adapter platform browser platform browser dynamic pwa router service worker ionic native core ionic native splash screen ionic native status bar ionic rc 0 toolkit core rc 0 run the app and present a modal
probably has to do with setting mode to ios when on edge as the default style is md
try to get activated route every time angular router fires navigationend event
1 start a new ionic angular project ionic start tabs issue tabs type angular 2 remove tabs path from tabs router module ts see related code 3 start the app 4 try navigating from one tab to another
create a new ionic app create a basic form run ionic cordova run android l try to move to the next form control see occurance
here s a short video showing how clicking on the artist header routes to the proper artist page but when clicking back it routes to the root of each tab navigation stack
spin up an ionic app and create a new page throw some buttons on there or inputs and note how when using firefox tabbing for page navigation does not work it appears that you can tab to the first focusable element but it will not navigate the page from there returns back to the browser bar
1 use tab starter 1 add a child page with default ion back button config in toolbar 1 go to child from tab two or three 1 hit back button end up on tab one
here s a video displaying the issue url 0 00 0 03 the correct procedure 0 04 end you can see my cursor go to the icon and click twice this triggers a stack navigation problem where the next time i click on element page doesn t navigate properly no back button and animation slides in from left ios
insert the code presented in the related code section bellow
create a base page with a long ion list that forces you to scroll add a button to each list item that opens a popover the popover should have long list that forces you to scroll too try to wrap the popover components in ion content popover overscrolls but doesn t really scroll down up see other entries try remove ion content scrolls but if you overscroll inside the the list in base page is being scrolled
create an ionic app using any of the available starter templates and update cordova plugin ionic webview from version default in templates but deprecated to version
1 open an ionic v4 app in ios 2 mark up a div as following code 3 tap on the text in the div watch keyboard s action 4 the first line keyboard works fine the second line keyboard start to dance
in the sample application select the router outlet page from the menu to see how it is laid out then select the ion router outlet page to see its layout they should be close to same but ion router outlet page does not show page header with router outlet 2018 12 27 url with ion 2018 12 27 1 url
1 generate new page ionic g page test 2 try to add box shadow for toolbar background
ionic 4 app with mentioned code
1 create a component just like the usage example 2 implements the component ts and component html just like in the usage example 3 crate a route to point to that component path home mycomponent 4 crash
1 add to global scss ion content ion background color eee 2 add ion card to app see that it has the same color as the background
1 create a new project from tabs starter 2 add platform android 3 run app on android device 4 randomly tap on any tab to generate a navigation history 5 keep tapping on android back button the app just went way back of all its navigation history
1 ionic start myapp blank 2 ionic cordova run android l c
create tab start project add capacitor cordova run on ios android emulator and while scrolling important click on a tab the content must be in a scrolling state if the content is still then it will work normally this issue is more evident with a long list of items as the content takes longer to come to a standstill
ionic start try ionic 4 yes select blank ionic build prod cd www ls result trimmed for display here os play circle svg md tablet portrait svg ios podium svg md tennisball svg ios power md text ios pricetag md thermometer ios pricetags thumbs down print thumbs up pulse thunderstorm qr scanner time quote timer radio today radio button off train radio button on transgender rainy trash recording trending down redo trending up refresh trophy refresh circle tv remove umbrella remove circle undo remove circle outline unlock reorder videocam repeat volume high resize volume low restaurant volume mute return left volume off return right walk reverse camera wallet rewind warning ribbon watch rocket water rose wifi sad wine save woman school polyfills js search runtime js send styles css
create a tab project navigate to another view from a tab page that isn t another tab go back to the tab page and see that they have not fired
setup an ionic project for cordova and also ad pwa suppter with ng add angular pwa build a pwa with ionic build prod build and run a cordova android app with ionic cordova run android prod in the console log on android seeing output error error uncaught in promise typeerror failed to register a serviceworker an unknown error occurred when fetching the script typeerror failed to register a serviceworker an unknown error occurred when fetching the script
create an ion list of ion item sliding elements open the slide menu of one of the elements have the app update the list in background reassign list variable list refreshes and elements are not able to use slide gesture
start ionic 4 blank project put ion checkbox component with disabled attribute and press tab button then space bar and should get checked
blank starter project with checkbox press tab key and then space bar will check checkbox
create a new project blank template add a button that open a modal with all the code to make it work copy paste from the doc
navigate to any action sheet test and press a button url
see explanation
use this public repo url step 1 ng serve you should be at this url url step 2 click on goto b1 absolute path you should be at this new url step 3 click on goto a1 absolute path you should be back at
npm install g ionic latest ionic start beta19 sidemenu type angular cd beta19 delete node modules folder update package json to reference ionic angular version beta 19 update packages json and change all angular references to version uncomment all imports from src polyfills ts add import core js es6 promise to src polyfills ts npm install save classlist js npm install save web animations js ionic cordova run android
1 start on a page using tabs 2 navigate to a different page using at least two tabs 3 clicking on the tab buttons does not update the tab pages
see behavior and code
see my repo has two branches master beta 17 shows correct behavior usebeta19 beta 19 shows incorrect behavior be sure to npm i each time you switch branches i forgot to do this once and was kinda confused for a bit
as specified by manu in the beta 18 release notes i have refactored my tabs page to lazy load 4 different tabs for this example i ll just focus on the home tab in my tabs router module ts i have const routes routes path tabs component tabspage children path home loadchildren home home module homepagemodule path redirectto pathmatch full path redirectto pathmatch full and a module ts with the following routes const routes component homepage artist artist component artistpage i should expect to be routed to the homepage with a url such as and should be routed to an artist page when click on a profile from page with a url like artist uid by using this navctrl navigateforward this artistuid within my page ts am successfully routed but transition animation is not one expected attached gif of transition notice how animation slides up from bottom instead of from side that is not animation would expect from using navigateforwad method unless my are incorrectly configured let me know what else you need demo1 url
try to call the select method from a tab reference
npm i ionic cordova build android prod
two pages one starts with an queryparam navigate to second page use ion back button to go back the queryparam is gone
bind this to button and on next page from press navbar back onload this navctrl push contactpage duration 300 easing easy out direction back
i updated from beta 17 to 18 and the working slides failed
initiate an ionic project with the starter ionic start myapp tabs type angular copy paste the following code snippts under ion header sector of the home page
starting with a blank ionic 4 app upgraded to beta 18 add an ion virtual scroll area to the home page i used the sample code from url as a starting point
insert code bellow to reproduce
create an ion slides with 2 slides and set autoheight to true have slide 1 contain nothing but a spinner and then after a set timeout switch to a list of 10 items the height of the container will not update and will be whatever the height of the spinner was
1 go to the demo url 2 if your display is already ltr skip to 4 3 click on the toggle ltr rtl button in order to get a ltr display 4 scroll down a bit to the grids and observe the correct offsets pulls and pushs 5 click on toggle ltr rtl button in order get an rtl display 6 notice incorrect offsets pulls and pushs
1 create ionic v17 project with below code 2 click on get list button you can see the value is not displayed for select box 3 click on the field and the value gets displayed now
1 create ionic v4 beta17 app with the below code 2 open console and click on reset button 3 in the console window you will see the value changes of input box is fired and the pristine status is false and selectbox valuechanges is not fired which is working as expected 4 replace ion input with html5 input and repeat step2 now valuechanges of textbox not fired
1 create a loading with await this loadingctrl create 2 done
following the installation instructions on url bash ionic start myionicproject tutorial cd myionicproject ionic cordova platform add android ionic cordova plugin add cordova plugin fcm with dependecy updated npm install save ionic native fcm cordova run android
just call the enable method on an instantiated form field that has an attribute of disabled true
just add this on your ionic 4 app ion datetime display format mmm dd yyyy ion datetime then run on your android device try playing with the scroll i have tested on android 7 honor lite and android 8 samsung j4 phone in android 7 phone scrolling to all is slow while on samsung j4 its slow year only i think it gets slower the more the characters are like the year format which has 4 and also probably depending how fast device is
see below sample code page transition url
i open the menu using a ion menu toggle click an item in the menu with the menuclose directive and it will not close
1 create a new ionic project 2 add the code below to an html template and run the project using npm run start 3 open the project in chrome default url 4 notice that the browser tab locks up and eventually crashes
ion fab button border radius 10px border color white border width 4px border style solid
1 git clone url 1 npm i etc 1 ionic serve 1 open console if you click the top buttons you will see a message in the console log and you will see the value after part on the page change if you click bottom buttons will see neither a message in console log nor part change though events are identically wired
set the variables from above create a card and header ion card ngfor let item of items async ion card header ion card subtitle item creator ion subtitle title item name title header content p item description p content
the sample given at the docs is enough to produce the problem when you have larger components used as the base for modal issue becomes more dramatic
create a new ionic app ionic start test blank type angular add the following code
use this code try and re order list the first two items with be moveable the third won t be once you ve tried to move the third item all of the items will then be non movable ion list lines full ion reorder group disabled false ionitemreorder movechecklist event ion item sliding ion item href routerdirection forward detail reorder slot start reorder label text wrap h2 moveable h2 label item sliding sliding href routerdirection forward detail reorder slot start label text wrap h2 moveable h2 label sliding detail slot start text wrap non moveable options present options side end option color light icon name clipboard slot top icon option options group list movechecklist e void e detail complete
create 1st page with dummy list of items path list create 2nd page as item detail page with tabs path list id add ion tabs to the item detail page and create router paths
1 create an ion slides and fire when slide changed 2 in slide changed change the array of ion segment will display plunker zip file ion segment bug zip url
ion content ion grid ion row ion col size 12 align self center form ngif success formgroup forgotpasswordform ngsubmit sendpasswordrequest padding input class input placeholder code formcontrolname hash type text form col row grid content
create a reactive form using angular forms create a form in html template and bind the controls using ion input tag and set type number execute the app and try to modify the value in the input box type of value should be number but it returns string
create a ion slides containing multiple ion slide and one ion slides directed vertically
1 access url 2 select the demo source icon to the top right of the preview area has an icon that looks like two brackets the link attempts to load url correct link appears to be url
1 go to url 2 click on the buttons as illustrated in the above gif
1 ionic sidemenu generator 2 add to the e2e test so that it navigates the list link and verifies the navigation 3 e2e passes o 4 change the sidemenu items so they have a click handler and click handler does routing 5 e2e still passes o 6 now change click handler so that it displays and dismisses a loading controller a few times in a promise chain before redirecting expected e2e still passes actual fails before loading even shows
attempt to create a toast item with an index this toastctrl create message test duration 3000 position top overlayindex 1000
add a new sliding item with ion options on both slots with one button each
create an ion select with an ngmodel attribute containing an ion select option using ngfor as an iterator with its value pertaining to a number set the ngmodel to a number on page init the ion select will not show the selected value
create a new application with 3 tabs create a list with icons in the 3 root pages click on another tab if the bug doesnt appear refresh and try again it happens sporadically
this is the code for invoking inappbrowser inappbrowser create url self here is the service provide incrementer var id setinterval function i localstorage setitem closeviewerflag i 1000
any ion item with global scss set as below root inner padding end 0px item inner padding right will still exist
set the side property on ion menu to end and type property to overlay or push or simply check it in an md style view the bug can be also easily reproduced in the api docs url
1 create a new app with ionic cli ionic start myapp type angular 2 add the searchbar with the color property on home page html ion content padding ion searchbar color danger ion searchbar the world is your oyster p if you get lost the a target blank href url docs a will be your guide p ion content
ionic serve pick a date press button test check console logs
clone ionic conference app url switch to core update branch run ionic serve click into one of the events on the schedule tab click the speakers tab click the schedule tab observe you are now back to root of tab and have lost history for that ionic ionic cli version framework angular version beta 0 angular devkit core version rc 3 angular devkit schematics version rc 3 angular cli ng toolkit rc 9 schematics rc 9 cordova cordova cordova cli cordova platforms none system nodejs v npm os macos sierra environment android home not set
when button is clicked i get the above error
create an simple page with following html template ion header ion toolbar ion title ion label hello this is a test label title toolbar header content scrollenabled false slides style height 100 pager paginationtype bullets slide label style margin left 8px test slide label slide slides content the slides element wont use the 100 height of the parent content
create a capacitor project with 3 pages run on electron and navigate from a to b and back to a
1 create a virtual list of 1000 items 2 on click of an element store the elements id and then using ngclass or style x have the style of the selected item change 3 it will work for a little while but as you scroll further down it will stop working and
1 generate a tabs starter and launch it 2 move focus to one of the non activated tabs by using the tab key only and hit enter nothing happens the tab is not activated 3 now left mouseclick anywhere in the window 4 move focus again to one of non activated tabs by means of keyboard and hit enter this now does activate tab
it s reproduceable with the code shown below on an iphone
run ionic serve update app a few times observe behavior try it for an hour or so at most should manifest soon
1 create a new ionic 4 project ex tabs 2 follow the steps to add cordova plugin advanced http described here url 3 launch the app in the simulator ionic cordova emulate ios lc 4 result blank screen error in safari console typeerror object ionic native core webpack imported module 1 cordova is not a function in object ionic native core webpack imported module 1 cordova sync true object native core webpack imported module 1 is an instance of object
reference github repo url run the example repo click on the more options menu found on the default app home component expected clicking the link should display app home options menu component
ionic start test v4 blank with cordova cd test ionic cordova platform add android ionic cordova run android
connect to github with an account that has no personal repos but that is part of an organization
run npm run dev open url navigate to page two
1 adding ionic core via the cdn script src url script
following instructions on ionic framework to start hello world application 1 npm install g ionic cordova 2 ionic start helloworld blank 3 cd helloworld 4 ionic serve application starts on 8100 port but any changes to code is not getting detected on browser even manual refresh dosen t bring up changes i doubt there is something wrong with builder insert short code snippets here
install the latest ionic cli npm i g ionic rc create an ionic angular project 4 using the tabs starter ionic start serve the application serve and the bug is present without any changes being made
create a new input field with a fixed width input long text even gibberish once input exceeds the visible area try to drag the text there will be no movement on the input field
see below sample code
here is a plunker i put together url you can verify that when you use the button show page2 the slider stops navigating firing ionslidedidchange stops ion content padding ion slides myslides dir rtl ionslidedidchange ionslidedidchange ion slide ngfor let s of slidesdata let ii index div id amscontent img id amsimage src s pic div id amstext ii div div ion slide realindex this slides realindex settimeout this slides slidenext 2000
on a test page set change detection to onpush ionicpage component selector page test templateurl test html changedetection changedetectionstrategy onpush use async pipe in your template as usual div ngif rows async as rows ion list ion item group reorder canreorder async ionitemreorder onreorder event rows ion item ngfor let row of rows hello row ion item item group list div toggle canreorder to test
having an isscrolling content and try to scroll to another place with a function on ios
just delete a property inside a class bound to an ion input model or set it to undefined
use the standard ionic4 tabs demo
schema node modules angular devkit core src workspace workspace schema json version 1 newprojectroot projects projects my app root projecttype application architect build builder angular devkit build angular browser options outputpath dist index src index html main src app main ts tsconfig src tsconfig app json assets glob
open the app on firefox
1 clone this repo 2 switch to the cordova ionic branch 3 npm install 4 add strict true in tsconfig json compiler s options 5 npm run build
check related code
results may be unpredictable due to strange and random nature of the issue no error is given 1 create an ionic project 2 override some styles in your app scss was not honoring col padding 0 in my project other classes rendered correctly 3 build run and verify styles display as set 4 add 72 color entries top level keys to color map 5 build run and verify styles are wonky tried deleting an existing style and adding the same one initially attempted this works the bug also manifests even if the 73rd color is not even referenced
build the application for production with the prod flag in an ios version device
create a float label and input with type number and then enter e as a value and deselect the input field
create a page with 250 or more form fields all types of input select textarea access the page
1 try to swipe one of the items that has sliding options as written in the label 2 the swipe direction is incorrect regarding the buttons position and rtl 3 buttons appear only after you swipe entire item length so they are correctly placed in respect to rtl but swiping direction is incorrect
1 create component with stencil with shadow true set 2 add menu 3 add peer element with main attribute set 4 execute code see bug 5 set shadow false and see it work as expected thanks da
add the following to html html ion fab horizontal right vertical bottom ion fab button ion icon name options ion fab button fab
setup a project like described here url set the root page the one that have menu tabs navigate from side menu to another page pushing the page on setroot its works
try opening the menu either using the ion menu button in the header toolbar or using the provided open menu button that calls ion menu s open method
1 try swiping an item from left to right nothing happens even though some ion item options side left element s have been specified in code 2 swipe an item from right to left buttons appear as if they had been specified with side right
1 ionic start refresher blank v2 2 add this code on home html as the first child of ion content ion refresher ionrefresh dorefresh event ion refresher content ion refresher content 3 add this code on home ts dorefresh console log begin async operation settimeout console log async operation has ended complete 2000 4 ionic platform add windows 5 ionic build windows 6 run the project on visual studio 2015 with simulator use basic touch mode or on real surface 7 try to drag from top
i have removed entire android studio and all files and folder on macos and then i have installed the last version of android studio and after that i have created a test application on android studio to test it finally the app runs correctly with virtual device later i have created an app with ionic tried to test it but get this error panic missing emulator engine program for x86 cpu
try to set up a prod release apk i build a dev version just fine
for 2 here s a sample repo to reproduce url
i simply created an iframe and used a dynamic url as src left allowfullscreen and i can indeed click on the button this is a gif i created showcasing the problem iframe fullscreen ionic bug url
build and install app on ipad or run from xcode navigate from the sidebar to the list page which contains the video tag navigate to this same page repeatedly eventually i ve found 17 times to be the magic number video tag fails and does not load video
1 create 1 password field 2 put any random password there 3 get out of that field click on any place outside that field 4 get to that field again start typing something 5 it will clear previous password
see current behavior
select the first item e g januar 1 2017 close with done nothing is rendered try selecting e g januar 2 2016 the 2 2016 is displayed but not the januar
select a month with 30 days per month e g apr 30 2018 close with done try to select a date with 31 days e g march is not possible
macos sierra with ionic cli version issue any cli command except for ionic cordova commands and you ll see this ionic serve lab locale the ionic cli has an update available version version would you like to in stall it yes npm i g latest running command done ok updated cli to version please re run your command note you can downgrade to your old by running npm i g serve lab locale the has an update available would you like to in stall it and again and again
pull an image from firebase storage e g const ref this storage ref result imagepath ref getdownloadurl subscribe data t t t t
use ion range with step snaps min and max attributes
open url on an ios device open a detail page on the schedule list and notice you can swipe to go back
open url on an ios device try to open a sliding item and notice that you can still scroll while opening it
open url on an ios device i m using an ipad pro open the datepicker and swipe up and down on it
open url on a device slide an item on the schedule list and click on it notice the outline on the button
using url you can see that the menu only opens on the home page if you remove the menu from the home page it will work on page 1
on a desktop device add a favorite in the ionic stencil conf app remove that favorite notice the confirmation alert has a scrollbar
pull down the master branch of the ionic stencil conf app run it in chrome with device mode and notice that on android devices the color is not correct but in ios devices it is i can also reproduce on an actual device
i ve set up a plunk url see code in app home page html and app home page ts
ion datetime displayformat mmm d hh mm a min 2018 03 15t12 18 09 04 00 ion datetime see example url
1 create a blank ionic v2 app 2 add one ion range to the home html file 3 build and run on surface try to drag the slider by hand touch on the screen
create simple view and add a list item wrapped toggle run ionic cordova platform add browser and ionic cordova run browser
explained above
just create a plain text file object and inspect the result
this happend node modules bin ionic serve node modules bin ionic build
1 ionic start test v4 blank 1 choose v4 app when asked 1 cd test v4 1 ionic serve
open the app the inappbrowser opens immediately with some external closes and pushes to a page with segments in it try to tap between the segments it is very slow
create an ionicpage and access the page using the 2 methods above
change and save some file in a ionic project s src folder for example a template wait the live reload update the page in the browser see an older version of the page sometimes save file again or save some related file for example class of a page related to a template wait live reload update page in browser see newer version of sometimes
1 in a new project set background color in variables scss 2 add an ion range disabled true ion range 3 preview for android ionic serve and emulate android device
app in pro url the banner is not being display at top and before playing interstitial is displayed as test ad
use ionic version ionic start blank myapp ionic platform add ios ionic build ios open xcode proj in platform ios and simulate app
1 clone this repo url npm i or use ionic canary to create your own 1 ionic serve 1 deal with sadness when you see blank content on page 1 open src app pages home home page html and remove ion page tags rejoice greatly as the world is now your oyster i have no idea if this is an issue with the ionic page tags themselves or if we should just remove them from the template and not use them
1 create blank app 2 on first page have button to push a second page 3 on second page add a ionviewcanleave function with a small delay 4 tap the back button but slide slightly to left while tapping
i believe starting a blank project placing the config xml and package json build and run on the devices above lead to problem
simply create a new project implementing the tabs using ionic start myionicproject tabs
use the code snippet provided as html for an ionic page changing disabled to readonly fixes this
focus the input element and change the value you will see that change is reflected
focus the input field then press tab and use the arrow keys the input is not updated
run any ionic app with ionic serve and then open it in inappbrowser from any other cordova app don t forget to install cordova plugin inappbrowser first for example cordova inappbrowser open url blank
show hide and show a tab using ngif with a timeout as a settimeout http request database query or anything that is async and takes a while to complete
1 ionic start myapp blank 2 cd myapp 3 edit tsconfig json and add strictnullchecks true inside compileroptions 4 node modules bin ngc
create new ionic project template super or conference without crosswalk ionic cordova run android i m using api 27 emu scrollbars are not showing while scrolling within the emulator
build ionic pwa using npm run ionic build prod use sw precache with the provided configs make an update to your ionic angular code and push the update to hosting the error occurs on switching to another page after update of the service worker also added a no cache header to my service worker on firebase hosting
the code below is used in a vuejs application utilizing ionic frame work components
1 go to mainland china or ssh to one machine in mainland 2 turn off vpn if any 3 open terminal 4 enter ionic start ipfs demo super
html ion menu ionopen updatemymenu content content ngif userprovider usersession isloggedin rootparams ispartial ion header ion toolbar ion title menu title toolbar header menu p ngfor let menu of this mymenu name badge count p typescript html is already descriptive i guess
create a new blank ionic app copy this markup into ion content in home html ion card ion card header ion item sliding card header list item sliding ngfor let item of items item label checkbox label label checkbox ngmodel checked checkbox options side right button button click dosomething icon start icon name remove circle icon remove button options sliding list card copy this into the homepage component in home ts public items name 1 checked false name 2 checked false name 3 checked false 4 false open the app on an android device i used the ionic dev app
install plugin name cordova plugin statusbar spec git url plugin name cordova plugin ionic keyboard spec version set following settings preference name statusbarstyle value default preference name statusbaroverlayswebview value false preference keyboardresize value true focus on any input field and observe status bar
any ion input in ion content trigger bottom padding will reproduce this bug when keyboard closing in mobile view
add ionicbackbuttontext some inappropriate text to the url of a production pwa
in version this worked url in version it doesn t work or sometimes just works the first time url ion slides ion slide ion list ion item sliding item item item options button button share button options sliding list slide slides
place a virtual scroll below some container element with a certain height url ion content padding ion card ion card header placeholder ion card header card content wasting space br wasting space br wasting space br wasting space br content list virtualscroll items approxitemheight 100px item style height 100px virtualitem let item item id item name list content items id number name string ionviewdidload for let i 0 i 500 i this items push id i name test
1 set up an alert like let alert alertctrl create title popup title subtitle popup description inputs name email placeholder email type email buttons ok 2 clicking on the input from an actual device gives you the option to return submit the input form 3 clicking on the return submit from device s keypad dismisses popup with no callback edit looking at code it seems like inputs on alerts have a handler though this is undocumented will give it a try edit2 nvm handler didn t work
create a component that contains an ion slides control use css to rotate that component any amount using transform rotate xdeg notice that the movement of the ion slides control no longer match the direction of your input
create a view with tabs on the bottom and a text field at the top click into the text field to open the keyboard rotate device and then close keyboard
open our e2e test for core url
1 create a simple alert with inputs 2 fill the inputs enough that the content needs scroll left right 3 touch hold to bring up the normal ios magnifier for scrolling back and forth in text 4 drag finger all the way to left right 5 input does not scroll
1 create a ion slides with content 2 move to other slide 3 tap a content and move to other page 4 change the orientation 5 back to page with slides the width and position for current slide is bad
ionic start myapp tabs add button to home page with presentactionsheet handler ionic serve in chrome version version official build 64 bit scrollbars are displayed scrollbars actionsheet url
open a modalcontroller modal press the back button notice that the modal does not close but the page behind it navigates back
1 select ion input in ios apps only iphone 2 display full screen suggestions 3 scroll full screen suggestions 4 suggestions window falls instantly this is error
scroll to position that part of svg will not be visible click on buttom click back you are scrolled on the different place then when clicked on the button
1 create slides with inputs in them 2 set the focus to an input that is out of view
multiple horizontal scroll cards about 10 to 15 not using wkwebview or without setting webkit overflow scrolling auto is causing the issue
really dont know its totally intermitent and happens in just one view i tryed remove all the code html js and leave like a very dummy component but even thought receiving this same error
1 npm install ionic core 2 add ionic core to stencil config ts in the collections property 3 npm run dev
follow current behavior on presumably any ionic app with ion input
1 open an ionic app ios or android device or simulator 2 click an item many times quickly to push an new subpage or click an tab button to go to other root page many time quickly it is easy to reproduce in mobile device it can be tested using a web browser but harder reproduce than mobile devices if the bug couldn be reproduce try restart your app because this bug always trigger when you enter a new page firsttime you can use your own app reproduce also you can use ionic cli create tabs app then add some subpage testing in addition we create simple demo url help you test
as described above
just run ionic cordova run android device it repeats on any app for me
this is the live application try to select 2 box then select the 3rd one it will not be selected but if you click on it again it will be selected url
add proxies information to ionic config json with a proxyurl pointed at a cors protected endpoint change provider url to point to localhost run ionic serve
try customizing things like ion item ion tabs ion segment ion button extensively you very quickly get outside the limited theming capabilities that come with ionic
please check code below
see stackblitz just implements ion slides and set direction vertical slidesperview 2
build a multi select box url with a lot of items in the list 30 or so build the code to an iphone swipe up and down one hand right thumb doing the scrolling
see current behavior
create a provider with 2 variable to store ngmodel and 2 options arrays to use ngfor on ion option build page look at stackblitz
1 create a form whith for example 5 fixed text input with floating labels 2 below create a button which insert few text input dynamically on click this make scroll to se the new added content 3 scroll up to see the first text inputs the floating labels of these inputs are not shown
typing at console ionic start test tabs if i exec the command with administrator privileges i get the same error
open a popover and close it
i have a login page that loads first if the user is not logged i have put in the login page only the ion content element and the ion input and it does not work
if you look at the v1 documentation for ionlist url the example demonstrates the missing functionality i ve described
1 create a virtual scroll list with 10 items 2 display list in resized window 416px of chrome 3 resize window to maximize 4 resize window to about 416px virtualscroll 416px url 5 click maximize button to resize window again to 1280px virtualscroll 1280px url
create a new app using ionic start testapp tabs run the app as an ios app on the emulator using ionic cordova emulate ios the code fails to build showing many warnings and errors during the compilation of asset catalog
create an array of items containing any number of strings then write code to display them using tags ion select ion option you will see that first option is displayed as the last option in the selection list
ionic serve go to a new page this page has a ifram with loaded url in the iframe there is a button when you click on the button this iframe will redirect to another url url click back button in ionic navbar then the app will return to the previous page
1 create a new ionic project from the command line ionic start comment bug blank 2 add this comment into the home ts module
using this tabref select defaulttabindex to set a tab
create a new app try to run it on and android 5 x device
run the command prompted in the channels sections on the ionic dashboard
add a subpage push the subpage on the rootpage with the navcontroller back button is shown on the screen now title is placed more to right than it was on root page
run the command with the specified environment
ionic start myapp sidemenu test differences between openpage page this nav setroot page component and openpage page this nav push page component
add a ion select use popover as interface and build the apk with prod flag ion item ion label language translate ion label select ngif showselects class octave select ngmodel statusprovider activelang oktext ok canceltext cancel translate ionchange newlanguageselected event interface popover option value en en option option value es es option select item
we are using the following versions for platform and libraries xcode version cordova ios platform version ionic version package json homepage url private true scripts clean ionic app scripts clean build ionic app scripts build lint ionic app scripts lint build app build serve serve dependencies angular common version angular compiler angular compiler cli angular core forms http platform browser platform browser dynamic server native core native splash screen native status bar storage types jquery types moment types urbanairship cordova angular2 highcharts chart js com sarriaroman photoviewer cordova ios cordova plugin device plugin webview plugin splashscreen plugin statusbar git url whitelist img viewer native keyboard ionicons jquery jstz phonegap push rxjs sw toolbox typescript zone js health camera inappbrowser contacts x socialsharing urbanairship customurlscheme devdependencies typescript cordovaplugins whitelist console statusbar device splashscreen keyboard cordovaplatforms ios ios locator plugins keyboard whitelist console device phonegap push com sarriaroman photoviewer splashscreen statusbar health camera camera usage description photolibrary usage description inappbrowser contacts x socialsharing urbanairship customurlscheme url scheme platforms
i run the code with ionic cordova build ios
create a new blank app using ionic start postcss build the android app doing ionic cordova build android and you can see log with the warn or error message 16 57 54 sass started witout from option postcss could generate wrong source map or do not find browserslist config set it to css file path or to undefined to prevent this warning 16 57 55 sass finished in 793 ms
start the ionic starter application with tabs and click on a different tab after that switch from portrait mode to landscape tabs are above header and overlapping the statusbar
add a plugin using the ionic cli with a git repo as its location requiring basic authentication
the steps are simple html ion searchbar ioninput ogvalue ts logvalue console log hy
1 import meta service 2 add new meta tag
on a new computer i installed java ant andrioid studio nodejs ionic and cordova and after everything configured just like the ionic documents i created a new basic app ionic start myapp tabs the application even runs normally but when i go to debug ionic cordova run android lc i get the following message console warn native tried calling statusbar styledefault but cordova is not available make sure to include cordova js or run in a device simulator console warn native tried calling splashscreen hide but is not available make sure to include js or run in a device simulator
1 click login button 2 open menu click settings page 3 hit browser back button do observe url bar and app header
1 ionic cordova build android 2 run the app on an android version or version emulator 3 installed cordova plugins cordova plugin console cordova plugin device plugin statusbar plugin whitelist ionic keyboard splashscreen wkwebview engine sqlite storage camera camera usage description photolibrary usage description file file transfer filepath filechooser com sarriaroman photoviewer inappbrowser network information compat fcm iosrtc android permissions
npm install g ionic cordova ionic start myapp blank ionic generate page modal add code below and other app module entries etc ionic cordova emulate android
scroll a list of 20 items for about 10 seconds
is it really needed in this case open the calendar on ios and create a new event you will see the behavior natively on date and time you can go in both direction
ionic cordova run android device or ionic cordova run android
open google chrome developer and select iphone layout device or launh app in ios simulator
a sample project demonstrating the problem can be found here url the problem can be observed when entering page1 uses ionviewdidiload or page2 uses ionviewdidenter from the sidemenu a workaround using settimeout dostuff 50 inside of ionviewdidenter can be observed when entering page3
ionic start myapp blank ionic serve l make code change
1 run project with lazy loading feature 2 make ur device offline 3 click on new page or modal to open the app will try to load the chunk of that page or modal 4 back online 5 click again on the page or modal to open it will not open anymore
create an angular component named custom navbar define the html for the custom component as ion navbar ion buttons button ion button correct style button ng content ng content ion buttons navbar create an ionic page use custom navbar and add embedded content of an button using html like header custom incorrect style header inspecting the source you ll see the classes applied to correct style include bar bar md assuming browser bar default and bar default md these classes are not applied to incorrect style this can be worked around by applying classes manually this occurs in reverse as well to reproduce create an angular component named define html for component as incorrect create ionic page use in using html like header buttons correct buttons header my primary motivation for this pattern is that i have a with moderately complex logic that s re used across all main pages of my app i wanted to consolidate this logic in one
just create a simple page with a video tag and a button then use the code above to start play when the user click on the button try to compile and see what happens i don t provide any stackblitz plunker because the issue is related to transcript compiling process
please try to open about 5 10 different items in different random parts of list at end at begin in middle etc and try to click button
make a virtual scroll list on ios scroll down a bit
1 capture a photo via media capture plugin take photo and click use in preview 2 in the media callback push another page onto the nav stack 3 ba bam page title bar is partially occluded by status bar
create an app with tabs starter on ionic version then include an ion toolbar inside an ion footer in one of the pages
use the related code below and run ionic serve
create project and in a page put 2 text input fields fill the first one then fill the second one and after that try to go back to the first one
so far on ios 11 there are no steps required it just happens like that whereas in android no issue
1 add input type file accept image to a page a modal in this case 2 click the input button 3 select a source and an image from that source 4 the ionic ui is screwed up
create an ion slides directive put a few ion slide in there try to set up a parallax background wont work see code below for my closest to working trial
1 create application with two pages 2 on page one create a ion datetime control 3 set timer to programatically navigate to second page 4 open application and click on ion datetime control to open the modal 5 wait for timer to navigate second screen 6 see that the datetime picker has remained open after navigation
add ion select component and set interface popover and define selectoptions for the component as mode ios the component s functionality breaks with this defined
1 download ionic conference app demo from github 2 npm install to install all required plugins 3 remove the crosswalk plugin in order to mimimize the apk size 4 remove google maps link from index html file because google is blocked by state fire wall 5 run the app into an android virtual device x86 image android version with following command ionic cordova run android livereload target avd511
just follow instructions under current behavior
1 add the code below to an app 2 compile and run in an ios device 3 click the selector 4 start scrolling in small distances scrollings 5 note that the checkboxes gets checked
see the github example go to any tab outside home like contact or about resize the window result console log displays a message and also a window alert pops this are called in the onload handler in home ts
explained earlier
use that statusbar overlayswebview true and try to focus an item input in that is in the bottom of the screen
github repository url or 1 start blank ionic project 2 add these lines to config xml enable uiwebview preference name cordovawebviewengine value cdvuiwebviewengine preference name webviewbounce value false preference name uiwebviewbounce value false preference name disallowoverscroll value true 3 add ios platform 4 run app on ios simulator or real device 5 rotate device portrait landscape portrait 6 see the problem when rotated to landscape and when getting back to portrait
start new ionic project with cordova integration ionic start project name add cordova plugin geolocation plugin ionic cordova plugin add cordova plugin geolocation variable geolocation usage description to locate you npm install save ionic native geolocation add ios platform platform add ios the last command creates an ios project name folder inside platform folder where the info plist file is located unfortunately the key entry is missing here key key string description string when manually inserting the key in to info plist file corodva does function without problems
resize the window with ion slides on it there is a huge delay 2 200 ms before the new width is being set for each ion slide
using meta name apple mobile web app capable content yes add to home screen on ios safari and start from home screen tap button click onclick or h1 tappable click onclick element
install ionic blank put about 3000 span into html tap the content see long recalculates in devtools you can add some variable incrementation on tap event to see dealyed reaction i was able to identify the problem it is causing by universally applied css rule focus active outline none i think the main purpose of this reset rule is because of some elements undesired default outlines so the solution is to specify this elements please see solution code below
1 clone this repo url 2 git checkout cordova ionic 3 npm install 4 npm start to run the app the build warning can be safely ignored 5 enter any login pass then navigate a bit between home and about views 6 click back next on your navigator to trigger the error tested on chrome
ionic start test super cd test ionic build ionic cordova platform add android nano platforms android androidmanifest xml change adjustresize to adjustpan ionic cordova run android
1 create tabs based application 2 create page one view with a button that open a modalview using modalcontroller 3 create modalview page wiath an ion segment 4 in one of the segments put the following code 1 div ngswitch startingtab ion list ngswitchcase description ion item ion thumbnail item start thumbnail h2 description goes here h2 item list div ngswitchcase photos item thumbnail start thumbnail h2 photos slides goes here h2 div div ngswitchcase views scroll style width 100 height 100 scrolly true list scroll true start ruby start oscar list scroll
see current behavior
add a ionviewwillenter on the page used as root on your ion nav return a falsy promise on this ionviewwillenter before returning set a new root to your nav with setroot you ll have to do it in a settimeout to have it work this new root is not added to the page url which should be url if you navigate from this page no urls are changed
i wish i could provide steps to reproduce it is seemingly random when this happens users have only reported it on ios ios version does not seem to be related it occurs both on wkwebview and uiwebview
go to url wait 2 seconds for timer that will populate the list of dynamic tabs
given the following interactive 360 content floripavip com br url the gyro works fine if i browse using typescript window open url or this inappbrowser create this url system but gyro does not wor if i use typescript this inappbrowser create this url blank nor html iframe width 100 height 100 src frameborder 0 iframe
just do a right click and you ll get the error
1 define deeplinkconfig in ionicmodule forroot ionicmodule forroot myapp deeplinkconfig links component testpage name test page segment test page 2 invoke push this navctrl push test page
see the code snippet below
create a slides component backed by an ngfor loop over an array attempt to slide to a recently added slide ion slides ion slide ngfor let quote of quotes quote ion slide ion slides addquote void this quotes push lorem ipsum this slides update this won t work because the update hasn t completed yet this slideto quotes length 1 works but is well below optimal settimeout slideto quotes length 1 200 is what i would like to do update then slideto length 1
maybe just on my application
build a project for ios using ionic cordova build ios prod if running on an iphone x device or simulator you can see that footers including tabs do not have the necessary bottom padding for ios at least up to version if you do not use prod the output css is correct
load this repo url up on your device using devapp or build to app go to the detail page and swipe diagonal down from top left to bottom right as if you are were swiping back but not going straight across a sample application via github url
you can see the full thread on stackoverflow url
scenario 1 step to reproduce select any value with 31 as a date eg select october 31 2017 click done button of ion datetime picker tap again on ion datetime change month from october to november without touching date or year values observe that november 31 2017 gets selected which is an invalid date scenario 2 step to reproduce select any value with date greater than 15 eg select november 20 2017 click done button of ion datetime picker tap again on ion datetime change month from november to december without touching or year values observe that december 20 2017 gets selected which is greater than max allowed value
1 call movesliding in the swipe event handler 2 see that it doesn t have an effect anymore
clone repo url ionic cordova run android go to page one go to bottom and click on search bar tested on lg g4
1 start an app one with contents and infinite scroll 2 click scroll to top then scroll down
please follow the following steps using the sample app on github url recording of the issue can also be viewed on youtube url 1 start app 2 scroll all the way down to item 100 3 make sure scrolling is at a complete stop 4 click on segment tab ilter 5 in footer to filter virtual scroll list down to 5 items 5 make sure scrolling is at a complete stop 6 click on segment tab ll 100 in footer to filter virtual scroll back 100 items 7 notice nodes display empty this is reproducible both ios and in chrome desktop examined markup and nodes are present when virtual scroll displays blank however y position does not get updated and remains be set values way down list for example style tag that sets transform property will have large y values 2394px style transform translate3d 0px 2394px 0px nodes are not updated reflect new y values set top like 0px 126px etc until user manually scrolls again our app uses cell heights of 80px which appears really show issue as seen here
create a var in a ts file and use the following in the template somevar
build the provided sample application on ios and just start the app upon entering some text and selecting an item the map should navigate to that position the desired functionality can be seen at url
open plunker click on remove date button url
i ve spun up a new ionic tabs application with some additional pages and components and i m yet unable to reproduce this error
run the following commands ionic cordova run ios lc target iphone x wait for the app to build and run in the simulator cmd c ionic cordova run ios lc target iphone x wait again for the app to build and then you ll see it close simulator and open it again target param is just to make sure command opens same simulator device
i ve set up a demo code here url i set enabled to false when you move the map based on a boundschange trigger however that is triggered a little late by that time ion refresher starts its peek out process and gets confused locked
sample app url 1 give keyboard focus to the select element easiest way is to click on it and select a value 2 use the up and down arrow keys to change values 3 type myvalue and see that it is now in the selected value 4 give keyboard focus to the ion select element 5 use up and down arrow keys observe how screen scrolls instead of changing values 6 type myvalue see that ion select is indeed inferior does not update value
works with the simplest side menu of ionic
as of yet have been unable to create a minimal repro
add enough elements to a list and drag an element below the lowest visible element or above the topmost visible element if scrolled down ion list reorder true ion item ngfor let item of items item ion item ion list tested on ios
clone the repo given below and try out steps in current behavior
create or generate with ionic cli an ionic 3 app with 2 ionicpage that import the same components module
code included github repo url
use my footer code below and run on ipx in simulator
create an ion grid with text in each cell and run on iphone x simulator
run ionic serve lab in the browser and select android as platform
check attached stackblitz link
run ionic start to create a new app an voila no icons just plain boxes
here is the files url build with ionic cordova build android prod or even in ionic pro tested the app on my device galaxy j5 2015 click the earthquake the play video fullscreen exit return back
i haven t found an easy way to reproduce it atm
create a new app with ionic start myapp tabs build with ionic pro and test with ionic view
check related code section below
in the plunker example ngmodel starts as null if a is selected i m changing ngmodel back to null but aaaaaa remains displayed if one selects first b then selects a the selectedtext is cleared as expected it s only when changing ngmodel to whatever it was before null a null or b a b will still display while the value of ngmodel will reflect accurately
1 create an ion slides component 2 add an ion slide with an object in it 3 try to swipe
1 show list page in safari 2 toggle menu button after menu is showed the content behind backdrop can scroll
create a button and on it s click opens up ionic popup having io radio when we click on the button with some delay the checkmark of selected radio button is shown first then the popup is shown up
1 use virtual scoll 2 call the this content scrolltobottom to scroll the page to the bottom
create a ionic 2 project add android and browser platforms import platform somewhere in your code declare some variable for that and then add for instance console log platforms platform platforms ionic cordova run android lc later ionic cordova browser prod deploy the pwa to a web server and access url of the webapp using chrome android browser in your device inspect the console the ouput for both cases will be cordova mobile android however if you run pwa using ionic serve on localhost port you will see in your desktop browser console output is cordova core however if you configure port forwarding access localhost port using your chrome in device and then inspect console you will get mobile mobileweb
create page with tabs and add ngfor to make it dynamic
see plnkr below
use an action sheet with ionic angular version on a real iphone 6s with ios 11
upgrade to ionic cli version
after load app in portrait when you rotate landscape orientation app is stay portrait but status bar is rotate to landscape tested on ios 11
make an ionic 2 angular 2 app with ios version x also saw this issue on ios 11 create a ion form using ion items and ion inputs attempt to move between these input fields suffer the lag
create new ionic app using the tabs template ionic start demo tabs in app module ts configure the tabs placement to be on top with below change ionicmodule forroot myapp tabsplacement top mode md install ionic angular version version or version run the app on your device ionic cordova run android without clicking on tabs rotate your device everything would work fine and toolbar still shows click on any of the and then rotate your device toolbar will be hidden
starter template insert a div with position fixed implement pull to refresh
before content before url after content after url
articles in our app are iframed in from our wp site specifically they are amp articles you would need to iframe a wp page with an anvato embed into an ionic app please spare me i didn t choose this method here is repository with a test case of an anvato embed url
one should be able to reproduce this with any ionic starter app with pages having different header color ios header trail issue url
ionic serve project i can give private access but i can t publish repository if needed
cf related code
insert this line in a html and generate a release of the apk ion textarea rows 3 disabled true value user address user postalcode user city user province ion textarea
1 update your env for ionic version 2 create app template for tabbar app ionic start myapp tabs 3 remove wkwebview 4 add platform ios 5 build run app 6 swipe scroll up and down on the right side
use this page template to reproduce the issue html ion header ion navbar ion title form test ion title navbar header content list item label first input label input input item item label another input label item one more list content you get something like the image below highlighted what i m referring to ionic style issue url
create an ionic app cd into your project bash ionic g page organizationreferral constants
1 create simple ionic app with tabs 2 connect external keyboard 3 turn on voice over voice assistant 4 navigate over the elements using the keyboard result navigation starts on tabs expected navigation should end on tabs
1 create an ionic app with tabs open it in a phone 2 connect phone to external keyboard 3 turn on the voice over voice assistant 4 open a modal from one of the child pages of a tab 5 try to navigate with external keyboard over elements in the page result elements in the page under modal that aren t visible are also being navigated over
create any app with fcm integration upload the googleservice info plist file and compile for
i m using cordova version and ionic version dependencies custom plugin git ssh git bitbucket org test custom plugin git
1 start a new ionic 3 app 2 add a navbar with button 3 compile build and run with prod flag
just create any demo project
in the sample below i created a tabspage with a child tabpage then i navigated to another page outside of tabs typescript this appctrl getrootnav push listpage notice that ionviewwillleave and ionviewdidleave were not called and when i popped back ionviewwillenter and ionviewdidenter were also not fired
create a new ionic app add a ion textarea or ion input to a view that you ll push to type whatever or nothing at all just let the keyboard slides in and use the phone back button not the app back button this is important to reproduce the bug
1 view a page a and navigate to page b which must contain a back button 2 on page b rotate your device 90 degrees 3 on page b rotate your device back again 4 on b press back 5 on a notice the topmost content is hidden under the top nav bar problem is reproducible with the default ionic super starter app 1 ionic start default starter super super 2 ionic cordova platform add ios 3 fix cert in xcode 4 ionic cordova run ios lcs 5 the items tab topmost item is burt bear tap this 6 rotate 90 degrees back and forth 7 tap 8 notice charlie cheetah is now apparent topmost item if dragging list you can see burt bear actually still topmost item hiding under navigation bar
i guess all you would need to do it add this to your ionicmodule config ionicmodule forroot myapp preloadmodules true backbuttonicon md menu platforms ios mode md windows mode md
run the app from xcode on a simulator or real device everything works on android or in a browser i m trying to get json from an azure web app in https no proxies set up cordova whitelist installed the project was created a week ago with the ionic cli
create two pages which each have a ion tabs elements and navigate from the first page to the second one or vice versa
make sure to have installed the meteor client builder before running this app 1 git clone url 2 cd ionic2cli meteor whatsapp 3 npm install 4 npm run meteor client bundle 5 ionic cordova run android release aot
build a simple app with a nav as the root component push a page ie this navctlr push page1 then viewctrl let consistent viewctrl component name page1 consistent will be false in a build with prod and true in build without prod
1 open a git bash terminal on windows 2 type any command which prompts for a selection e g ionic start myapp 3 by using the keyboard to move the cursor to select an item when the enter key is pressed ionic will take the wrong option to one i actually selected i ve found that if i use powershell i can select items successfully although d prefer to use git bash so can use git commands easily
use the repo below and get an android device where you can put the app in fullscreen mode build and open the project on your android device when the app opens click on item 1 to open keyboard page click on input to make keyboard appear then close it go back to home page using back button you will notice that view is pushed up and you cannot access item 1 anymore
1 create a virtual scroll list with 100 items 2 display list in maximize window of chrome 3 scroll to bottom of the list 4 click any item to go to item detail page 5 resize window 6 click back button to come back list page at this time scroll top and some part of will be displayed like the image below virtualscrollbug url
1 create an ionic app 2 show a modal 3 show an alert 4 press escape 5 both modal and alert are dismissed
just create two pages with sliders inside and push page 2 from page 1 on click in order to navigate
implement virtual scroll and create a list that contain images now after sometime update that list whole virtual scroll shows flickering effect
self explanatory
url ionic serve
ionic start test blank cd test ionic cordova platform remove ios ionic cordova platform add ios
1 see code 2 test in safari
an ion list containing more than 20 videos makes this happen all time for me
use imagepicker on ios 11 device or emulator
1 create a new app with any template add 2 add the admob free plugin 3 register hardwarback to log something not to exit 4 display ads 5 press hardware back
have multiple input items scroll down a bit and focus the top most input to easily see what happens have inputs as non transparent like in my example additionally you can set breakpoint on subtree modification of input wrapper screen shot 2017 10 08 at 03 38 58 url
a sample application has been built in stackblitz below url 1 app initialises list with 20 items sorted descending by date timestamps 2 clicking on add row adds a new item at top of list 3 clicking remove row removes a row from top of list 4 clicking on change item updates the timestamp of the last element in row and brings it to top as can be seen in console log output however the view does not update
1 generate blank ionic project 2 ionic cordova plugin add cordova plugin file 3 npm install save ionic native file 4 add this plugin to your app s module 5 copy contents of home ts and home html from the example repository
run this app url in an iphone x and inferior emulator and look at the button in the footer
the bug occurs on your website url inputs and while using ionic serve in my app i haven t tested devices yet but since the bug happens on your website i figured there wasn t a point
create a new blank side menu project ionic start my test project sidemenu then edit the app html template to wrap the contents with ion split pane ion split pane serve the project ionic serve
click or touch a button at its border slide the mouse or finger outside the button the activated state is kept
sample video url
open an app in either emulator on the device or safari chrome with ua set to ipad iphone and inspect a scroll content div it should have the following media screen and orientation landscape ion app ios scroll content padding left calc constant safe area inset left 16px extrapadding url i also did a fresh checkout of the conference app added the ios platform and ran in a simulator for ios 11 ipad pro same issue skjermbilde 2017 10 03 kl 13 58 06 url both my app and conference are using ionic wkwebview both apps does not exhibit problem on e g ios version
i created a plunker to show my issue
using the ionic conference app with version version or version of ionic add a text input in session detail html navigate to a session detail through the schedule page
create a blank ionic project an place the ion datetime in it like the code below
create an object with a text property of 2049 characters i used url to count the characters and then try to display those characters on navcontrol page
1 create a list of buttons 2 try swipe back insert short code snippets here
click on the ion searchbar in the project below here is a video demoing the problem on an iphone 6s url
on a page with multiple inputs 1 select an input 2 select the down arrow 3 note that the cursor moves down but the focus does not
set meta tag viewport fit cover in index html meta name viewport content width device width viewport fit cover initial scale version minimum scale version maximum scale version user scalable no use plugin name cordova plugin ionic webview spec version use plugin name cordova plugin statusbar spec url use ionic angular
ion tabs color secondary ion tab root homepage ion tab ion tab root newspage tab tabs in theme variables scss colors primary secondary b8d63c tabs ios text color color colors primary tabs ios text color active colors primary md text colors primary md text active
label ion checkbox disabled true ion checkbox label
here is a bitbucket repo you may clone to reproduce the issue url
checkout the github project see below add the ios platform run the app on an ipad my os is ios 11 do this until the navigation freezes use button to go next page on next page hit back button as fast and often as you can
add the following to your index html base href subfolder base update ionic configuration ionicmodule forroot appcomponent locationstrategy path and your list of providers providers provide app base href usevalue subfolder once your app is configured try to navigate to any page in your app and you ll notice the base ref is removed from the url
create a date picker component and set a date
update device to ios11 update your application and cli following this blog post url navigate the application using a navpop or an ion tab push
no special steps
create an ionic app and use it as a webapp with safari
this plnkr tries to present and dismiss after a timeout a picker with custom durations url
see first plunkr
create a project with a custom provider you can check some examples on the links bellow run the project with ionic cordova run android prod same behavior if run with ionic cordova run browser prod links used to custom provider and injector url url
feast your eyeballs on this plunker url
here is a plunker case and the relative code is below url
install ipa ionic upload n update for version version nobuild apply snapshot to app change version number in config xml export new ipa and install over previous version launch new snapshot from previous is loaded close and relaunch app old snapshot is not longer loaded and everything is loaded as expected
1 clone the following repo url git clone url cd ionic ng touched issue 2 npm i to install missing node modules 3 ionic serve to deploy to a local server and run the example
create a sample list like this url change the following from true to false preference name disallowoverscroll value false
build and run demo app which uses ionic angular v version url it works as expected change to v version branch which uses ionic angular v version url it does not work as expected onplacechange is never called
creating 10 ion items by ion list ion item ion label label label toggle toggle item list is significantly slower than list item label item list
push an app with svgs img to ionic pro backend open this app in ionic view
create a page containing the example html below package the application for ios run the application on device pick an item from the ion select
here a plunker demonstrating the issue url
you can view the repo at url to see the test
url open modal open select press escape both select and modal are dismissed screen shot 2017 09 08 at 10 47 45 url
ionic start myapp blank ionic cordova platform add browser npm install ngx color picker save in app module ts add import colorpickermodule from ngx color picker ngmodule imports colorpickermodule in home html add input class colorpicker colorpicker color style background color in home ts add export class homepage string use ionic serve to start the picker cursor can drag smoothly use ionic cordova run browser to start cannot drag the picker cursor
1 create two pages page1 and page2 2 set the segment of page1 to segment index 3 set the segment of page2 to segment training index 4 add a link from page1 to page2 just to get it 5 set page1 be root 6 run the app the url will be index 7 click link get page2 url will update training index 8 refresh page and notice loads and url updates
i created a service to get data from api
ionic start observabletest blank ionic g provider myservice ionic serve l s c
here is the ionic input component url let s say i need to change it to blue color ion item ion input type password placeholder password input ion input ion item plunker url alt text url
in an ionic project with lazy load implemented it is possible to generate the two page code with the cli generators version version
update typescript version to version and run ionic cordova build run or ionic serve
use lazy loaded tabs and navigate to pages through the navcontroller push
url double click the update button and the error above will log to the console
1 run any ionic app e g with ionic start crashtest blank 2 switch to any other application 3 lock the screen using hardware screen lock button and wait 1 2 seconds 4 unlock the screen and switch back to your ionic app 5 the app makes clean start instead of being resumed
ionic cordova plugin add local cordova plugin please note you should add the local cordova plugin after adding a platform or a plugin from npm repository to your ionic app
ionic version version bundle an app with polyfills modern ts and try to click on a button running on an emulator the emulator can be created by a command avdmanager v create avd name nexus4 device nexus 4 package system images android 21 google apis x86 abi google apis x86 sdcard 200m
1 open variables scss to replace the variable color with the following colors primary 488aff secondary 32db64 danger f53d3d light f4f4f4 dark 222 twitter base 55acee contrast ffffff 2 run ionic serve
go to something like url redeem in my ionic app
by elimination i reduced the problem to myapp constructor includes ionicapp as a provider in my use case i need this for choosing the proper response to pressing the hardware back button in android i need to access modalportal and overlayportal so i can tell if the user wants to go back from a modal or an alert in testbed configuration add ionicapp as a provider
running ionic info in a ionic project directory but it doesn t report global packages
url the form field has minlength 4 so focus the form field and enter 4 characters it is still red invalid if you inspect the html you ll see the ion input and form are updated and have ng valid classes but ion item is not yet updated if you enter another character or blur field ion item gets updated too it s exat same behavior other way around if you delete some characters and drop below 4 required ones
create a list of 100 items try to swipe on an iphone nothing happens for ionic v1 issues url for ionic issues url
create new app with super template add windows platform add windows target version 10 preference to config xml run on windows open menu move mouse pointer over items from bottom to top repo url
it has already been described i think
open page with tabs subpages from menu then open this page again from menu
ionic start rtl test issue sidemenu in app component ts after this initializeapp write the following statement this platform setdir rtl true then run ionic serve
tested with a ion list of 70 items and also reproduced it with an ionic virtual scroll tester should just create a list with around 70 items in it with at least one text and 2 small img icons 20px x 20px
clicked on ion item very fast also i used ion range on this page
for ionic v1 issues url for ionic issues url
ionic start myapp blank template add ios platform build ios run app
try to build a tabs starter project with typescript version
plunker demo url place an ion range control in a container that has been rotated with style transform rotate anything other than zero notice that when you click or drag the thumb movement of the thumb slider does not follow your input but is interpreted instead as distance from the left side of the control before any rotation was applied
1 create a blank ionic 2 app with ionic start selectiontest blank v2 2 then in the home html file add 10 buttons then one input then again more 10 buttons 3 then swipe the screen to scroll
1 create a new blank project ionic start testapp blank 2 generate new page ionic g page test 3 create a button on the homepage which pushes a new page on the nav stack home ts push this navctrl push test home html ion content padding button ion button click push nav button ion content 4 start the app in the browser ionic serve 5 app starts with following url localhost 8100 6 press av and test page is shown with url localhost 8100 test 7 press ack in app not browser app shows homepage and url is localhost 8100
1 create new blank ionic project 1 npm install types node 1 open home ts add timeout nodejs timer before constructor 1 ionic serve
div virtualscroll items div virtualitem let item ion item group ion item item ion ion group div div
1 have the following code in tabs html ion tabs ion tab root tab1root tabtitle home tabicon home ionselect gohome ion tab ion tabs 2 this method in tabs ts gohome this navctrl setroot homepage 3 run the app
this issue is reproducible on android i m using genymotion with galaxy s7 version api 25 virtual device the same code on plunkr does not exhibit this issue please see the attached file for an app that reproduces the issue the package json is for v version clicking on input field and icon increments counters zip also includes package json for version with a version build counters do not increment when clicking either input or icon
1 clone my sample app from url 2 run the app using ionic serve and access it in the browser in my case chrome 3 use the menu to switch to the tabs2 xa8c so far everything is fine 4 switch back to tabs now i see correct tabs in bottom but displayed page is still page3 which was never supposed to be shown in tabs 5 if i now click tab1 it loads correct page which is tab1
since ionic left v version using typescript version version the one that works with rxjs upper versions of typescript in fact allows ionic start watching and work fine but the project doesn t work due to type errors in rxjs ionic serve verbose debug cli flags interactive true confirm false debug cwd applications xampp xamppfiles htdocs proyectos my project local true binpath usr local lib node modules ionic bin libpath applications xampp xamppfiles htdocs proyectos my project node modules dist index js debug daemon found pid 628 info starting app scripts server address version port 8100 livereload port 35729 ctrl c to cancel 16 41 59 watch started 16 41 59 build dev started 16 41 59 clean started 16 41 59 clean finished in 1 ms copy started transpile 42 05 transpile finished in s 42 05 preprocess 42 05 deeplinks 42 05 deeplinks finished 71 ms preprocess finished 72 ms webpack copy s and then the prompt is returned with exit code 130
url html ion card ion card content ion card title title ion card title item label floating test input label input type text input item content
as explained above
i took a fresh copy of ionic confrence app went into speaker list ts and added console log hello world to ionviewdidload if you refresh url tabs page speakers speakerlist you see it printed twice navigating from within the app to the tab will only print once as intended
i downloaded the lazyloadtabs template by mike updated it to the most recent package json and built it you can find my repo here url
use this codepen url first click on the ion toggle then go back second switch the ion toggle from left to right or right to left you cannot go back thanks
create an alert with a button with a handler that is marked as an async function the plunker demo does not seem to be working at all
i ve put together a demo repo here url and a plunkr here url
implement slides as a component include it in a page and run it on ios version simulator or device
this can be reproduced on any device tested on ios android only which implements the ion searchbar
example url stackblitz crashes with ionic version but the version version shows the same issue click on the nav on top of tabs button it goes to the other page
i am showing a google maps on my ionic application based on josh s tutorials url
try to install this plugin with my configuration node version url this part ionic cordova plugin add de appplant cordova plugin local notification
reproduced with a template as follows ion header ion navbar ion title searchbar test ion title navbar toolbar searchbar ngmodel searchterm formcontrol searchcontrol searchbar toolbar header
with a simple application created with ionic start you can add a simple form with many inputs 5 or 6 would be enough
let actionsheet this actionsheetctrl create title select action buttons text start role destructive icon timer handler async this start await this someprovider someproperty someindex text start2 handler async this start await someprovider someproperty someindex
both debug via ionic cordova run android cl and android at least release builds do not work as expected
1 download url 2 run npm install 3 run ionic serve 4 open in chrome and toggle device mode 5 set width 320px and height 500px 6 go to tab about 7 scroll to bottom 8 open location select 9 push on backdrop to close location select 10 then open menu 11 drag menu left with mouse and rendering bug appears
too bad the plunker doesn t use scss screen shot 2017 08 10 at 12 26 14 am url
ion input clearinput ionclear oninputclear event ion input oninputclear ev any do something
typescript component tselector datetime text ttemplate ion datetime min mindate max maxdate ion datetime export class testpage tpublic mindate date new date tpublic maxdate date new date tconstructor t tthis mindate setmonth this mindate getmonth 1 t
1 open a terminal 1 git clone url 1 cd tabsissue 1 ionic serve press enter to install the dependencies wait until install finishes and your browser opens url click on toggle menu button click on tabs2 button url is now url tabs2 first2 first2 click on menu button three lines top left corner click on tabs button is now tabs first first2 the page from the previous tabs page first2page is still open i expected firstpage to be open in other words i would have expected tabs first first
i tried a plunker without lazy loading and it s working so i tried with lazy loading but i have an issue with my plunker and lazy loading the code is here but it s not working as i have a lazy loading issue url it s probably an easy thing but can t manage to fix it
create a sample project with ionic version create a variable profilepicture which contains type png and elementbase64 with the base64 content ionic build ios and deploy on ios device version
to reproduce just use a real device with windows 10 mobile and deploy a ionic test app like conference app
1 start panning up on the div element 2 panstart and pan are triggered 3 the ion view can t scroll up as we are already at the top 4 release the pan 5 panend is never triggered
ionic cordova run ios prod
mahmoudrabie ionic serve l info starting app scripts server lab l port 8100 p 8100 livereload port 35729 r 35729 address localhost ctrl c to cancel 23 15 34 watch started 23 15 34 build dev started mahmoudrabie
ionic state restore
run ionic conference app url skip the intro repeatedly open and close the filter settings modal url button at the top right monitor using performance tab on chrome developer tools shows the nodes increasing every time modal is opened url
described in current behavior
example snippets this activatedtabs ion tabs id tabbar preloadtabs true ionchange tabpressed event tabpressed tab if this activatedtabs find tb tb index tab index if tab views tab views length 1 instance refreshdata views views length 1 instance refreshdata else this activatedtabs push this works but is really hacky and i would prefer if there was another or at least a support way of retrieving the active component of tabs
should have scroll in popover and long list in background now scroll on popover it also scrolls background list it happens only in ios working fine in android
call the function showtoast multiple times before the duration of 2000 has ended see related code below
just use the tabs starter refer to the tab pages by passing strings to trigger the lazy loading and change the app module ts file to add ionicmodule forroot myapp locationstrategy path
put an iframe in a ion content that contains a form page with input s try to focus on a iphone ios 8
add to you template ion datetime ion datetime pickerformat yyyy mm dd displayformat yyyy mm dd max maxdate min mindate ngmodel temdate ionchange moveforward placeholder selecteddate ion datetime 1 select date for example 07 31 2017 click done button correct date should be printed on ion datetime 2 click on to change date 3 very carefully change month to june the day should be still 31st 4 click done button the date should be printed on
define tabs in firebase query firebase to produce a firebaselistobservable route that list through the async pipe to create dynamic tabs see that tabs are not created usethe same list through the async pipe to create any other component and see that component is created create dynamic tabs with a regular array and see that are created only the combination of the async pipe and ion tab component doesn t seem to work
try to reorder a list in rtl url
this issue is reproducible consistently 1 go to any sample ionic 3 app 2 click on any of the tabs and go to 2 or 3 sub pages 3 use browser back button instead ionic header back button to come back to the previous page ionic error page will be displayed with error in the console as well
ionic start kensapp blank edit kensapp config xml see that the name is myapp
i created a little example project based on the blank template you can get it here url to reproduce run npm install followed by ionic cordova run browser as soon as you see the app in your browser window click the select buttons a few times to verify that the view gets updated then click link to go to page 2 and then use browser back button get back home page clicking buttons again you should see that view is not updated anymore also have a look into browser console when you try it will see that click method gets called and property in component does get updated it s only that template is not updated after a new value is set as soon as resize window view gets also
ionic g page classesadd
1 visit url 2 click edit 3 move the everything beta option to the second item in the list moving the hello item to top without releasing your mouse button 4 move everything beta back to top item 5 let go of item expecting everything beta to stay at position 1 6 instead everything beta moves back position 2
online demo url open dev tool click the button to navigate and click browser back button see the error in the console in dev mode it is also freezing the screen since errors are strongly reported demo app sources on github url you can check code run locally and check commit for steps approximate steps details in source commit generate a project with ionic cli with blank template generate a new page ionic generate page page1 edit home page to use ionicpage annotation add corresponding module and remove references from appmodule add a simple navigation directive somewhere in home page button ion button navpush page1page go to 1 i couldn t make a working plunker with new deeplink config annotation and no direct references my attempt url
before refreshlist run default url after refreshlist run default url
sorry i failed to create working example to point out the issue but its simple to produce 1 create a sample sidemenu project using ionic start samplemenuproject sidemenu 2 edit list ts file present under src pages list folder 3 add following lines in list ts file bash counter 0 ngoninit this calledfunction calledfunction this counter console log list page called this counter settimeout this calledfunction 5000 run the project view in browser and follow below steps don t reload browser s tab 1 project has 2 pages 2 from main menu select the page 3 in console you should be seeing logs like page called counter it updates in 5 secs 4
run npm install g ionic latest
i have created a repo for producing this error url
url when you select one of the options from the first ion select it updates the value of the last item i think it should update value of first item is there any way to get it work
using the latest ionic v version i ran the application in the browser using ionic serve command and through chrome devtools i inspected the application and turned on device toolbar with ipad mini device selected i also added a log to modalcmp class in generated www vendor js file to ensure that option is pulling through this bddismiss private variable stays true and does not allow me to change default option
upgrade and do ionic lab
see above remarks cool framework
npm install g cordova ionic ionic start myapp tabs cd myapp cd node modules angular common no http module exists
create a list of cards by copying the social card in the official guide append as the last element of the content an infinite scroll try to fire infinite scroll when landscape mode is set
use slides in a ionic project with tabs
tabs page default property segment string newtask click one button to navigate to the tabs page pass params segment repaire debug navcontrollerbase prototype failed function
create a datetime component of ionic and set the picker time format to 12 hours with am pm and set the time to 00 00 00 hours the picker date comes as 1 00 am while it should have 12 am plunker example url
i don t have enough time to set up a demo repo for now as it s only appearing on iphone a plunkr wouldn t be useful maybe later
create a new ionic project e g ionic start test app blank add two dollar signs somewhere in the body text like html the world is your oyster p if you get lost p the output looks like this image url i tried to reproduce it in plunker but there it works as expected somehow
update to ionic version use this app getactivenav
update to ionic angular version use getrootnav
upgrade to v version build and run the application by ionic cordova run android after the apps had been downloaded to the phone and started up on the phone open chrome browser enter chrome inspect devices in address bar click application under device and this will open up debug page and you will find error on first line in console
create a page with a slider and run in with ionic run browser in a pc
that s my url url but the tabs are showen on subpages you can start a new ionic version tabs app and test it
create a large list with infinite scroll on keep scrolling on an xperia phone
ionic start myapp v2 cd myapp yarn install ionic serve
see code below ble needs a device so can t reproduce on plunker
url 1 open the datetime picker at the top of the page 2 change the year to 2014 valid values of month and day picker columns don t update 3 change year to 2015 now picker columns update
here are my steps to reproduce this problem 1 create a model export class userinfo public name string public city string constructor name string city string this name name this city city 2 the code of home page import userinfo from models userinfo import component from angular core import navcontroller from ionic angular import http from angular http rxjs add operator topromise component selector page home templateurl home html export class homepage public simpleuserlist array userinfo public simpleselecteduserlist array constructor navctrl navcontroller http http this simpleuserlist new array simpleselecteduserlist new array ionviewdidload get url topromise then result if method is moved out the ion select works setsimpleuserlist setsimpleuserlist mock data the web apis simpleuserlist push new jim beijing simpleuserlist push new andy qingdao push cindy shanghai push jack guangzhou tom shenzhen lily qingdao anderson beijing simpleselecteduserlist andy qingdao simpleselecteduserlist cindy shanghai jack guangzhou tom shenzhen comparesimpleuser e1 e2 boolean return e1 e2 e1 e2 e1 e2
open app first time ok close app and open again ugly message appear
i m using the code below to remove a page from the nav controller each page has an ion navbar on it pages in stack a b execute code c with page a b in the nav stack execute the code above to show page c code above should remove b from stack so that clicking menu back arrow will take you to a
plunker url steps scroll to 500 or so tap scrolltotop twice fast look at console if no error try again you can do it only once though per refresh because it kills the thread
ionic version cat a 2k g version
1 start a new project ionic start myapp blank cd myapp 2 run ionic cordova prepare and observe 3 remove platforms plugins sudo rm r pl 4 run cordova prepare 5 observe the differences in output
run the related code where lazy loading is used in the project
npm install ionic angular try to build an app including ionic angular scss without any special sassincludepaths setting i use angular cli for example
create datetime with this iso8601 string 2015 07 23t12 55 version
this auth signup this registerdata value then console log after register this user this user id is empty auth login basic registerdata value then console log after login user user id is filled navctrl setroot registerlegalpage
url i am submitting a pr to fix
reproduce able by observing the examples in ionic docs
ion slides t t t ion slide t p page 1 p ion slide ion slide toggle ngmodel toggleme toggle p page 2 p slide page 3 slides
i have attempted to reproduce in a plunk here url but it does not seem to quite work as i see it when running in a proper ionic project eg either in the browser using ionic serve or built and running on a device i have a public repo here url that shows it better i have post about it here url and here url
i e created an example repository using the tabs template using an observable for the index variable that selectedindex is set to url when the app first starts on the 1st tab home screen click on fab then on ew post action on button updates index variable which should in turn update tabs you can see that index is set correctly because it is echoed out into a ion item index ion item element in tabs view
create toggle and disable it press tab until toggle highlights blue then you can change it with pressing enter ezgif com video to gif url
the bug repo is at back button bug url 1 start the project using ionic serve 2 go to the contact tab then click the go detail button then click go detail deeper button 3 click back button of android or browser you will find that you can not go back to page previous visited more clearly it should be page where detail display
see the plucker for live demo url
plunker to reproduce url click push pagec button to push page c into navigation stack click insert pageb button to insert page b between page a and page c try to go back with the back button b is not inserted navigation stack back button is not working same code with ionic version works as expected url
create a list with items and click add a refresher to the ion content
create an app with tabs located at the bottom click on an input element to enter text keyboard opens automatically tabs gets hidden
1 download the lazyloadtabs demo install and start it 2 typing localhost 8100 in chrome and open dev tools choose a device like iphone6 plus then enter the demo maybe a refresh is needed 3 if you look carefully you will find there is a brief black screen before the whole page loaded 4 you can see the black screen every time you refresh
try simply to create a new project then try to install native push and you ll fall in the same error
i guess just create an ion select with multiple true and a bunch of ion options and try to to get notified when any of the ion options are deselected while the dialog is option
have a form with 5 ion selects and 5 input text fill the 5 ion select fill the input type text in the keyboard type the data info and press go app shows options of first ion select bug url
1 add an action sheet into one of ionic page 2 add the alert control into that page 3 open an alert control using action sheet button 4 try to close the alert control using one of agree disagree button
i ve made a plunker to reproduce it url
create select with multiple options being a number select a different option will return it as a string
original behavior in version url click open alert prompt button and watch auto focus of input element behavior in version url no auto focus anymore behavior in version url still broken
1 clone the ionic angular repo and npm install 2 run gulp e2e watch folder nav simple tabs 3 in page one click the go to next page button page two is opened and the back button is shown 4 reload page two the back button is missing
sudo npm install g ionic
have an ion select an ion input element on the same page enter something in the input field when hitting enter or go submit on devices the select window is activated as if you clicked the element
generate a new page via the cli
we have a tabspage defined in the root nav with tabs hidden on subpages in the template with tabshideonsubpages hideonsubpages this property is set to true in the page constructor if the platform is core desktop img width 730 alt ionic nav tabs main src url we navigate to a subpage from one of tabs and it s pushed correctly back button is present tabs are hidden img width 730 alt ionic nav normal src url when page is reloaded back button missing and are shown this page has a defaulthistory that goes back down to defaulthistory tabspage listspage as well as its parent img width 730 alt ionic nav reloaded src url
run ionic package build android
i can give you access to the repo ping me in slack
1 present a ionic modal 2 dismiss it by viewctrl dismiss 3 modal disappearing ondiddismiss invoked about 300ms after view disappeared
steps todo step 1 download both projects and install as example i have created two projects tone use ionicpage s t t url tthe other use the normal way of ionic t t url step 2 add the windows platform step 3 enjoy the bug ps both projects have the same bug
change the sample code url mark pageone class as changedetectionstrategy onpush
copy and past offical docs and run in real android device
homepage javascript import component from angular core import ionicpage from ionic angular ionicpage component selector page home templateurl home html export class homepage products test1 test2 test3 test4 test5 constructor emptylist void this products homepagetpl html ion content ion row ion col h2 virtual list h2 ion list virtualscroll products item virtualitem let product product item list col col h2 normal list h2 item ngfor let product of products product item col row button button click emptylist empty my button content
url to reproduce 1 first notice how the selected item is select a value at start 2 select a
please refer to the plunker above i didn t verify this but my guess would be its broke with this commit url diff
navigate to url and attempt to read about the no border atribute
searchbar animation url
using latest ionic version ionic start bug choose sidemenu use or not cordova don t change the bug ionic g page firstpage ionic g page secondpage add and import firstpagemodule to our appmodule on imports add and import secondpagemodule to our appmodule on imports go to app component openpage and replace it content with this nav setroot firstpage serve the application and click on any item on menu you will see the error uncaught in promise typeerror undefined is not a function typeerror undefined is not a function at array map anonymous at webpackasynccontext now go to app module ts comment secondpagemodule try clicking menu item again everything works fine
1 clone bug demo repo here url 2 npm install 3 ionic build ios android debug i m using ionic cli v version use corresponding cli build command if using a different version of ionic cli 4 open link myapp example com about and launch demo app 5 click on navigation buttons to push a different tab to view
insert any relevant code here html code ion content ion list virtualscroll companycheckobject virtualtrackby ion item virtualitem let company ion label company company label checkbox ngmodel company ischecked ionchange checkboxchecked ischecked id checked ischecked checkbox item list fab right bottom style margin right 5vw button fab color primary click openupdatewarranty event icon name add icon button fab content ts code checkboxchecked state companyname companyid if state true this companiestosend push id companyid name companyname ischecked true if state false var index this companiestosend indexof companyid this companiestosend splice index 1 console log this companiestosend console log
create a app with uses ion nav in app html ion nav root rootpage ion footer ion toolbar my static footer content toolbar footer in somepage html header title my app title header content my content content for ionic issues url
ionic start testbuild tabs create directory src modules create a module testmodule in src modules test module ts with contents import ngmodule modulewithproviders from angular core export interface itestconfig value string export class testconfig implements itestconfig value string ngmodule declarations imports entrycomponents providers exports export class testmodule
run the plunkr open the dev console and click between the two menu items you ll notice the ionviewdidload is called every time a page is clicked
the bug is present in ionic angular version but not present in ionic angular version create a basic formbuilder form start typing into ion input field ng touched is added on keyup start typing into standard input field ng touched is added on blur url
it stops for so long time at this particular line this geolocation getcurrentposition then position
1 click the text area 2 scroll outside text area
1 i ran ionic cordova run android in motorola tx1032 2 i ran ionic cordova run android in mororola tx1040 3 the behavior works fine in tx1032 4 some features don t work correctly in tx1040
directly copy this example which is on the ion range example on the site ion item ion label dual step 3 snaps ion label range dualknobs true ngmodel dualvalue2 min 21 max 72 step 3 snaps true range item you wont be able to move knobs
a number 100 ion input type number ngmodel a ion input this way a is converted to string input type number ngmodel a this way stays number
ionic run android o ionic run release android en version version api 21
1 have own transform scss mixin 2 use the mixin 3 update to version
1 add a button ion button class my button button to a page 2 try to style the from scss like page name my padding 16px margin 0 3 your rules are overwritten by the dir ltr mode dir rtl mode selector 4 this happens with almost every component ion card ion card content ion chip etc
you need to use the ios simulator to reproduce clone project at url and try
the plunker is fully up to date click the button to empty and refill the list reinit the virtualscroll hidden does not effect behavior nor does console log in virtualtrackby use chrome dev tools performance to throttle cpu 10x 20x and see that flash is in inverse order url
say have a component rendered inside the virtualscroll that has and output event emitter to pass some value back to the vs hosting component so something like ion list virtualscroll items div class full width virtualitem let item custom comp myitem item myoutput dosomethingimportant event custom comp div ion list now imagine that custom comp when clicked opens a modal to get user input e g star rating that wants to return it through myoutput event emitter rate let modal this modal create ratingmodal rating rating modal ondiddismiss data dowork this myoutput emit data rating return present this works fine and dandy but if the user keeps the long enough for a change happen our data bound virtual scroll i e a value of different item changes vs will
url search for a number any number nah kidding search for a number then search again notice the flickering in order to appreciate the magnitude of this has on an actual device turn chrome s cpu throttling to 10x and notice the behavior
url searching for 5 55 or 555 works searching for 5555 which does not exist in the list throws error
add the following to the theme variables scss file toast wp button color 387ef5 notice that the color of the toast button in ios and md changes as well
there is an example at this plunk url however it can t be reproduced on the descktop as we need the scroll to gradually stop as it does after a flick on a device
run ionic 3 app in ios 11 simulator using xcode 9 bet
this loading dismissall call again in another part of my code like an helper class that centralize loading requests this loading dismissall
have a image in the resources as documented run ionic cordova resources
create a blank starter project paste the code below into home html run on android device or emulator scroll down an amount so that when the keyboard appears it causes the ion content to scroll in my example try stacked label touch an input to reveal the keyboard footer background is now transparent
ionic start myproject sidemenu cd myproject ionic g page listpage
check out the console logs of this plunker url
click on input box then click on anywhere in page or another input box i case of ios
1 create new project ionic start testproject blank 2 create external plugin mkdir testplugin cd testplugin add package json testclass ts 4 install plugin install and link or copy plugin to node modules npm install npm link cd testproject npm link myexternals testplugin 5 register plugin in app module ts 6 build in prod mode ionic cordova build android prod
my exact case is a virtual scroll list that renders custom components that wrap an ion item sliding but should be reproducible in simpler examples in a list rendering ion item sliding slide the item left or right in a slow device or using chrome dev tools cpu throttling seems to be a race condition of some kind some times buttons will appear some times white area will appear instead of the buttons until you nudge the item again bit when buttons appear dom looks like image url when buttons do not appear dom looks like image url notice that in the second case class active options left is missing although active slide is present
app modules ts ionicmodule forroot myapp pagetransition ios transition pageexample ts this nav setroot otherpageexample animate true direction back or this nav push otherpageexample direction back as an example i took prints of the app animation 1 when clicked on sidemenu this is closed and the page is pushed with the back direction 2 the page is shown but not ion header 3 after a small delay ion header is shown image url
see plunker below url please check the console for simple logging of event fired and event caught statements
we are trying to touch swipe scroll the ion item in ion list its working fine on android and on ios but not working on windows windows surface
create an empty app while embedding in the root view a google map and put a button when clicked it pushes to the next view once you are on the second view hit the back button and boom map will disappear global packages ionic cli utils version cordova cli version ionic cli version local packages ionic app scripts version ionic cli plugin cordova plugin angular cordova platforms browser ios framework angular system node v os macos sierra xcode xcode build 8c1002 ios deploy ios sim
here is the ionic datetime demo see url it is not possible to clear reset the value
can reproduce in detetime component exemple on ionic documentation page url datetime
run ionic generate page page name and navigate to the module file that is generated
ionic view id 914fb8a5 github url i have used the blank template using just the homepage tap the first item in the list navigate back tap item again within 1 second nothing happens
i am sorry i can only see a white screen on the plunker using my safari so i committed code to a repo to illustrate the issue url without pulling the code 1 ionic start tutorial 2 in hello ionic ts add change these import import navcontroller navparams from ionic angular import listpage from list list change constructor constructor public nav navcontroller public navparams navparams add method pushpage this nav push listpage 3 in hello ionic html change the button as follows button ion button color primary click pushpage push list page button 4 delete ion title then add a ion segment to list page ion segment segment value a segment value b b 5 serve lab note that bug only happens on ios also on view
1 make the app rtl mode 2 add ion select 3 put no padding attribute 4 the padding is not getting reset and get overrides by dir rtl select md css class
use split pane with ionic 3
put a tabs component inside a lazy loaded module with an individual tab that is not lazy loaded
create an app with deep linking implementation and the use browser navigation buttons to go back and forth with fast click
check with expected behavior
the plnkr show is below url
navigation is performed from the service using the navigation controller obtained from application getactivenav the current page is one of the tabs see plunk url when opened please click go home button under first tab
steps are described in the log showing below steps with issues are marked with
create a ionic project add two color in the colors map with the same base color but a different contrast color create two page with a toolbar using both colors see that it s always the constrast color of the first defined
create a ionic project with tabs add the variable tabs tab color inactive to the variables scss with a custom color debug your app using chrome
use ios native chinese input method typing any chinese word on searchbar
1 create new starter application using ionic cli command ionic start ionic2firstapp blank v2 2 in the app created change package json to have ionic version version as described here url see attached file package json txt url 3 change home html and home ts files located in src pages home to be as in the attached files home ts txt url html txt url note that in html template there is invalid expression test test note that after the app is transpiled and rendered there is neither error displayed not error messages the console if you either 1 move list initialization code from ionviewdidenter to constructor everything works as expected and you get runtime error 2 move invalid expression test test outside of ngfor everything works as expected and you get runtime error note that problem occurs only when list is initialized ionviewdidload or ionviewdidenter invalid expression inside ngfor loop
1 use the conference ionic starter 2 cut your internet on your iphone or simulator 3 launch your app 4 just see when the platform ready promise is resolved it looks like the async attributes is not considered or something like that
after creating a new app with cli ionic start xyz sidemenu id xyz com app move to app folder with cli cd xyz run cli ionic cordova build android prod what platform would you like to build ios android
after creating a new app with cli ionic start xyz sidemenu id xyz com app move to app folder with cli cd xyz run cli ionic cordova build android prod the plugin ionic cli plugin cordova is not installed would you like to install it and continue yes npm install save dev save exact ionic plugin cordova latest running command done object object
just create simple ion range ion item ion label singlevalue ion label range ngmodel singlevalue color danger pin true range item tab on it select and try to use keyboard arrows to move knob in desktop browser variable does not change its value
start a simple tab app in v2 mode bash ionic start testingbarbuttons tabs v2 add some buttons into the home navbar or whatever page you want html ion navbar ion title home ion title ion buttons end button button icon only icon name pin icon button button icon only name calendar only name calendar buttons navbar run in an android version device bash ionic run android target android4 4device
this is happens to me only sometimes so i m not sure of exact steps to always reproduce here s a gif of the issue i m seeing url
add this preference on the file config xml preference name overrideuseragent value mozilla version windows nt version win64 x64 applewebkit version khtml like gecko chrome version safari now try to check the return of the platform is method is correct using the platform you re using not browser example for an android device this platform is android
example code url this contains several examples of different layouts of ion item and ion item sliding with various containers within in ion list ion item ngfor anim remove this seems to shrink the height up till the contents of the item and then it disappears add pops into view div ngfor anim remove animates as expected unless it s the last element in list add pops into view sliding ngfor anim works as expected for both add and remove component containing sliding ngfor anim animations do not work div component containing sliding similar to using a wrapper around above remove animates as expected unless it s last element in list however next element will slide under visible element add pops into view but its wrapper seems to animate component containing contents are not displayed
1 clone the ionic conference app repo install dependencies and run ionic serve 2 select the breakfast event in the schedule tab the url changes to tabs schedule sessiondetail breakfast 3 reload page root schedule page is loaded instead tabs schedule this also throws an exception but i think is related to mockup data not being initialized
just create lazy ionic app with lazy modal from a page and fast double click escape button to dismiss the modal
example url create an ion item layout that contains an ion checkbox and another element that has a click tap event ion item ion label accept the a click showtermsandconditions terms amp conditions a label checkbox checkbox item notice that the checkbox is toggled but the other desired event appears to be swallowed
1 inject events service into component 2 subscribe to app rotated event 3 install app to phone 4 rotate phone callback subscribed to event was not called
1 add form with change event handler on the page 2 add ion select component to form 3 serve change ion select value 4 observe that handler is not triggered on change event plnkr url as you can see editing ion input value triggers change handler but selecting from ion select does not
let safesvg any safesvg this sanitizer bypasssecuritytrusthtml this customspinner debugger var html div class custom spinner container div class custom spinner box safesvg div div debugger let loading this loadingctrl create spinner hide content html
so i tried to put it in the html without any luck also like this this slides controlinverse true
1 create an ionic app with tabs 2 inject app and subscribe to viewwillenter 3 navigate between tabs
ionic cordova resources
bit involved to include a plunker type snippet how would i do that for component bugs
enable custom component
follow the tutorial given bellow url
issue is directly visible in the online demos 1 open edge browser 2 navigate to url 3 swap to windows 4 click on three dots icon in top right watch out for the short flicker in the bottom right
set min or max on an ion range and update the value url
in my case i have borrows a md select from material design repo inside a ion item box the ion labels are not compatible with md xxxx components to get floated and align well with others
demo plunker url
ionic serve or ionic run platform l
here s a repo with the demo used for above screenshots url and here s plunkr code for the same url
url 1 double tap to zoom the image 2 try to pan the image 3 the slider starts to slide to the next page
1 run plunker 2 slide to the next page 3 double tap image 4 wait until zoom finish 5 single tap on image url
open the plunker as android platform url an try to pan a zoomed images url
create any blank ionic 2 3 project add html5 audio tag give the src to any mp3 url deploy it to a physical ios device
just create empty tab project put some content in it it is hard to replicate this in browser so simulator or real device should be used and this piece of code should done it
1 clone url 2 npm install 3 npm run serve 4 tap the add card button on the home screen 5 select card type modal toolbar has the bug
run ionic app with ion textarea on ios emulator
try the following code on ios 10 haven t got any devices with ios 10 to test on so unsure if this is limited to 10
in your index html file add the following head element meta http equiv content security policy content upgrade insecure requests all content fails to load
already told any help regarding this my project is stopped from this point and i can t get to test anything
reproducible within ionic docs url change one of the example times to 12 xx am close and reopen picker time will now show 1 xx am
make a provider return an array of 3 numbers and use it to insert 3 range selectors bound to each element of this collection the insertion in the view should be done via an ngfor ie dynamic here is a plunker url
if you find this as more relevant to ionic native repository you ionic team can transfer this to ionic native issue sorry for reproducing as this illustration is based on beacon sighting custom event and used for enterprise level iot app where data is continuously changing using angular custom zones which effect ionic view app front and when at certain limit beacon sightings touch then location plugin fire with http request along with latitude and longitude for 1 issues url for 2 issues url
just browse the page url
see the plunkr below running ionic version the custom date picker button and the button on the page itself are hooked up to same event handler but only one produces an effect url
create a new ionic 1 project ionic start myapp blank type ionic1 cd myapp ionic serve l
create blank ionic 2 app have not tested with ionic 3 install cordova plugin media add an mp3 file to the assets folder then attempt to load from the filesystem audio will play in the browser but not when deployed to a device ios and android will call the onsuccess callback but no audio will play
deploy to ios click on searchbar to focus then blur the search bar by clicking on a button or something similar
no working demo but it uses ionicpage with segments and popovers in ion select
this was caught in a travis job when upgrading to version the repo that has the current setup url it is just a barebones repo this error can be seen when trying to build this branch url the relevant travis job url
please refer to testbug repository based on blank app on github url 1 check out project 2 ionic serve 3 go from home page to test form page red button 4 input a b com into input notice that validation is ok 5 press back button and then forward button on browser notice that validation is still ok 6 ionic cordova platform add browser 7 ionic cordova run browser 8 repeat steps 1 5 9 notice that the validation is not ok and the page is inconsistent state
you can check simple repo here url here is the video showing double infinite scroll firing url
must be run using the emulator or deployed to ios device
cannot reproduce on a browser
this has to be executed on an ios device itself 1 create a project with simple navcontroller based navigation 2 enable voiceover settings general accessibility voiceover 3 navcontroller push at least one time 4 two finger scrub
ionic start scrollingtest blank
1 check out and build the ionic preview app and build 2 ionic serve 3 scroll to the ion searchbar page 4 change input to chinese and type qingshan notice on chrome the input for chinese does not appear and on safari multiple letters appear 5 change package json ionic angular dependency to version 6 remove node modules npm install again 7 notice that things work normally
ionic serve open browser stack typeerror cannot read property indexof of null at tab navcontrollerbase cleanup url at tab navcontrollerbase transitionfinish url at t invoke url at object oninvoke url t invoke e run ngzone run array mdtransition animation didfinish mdtransition animation playprogress mdtransition animation playdominspect ionic framework version ionic app scripts version angular core version angular compiler cli version node os platform os x yosemite navigator platform macintel user agent mozilla macintosh intel mac os x 10 10 5 applewebkit khtml like gecko chrome safari posted also here not really sure where it does belong to thanks
i don t know how to make a plunker template for version version but here is a demo of how it works with ionic version version url try the same in and you will see a different result where the input field does t clear after adding to list
run ionic build ios
see this plunker url
1 init a ionic3 project 2 add an ion select component with several options 3 run ionic app scripts serve prod 4 open the select component and u will see the result
initialize an empty list add item to the list with a delay
1 ionic cordova build browser prod 2 serve the platform browser www folder via a web server
just click and then click and again till it happens
click on the button alert first time works fine click again the button alert this event fires twice
1 import alertinputoptions in code
enter a view that has ion input and swipe to go back but you have to do it right from the ion input
try the code below into a component
create four or more slides put the slide with floating input in the middle url
place clickable items within an ion scroll element example only changed the code inside ion content url
1 having an existing ionic 2 project 2 update dependencies to ionic 3 requirements and adjust coding e g import for browsermodule
1 ionic start setfocus blank 2 cd setfocus 3 update home html and home ts as below 4 ionic serve
see this link in the forum albeit please excuse the frustration we expressed in the thread url
galaxy tab running version version of kitkat install ionic ionic start mysidemenu sidemenu run on device try swiping out the menu and it never comes out
steps to upgrade v2 to v3 update your package json to match the following dependencies remove the existing node modules directory and then run npm install dependencies angular common version angular compiler version angular compiler cli version angular core version forms http platform browser platform browser dynamic ionic native core ionic native splash screen ionic native status bar ionic storage ionicons rxjs sw toolbox zone js devdependencies app scripts typescript
don t know how to reproduce got it only a few times
the same code works different using ionic version and version ionic version demo plunker url ionic version demo plunker url
i am not able to produce this on plunker i am getting this issue on android version
it s explained in this plunker as well url switch back and forth between version version in systemjs config js and you should see the difference with version you ll see the events in the console without any interaction event value will work just event will pass the whole event object with version they won t fire automatically event value will be undefined and just will work
create a new project i let the the default tab template and edit the about page like this ion header t ion navbar t t ion title t tabout ion title navbar header content padding item label gender label select interface popover option value f female option option value m male option select item content launch ionic serve go to the about page click on gender select element an alert is displayed instead of a popover
i have 5 tabs in my tabspage issue appears on android platform here s the config that i use platforms android tabshideonsubpages true tabshighlight true tabsplacement top ios tabshideonsubpages true tabshighlight true tabsplacement bottom
copy from docs the slider and deploy to ios device try to swipe slider
just add some sass maps like the
i created the ionic 2 x tabs starter project and added the following html in the about page i am able to replicate this on ipad ios version version this issue is happening only on ion input and not on input textbox again as mentioned above you need to try the steps 2 and 3 around 10 15 times to see issue on few occasions i am able to reproduce it in 2 3 attempts
upgrade app from 2 x to 3 x and add ion searchbar to a page and set animated to true
set config mode ios in your app config and compile for platform browser
1 define service as class injectable export class myservice 2 in other components or pages import that class with just import command import myservice from pages services myservice in constructor constructor public myservice 3 in main app module ts add that class service as provider providers someotherthings someotherthings
if you are able to illustrate the bug or feature request with an example please provide steps to create an app add the popover to the navbar add elements to that popover add click event those elements so when they are fired a navigation a new page will happen
present any statusbar in an ios device
i believe all you gotta do is publish a web app i m not sure if this is entirely attached to ionic 3 version but it happened on mine and on others apps i know too you can access mine and check the error url
1 here a project to reproduce the problem url 2 ionic platform add android 3 ionic build android prod 4 start and test on a device the scroll list on home html not gonna be scrollable 5 if you wish you could remove the swipe event from the list redo test behavior and will notice that without it list gonna be scrollable
should be self descriptive from above
open the slides api doc page on a desktop to show the demo phone page is url result the images inside the slides are not loaded
1 ionic start ionic2 tabs tabs v2 2 add console log in constructor function 3 select the same tab consecutively
insert a image with a not a square for example 375px 300px
go to this plunker url it s a simple contacts list scroll a few contacts and you ll see how images are shown
create the popover component and try it out on a device
1 install node v version 2 npm install g ionic cordova gulp bower 3 ionic start testproject runtime 4 cd runtime 5 ionic add platform android 6 ionic run android
1 download my app addvideo on google play url 2 run on android version device e g samsung s3 mini 3 you will see splash screen never hides this is the code that is running this works on android 5 6 and 7 this app getrootnav setroot loginpage then settimeout this splashscreen hide 100
the application is setup as follows root page contains an ion tabs with two different tabs called today default and all the all tab contains a list of selectable items upon click on an item a new page details will be pushed for this tab 1 the application is loaded with the today tab 2 navigate to all tab and select an item in list 3 details page is pushed and shown while all is active 4 navigate to today 5 navigate to details view popped
i have a modal with an ion searchbar below the ion searchbar there is an empty list that gets populated as you search each item from the list is a button with ion item attribute directive and also has a click handler to close the modal upon selection if you have at least one character in the ion searchbar items are not clickable tap first time you attempt to click tap them it isn t until second time that it recognizes click first time to try clicking an item keyboard hides but click event is not triggered until you it a second time
upgrade from ionic 2 to version
1 create an input 2 present a toast
create a new tabs example project with the ionic v3 cli like explained here url run ionic start tabsexample tabs you can console log the rootparams in the constructors of the tab content pages
try to push an object that looks like the above specified with navctrl push page item to a new page that has the ionicpage looking like ionicpage name page segment page key
url list dividers
build ionic app and implement an api connection similar to this url request twice whichever request i put first works
just upgraded my app to ionic 3 then ran through the mentioned performance issues here is a video showing the difference between running the same code on browser device video url
1 create modal 2 run googlemaps using the ionic native example
from your root page navigate to a page with a popover on it open the popover from inside the popover follow a link that pushes a page to the stack from that new page trigger settoroot i ve created repo that demonstrates this issue here url you can follow the links on all day long and then click settoroot and it works as expected however if you use popover to get to page1 or 2 and then click settoroot you do not return root
set config xml preference to landscape run ionic resources run ionic build emulate ios
n a hopefuilly the extra text makes you happy
create two simple pages with a simple ion slides navigate from page1 to page 2 using navctrl push drag slides on the page2 slider
this can actually be reproduced in an example on the docs site go to url type something into the password field click away from the password field to blur it click back in to the password field type x into field notice that contents of password is just x rather than expected somethingx
download a ionic v2 blank template run platform add android run ionic run android prod
clone url serve browser having nexus 6 as device home page scroll to bottom click on the second item which is a button open the menu reproductabillity 100
1 create a popover 2 put ion spinner inside it s component
pressing an active tab and the view will recharge every time we press it
create a new ionic project using the v2 tabs flags add the ionviewdidload function in the ts files of any tab component and then tap on the active tab should fire ionviewdidload again
deploy the related code snippet to one of the above mentioned ios devices click on the telephone hyperlink and when the confirm alert appears wait for about 10 seconds at this point confirm alert will disappear and show up again about a second after it disappeared tel link and confirm alert url
i don t have steps to reproduce as this is a private app and i have a newly created ionic 3 app that is working fine i have referenced the ionic 3 app multiple times to try to determine what the difference is between it and my ionic 2 3 app
url go to the plnkr and click 4 5 times on the add an activity button different ion item containing an ion select will be dynamically added then try to change the value of the first one it will correctly update bound value which also displayed next activity index bound value to double check that but it will change displayed value of second line for no reason bound displayed on second line is still correct though what is this really weird behavior
here is the code that i am using i also tried to us ngmodel instead of click ionchange doesn t work because it triggers event on the load and that doesn t work for me as i said it works perfectly fine in the browser and on ios but on android it does nothing not sure what s an issue thanks ion toggle item right click updatestatuschange verified formcontrol updateuserstatusform controls verified checked user verified ion toggle
display popup ionic start ionic2do blank v2 cd ionic2do ionic platform add ios ionic emulate ios target iphone 6s fix popup delete the previous created project folder then run the following make sure to follow on screen prompt to save cordova plugin rm ios add ios when updating cordova platform popup will not show in following scenario ionic start ionic2do blank v2 cd ionic2do platform add cordova platform update emulate target iphone 6s
you can have a look at the gif below i added some colors to make the issue more obvious you can see that in the new event page when i click on the invite button faded background is actually one of my user profile tab selected before in invite page when i click on following button i can see a faded background with red lists while lists should be green same behavior happens when clicking on back button modal url
tap the about tab the scroll does not move tap the home tab tap the about tab scroll goes to bottom
i have no idea how can be the localhost undefined at the livereload enabled emulation
output the array for platform platforms on a uwp on a full windows 10 machine span ngif platform is windows should should show on all windows span
1 switch to mobile view 2 scroll down one of the content panels 3 scroll up one of the content panels
create a slider with 3 slides swipe to the second slide create a menu that pushes another page into the navigation stack rotate the device and then press back the slides of misaligned
present a simple prompt alert like in your documenation url alert prompt on ios you will see that the input in the alert prompt immediately looses the focus now
i created a repo with a v3 app here contains video as well url i believe this is fairly similar to this recently closed issue url
git repo url repo home url basically create a landing page not the tabs page and set it as root in the app have a bound array that is looped through using ngfor have code that would echo out an invalid item ie notmy item have the array be empty until ionviewdidload is called by setting the array to have items in ionviewdidload function angular rebinds and will run ngfor and try to parse invalid item a button to set root to tabs page and notice that tabs function but do not highlight having array be populated anywhere else will throw error if you use my repo change ionviewdidload ionviewwillenter see problem commenting out populating of causes ngfor not run as no data tabs will highlight fine it s sort of a confusing error so if you need more info let me know
1 create a balnk page which shows ion loading 2 run on device android ios 3 enable screen reader void assistant in accessibility settings 4 open the app and navigate to the page 5 the loading alert is showing but the user has got no feedback about loading indication
ion item sliding with nested ion item inside is ion label for ion datetime this stopped working with upgrade to version version
ionic start testtest v2
i made a plunker url when you click on yes or no the ion list must be alway empty but as you can see the ion list is not updated
i created a plunker to reproduce the error url you need to click on a list item a new page is pushed and if you click on the button click here nothing appear it s the bug angular not refresh the view
1 start a new sidemenu ionic project with ionic v2 or v3 sh ionic start myapp sidemenu v2 2 run the project on an ios device 3 click on the burger menu icon to open the side menu 4 then click outside of the menu area before version s right after menu is opened
1 create a page with a refresher and other more elements simple page maybe not show the flash obviously 2 initiate a touchdown event and start scrolling down so the refresher is activated 3 on ios you will see the entire page flashing and i find that related issue url ionic info of my system cordova cli version ionic framework version version ionic cli version ionic app lib app scripts ios deploy
i see this behavior on the
create blank project and create three slides with images which are bound to a variable see plunkr url however not binding the sources to a variable will make the slides work as they should url but it still shows the wrong indexes in getactiveindex
i have updated my application to v version and updated all pages to modules using ionicpage when app components ts loads it does a storage check to see if there is already a user logged in if there is it sets rootpage homepage otherwise it will set it to loginpage if i load the app at base route url loads the login page and the url then changes url login if i then refresh the page application sets rootpage loginpage and then deeplinker navigates loginpage causing page load twice there should be a way of detecting deeplinker is going cause a navigation change or have deeplinker not navigate page is already on
create a new ionic project v version update it to v version install the plugins listed above run ionic build ios
i have provided jgw96 with a repo
actual conf app lazy load set config mode to ios run on windows platform ionic run windows prod
tried to use ionicpage in a page component
put an ion card in a ion content with padding
i created a repo url run ionic serve and follow steps below reproduce issue 1 on home page click button go to tab1 page on tabs1 page click button go to about page you should see that url did not change should be about reproduce issue 2 on home click button go to tab1 url should change to tabs1 tab tabs1tab1 on tabs1 click button go tabs2 url should change tabs2 tab tabs2tab1 tabs2 back the navbar app navbar not browser will not change and will be tabs2 tab tabs2tab1 instead it be of tabs1 reproduce issue 3 home open modal you will notice that from home
please go to this plunker url click on go to form click on the gender field and then click out with out selecting anything you will see that the user is not notified that it is required this also happens with the date field if you click on name and then start typing and then delete what you type the field will turn red and then if you out required will show none of this happens for gender select or dob date fields on main page if go to prefilled form ll notice that it all prefills nicely but select date field when material design is present do not have valid color border bottom
run ionic s own infinitescroll e2e test in a uiwebview and you ll see it doesn t work
ionic start myapp tabs v2 click multiple times on a tab before after starting the app image url after clicking the home tab multiple times relatively fast image url
init a starter project with tabs template put the above function in the tabs page code and expose it to the window object you may hardcode a specific tab
switch between two components containing the ion slides very quickly
call screenorientation lock
create a page that opens a page with only one button that opens a page with many components then swipe back
open an app and long text wherever it will show some kind of text marker at the top marking nothing
create a simple google maps native that takes 100 of height and width create a popover in the navbar click on the popover and try to close it by clicking on the map i know that the map is not an html element but is not there a way to close popover anyway by clicking on backdrop edit i forgot to say that backdrop is unusable i cannot click on it thanks
video of the bug here url
1 create a new ionic project 2 commit the project to git 3 open and save config xml with an editor that appends newlines to the end of files atom editor has this by default 4 check the diff in git git diff config xml diff git a config xml b config xml index d3125bd 8bd3801 a b 52 4 52 4 splash src resources ios splash default 2x iphone png height 960 width 640 splash src resources ios splash default iphone png height 480 width 320 platform widget no newline at end of file widget
it is a normal list with items as shown in the examples in the ionic docs inside a ion card nothing special i also tried it without ion card same problem the same behavior i was in a fresh ionic app with only 1 page with input fields there is already an entry on ionic forum with videos and code snippets please have a look at url
this repo reproduces the issue url just switch a few times quickly between kittens and puppies segment and the error should appear
1 create an ion select component and add 5 to 6 items to the select list 2 run the app in chrome browser and open the developer tools 3 click on the toogle device toolbar 4 in browser window select iphone 5 5 click on rotate button to change orientation to landscape refer this plunker url refer this screenshot url
1 create a new ionic 2 x app 2 add any component that responds to touch drag 3 attempt to use scroll instead of touch drag and it will not do anything perfect demo from ionic haha url
starter tab project ionic start v2 myapp tabs 1 build for windows and deploy on a windows device 2 then click back button on one of the root pages app goes to background 3 open the app from background 4 click back button again after some debugging i think the code that generates the problem is in platform implementation var platform function function platform this backbutton subscribe function hardware back button event has been fired void 0 console debug decide which backbutton action should run this runbackbuttonaction on windows an exception is thrown when trying to exit app as cordova specifies url windows quirks exception unsubscribes handler so handler isn t called anymore on back button events
clone this repo url to reproduce the issue open the home page and click a few times on the home button you will see that the dismiss transition and page will remain blank
1 create 2 cards in ion header create 2 cards in ion content 2 dynamically set the top card in ion header to be removed display none after 2 second timeout see plunker 1 url 1 create cards in ion header create cards content dynamically set the top card header to be added after second timeout plunker url
open devtools enable throttling and compare 2g to grps
use the related code and test it with the ionic view app on with the ios simulator
ionic cordova run android prod
this is only reproducable with my custom component but i guess this will be an issue for other edge cases where one wants to scroll programmatically right after loading content
the problem seems to occur every time setroot is called on a navcontroller with a page that has a menu while the navcontroller already has an active menu on the same side i created a plunker here url to show the behavior first page has menu and works fine clicking button to switch to second page also works fine next button switches back menupage and triggers problem menu will not open anymore when you do same steps again will work again because there is no active at this time third time will fail again and so on
create two tabs and one menu for each apply the multiple menu pattern as shown below url
create some tabs then click where the cursor is just above the border bottom but not on the text
just use an action sheet with a subtitle like the one in this example url
build a reusable module with multiple components and a service attempt to lazily load the module and then navigate between the components that were lazily loaded this works perfectly in angular for ionic 1 issues url for ionic 2 issues url
1 create a starter tabs app 2 add more tabs with tabsplacement top 3 make the bottom tabs larger than the top tabs 4 the ion content margins are incorrect for the top
scenario 2 tabs index 0 1 1 open app tab 0 is active by default 2 click tab 1 3 click tab 0 4 call tabs select 1 5 the contents of tab is now rendered but the itself remains inactive until something triggers a repaint the ionchange event is called as it should
i ve setup a brand new ionic2 app and pasted in the example from the docs i have a repo with the code url
ion slides slider zoom true ion slide ngfor let item of items div imageparent class swiper zoom container img image src item div ion slide ion slides double tap the slide to zoom it in then try moving your finger as you move the finger zoomed image should follow it allowing to see parts that are outside of the view
1 open safari on ios 9 the simulator might work 2 navigate to the official chip demo at url 3 scroll down to the delete chips area
any searchbar that is animated and has a cancel button on ios can be browser
ionic start myapp v2 ionic serve
run ionic build command in console ionic build android release
the following will work on version but not version ion content ionscroll dosomething dosomething is never fired on version
use click event and tap for same action to note the difference
view this demo url click the gear at the top right then click back and watch the area where the gear was
just follow the usage example for tabs step by step url usage
on os x el capitan do in a terminal ionic start test blank v2 cd test ionic platform add ios ionic prepare ios ionic emulate ios consolelogs white screen of death instead of the world is your oyster and instead with an attempt to use wkwebview plugin rm cordova plugin wkwebview engine plugin add url save t installing cordova plugin wkwebview engine for ios t t error the header content contains invalid characters prepare launch xcode from users apple desktop don ionic2 test platform xcodeproj in xcode run on simulator white screen of death
please open url
any instance of the tab bar on chrome will show this effect the effect can be observed in the standard ionic tabs starter project once you edit tabs html to add tabshighlight true
on this demo the first button use ion button and the second use ion item url
plunkr with reproducer url
just follow the ionic contacts tutorial url
please check this plunker url
url see console output for button triggering
plunker url for ionic 1 issues url for ionic 2 issues url
deploy the related code snippet to either of the above mentioned devices emulated or physical since this bug occurs when hitting inside a small limited area outside the toggle the easiest way to reproduce this bug is to emulate an iphone and scale window of emulator to 100 make area where toggle is able enter buggy state as large as possible reproduce bug url
if you are able to illustrate the bug or feature request with an example please provide steps to reproduce and if possible a demo using one of the following templates example of the behavior here url
i have created a plunker based on your template url
i have created a repository displaying the issue github repo url i ve added several ion inputs with different combination of attributes to show the issue running the app on android device we can see that keyboard shows suggestions if autocomplete attribute is present however ios simply does not care and never displays anything tried enabling keyboardaccessorybar just in case but that does not help in any way as well ion list ion item ion label no attributes set label textarea autocomplete on spellcheck true rows 1 ngmodel text5 name text5 id text5 textarea item list
setup deeplink config export const deeplinkconfig deeplinkconfig links component activitypage name activity detail segment activity levelid id defaulthistory dashboardpage from within activitypage create a link a href activity 1 3 view related activity a run the app navigate to activitypage and click the link another activitypage is pushed onto the stack and expected parameters are passed however the view does not update everything works as expected in browser but does not work on ios or android updating everything to ionic version did not resolve issue url works in browser but not on device
checkout example posted in related code do following steps open modal click the type here text text area disappers press any key on keyboard and textarea appears click outside textarea to blur selection click again to focus and ion textarea should disappear again
may be this would be reproduced in a heavy js coded app
create simple project with tabs create a page and add a link to this page in the first tab navigate to this page then back add console log hello in ionviewwillenter of the tabs container
install sqlite and zbar then call scan function of zbar
setup a new ionic blank v2 template and run lighthouse
page click bug mov zip url
just create a ion textarea and try in android
slide the pages in backward direction observe the page indicator it is not active on last page url ion slides loop true pager loop ion slide page1 ion slide ion slide page 2 page 3 slides
1 add a navigation push to your application a popover or a ion item 2 run on an ios device in simulator the bug does not occur
i created a new app from the tabs template and modified the code in contact ts to manually throw an error on ionviewdidenter export class contactpage constructor public navctrl navcontroller ionviewdidenter throw new error i am a bug when i click on the tab contacts i can see the error in chrome dev tools but it s not hitting code in ionicerrorhandler
url this is an older ionic version but issue still exist in current version
code here url to test url with an android device or chrome devtools simulating an android phone click on the button and try to scroll the content
1 ionic start apppreferencesbug v2 create a new ionic project 2 cd apppreferencesbug navigate into the project 3 ionic plugin add cordova plugin app preferences install the cordova plugin like in the docs 4 insert import apppreferences from ionic native into src app app component ts 5 run serve
create an ion textarea somewhere and do a long tap on it on an android device
enable talkback on an android device and attempt to fill out a form
1 create slides sourced from array and projected to template with ngif and loop enabled 2 update an array 3 swipe slides
you can get access to the full code on my public github repository url the code is really trivial and small 3 pages app with nothing but showing data in lists it s a forum steps to reproduce 1 open the app the client is from israel and app is in hebrew but it doesn t matter 2 click one of items on list 3 click one of items on list in next page 4 navigate back 5 navigate back navigation back is horrifically slow on android
open with firefox url scroll to the end on the sample app
1 ionic start menu test sidemenu 2 platform add android 3 open menu html 4 add 15 new items to the menu 5 ionic run android 6 try drag open menu not from title bar
run any project with ionic latest on android version no plunker is necessary because it seems to occur with any project
i ve included a codepen with code similar to my project it seems to work in code pen but when i pull it down and run it on my phone it recreates the issue i ve also included a gif that shows the issue my phone is a moto x pure edition running android operating system version
nav push anycomponent
url as you can see from this plunker turn on the console and swipe to move the slider 2 times it should only move 1 time which visually it does but you ll see the change event gets fired again and when it does the activeindex reports a slide that doesn t exist
i can t reproduce in a plunkr because with ionic serve works but with ionic run android for example it doesn t
if you are able to illustrate the bug or feature request with an example please provide steps to reproduce and if possible a demo using one of the following templates
1 clone this repository url 2 add and emulate android
i have a class with the attribute webkit box orient vertical that is related to webkit line clamp but when i run the app this attribute disappears so my text is rendering all the lines
url 1 push page 2 wait for a few seconds 3 pop page and slides stops autoplaying
see plunker url
install latest nightly run app on windows
see ion menu in app html in this code example url slide the menu open from the left also see this screenshot pasted image at 2017 03 08 05 10 pm url finally mike from the team at ionic worldwide slack sent me this screenshot on where the source of problem is screen shot 2017 03 08 at 11 47 06 am url
a demo can be found here url please note that zooming will work as expected on a desktop computer and this issue only crops up when running it in safari on ios open up this link on an ios device and pinch zoom to experience the issue url
create three pages page1 page2 page3 add button that will do a nav push of page3 in page2 add a popover that does a nav push of page2 and then dismisses itself using code above add the popover to page 1 open popover on page 1 press the button to push page2 onto the stack and dismiss the popover notice back button is visible on on page 2 press button to push page3 onto stack page3 has back press it to return no longer has a back
here is example you can take it from your demo ion searchbar ioninput getitems event ion searchbar ion list ion item ngfor let item of items item item list
ionic native camera when you return to the current app after calling the camera app the top status bar overlaps
1 install latest nighly version 2 start project 3 place refresher component
i have created a github repo showcasing the bug here url 1 clone repo and run npm install 2 start up server with ionic serve 3 open page on a mobile phone this issue is easier to see on an ios device because of the rubber band scrolling 4 fling the home page content 5 while the home page content is still scrolling tap either about or contact tabs scrolling will stop but tab will not switch 6 optionally you can set fullscreen false in src pages home home html and try again to see expected result when tapping a tab
add width 100 to an ion col
run ionic serve with live reloading make a change to a template wait for the app to reload on browser or device and the change will not be reflected here s a link to a screencast i recorded showing the problem where i update template by adding padding attribute to 2 divs so they have padding but after live reloading no padding is added url
i reproduced this on chrome for mac version 64 bit safari version version version url
1 npm install ionic angular nightly
1 npm install ionic angular nightly
this is easy to reproduces as it happens with the templates provided with ionic steps to reproduce 1 ionic start pagetest super v2 2 ionic platform add windows 3 ionic build windows prod release 4 deploy on device
run ionic serve with live reloading make a change to a template wait for the app to reload on browser or device and the change will not be reflected here s a link to a screencast i recorded showing the problem where i update template by adding padding attribute to 2 divs so they have padding but after live reloading no padding is added url
see related code run on ios device potentially increase number of toasts on a device newer than an ipad air
create an ion card with an ion card header that has a button to invoke a popover
see related code
keyboard submit issue url
1 implement the google map 2 test it and working fine 3 implement the ad mob in same page 4 run it and google map hides about zip url
just put a simple ion input and test its behavior in iphone6 or iphone 7
this plnkr showing how the swipe event doesn t work if you swipe up or down and the swipe work as expected if you swipe left or right url
presentprompt let alert this alertctrl create title login inputs id username name username placeholder username name password placeholder password type password buttons text cancel role cancel handler data console log cancel clicked text login handler data if user isvalid data username data password logged in else invalid login return false alert present
i have checked all positions where using code scrolltobottom code and add code xxx xxx scrolltobottom code to avoid null objects but it happens still
plunker example url html ion item ion thumbnail item left img src url ion thumbnail h2 title h2 p artist album p button ion button clear item right large color primary click toggleplay icon ngif playing name play icon icon ngif playing name pause icon button range class audio progress ngmodel audiopos color primary step 1 max 100 range item
to reproduce add this ion list ion item tappable ion label floating email ion label input type text ngmodel email input item item label floating password label input type password input item style display none list and try tapping on it throw ionicview and you will see that the delay with tappable is as long as without around 300ms any workaround thanks
sorry its very hard to reproduce it only happens when doing testing on real devices using livereload increase the chance of getting it
1 open this link url using chrome on android 2 click on the text area to bring up the keyboard 3 the text area disappears 4 type something and close the keyboard 5 text will be reversed
redisplay the loading screen
url 1 display developer console in your browser with f12 2 visit the second tab players and press the button that starts the ion slides playback 3 as soon as the first or second slides completes switch first tab media 4 you should observe ion slides stops playing even though
i had trouble including ionic cloud angular to the plunker in the template so i cloned the base app repo and built on that here s what i added url
use ionic version version
1 initially set one of the tabs pages to page1 any page 2 dynamically try to set the root page of that tab to another page using the code in related code section 3 the tab will switch however tab s page will not content still showing old 4 physically click tab again that was suppose to be switched 5 then expected behavior works content of new shows up for ionic 1 issues url for ionic 2 issues url
here i leave the link with the demo using the template that is specified url
this only appears when you re actually previewing the app on an ios device not in the browser since obviously the soft keyboard is not shown in browser
create an app build for android platform ready register push and send a notification on notification set nav root
1 create a projec that uses tabs easiest way to do this is start with ionic s tab project template 2 create a page that has a list with a lot of stuff enough rows to need vertical scrolling 3 use the page as the content for tab in the tab project 4 view the application using ionic serve try to scroll list for ionic 1 issues url for ionic 2 issues url
see version rc4 example plunker url this works as expected note some css is required in index html to make the
this plunkr simply has an ion slides component with pager true the pagination bullets are clickable even though paginationclickable is false url
place an ion refresher inside a custom component and not in a page s view directly
the bug is viewable on a fresh installation of ionic2 starter sidemenu and when deployed on android version via ionic run android
run ionic generate list
create an application with one sub page create a native map on the sub page with a height of 50 set tabshideonsubpages to true in app module ts navigate to subpage
ion select ngmodel selectedoption mode md ion option ngfor let opt of options value opt value opt label ion option ion select this is the app config export const ionicappconfig pagetransition ios transition iconmode ios mode ios
add a button and a click event the plunker will not replicate it must be run on an ios device
just put an ion icon inside a button with the ion item directive inside a ion list component
apply chained filters per url to an attribute of an element and run the code in the ios emulator
it doesn t happen consistently i think you need to have a project with a side menu i was getting it more often when i was trying to embed a youtube video on a page for ionic 1 issues url for ionic 2 issues url
use the example in your documentation url advanced
use this demo url add fullscreen to ion content
try to interact with this url on a desktop url now try to interact with url since md is the default desktop style the two urls should behave identically
push to a new view call loadingcontroller present press the hardware back button while loadingcontroller is still displayed
create a new ionic project somewhere in the app show the social sharing dialog run on a device if the system language of your device is english change it to some other language e g german open the social sharing dialog it will using english and not system language however using ionic view to view app social sharing dialog is using system language
overwrite refresher icon color refresher icon color 0f0 add ionic refresher ion content ion refresher ionrefresh dorefresh event ion content ion content content component export class newsfeedpage dorefresh console log begin async operation settimeout console log async operation has ended complete 2000 try it
ionic start tabs v2 cd tabs ionic platform add android ionic run android device
create a tabs template and press any tab using an iphone 6s or later
1 create an ion slides with async data 2 add infinite scroll to ion slide 3 scroll to bottom you will see the infinite scroll component is present there and loading spinner is rendered but it does not trigger the ioninfinite 4 push a page from ion slide 5 navigate back to the ion slide 6 the infinite scroll should work as usual now
1 open a page in a modal 2 open another page using navpush 3 see the issue
i can recreate this issue on any ion content view on ios 10 in platform browser or ios what you can do is once you have enough content to scroll vertically you can scroll the content to the bottom of the view tap once on the bottom of screen then start scrolling like crazy it immediately goes into an unresponsive frozen like state this is a little hard to reproduce and its gotten better with releases but its still there it also seems to happen more when going out of safari and coming back in then immediately scrolling
import nav into child view then inject into constructor try setting this nav swipebackenabled false
create an ionic v2 app side menu add some cordova plugins eg onesignal build for release and install on an android device open and close the app different times
create an ion select multiple use two way data binding on the ngmodel and push valid data onto the ngmodel array if done outside the constructor the ion select will not update becoming inconsistent with ngmodel
open a modal and then push a new page from the modal
put this in config xml widget id packagename android version version xmlns url xmlns cdv url packagename packagename windows manifest for uwp app will have packagename android as package name instead of windows
url i have added a sample code to give you an idea of how we have implemented our code but we are not able to reproduce every time we try we have a video and a screenshot depicting the issue that occurred issue only occurs on ios version devices have found the issue on iphone 5 6s
i build application with ionic build ios and then i go to xcode open project choose my connected iphone and run it later i open safari and choose my iphone from develop menu
use this navcontroller setroot current page to go back to the current page
slowly drag slider a little further than the second button url url
create a page with a ionic slider component with a click function this nav push another ionic page with another slider component this bug only occurs in browsers chrome etc
to reproduce 1 open the plunkr url 2 tab on go to next 3 try to swipe back from the new page 4 click yes on the alert to resolve the promise an so go back start page 5 be disappointed btw tab back button in header and than yes in alert works as expected relevant components in plnkr app component ts with swipebackenabled set true app start page ts root page app next ts where i intercept nav with a promise in ionviewcanleave and an alert
1 try to open a select that should close after 5 seconds if the user doesn t click 2 try to create a select without the ok cancel buttons
url see error in console
here s the plunker url
view the docs demo in chrome
1 turn on voiceover 2 launch app 3 tap back button in header
create a header component and use it on your app when you create a header component and then use it in your app there is no margin padding on ios so it looks close to the top of the page i had ion header header ion in the page and you can insert the from documentation inside component ion ion navbar title page1 title navbar toolbar title subheader title toolbar
while developing with ionic serve create form with control ion select that has property
place ion label inside ion chip for ionic 1 issues url for ionic 2 issues url
1 create the component containing an icon button 2 add an ion buttons into the page s ion navbar 3 add the component into the ion buttons 4 shown on ios
url see plunker a pull a few pixels down then let go b oddly you can see that console log event shows that the state is inactive but event state stays as pulling for the output from console log event state
i don t have a short example to reproduce this
ionic version sudo npm install g ios deploy
please see the plunk here url tap the search button in the top right and notice it appear above the ion list
you may add slidesperview version attribute to ion slides you ll not be able to see version slide
1 compile for platform browser in production mode 2 search for bugs
as the problem is deeply link to the url navigation it is irrelevant to use a plunker to reproduce the issue
1 add deeplinking url 2 open a modal from a deep linked page with this modalctrl create yourpagecomponent 3 refresh the page
sadly i can not reproduce this behavior on plunker the best i can do is this video of it happening url
although i can t provide you with much here the source code to the app is here url and the problems manifest around the news page
see current behavior above
open any component like select component alert component datetime component example to solve issue i think easiest way to solve it use config same way as it is done for backbuttontext
just set the loop input property of an ion slides element to true
create a new page and add html content bigger than screen size for example a big image
needs physical device
1 create tabs as your main component ion tabs ion tab tabicon globe tabtitle 1 root apage ion tab ion tab tabicon home tabtitle 2 root bpage tab tabicon aperture tabtitle 3 root cpage tabicon people tabtitle 4 root dpage tabs 2 when you will access a b c d pages viewctrl and navctrl names will be still homepage
simply put virtualscroll inside a ion card here is plunker for lazy people url
create an app with a sliding menu and open it in chrome on android i used a nexus 5x with android version and chrome 56
ionic start v2 myapp tabs replace code of home html and home ts as below home html ion header ion navbar ion title home ion title navbar header content padding div id wrapper slides slides slide ngfor let s of slidesdata img id amsimage src s pic slide slides div i would like to see the following behavior when the viewport is landscape the image
ion checkbox click event preventdefault ion checkbox should prevent the underlying click from firing and not affect checked state
this is example code but running it on the web functions correctly i only see this issue on an ios device or emulator in the below example open the console and try clicking or long pressing on the address url
i just install the app in the phone and try to login with my credentials what s going on why am i having this error
any use of ion tabs
1 set attr aria label some label on an ion tab 2 enable voiceover in ios 3 tap the tab and it reads out the icon name
this is a well known bug that keeps being closed marked as fixed this is not fixed it is a critical problem in the nav code of the framework this really needs to be addressed before apps can be deemed production ready see gif e8ae 11e6 9ccc df77e93abd7b url
1 take build as ionic build android prod release 2 sign the apk with jarsigner 3 zip align the apk and install it in mobile to save some data in local storage 4 uninstall the app and install it again
use template from documentation for quick repro presentprompt let alert this alertctrl create title login inputs name username placeholder username name password placeholder password type password buttons text cancel role cancel handler data console log cancel clicked text login handler data if user isvalid data username data password logged in else invalid login return false alert present
download the ionic 2 tabs starter template copy home content into about or contact template run on ios device or emulator does not happen on browser
sorry i don t know how to use plunker yet page a create instance of page b via modal controller page b create instance of page c via modal controller let modal this modalctrl create cpage modal present onwilldismiss data any console log cpage dismissed if data returning data from controller the onwilldismiss never gets called after c is dismissed
create a starter project with ion datetime and load in internet explorer in document mode of ie 11 edge using pc or virtualbox url or browserstack
open an ion select on a phone in landscape mode or in a web browser with small height
simply using the blank project ionic start inputscrolljank blank v2 cd inputscrolljank edit src pages home home html to include an ion list with enough items to trigger a scroll when the keyboard appears my example code is below ionic run ios device tap on a lower ion input in the list so the webview scrolls your placeholder will jump around 2 3 times as well as some cursor glitches etc
create 2 pages in a tabbed interface and add to the first a swiper try to navigate between those pages a lot of times stressing as much the swiper component
here is a plunker where i recreated the situation in the home page component url scrolling up and down makes visible that performance issue
just download the sidemenu template
happens randomly on ios version iphone 7 after making several calls to a list that popup alert prompt
1 generate an ionic v2 project ionic start t blank v ioninputtest cd ioninputtest 2 run the project on an ios simulator ionic emulate 3 ensure the hardware keyboard is connected hardware keyboard connect hardware keyboard
add the the following nav gard to your page and then use the android back button
it works fine on android and chrome but not on ios checked on version 10
test on both android and ios emulations in chrome ion icon name text ion icon
using this plunker url enter data into either or both of the password input text boxes move focus between to from etc them a few times and watch it vanish password fields are clobbered others seem to work fine note you seem to have to blur the input field then return it then leave it again in order trigger the bug
1 clone this repo url it is setup with ionic version and a minimal reproduction of the issue 2 build for ios with ionic build ios open the app on your ios device 3 tap on the input field you should be able to enter text 4 press and hold on the input field to bring up magnifying glass drag magnifying glass back and forth notice that cursor does not appear as it would normally you should no longer be able to enter text but input field is still in focus and keyboard stays open alternatively 4 press hold input field to bring up select all menu press select all then delete text you entered you should no longer be able enter text but is still in focus keyboard stay open
i ve debugged the issue and traced it to this line of code url l78 stopatheight is 0 so the function returns after processedtotal reaches 4 which skips all other items in the collection
have a config file at the root of the app in it write let config module exports config
add div data foo bar test div to a page run the app using ionic serve and inspect the div for some reason this does not happen on plunker
just enter command
install the plugin ionic plugin add cordova plugin headercolor try to import the plugin import headercolor from ionic native
followed ionic 2 api documentation modalcontroller example import modalcontroller viewcontroller from ionic angular import cmpmodal from components cmpmodal cmpmodal presentcmpmodal let opts any showbackdrop true enablebackdropdismiss true let cmpmodal this modalctrl create null opts ondiddismiss data console log data present the problem seems to come from css media not all and min height 600px and min width 768px ion modal ion backdrop visibility hidden when deactivating visibility hidden line in chrome backdrop becomes visible however the component is placed
1 build a page with a refresher 2 swipe down to refresh 3 now change page before you get data or you take a dead end 4 error will pop up
use ion sliding list in any rtl app
1 click on input
1 open url alert confirm 2 press show confirm alert 3 press enter the handler of the first button is fired but the first button is disargree
create a list containing one or more input fields run on ios then drag and quickly release the top or bottom of the list so it bounces it does not happen every time so do it a couple of times
include data picker along with other inputs and open the date picker in ipad mini 4 with ios version img 0001 url
create any prompt alert url alert prompt on an ipad and note it s positioning
as said i am running this on a device so plunkr won t work this is the relevant code ion slides slider pager class swiper no swiping ion slide class scroll content ion scroll scrolly true h2 tab title h2 ion list item ngfor let i of 1 2 3 4 5 6 7 8 9 10 label floating text field label input type text ngmodel text input item list scroll slide slides this is the css scroll tposition absolute ttop 0 tbottom 0 twidth 100
1 open action sheet 2 tap hardware back button
plunker url 1 start new project 2 add mode ios to src app app modules ts js ionicmodule forroot appcomponent mode ios 3 add the following header to a page html ion header ion navbar color primary ion title page ion title buttons start button button button text button buttons navbar header
the following datetime will produce the issue ion datetime displayformat dddd mmm d min 2005 max 2016 ngmodel chromereleased ion datetime changing displayformat to dddd mmm d yyyy works fine img width 388 alt screen shot 2017 01 24 at 4 31 05 pm src url
happens intermittently on any page with dynamic ion list using ion item sliding
the easiest way to reproduce is to add a pin to the range so you can see the value as you drag
tap on an input field to focus it the virtual keyboard will popup close the virtual keyboard tap on any part of the screen but not on another element the virtual keyboard will popup with no input focus
create a tabbed app add the following to one of the tabs ion content iframe src url frameborder 0 allowfullscreen iframe test
create an app using ionic start v2 run the app open it in chrome 55 android save it as a pwa to homescreen open the pwa
check picker of chrome wednesday dec 31 in url thanks
if you are able to illustrate the bug or feature request with an example please provide steps to reproduce and if possible a demo using one of the following templates for ionic 1 issues url for ionic 2 issues url
1 change video to full screen mode 2 click the zone of ion tabs
see related codes and swipe
step 1 ionic run ios l c device this will run livereload on ios device connected to the machine step 2 ionic run android l c this will give an error error listen eaddrinuse version 53703 at object exports errnoexception util js 1026 11 at exports exceptionwithhostport util js 1049 20 at server listen2 net js 1253 14 at listen net js 1289 10 net 1399 9 combinedtickcallback internal process next tick 77 11 process tickcallback internal process next tick 98 9 module runmain module 592 11 run bootstrap node 394 7 startup bootstrap node 149 9 this happens because the address version is already in use by livereload running on ios i have tried changing port port livereload port livereload port nothing s working
i couldn t get a plunkr quickly working with embedded svg in our case multiple clicks or taps on the svg icon and the uwp app crashes immediately
we are able to replicate with ionic upload
verify the base ion slide is functioning navigate to another page navigate back to the page with the slider via navctrl push verify the ion slide is not functioning
set range ios bar height to e g 24px and create an ion range element
click on the navbar back button in native mode
go to url datetime and switch to windows and click start time ionic component documentation url
take actual ionic conference app ionic platform add windows ionic run windows
couldn t test android only ios
create a ion list that contains enough items so the list is scrollable use the pull the refresher afther the refresh is done scroll list down now open navigation panel content will dissapear
see the example on url 1 go to url with safari on ios 2 add to homescreen 3 go to homescreen and open the example from there 4 scroll up down problem should be apparent
reproducible with the sidemenu starter ionic start testapp sidemenu v2
using ion badge in rtl ionic 2 apps
1 download the tutorial and do the configuration for the links on app module ts 2 on list ts line 36 this navctrl push itemdetailspage itemid item id 3 on item detail ts constructor public navctrl navcontroller public navparams navparams if we navigated to this page we will have an item available as a nav param let id navparams get itemid this selecteditem title item id note this is id 4 npm install lite server 5 create a bs config json file in the package json directory port 8100 files www
placing ion menu on any rtl based app html dir rtl
1 open url 2 run 3 click on open action sheet 4 press shift tab twice you can see that focus blurred to unreachable input url insert any relevant code here
build an simple ion slider 3 items and set the properties centeredslides true slidesperview 2 add some css to highlight the active slide just to make things easy to view in the browser when you are in the last slide if user slide again components seems to slide a that does not exists and last loose active property plunker here url better viewd in embed url
see plunkr url scroll up and down button moves when it should not
create a new project by running ionic start testresources v2 copy your splash png and icon png into the resources folder run ionic resources navigate to testresources platforms android res folders you will see that the icon and splash images are still using the default cordova images
tried to make a plunker but rc5 doesn t work in edge 404 errors for ts files
try scrolling in the menu then toggle the segment and try again url
create a ion slides with the hidden attribute
execute an adapter of ibm mfp version
it s reproduceable with the code shown below on an iphone i haven t tested it on an android device
loading images of slider from service and just show the first item and after slide to left for second one not work and crash slider over there with white blank page
1 ionic start mysidemenu sidemenu v2 2 set ios to md mode in app module ts 3 make the content of page1 long enough to scroll 4 run in ios simulator 5 open side menu 6 try scrolling
it happen randomly after using this nav setroot somepage from one page to another i do not have clear step to reproduce if i click on link in left menu which make this nav setroot somepage from app component to the same page binding start works again on page as i can see i get this bug often if my pc or tested device is slowing down reproduced on browser and devices
display a popover with popover present on an android device we ve tested on pixel and oneplus 3t
1 clone the latest version of the ionic conference app rc5 release 2 build for windows universal platform ionic build windows 3 install or run on a windows phone device i am using lumia 830 4 note slow performance when switching tabs views
run ionic serve make save some changes to code sometimes containing errors repeat
1 clone this repo url 2 change tabs and watch the information logged out to the console
in conference app please remove src pages tabs tabs scss in src pages tabs tabs html set tabhighlight true for ion tag ionic serve and open app in chrome make sure that device toolbar from developer tools are inactive for tab with the conference app you should see that each tab button is not properly aligned with the tab highlight and it is best to see on the last tab button
create a simple virtualscroll list add a button that calls contents scrolltotop method scroll down the list a bit and click the button nothing happens
start a new blank project add ionscrollstart somemethod to ion content create a variable showbutton and default to false ngif if a button or whatever on the page so it only shows when showbutton is true in the somemethod update showbutton to true button isn t shown wrap the change to showbutton in a zone manually and it updates correctly
just add autoplay 2000 to a ion slides whose children use the async pipe
follow this url plnkr 1 fill both fields 2 click the login button
execute the command ionic resources icon whilst an icon png image file is located in the resources folde
download a fresh copy of the ionic conference app url add the below code to schedule ts note that these events are only being picked up when navigating with the tabs they don t get picked up when navigating with the side menu
please check out this repository with the 2 examples url you can use chrome dev tools and select an
i made a video to show what i mean pay attention to the pictures visible when the scroll starts and the one that gets opened afterwards scroll select issue url sadly you can t see the taps so i have to describe steps in more detail 1 you start scrolling by swiping up down take your finger off screen 2 while content is still scrolling tap and hold anywhere on screen for at least version s then release it 3 click will be triggered on item that was visible at that position when you started scrolling
with chrome debugger you can reproduce easily this problem 1 create app with ionicscroll 2 load app to chrome with touch device mode ionic determine input device as touch device and disable scrolling with mouse 3 toggle off touch device mode 4 you can not scroll mouse reversal pattern goes well 1 create app ionicscroll 2 load app to chrome normal mode ionic determine input as mouse and disable scrolling touch panel 3 toggle on mode 4 you can not scroll panel
example swiper implementation that was possible in rc4 but is not possible in rc5 using swiper params control demo url source url
using the demo do the following steps 1 click the first list item foo s playlist 2 click back leaving playlist alert will be shown 3 click the second item bar s playlist 4 click back no alert shown ionicview beforeleave not triggered demo url
open plunkr put cursor in input field hit tab
run the following code using ionic run browser
this showloader facebook getloginstatus then response if response status connected this sociallogin else facebook login this permissions then response if response status connected this sociallogin loader dismiss loader dismiss in case the loader never dismisses
in a modal use a loading before the dismissing of the modal call the modal close it the loading component is still open
ionic build browser prod
to reproduce you need to test it on a device i ve tested in on an ios device can t provide an example sadly simply create some inputs create an alert and see what happens
run ionic serve
url on ios or google chrome s device mode emulating an iphone url
please check this plunkr to reproduce url
1 open url with microsoft edge 13 on windows 2 try to focus an input with the mouse 3 see what would happen
in one of my applications i am handling the exception and showing that on ionicpopup the issue happening for all dropdown url error i receive error rootscope inprog digest already in progress url url beginphase url
i made a simple service in order to keep track of all the alerts being presented visible the reason i use such a service is because i could not find an api that i could use to detect whether there is a certain alert presented visible or not
pass non empty non date value in max input of ion datetime component
1 create ion list with ion item sliding inside 2 run build on android 5
take the slides example and make more text url
here is an example html ion view ion content input type text placeholder type something here ion content div class bottom stuff should be under keyboard div style input height 40px width 200px bottom stuff position absolute bottom 0 style ion view
open datetime picker try to select any date by tapping on it it won t work ot url
1 i created the starter tabs project ionic start v2 tabstest tabs 2 create a testservice and add it to the providers of the app component ts 3 inject that service in the constructor of two pages home about just in constructor no providers attr on these pages 4 open both pages and correctly see that service in injected as a singleton 5 now try to open about page using popover component 6 you can see now that a new instance of testservice is created whenever about is opened using popover
1 start a new project demo with default tabs template 2 add a button tab in tabs html as ion tab tabtitle tabicon camera ionselect takephoto ion tab 3 inject events into tabs ts and add a test method in tabs ts export class tabspage constructor private events events takephoto this events publish data changed 4 inject into home ts and subscribe to above event export class homepage datatest string old constructor public navctrl navcontroller public subscribe data changed this change bind this change console log data changed this datatest new 5 add a variable binding to anywhere in home html button ion button click change test button label datatest label 6 click the camera tab watch the home page no update is happen while the console print the expected value 7 click test on home page no update is happen also 8 re enter page repeat 7 update take effect
run ionic start app name sass v2
1 create an app with ion options in the sliding and deploy the app to android 2 slide few times and you will be able to see white space which is created due to buttons not becoming active 3 note this happens only on android and not on web
url in this plunker the slides page closes when the last slide is reached but when the page is closed onreachend is fired again so two pages are popped
using the facebook4 cordova plugin url there are two pages homepage tabspage homepage is a blank page with a single button log in with facebook tabspage is a basic page with ion tabs tab1 and tab2 1 homepage log in with facebook success function must set tabspage to the root 2 you should not have the facebook app installed 3 launch the app in android version untested on other devices 4 click log in facebook to trigger login function and therefore success function 5 tab1 is now nav stack twice if you click tab1 tab it will remove a duplicate from stack as if you re navigating back from itself
i have made this simple repo url that illustrates the issue perfectly just pull down that repo and run it on an ios device
1 start new v2 app 2 add swipe to ion content on any page 3 console log event br
create a new ionic 2 blank project add platform android install background mode ionic plugin add cordova plugin background mode ionic run android
open url open developer tools to see console log click on button with click me and on dismissing the toast you will error
open url lifecycle events and see ionviewcanenter ionviewcanleave
use alert whatever anywhere in your code
clone the ionic2 tutorial and create two popovers open one popover from a page and then open the second popover from within the first popover add function for onwilldismiss and notice that when the second popover is closed onwilldismiss never fires but ondiddismiss does i ve created a dummy project i can share if necessary i tried plunker but it appeared to be running rc2
open url click hecked multiple times heckbox toggle changes as expected click isabled once click hecked multiple times heckbox toggle does not change but i expect it to change
insert text into an ion textarea click on the text area again on an iphone tested on device and elevator ios version ion textarea ngmodel description ion textarea
impossible because the problem occurs only in a build
install cordova google map plugin tap on the map
1 have a virtual list that shows data coming from an observable 2 scroll down a couple pages 3 send some new data through the observable 4 the list disappears until the user manually scroll on the blank list
1 start a new side menu project 2 on the ios emulator or device tap the hamburger to open the side menu all good 3 tap the hamburger to close side menu takes 2 3 taps before it responds
ionic start test v2
i tried creating a plunker but it is using rc2 there seems to be a bug in rc2 for this but i added my code to the plunker it s pretty basic url import component from angular core import navparams viewcontroller from ionic angular import uishared from providers ui shared component template section class popover page 1 button clear ion button full color primary icon left click close language i class fa fa language i lang en button button clear ion full color green icon left click close settings ion icon name settings ion icon settings clear full color red left click close signout name power sign out section export class popover constructor private navparams navparams public viewctrl viewcontroller public uishared uishared ngoninit close action string if action signout let loading this uishared generateloading signing out loading present then this viewctrl dismiss action then loading dismiss return this viewctrl dismiss action else just return
out url 1 ionic start testapp v2 2 create a simple login form taken from ionic conference app 3 run ios emulator 4 make username field focused 5 press tab to switch to password field the focus is lost reproducible only in emulator not on web url
take a look at the plunkr below or create a new project and copy the related code below into any of the pages url
thinking that i had an issue with my code tested with a blank app could produce the same issue ionic start cutepuppypics v2 cordova platform add android ionic run android
create simple project with a page
ionic serve on an rc4 version app scrips app that uses ionic storage
i am building an application based on url i have successfully modified custom webpack config according to the one provided in latest app scripts version version
try to call device device uuid anywhere to see more details log it in the console console log device you are going to see that device object is just empty for ionic 2 issues url url
change colors to sass colors primary f1f1f1 secondary base f1f1f1 contrast f1f1f1 dark f1f1f1 light
this only happens in an actual android device probably because of the fact that the keyboard is shown hidden and the available content height is altered
go to url inputs on a windows 10 tablet without any keyboard plugged tap on an input the virtual keyboard opens ok tap outside the input the virtual keyboard dismiss ok tap again outside the input virtual keyboard opens without targeting any input nok
here is a repository that demonstrates this issue github repository url plunker url note issue is only reproducible with a software keyboard so run the plunker in fullscreen on a mobile device the issue can be reproduced with an android emulator with the current ionic nightly or version rc 3
go to the conference app login screen img width 300 src url
clone the conference app url run on an android device 1 go to schedule and slide an item favorite the item 2 go to the favorites tab 3 slide open the item click remove 4 an alert will appear and scrollbar will show on right 5 click cancel then slide item open again 6 click on body so will close itself see scrollbar on right
create a new ionic 2 blank project add platform android install cordova sqlite storage see this url ionic run android
1 make a long enough page to require scrolling 2 add a side menu 3 slide the menu in partially and try to scroll up or down at the same time 4 observe page underneath scrolling when it shouldn t
the parent tab page is export class tabspage tab2root any domepage tab3root any feedpage and inside feedpage i have another tab export class feedpage tab1root any userhuntspage tab2root any homepage ionviewdidenter console log feed run feed html ion tabs selectedindex 0 tabsplacement top ion tab root tab1root tabtitle hunts tabicon bonfire ion tab ion root tab2root tabtitle home tabicon book tabs userhuntspage export class userhuntspage ionviewdidenter console log userhunts run here userhuntspage is the root page of feedpage tabs so a click on feed brings into the view and it should run its ionviewdidenter but its not running in the console feed run is printed user hunts is not printed
run the self contained unit test below
code example url this behavior also appear at the documentation url fixed inline labels
plunker at url please note that the current template uses rc2 and i think it fails to actually block the view from entering due to a bug this version had and thus this issue is not reproducible directly from the plunker but you can see that the relevant code at app app module ts and app detail page ts first loading or reloading page at detail
plunker url after opening good page if you try to open a faulty page you no longer able to return from good to home page
cannot reproduce it in a plunkr since it requires ionic plugin keyboard i created a gist with some files to apply to a blank project so it s easier to reproduce it url create a project with ionic plugin keyboard make sure to call cordova plugins keyboard disablescroll true cordova plugins keyboard hidekeyboardaccessorybar false in the index html add nav bar create view with form with several input text enough have scroll in the view install the app in ios device select the last input visible once is open use next arrow go next input expected next input is focused and visible current behavior view scrolls too much so focused is above visible part
i m not able to reproduce this unfortunately it seems to be a race condition only occurring in production builds where content s scroll is not initialised before use my error reporting says these errors are only occurring on ios
1 npm install ionic native save 2 ionic plugin add cordova plugin ibeacon 3 ionic run ios l s c device
run ionic run ios lcs on ios 10 device or emulator with the plugins listed below
create a sidemenu ionic2 project and create another angular2 module which import the ionicmodule then try to import that module and use the angular router to navigate to some component inside this module or clone this url
url 1 press button push new page several times 2 press tab with the heart icon as you can see all pushed pages are cleared and application goes to the root
1 create a home page 2 create a child page which will be opened by home page 3 try to make a menu in child page html file
1 ionic start newproject v2 2 ionic platform add browser 3 ionic serve browser or 4 ionic run browser 5 open console to see the error
open a modal add a control which allows opening a popover
sorry it s difficult but very annoying for example the console log plugin does not work at all so debugging is hard
in any view just do a console log this nav last name running on ionic build prod
this issue is reproducible using the demo from the docs 1 go to the official ion datetime page url 2 select 12 01 am for the tokyo datetime picker under world times as shown below ionic datetime issue01 url 3 tap click on ion datetime control again and you ll see picker time is off by 1 hour ionic issue02 url
1 make a page with a virtual scroll list 2 add a side menu 3 scroll down a bit 4 open the side menu and see the rendering knackered
use the below plnkr to open the sidemenu then close it ensure your preview is small enough for the two side menus to overlap you can also slow down animations to 10 to help see the bug url
1 load up a page with a virtual scroll list 2 load up the camera 3 dismiss the camera and go back to the list 4 see that it s borked the 2nd page titled buildings in gif please see attached gif url
run the following repo on ios 8 x 9 x url
create a list with 10 items and scroll to the bottom
install the latest ionic 2 ionic 2 cli versions and try to run ionic serve
i created a new project to reproduce the bug url i didn t add the push plugin because you need a sender id to use it so to reproduce you need to have a sender id add the plugin and add the sender id pushservice provider init function
1 create a new app for example ionic start checkcolorbug sidemenu v2 2 modify color variable in app theme variables css colors primary 387ef5 secondary 32db64 danger f53d3d light f4f4f4 dark 222 dark1 222 dark2 222 dark3 222 dark4 dark5 dark6 dark7 dark8 dark9 darka darkz darke darkr darkt darky darku darki darko darkp darkq darks darkd darkf darkg
create a list of buttons with a right aligned paragraph and should show as above
change your tsconfig json to have strictnullchecks to true and then try to run an ionic build
take for example the code from the official documentation url and add the sticky property to the ion item divider as shown below
platform ready then console log device device uuid
1 push a child page with this navctrl push childpage from a function inside of a popover controller 2 childpage s header will overlap with the status bar
create a simple application using cordova ios version as the platform verify that app id is registered and provisioning profiles are installed on the machine run ionic build ios device release buildconfig build json on the fresh project
1 override bar title font size 2 notice on android is does not have an impact
using android version and assuming an infinite list of elements to be loaded 1 load a list of 20 elements 2 scroll to the bottom of the view 3 wait for more items to be added to the list 4 try scroll down again see how you can t
i created a new project to reproduce the bug url i didn t add the push plugin because you need a sender id to use it so to reproduce you need to have a sender id add the plugin and add the sender id pushservice provider init function
create formgroup and try to bind datetime with the format mm
only way to reproduce is in an app on an iphone device or emulator navigate to a page who use this app setscrolldisabled true
1 change primary color to black 2 change ion navbar color to primary
functioning virtual scroll url non functioning virtual scroll url
download ionic conference app from google play store navigate to any child page and slide from left to open menu
1 add some scrollable content to any page 2 add ion slides at bottom or anywhere after scrolling some distance 3 add ion input as in related code below 4 serve run project scroll down and click input field inside the slide
1 start a project with ionic cli ionic start myapp sidemenu ionic will add ios platform by default screen shot 2016 11 29 at 21 29 10 url 2 emulate ios ionic emulate ios then the warning is shown screen shot 2016 11 29 at 21 33 14 url cordova ios version added by default by cli version
here is url example if you try to select test2 item with radio you cannot do it and you will see strange output for the radio variable value if you try to select some item with select will see that all options are selected
1 have a root page 2 add a modal width transparent background to 5 ou similar 3 add another modal over the called from the modal added in step 2 4 when closing the modal added in number 3 we will see it slide in the background and not in front of added 2
run the app on device with livereload
create two pages one with a button to the other using this nav setroot page2 clicking this will cause the constructor to be called 10 times
1 open the conference app in a browser e g from here url 2 go to about 3 open popover 4 go to support 5 click back button 6 now you re back on the about page but the document title in the browser tab is still support
1 clone the following repository url 2 mkdir www so ionic cordova recognises it as a cordova project 3 run npm install 4 run ionic serve 5 tap go to tabs 6 tap log out 7 tap no 8 attempt to tap each segment observe the ngswitch does not operate
here is the fiddle where the issue can be viewed url you will notice that when you click on an item the filter is not cleared where as in stand alone angular the same concept works perfectly fine url
create push notification callback call navigation to the tabs page from the callback function
create a fab with an ion fab list with buttons inside it then try to set the color of the button for example color secondary
use changedetection changedetectionstrategy onpush in the component where you are using the virtual scroll url
switch between inputs inside a scrolling ion content url unfortunately i can only see the issue in actual mobile devices
on url toast click on a toast and while it disappears try to present another one by clicking the button this behavior is not restricted to creating toast but to clicking any component
start a new project add the related code in html page ionic serve on ie edge url
this appears to be a known issue that s not getting proper support see 5139
inject navparams into component and run any old karma test on the component
1 create a new ionic v2 project 2 paste the below code in src pages home home html 3 run ionic serve 4 click on show bar to check it 5 click on foo 6 press kbd tab kbd 7 notice that baz is focused instead of bar ion content padding ion list ion item ion label show bar label checkbox ngmodel showbar checkbox item item label floating foo label input type text input item ngif showbar floating bar input type text input floating baz type text list content for some reason i can t reproduce it on plunker
1 create a new ionic v2 project 2 paste the below code in src pages home home html 3 run ionic serve and open in browser 4 click on name 5 press kbd tab kbd ion content padding ion list ion item ion label floating name label input type text input item item label floating date of birth label datetime datetime item list content for some reason i can t reproduce it on plunker
use the sample code in any ionic project using rc3 to see b1 and b2 are never called
just add fabcontainer into a blank new project and check fab list s background color out
a typical use case is opening a popover when the user focus an input field the popover is showing extra information related to the user input and should be dismissed when the input field focus is removed in this situation we want to keep focus in input field unless user explicitly change focus
1 gulp e2e serve 2 navigate to url 3 click the hamburger 4 click navbar 2 times 5 click hamburger it s not 100 consistent but you will be able to replicate it
i created a plnkr for you url and here is a screenshot at the beginning image url after scrolling image url
cordova build android
1 add the slides component within the ion content 2 add the pager attribute to the ion slides 3 run application pager does not show up in slides
save twice within a second or two
ionic start fab scroll issue v2 replace home html with the code below
ionic start test app v2 cd test app ionic plugin add cordova sqlite storage following tutorial url open src app app compontent ts import sqlite from ionic native modify platform ready platform ready then let db new sqlite db opendatabase name data db location default the location field is required then db executesql create table dancemoves name varchar 32 then err console error unable to execute sql err err console error unable to open database err okay so the platform is ready and our plugins are available here you can do any higher level native things you might need statusbar styledefault splashscreen hide ionic emulate ios lc target iphone 6 error referenceerror can t find variable sqliteplugin cordova js content on device using safari inspector mock cordova file during development your system information cordova cli version framework version version rc 3 cli version lib scripts ios deploy ios sim os macos sierra node v xcode xcode build 8b62 error is the same on android what can i do this is driving me crazy
on version version 1 you generate new icon splashscreen ionic resources 2 then build ionic build android
1 create a page with an empty list 2 grab data form backend 3 update the list with content
just update package json delete node modules and run npm install
1 build a page wit ion list 2 call any backend to grab a list of data dynamically 3 show on the view 4 build for browser with ionic build browser 5 deploy it to any cdn 6 run the new deployed web app on the latest chrome 7 you wont see the refresh unless you switch between browser tabs so i believe it s a refresh problem in chrome only because firefox works
create an ionic 2 quick start project project a by running ionic start cutepuppypics v2 create a separate angular2 shared module project i ve cloned url install it using npm install ionic module template in project a import the module inside app module run npm run ionic serve see it working call build android see it failing
create a list with reorder attribute set to true the list should consists of ion item elements which are wrapped with ion item sliding run the app on ios and try to reorder items
add following config in package json file config ionic source map source map to enable source map
deploy an app that worked in version then move to version rc 3 i believe brianavery also tried book info and hit the same issue
when i want the traffic to go to regular when header doesnt have istestuser it doesnt work the traffic always goes to canary this is because the match criteria is for or condition the documentation for this states in a yaml file difference between and behavior and or behavior in a routing rule is a single dash dash indicates two separate matches as opposed to one match with multiple conditions i have no idea what this means would like understand how configure and condition also it would be nice if i have a match for that virtual service which says mock should gte processed by these 2 further header based matches
hit the url of web app in multiple windows session keeps expiring
deploy httpbin in its own namespace deploy vs for httpbin in that namespace deploy gateway resource in istio systems run istioctl describe on the httpbin pod
deploy istio version with default helm profile then form any pod with istio proxy try to make a curl request that took more the 15 seconds to respond you will see istio timeout in 15 seconds before getting back the response
turn on verbose logging in kube controller manager force the kube controller manager lease to be changed by stopping controller manager which has been elected the leader consistent way to trigger the kubernetes garbage collector observe galley validating webhook rs and pods getting deleted and re created
run make e2e simple run or directly run go test with standard flags set for example v or timeout it would gives error of flag provided but not defined test v
install istio with helm according to the documentation and install the ingress example
start an aws eks cluster and deploy istio version
1 change the istio ingress gateway type to nodeport and installed istio helm template set gateways istio ingressgateway type nodeport set prometheus enabled true set grafana enabled true set tracing enabled true kiali enabled true kiali dashboard jaegerurl url kiali dashboard grafanaurl url install kubernetes helm istio name namespace system home yaml kubectl apply f home yaml ingressgateway nodeport xx xx xx xx none 15020 30768 tcp 80 31380 tcp 443 31390 tcp 31400 31400 tcp 15029 31535 15030 31703 15031 32626 15032 30917 15443 30107 2 placed the alb through alb ingress controller and ingress 3 under rules pointed the ingressgatewayservice node port 31703 to alb with a sample host domainurl and path graph 4 tried access prometheus service via url it does not load the service
try and set up an authentication service which runs over grpc and attempt to setup the previously described envoyfilter with ext auth
the same as in description
fetch istio version rc0 url change outboundtrafficpolicy in install kubernetes istio demo yaml from mode allow any to mode registry only install the updated manifest kubectl apply f install kubernetes istio demo yaml install sleep app kubectl appy f samples sleep sleep yaml curl from the sleep container bash podname kubectl get pods l app no headers awk print 1 kubectl exec ti podname c bin sh curl v url should return 502 port forward to prometheus in istio system namespace bash podname get pod n system l app prometheus no headers awk print 1 n system port forward podname 9090 9090 curl ss url jq should give the following json metric name requests total connection security policy unknown destination app unknown destination principal unknown destination service unknown destination service name service namespace version workload workload namespace instance version 42422 job mesh permissive response code none permissive response policyid none reporter source request protocol http response code 502 response flags source source principal source version workload workload namespace default value 1
install istio version with on d32 and d8 type vm istio policy and istio telemetry going into crashloop when scheduling on d32 size vm
deploy a service with port 8080 targetport may be different
connect a custom ingress gateway to a regular deployment
create dns based entry as shared above and try to perform curl call for the https endpoint
these steps are taken from the install docs 3 4 oc new project observability create the project for the jaeger operator oc create n observability f url oc create n observability f url oc create n observability f url n f url new project istio operator new project istio system apply istio operator
i install istio with the default allow any policy default nothing extra specified in the installation look below i install some applications they can successfully connect to external services making https connections for example i can do curl url i install the following service entry needed for a very specific application only to perform tls origination from the egress gateway apiversion networking istio io v1alpha3 kind serviceentry metadata name special service spec hosts my external host com location mesh external ports number 80 name http port protocol http number 443 name http port for gad test tls orgination protocol http resolution dns as soon as install service entry https connections from any pod don t work anymore returning following error curl 35 error ssl routines ssl23 get server hello unknown protocol as a side note connections keep working normally as soon delete service entry can again connect to https services
change one of istio s configmap values e g set enabletracing to false or completely remove any values from configmap and get the same checksum config volume annotation bash kostyrev github istio install kubernetes helm istio minikube default master wed aug 21 16 33 helm template f values istio minimal yaml x charts pilot templates deployment yaml grep checksum checksum config volume bash kostyrev github install kubernetes helm minikube default master wed aug 21 16 33 helm template f values remote yaml set pilot enabled true x charts pilot templates deployment yaml grep checksum config volume
a fully reproduceable test case with ready kubectl apply yamls are here url
very intermittent so hard to reproduce creating issue to alert people of potential problem we will continue to investigate
1 run kubernetes and istio 2 enable jwt verify 3 we found sometimes the public key cannot be get by istio pilot from s3 4 all http request will return 401 in istio proxy 5 istio proxy will try to get the key from s3 but it also fail because s3 is not in cluster jwt authenticator cc void jwtauthenticator fetchpubkey pubkeycacheitem issuer uri issuer jwt config remote jwks http uri uri const auto cluster issuer jwt config remote jwks http uri cluster if cm get cluster nullptr envoy log error fetch pubkey can not find donewithstatus status failed fetch pubkey return
have a service running a eg elasticsearch running on port 9200 and named http have allow all mode set for egress create a sleep pod on a namespace with istio activated so the istio proxy is set curl url it answers 35 error ssl routines connect cr srvr hello wrong version number rename the service name to https curl url it is working we have similar issues on other standard ports such as 6379 for redis we used to have the same issues with https on port 443 but it is gone with upgrade to version x
redeploying consistently occurs on helm install
set workloadcertttl 1h running traffic for hours to see if there is traffic failed
1 remove https port and change http2 to be name http2 nodeport 31380 port 443 protocol tcp targetport 80 2 now you can t reach https targets for example unexpected warning for url miscellaneous warning eproto request to url failed reason write eproto error ssl routines ssl23 get server hello unknown protocol s23 clnt c 827 3 changing the port name in ingress gw service to https resolve the issue
1 deploy a virtual service as shown above
see the original report
1 set mtls enabled from false to true mtls enabled true run helm upgrade helm upgrade install force istio install kubernetes helm istio namespace istio system f install kubernetes helm istio values yaml 2 delete the default meshpolicy from original installation kubectl delete meshpolicy default upgrade via upgrade install force kubernetes namespace system f kubernetes values yaml for both scenarios deleted jobs init crd 10 to 12 reran to recreate jobs confirmed jobs ran and meshpolicy still doesnt exist updated
apiversion networking istio io v1alpha3 kind gateway metadata name istio autogenerated k8s ingress namespace gke system spec selector istio ingress gke system servers port number 80 protocol http2 name http hosts hosts example com port name https wildcard number 443 protocol https tls mode simple credentialname ingressgateway wildcard cacerts kubectly apply f istio gateway yaml
conditional request url path startswith api tx api tx unknown returns instead of unknown when url path does not startwith api tx
i cannot figure out how to reproduce it the only thing i can think is that it happened when we drained four nodes at the same time which results in quite a few apps being moved around so quite a bit of eds churn as can be seen in the graphs above
try accesing the istio ingressgateway public ip
deployment files is attached below
run some curl request with http2 prior knowledge on port 8080
add a vm to the mesh follow the egress gateway tutorial url but have the egress gateway and relevant service be that of your vm
supply prometheus with official scrape config on a cluster running istio sds
1 create a new gke cluster with istio enabled check that it installs the same version of istio components like specified down below 2 edit the istio sidecar injector config map to set policy disabled 3 after 2 3 minutes it should revert back to policy enabled
1 create a deployment and service called test in the namespace default 2 scale this deployment to 1 replica 3 apply the following config 4 send about 10req sec to the test service it is limited to 1 req sec 5 increase the amount of replicas in test to 4 instances you should see an increase 4 req sec as dimensions use pod id but it stays at 1 req sec yaml apiversion config istio io v1alpha2 kind quotaspecbinding metadata name ratelimit namespace search core spec quotaspecs name ratelimit namespace istio system services name test namespace default apiversion config istio io v1alpha2 kind handler metadata name redis quota handler istio system spec compiledadapter redisquota params redisserverurl version 6379 connectionpoolsize 10 quotas ratelimit instance system maxamount validduration 1s bucketduration 500ms ratelimitalgorithm rolling window apiversion config io v1alpha2 kind instance metadata ratelimit system spec compiledtemplate quota params dimensions destination destination apiversion io v1alpha2 kind quotaspec metadata spec rules quotas charge quota rule grpc actions handler redis quota handler instances
examine values yaml for the istio init chart and or use helm template to render it
compare throughput and latency of app using an istio build prior and after 07 25
install istio with side car injection on a single control plane cluster created with kubeadm deploy the pod with side car injection kubectl apply f istioctl kube inject f samples httpbin httpbin yaml
kubectl n istio system edit svc istio ingressgateway loadbalancersourceranges x x x x xx
issue tar gz url run create resources sh from attachment once run update resources sh measure performance bash kubectl n istio system port forward pods istio pilot 8080 go tool pprof http localhost 5555 url
i have application a inside k8s cluster which is istio enabled application a needs to call many external apis for which only ip addresses are available note host name is not available for these apis i have made global outboundtrafficpolicy mode as registry only following is the serviceentry created service entry with ip address kubectl apply f eof apiversion networking istio io v1alpha3 kind serviceentry metadata name sbdevice spec addresses version hosts metadata csp com ports number 8378 name http protocol http resolution dns resolution static location mesh external endpoints address version eof after creating this serviceentry i am able to call external apis from my application now i would like to set the retry and timeout for these external apis using istio s virtualservice kubectl apply f eof apiversion networking istio io v1alpha3 kind virtualservice metadata name sbdevice spec hosts metadata csp com addresses version http route destination host csp com addresses version headers request remove x forwarded for retries attempts 5 pertrytimeout 2s retryon 5xx gateway error connect failure refused stream timeout s eof the above virtualservice configuration does not work and am unable to configure retry and timeout my application call
i not doing anything special running pod on kubernetes with http readiness prob enabled
mentioned above
observe the published artifacts located at url
preconditions maxreplicas of the hpa should be set to 1 to be more focused continuous restarting bash while true do kubectl set env deployment istio ingressgateway env last manual restart date s namespace istio system sleep 1 kubectl rollout status deployment istio ingressgateway n istio system timeout 1m sleep 1 done continuous requesting ingress bash target target url test path n n 5000 log file mktemp for i in seq n do echo sec date s curl v fail url log file 2 1 date echo i curl took date s sec s cat log file exit exit done in this setup we are able to reproduce this issue within 30min max getting to the correct logs can be a bit tricky because of the rolling updates but the interesting part is that there is no caught sigterm from pilot agent in those cases note failing curl takes several seconds actually fail with empty reply it turns out that seconds curl takes are termination drain duration seconds so request is not answered and not denied but gets closed when envoy shuts down no draining
error render error in istio charts gateways templates deployment yaml template istio charts gateways templates deployment yaml 306 10 executing istio charts gateways templates deployment yaml at include gatewaynodeaffinity dict root nodeselector spec nodeselector error calling include template istio charts gateways templates affinity tpl 6 8 executing gatewaynodeaffinity at include error calling include template affinity tpl 23 32 executing at nodeselector range can t iterate over test
docker run it user 1001 istio examples bookinfo productpage v1 version sh python productpage py 9080
see the bug description
kubectl get istio sidecar injector o yaml o jsonpath webhooks 0 clientconfig cabundle md5sum kubectl n istio system get secret istio istio sidecar injector service account o jsonpath data root cert pem md5sum kubectl n system patch deployment sidecar injector p spec template metadata labels date date s kubectl get sidecar injector o yaml jsonpath webhooks 0 clientconfig cabundle md5sum n system get secret service account jsonpath data root cert pem md5sum
install istio version attempt to install url
create multiple pods with hostnetwork true that end up on the same node both of those pods will have the ip leading to constant full pushes from pilot due to the label equality check
will update shortly
follow the steps on url egress gateway for https traffic but try the sleep example from a different namespace
helm delete purge istio helm delete purge istio init k get po n istio system
just regular calling the app api
deploy sleep app in sidecar injection enabled labeled namespace default create envoyfilter cr object with the following spec apiversion networking istio io v1alpha3 kind envoyfilter metadata name sleep filter namespace default spec workloadlabels app sleep filters listenermatch portnumber 15001 listenertype sidecar outbound listenerprotocol tcp address version filtername envoy tcp proxy filtertype network filterconfig cluster blackholecluster stat prefix blackholecluster
publish a web application via istio for better accuracy use an intermediate proxy to reach the web application fiddler can provide this functionality also any transparent web proxy that you can find online set the externaltrafficpolicy to local in the ingress gateway section of install kubernetes helm istio charts gateways values yaml the useremoteaddress setting should also be switched to false if you need a custom pilot image with this setting you can use bogdansucila istio test v1 in v2 and v version i played around with xff num trusted hops setting v1 should only have this one modification to defaults i hear setting can also be injected via an environment variable with helm but i haven t tested this yet
1 install istio with consul 2 register 200 services to consul 3 change registered services for example deregister a service or register a new service 4 check the cpu usage or consul top grep consul
run git clone url or git ls remote url attempt to follow developer quickstart as written
for example url version url version
1 create a kubernetes cluster on say gke should also work on local cluster like minikube etc 2 install istio with the number of pilot replicas 1 then once the istio deployment is successfully stabilised scale down the number of worker nodes to 0 or destroy all pods after removing the poddistruptionbudget resources or install with global enabled false 3 monitor istio components you should see it fail to stabilise until you scale down pilot replicas to 1
gateway apiversion networking istio io v1alpha3 kind gateway metadata name sip gateway namespace istio system spec selector istio ingressgateway servers hosts example com port name http number 80 protocol http tls httpsredirect false hosts example com port name tcp number 50051 protocol tcp hosts example com port name tcp search number 50052 protocol tcp hosts example com port https number 443 protocol https tls mode simple privatekey etc istio ingressgateway certs tls key servercertificate etc ingressgateway certs tls crt virtualservice apiversion networking io v1alpha3 kind virtualservice metadata serviceb svc spec serviceb sip onl gateways sip gateway system svc cluster local match 50051 route destination host serviceb svc default svc cluster local 50051 t t t t apiversion networking io v1alpha3 kind virtualservice metadata servicea spec servicea gateways sip system cluster local match 50051 route destination host servicea default cluster local services services apiversion v1 kind service metadata searchclientservice spec selector app searchclientservice ports grpc web targetport v1 service translatorservice selector app translatorservice ports grpc web targetport
cat vs yaml apiversion networking istio io v1alpha3 kind virtualservice metadata name test spec gateways istio system gateway hosts host with more than 64 chars http route destination host whatever
install istio version on aws k8s cluster side car injection disabled max pilot and ingress instances 15 create 800 pods while establish websocket connection after creation of each pod each pod should have virtual service with 6 host that refer to one destination use ping every 5 second to each pod to hold the connection and detect disconnection
this does not work http version 503 service unavailable even though fqdn of service is provided apiversion networking istio io v1alpha3 kind destinationrule metadata name helloworld tls namespace default spec host hello ns1 svc cluster local subsets name v1 tls labels version v1 tls this does works http version 200 ok after i deploy the rule to ns1 same as service apiversion networking istio io v1alpha3 kind destinationrule metadata name helloworld tls namespace ns1 spec host hello ns1 svc cluster local subsets name v1 labels version v1
1 i created the following entries yaml values yaml global meshnetworks remote endpoints fromcidr version 24 gateways address version port 443 se yaml here i am creating a foo mycomany local with hardcoded endpoints in real life i am creating mycompany local without specifying any endpoints dns resolution the result is the same apiversion networking istio io v1alpha3 kind serviceentry metadata name internal namespace default spec addresses hosts foo mycompany local location mesh internal endpoints address version ports http 443 resolution dns ports number 80 name http protocol http 2 create a curl pod kubectl run ti image tutum curl generator run pod v1 curl rm 3 check the proxy istioctl pc curl grep mycompany version 443 healthy outbound 80 mycompany local
install a similar policy as above for some endpoint and verify that included paths and excluded paths don t seem to work as documented
1 ensure url envoy passthrough to external services global outboundtrafficpolicy mode set to allow any 2 install bookinfo 3 install the following resource yaml apiversion networking istio io v1alpha3 kind sidecar metadata name sidecar reviews v2 namespace bookinfo spec workloadselector labels app reviews version v2 egress hosts istio system bookinfo details bookinfo svc cluster local notice that we are only allowing istio system and details service 4 check that you are still able to access ratings from workload reviews v2 bash kubectl exec it kubectl get pod l app reviews l version v2 o jsonpath items metadata name c bash c wget q o header content type application json url echo yields id 0 ratings reviewer1 5 reviewer2 4 5 set url change to the blocking by default policy global outboundtrafficpolicy mode register only and wait a few seconds until the policy is in place 6 try the same command done in step 4 and see error output in my case command terminated with exit code 8
1 install istio and istio cni on gke version version gke 8 1a configure istio with istio cni enabled true 2 enable auto injection on a namespace 3 install the following psp and clusterrolebinding apiversion extensions v1beta1 kind podsecuritypolicy metadata annotations apparmor security beta kubernetes io allowedprofilenames runtime default apparmor security beta kubernetes io defaultprofilename runtime default seccomp security alpha kubernetes io allowedprofilenames docker default seccomp security alpha kubernetes io defaultprofilename docker default name restricted spec allowprivilegeescalation true allowedcapabilities fsgroup ranges max 65535 min 0 rule mustrunas runasuser rule runasany selinux rule runasany supplementalgroups ranges max 65535 min 0 rule mustrunas volumes configmap emptydir projected secret downwardapi persistentvolumeclaim apiversion rbac authorization k8s v1 kind clusterrole metadata annotations name psp restricted rules apigroups extensions resourcenames restricted resources podsecuritypolicies verbs use apiversion rbac authorization k8s v1 kind clusterrolebinding metadata name psp restricted roleref apigroup rbac authorization k8s kind clusterrole name psp subjects apigroup rbac authorization k8s group system authenticated
specify one or more ipv6 subnets for addresses ipv6 addresses for endpoints in a serviceentry yaml file attempt to apply the file
set interceptionmode tproxy kubectl apply f istio demo yaml
but when i was trying kubectl apply f url error from server internalerror error when creating url internal error occurred failed calling admission webhook sidecar injector istio io post url net http request canceled while waiting for connection client timeout exceeded while awaiting headers test manually got response kubectl exec ti alpine curl k x post url no body found sidecar injector webhook log 2019 06 29t14 06 version body found
install bookinfo kubectl label namespace default istio injection enabled kubectl apply f samples bookinfo platform kube bookinfo yaml install gateway kubectl apply f samples bookinfo networking gateway yaml install destination rules kubectl apply f samples networking destination rule all yaml follow instructions in enforcing namespace level access control url enforcing namespace level access control apply f samples platform kube rbac namespace policy yaml then platform kube rbac policy after waiting a while productpage can t be access from browser using ingressgateway open url you get rbac access denied or exec it get pod l app ratings o jsonpath items 0 metadata name c ratings curl productpage 9080 productpage rbac denied while to troubleshoot i was able to change the subjects to allow any unauthenticated from subjects properties source istio system properties source default to subjects user and then it works so this narrows down that there is something wrong with source not working properly
build a proxy image and use it
1 follow perform tls origination with an egress gateway url perform tls origination with an egress gateway example skip step 2 of the example at that point it produces the right telemetry and could cause confusion when checking later it s the same with mutual tls enabled or disabled step 3 2 after completing notice that further calls to the serviceentry e g step 5 no longer generates any telemetry for istio tcp sent bytes total destination service edition cnn com or istio requests total destination service edition cnn com
add a virtual service with one route and weight 0 although it s probably will work the same with any value 100
1 set outboundtrafficpolicy mode to allow all 2 apply a service entry to some https host say url 3 apply a fault injection virtual service to the same host 4 from within a sidecar injected pod curl the host you set up the service entry for
use version and it won t work tested on 3 different clusters
run citadel with configuration flag explicit opt in true and put a log statement in the failure case url l223 where citadel attempts to retrieve namespace information for an object should encounter an insufficient permissions failure
scale galley to 0 restart mixer
1 installation istio system 2 deploy bookinfo sample application with gateway and destinationrules 1 3 apply virtual service all v1 yaml 2 and virtual service reviews jason v2 v3 yaml 3 4 apply mixer rule deny ip yaml 4 5 try to access the bookinfo productpage at url and verify that you get an error similar to permission denied staticversion istio system your mesh source ip is not whitelisted 6 delete mixer rule deny ip yaml 4 7 try to access the bookinfo productpage at url and verify that you still get an error similar to permission denied staticversion istio system your mesh source ip is not whitelisted until 4 minutes after the deletion 1 url 2 url 3
you d need to do an istio upgrade from version version on a pretty big cluster
this isn t a particularly large cluster nor does it have particularly high churn 158 services with 197 pods
follow instructions on url perform tls origination with an egress gateway up to step 5 everything before that step is as show i tried with both mutual tls enabled and mutual tls disabled i also tried with global outboundtrafficpolicy mode allow any and with global outboundtrafficpolicy mode registry only as showed here url change to the blocking by default policy
install istio version with cni enabled install bookinfo expose bookinfo
create a deployment without any containerports
kubectl apply on a cluster with a pre installed version of istio version with a sidecar injector pre configured
1 add serviceentry www apple com yaml apiversion networking istio io v1alpha3 kind serviceentry metadata name external svc apple namespace travel agency spec hosts www apple com exportto location mesh external ports number 443 name https protocol https resolution none 2 connect to a pod in the mesh and start sending requests to en wikipedia org bash istiooc exec it pod c container sh watch curl url grep o title title 3 confirm that the curl request is going directly to wikipedia title wikipedia the free encyclopedia title 4 inspect the telemetry by checking istio tcp sent bytes total destination service name www apple com in prometheus even when we aren t doing any request to www com external traffic points here note it doesn t appear in istio requests total see this other issue url istio service entry telemetry url
reading code see pilot pkg bootstrap server go 408 url l408
1 create a virtualservice with a cors policy allowing any origin and a maxage of 24h 2 send requests to that virtualservice from one origin via a browser 3 send another request to the same virtualservice from another origin different domain 4 observe that the browser refuses to make the second request
call make test in the installer repo
create 2 serviceentries with same host or create 2 kubernetes headless service with same port and different protocols
install using helm
run the gate a bunch of times
download istio version rc1 run opt istio version rc 1 helm template install kubernetes helm istio set mixer policy enabled false name istio namespace system grep policy a 2 b 2
try to follow current documentation to install istio version marked as latest
1 install bookinfo in the default namespace 2 create a new namespace foo 3 apply the following destination rule yaml apiversion networking istio io v1alpha3 kind destinationrule metadata name foo destinationrule namespace foo spec exportto host default svc cluster local trafficpolicy connectionpool tcp maxconnections 100 connecttimeout 30ms loadbalancer simple least conn 4 using istioctl examine the proxy config of a pod in the default namespace in this case productpage e g istioctl proxy config clusters productpage v1 bnxlz o json here is a snippet of config when using istio auth yaml at top level istio system has a rule for using mtls globally for local left side shows when same destination rule is applied in same whereas right shows when it is defined different screen shot 2019 06 13 at 4 30 37 pm url 5 change above destination rule to be default and re apply 6 when inspecting proxy config of pod above destination is propagated to envoy sidecar
run the following command istioctl proxy status or istioctl authn tls check httpbin default svc cluster local
create a destination rule with a subset label that contains a slash in the key name admission webhook pilot validation istio io denied the request configuration is invalid 1 error occurred invalid tag key mydomain com tag
run cat install kubernetes helm istio init files crd home istio yaml
run in mixer adapter stackdriver operatorconfig stackdriver yaml and observe traces
follow installation cni guide here url installation there is no artifact available for step 3
follow the guide url to start consul follow the guide url to start bookinfo example visit productpage you will see error docker exec ti any of the proxy bash curl details 9080 curl ratings 9080 curl reviews 9080 you will see all the other services will be redirected to one specific service like details and perhaps pilot will report 2019 06 12t03 28 version z tinfo push for node version service consul addr version 44082 listeners 9 7590 2019 06 12t03 28 version z tinfo h finished ms proxystatus pilot conflict outbound listener tcp over current tcp 9080 proxy service consul message listener acceptedtcp productpage service consul rejectedtcp reviews tcpservices 1 start 2019 06 12t03 28 z end 2019 06 12t03 28 z if no such error just restart pilot
kubectl apply f istio demo yaml
add the following to values yml certmanager enabled true poddnspolicy none poddnsconfig nameservers version now run helm upgrade istio istio install kubernetes helm istio install namespace istio system values values yml you should receive an error like expected key not found which is really the result of bad indentation
run istioctl verify install against a version gke cluster
look at the metrics when pilot rejects csd configs
i just set auto scale to true and min replicas to 2 and in our cluster second replica would have difficulties to get ready for some reason
download the release and explode look at url l3 l4 or just look at url l3 l4 easy to see version is version
1 create a set of istio images using golang version in my case i could this with goos linux make clean init test bins build docker docker push hub ericvn tag ericvn 2 create an k8s cluster and set your context to it in my case i use iks clusters of version version and version 3 run the e2e simple test example using my hug tag from above make e2e simple e2e args skip cleanup auth enable installer helm hub ericvn tag ericvn the test should fail 4 after running the test exec into your galley container ex k exec it istio galley 7f66d4fd8f s2h85 n istio system bash then run a curl to citadel curl isv url check the rc using echo i in a passing instance one should get a 0 in failure it returns 52
installed istio with following values yaml global tag version logging level default warn proxy resources requests cpu 100m memory 128mi limits cpu 500m memory 512mi accesslogfile accesslogencoding json enabletracing false this means that auto injection will be opt in for autoinjection both namespace label pod annotation will be required url autoinject disabled todo change this to true when start supporting istio crds usemcp false pilot enabled true autoscalemin 3 env godebug gctrace 0 pilot enable fallthrough route 1 mixer enabled false env godebug gctrace 0 policy enabled false telemetry enabled loadshedding mode logonly latencythreshold 200ms sidecarinjectorwebhook true replicacount 3 galley used as secondary monitoring tool for istio components prometheus used as secondary monitoring tool for istio components grafana gateways security true nodeagent servicegraph tracing kiali cni istiocoredns
1 deploy one service with sidecar injected 2 deploy another service with above service configuration the service deployed in step 1 cannot access to any external https
set cabundle in the of the sidecar injector to be out of date
follow the same steps as in issue 14495
install chart version activate sds gateways istio ingressgateway sds enabled true set a service to use sds url
per trouble shooting verify that the subject is correct in the certificate of the ingress gateway kubectl exec i n istio system kubectl get pod l istio ingressgateway n istio system o jsonpath items 0 metadata name cat etc istio ingressgateway certs tls crt openssl x509 text noout grep subject subject ou domain control validated ou positivessl cn sutro cc verify that the proxy of ingress gateway is aware of certificates kubectl exec ti kubectl get po l ingressgateway n system o jsonpath items 0 metadata name n system curl version 15000 certs no output
forward port 15000 of the ingress gateway kubectl n istio system port forward istio ingressgateway 6f65f87fbb gmjr5 15000 send the reset command to the gateway curl xpost url watch the logs of gateway istio ingressgateway 6f65f87fbb gmjr5 istio proxy 2019 05 28t11 47 version z tinfo tenvoy proxy is not ready config not received from pilot is pilot running cds updates 0 successful 0 rejected lds updates 0 successful 0 rejected ingressgateway 6f65f87fbb gmjr5 proxy 2019 05 28t11 47 version z tinfo tenvoy proxy is not ready config not received from pilot is pilot running cds updates successful rejected lds updates successful rejected
simply try docker run it istio proxyv2 version proxy router proxycomponentloglevel misc error or follow installation step below and observe logs of ingressgateway pods
every time we run istioctl proxy status pod namespace
apply the manifest above and then apply literally any other change nothing will happen
use this instruction url to install istio with kiali additional property should be set set kiali dashboard grafanaurl url login to kiali console error will be there in this format error fetching grafana info error services grafana not found
cluster with calico version setup istio with istio cni add some pod with sidecar injection restart all cluster hosts result traffic not routed through sidecar
add istio io repo with the chart index from the version release and install istio as version version
1 install istio using helm 2 download latest istio and move it to istio latest 3 after that execute command istioctl kube inject f samples sleep sleep yaml kubectl apply f
install k8s install istio
currently unclear
1 enable outboundtrafficpolicy 2 enable accesslogs 3 exec into a running pod that is sending traffic through the proxy 4 curl an external endpoint 5 check stdout of the proxy no reject log s exist exec into a running pod and curl to an external endpoint like google
just download any release newer than version unpack and check for any istio cni chart available
deploy mysql chart i disabled istio proxy sidecar here deploy mysql client enable istio proxy sidecar kubectl exec it myql client pod sh run mysql command to connect to db then run a query that will return 100 rows or more
1 helm repo add istio io url 2 helm repo update 3 helm upgrade install istio init istio io istio init force
create a virtual service with a grpc port and destination with the above traffic policy
1 install istio 2 enable isito inject 3 install bookinfo 4 get istio proxy config from productpage
publish double gateway virtualservice
1 port forward to the bundled p8s k port forward n istio system prometheus 5fffdf8848 482pz 59090 9090 2 fetch the metrics via query curl localhost 59090 api v1 query query up 3 fetch the metrics via query curl localhost 59090 api v1 istio build 4 both the above queries don t report citadel galley and pilot components yet they are labelled as istio
create a sample app in kubernetes create a envoyfilter create a virtualservice to route traffic to that service try to hit the service endpoint that will fail go to kubernetes workloads deployments and the deployment says failed with readiness check 403 code
i have one project with a config server and more than 10 spring clouod service when enable auto inject sidecar i deployment those all the services and config initcontainer to start config server first the issue i encounter is that few services cant connect to config server and hint connected refused in spirng clound service logs i also encounter the server can t access git repository and with connected refused log if deployment those services without any istio component all those services works fine guess the sidecar take over network block network access
set disablepolicychecks to fasle create a tcp service setup a denier handler in mixer with a rule that covers the tcp service connect to the tcp service from another pod the connection will be accepted
install istio install some gateway observe the istio ingressgateway pod
ingress gateway egress gateway and side car have replica set of 2 rest all istio pods have 1 minimum replica sets
1 kubectl apply f install kubernetes istio yaml 2 create sample apps kubectl apply f go out linux amd64 release istioctl kube inject f samples sleep sleep yaml kubectl apply f go out linux amd64 release istioctl kube inject samples httpbin httpbin yaml 3 apply authn policy and destrule follow url globally enabling istio mutual tls 4 pull pilot logs see below same destrule was pushed from galley to pilot multiple times which trigger pilot push config to all sidecars 2019 05 03t17 34 version z tinfo t
helm template install kubernetes helm istio init name istio init namespace istio system kubectl apply f
install istio and do mesh expansion using doc urls with helm tiller options
hit the end point that returns a 503 and expect istio to apply a retry policy
setup a destinationrule as shown above and configure it service to have two replicas that always answer with a 502 status
1 deploy istio to a namespace other than istio system 2 use kubectl get and see that the istio galley object does not exist 3 inspect the galley pod logs and see that the default value istio system is used to locate the service to test webhook api also note that galley does not deploy object
1 setup multicluster mesh with helloworld 2 run kubectl delete secret l istio multicluster true n istio system 3 run istioctl pc endpoints kubectl get pods l app sleep field selector status phase running n sample o jsonpath items 0 metadata name sample
configure a circuit breaker as shown above
after pod created by statefulset error eadiness probe failed read connection reset by peer
set the following yaml sds sds enabled if set to true mtls certificates for the sidecars will be distributed through the secretdiscoveryservice instead of using k8s secrets to mount the certificates enabled false udspath unix var run sds uds path usetrustworthyjwt false usenormaljwt false in istio deployment values yaml and deploy control plane and ingress gateway then attempt to achieve ingress to an example backend and ingressgateway will fail
try using a hostname for the gateway address
cd istio istio goos linux make docker hub kind tag e2e
install istio version in a kubernetes cluster setup the destinationrule shared above create a deployment with sidecar in default namespace sidecar will not be able to communicate with istio telemetry
build envoy binary from istio proxy run make docker proxyv2 in istio istio to make a new proxyv2 image modify global proxy image to point to the new proxyv2 image run fortio benchmark
define a hub url use satellite as a docker repository the images url will have a value
install the version with istio demo yaml
1 install istio as described in the documentation using helm templates this installs istio version 2 enable mesh wide mtls policy 3 execute the steps mentioned here plugin ext ca certs url 4 exec into ratings pod and i do not see any certs in etc cacerts which essentially proves the fact the sync did not take place at all
configure an sni passthrough mtls enabled application gateway apiversion networking istio io v1alpha3 kind gateway metadata name foo namespace bar spec servers hosts foo bar port name https 443 sni number 443 protocol https tls mode passthrough destinationrule apiversion networking istio io v1alpha3 kind destinationrule metadata name foo namespace bar spec host foo bar svc cluster local trafficpolicy tls mode mutual cacertificates etc certs root cert pem clientcertificate etc certs cert chain pem privatekey etc certs key pem policy apiversion authentication istio io v1alpha1 kind policy metadata name namespace spec targets peers mtls mode strict config dump shows a
1 make requests to a service with 20s response time with no request timeout overrides 2 observe that the request completes successfully
go to kiali and navigate to a workloads namespace workload workload info and click on logs
install isto version using default instructions setup ingress gateway and a restful service running in a pod route traffic from gateway to the pod open up ingress envoy and view logs no logs will appear for incoming requests open up pod envoy proxy and view logs no logs will appear for incoming requests
run helloworld sample scale down the deployment to 0 replicas and watch the endpoints istioctl proxy config endpoints sleep 57f9d6fd6b 8lx6p sample cluster outbound 5000 helloworld sample svc cluster local and notice that they take many minutes to go away
call service from non istio enabled namespace to istio enabled service i am getting error curl user default svc cluster local curl 56 recv failure connection reset by peer
i cleanup istio version and setup istio version version deploy a pod in injected sidecar namespace and using ssh to this pod and call wget url described in url fix allow any so it now allows external traffic if there is already an http service present on a port
will do when i have a second
i have partially used code from this example url
bug reproduction in sandbox url
click on the submit button and look at the formik state email is validated by yup and has error and is touched age is validated at the field and has an error but is not touched edit formik yup field validation bug url
no time yet if this is required to understand the issue i ll gladly provide it
jsx import react from react import formikerrors from formik import trans from lingui macro type values name string function validate values values formikerrors values return name trans error trans
please see this sample url please note that custom props object is always empty and it does not contain mycustomprops field
url blur the two first inputs and add a third input at the end you ll see a touched shape that looks like json list foo true foo true id 2 foo new item 2 downgrade formik to before version and do the same the shape will look like json list foo true true
url the contrived example is the user is on a form and clicks a button to add their address to the form i left in the e mail section so that you can see how form should dirty become valid
i will try to write something when i have time
i ve created an example url that doesn t reproduce the scenario my actual scenario involves react relay and various layers which are hard to put into a code sandbox it does occur across different types of fields select textinput so it becomes a bit speculative what could make this occur since i only see the formik setfieldvalue get called once with the correct name and value the only reason this can occur is that both field values reference same key it might very well be related to alpha react version that react native currently uses but i did use that in sandbox and it works correctly
open a leaflet map with a layers control that is collapsed by default e g url check it with a wcag checker such as webaim s wave tool url url
navigate to url simple project which loads only vector layer zoom in out map at least 10 times check memory consumption with task manager or performance tool
steps to reproduce the behavior download leaflet and work through the quick start guide
steps to reproduce the behavior open the minimal example provided below in firefox if you see blue and orange icons the wms layer is rendering
steps to reproduce the behavior navigate to url on a notebook with touchscreen or zoom gestures on the touchpad or an iphone use pinch zoom inside the popup
steps to reproduce the behavior const overlay l imageoverlay url bounds overlay bindtooltip l tooltip mouseover the overlay
steps to reproduce the behavior bind tooltip to polygon and zoom in i m attaching jsfiddle examples bind tooltip to an existing leaflet map object and call polygon s opentooltip method and i pass tooltip option like that tooltipoption opacity version offset 5 5 sticky true permanent true
steps to reproduce the behavior define an icon with the tooltipanchor option with a non zero value for x create a marker using that icon that has a tooltip bound with an top bottom or center direction
steps to reproduce the behavior go to url click on the top right button on the map click on data click on constituencies
steps to reproduce the behavior view a map look at the link text in the bottom right no visual indication that text is a link other than the colour difference
steps to reproduce the behavior setup a basic map like jsfiddle url open with
bind several permanent tooltips to e g geojson features on map and open them zoom in far enough that most tooltips are out of view move map to place other geojson polys in view and observe that it takes a moment for the vector to pop in but the tooltip was already present
steps to reproduce the behavior create a div and give it a column count 1 css attribute create a map div and render the leaflet inside it
we use the leaflet moveend event to update the url with query parameters center and zoom when the user navigates through the browser history with back and and next buttons map goes back to positions reflected by url this works except in one case in google chrome if user interacts with map
steps to reproduce the behavior 1 read docs url draggable
1 shift click into the map 2 check error messages in console
i ve initializated a map in a div having width and height of 500px then i ve implemented a click handler to call the panto function to center the map and works fine if i modify the div dimensions the same funcion is not centering map because i think it doent t know that div dimensions have changed
steps to reproduce the behavior create a shadow root append the leaflet css to the shadow root create a node for leaflet attach a map to the node add a click handler to map append node shadow root
i used a leaflet to draw a geojson map create a node in svg using d3 bind the mouseover event to the node but it does not take effect
steps to reproduce the behavior modify the svgoverlay example in the docs to specify a class l svgoverlay svgelement svgelementbounds classname myclass addto map
map with a few hundred geojson polygons drawn at the scale of a city oneachfeature i add mouseover and mouseout listeners which call layer setstyle in order to highlight the polygons as the user moves their mouse over them in summary i do something like javascript const oneachfeature feature layer layer on mouseover layer setstyle fillopacity version on mouseout setstyle fillopacity 0 const overlay new l geojson null oneachfeature overlay addto map for const feature of features overlay adddata feature
1 create a polygon with no points 2 add it to the map 3 call setstyle weight 1 see url
url l1430 l1436 the code decides that feature is marker if it has getlatlng method and doesn t have radius property or it s value 10
steps to reproduce the behavior step 1 test on a samsung galaxy step 2 open url step 3 start zooming in out fast map freezes
steps to reproduce the behavior difficult to reproduce and our code can t be shared online
load a map with default settings
steps to reproduce the behavior add at least 1 layer with the maxzoom and maxnativezoom defined add the option maxzoom on the map options map maxzoom should be greater than maxzoom for layer open script debugger and look at network section to see file being downloaded zoom in past maxnativezoom level and you will see tiles being loaded and hidden at level if maxnativezoom is not defined this does not happen
open url click the image and pinch to zoom it close the modal pinch zoom on map click image again and try to pinch zoom it again it does not receive any events
step 1 open a simple map using tiles like url step 2 start a mouse selection from the bottom right attribution control to the upper left corner step 3 in ie11 tiles are selected displaying a blue color that doesn t happen in other browsers such as latest chrome 72
steps to reproduce the behavior step 1 create an empty ionic 3 project and install leaflet js through npm import it in the ts file of the html where the map is everything should work fine and map loads and marker is present step 2 follow documentation on how to change marker icon inside your function
steps to reproduce the behavior add a marker to a map bind a popup to that marker click the marker to open the popup try close the opened popup by pressing kdb esc kdb
steps to reproduce the behavior create two maps on one page with two base layers in the layers control see jsfiddle below
steps to reproduce the behavior configure a map with a crs that has resolutions which are not all powers of two such as this one javascript var resolutions 500 250 100 50 20 10 5 version 2 version 1 version version var crs l class extend includes l crs epsg3857 initialize this scales resolutions map resolution 1 resolution this transformation l transformation 1 0 1 0 scale zoom return this scales zoom observe the behavior when zooming between two zoom levels that have resolutions which are not a factor of 2 apart e g between level 12 and 13 and
steps to reproduce the behavior create a map on mobile device push a new page and then go back to the main page with the map the map click event is not firing for a couple of sec but you can interact with map and move it movestart and moveend event work perfectly markers click event is not firing as well
create canvas map with geojson layer with some lines add mouseover mouseout events to geojson objects the mouseover function makes lines thicker mouseout makes them thinner
steps to reproduce the behavior open chrome 72 go to url or url scroll down next to the map
steps to reproduce the behavior implement leaflet on a page load up a screen reader and try to interact with the controls the samples i ve seen tested with voiceover on ios 12 and nvda on firefox 65 don t work with these screen readers at all try to arrow tab or swipe on the map screen reader will speak unlabeled images in place of map data or will speak nothing except links and zoom control buttons attributions leaflet and other links are identified correctly but actual map data is not at all accessible
steps to reproduce the behavior const mymap l map mapid setview 26 134 5 l tilelayer url z x y jpg minnativezoom 16 minzoom 16 maxzoom 18 addto mymap
steps to reproduce the behavior 1 check out this fiddle url 2 drag the map to change its center 3 roll the mouse over the circle marker
steps to reproduce the behavior create two maps both with control layers select one layer in map 1 check what happened with the radio buttons on map 2
1 create a layergroup 2 call haslayer with a number which is not within layer ids
steps to reproduce the behavior step 1 after panning the map it shows ugly grid in tile outline i found it translated final coordinates was float value translate3d version px version px 0px if coordinates was int it not shows
1 make a leaflet map 2 make a popup and set the options to keep in view 3 play around with the zooming or just zoom to the maximum
steps to reproduce the behavior scroll in to level where data is not available for example somewhere on atlanticaocean when get map data not available picture set maxnativezoom to smaller and call tilelayer redraw function
steps to reproduce the behavior inspect the page with dev tools from the elements tab of the dev tools right click on html element and select copy copy element navigate to url textarea retain doctype in sample html in text input replace rest of sample html with your copied html from your page click check
steps to reproduce the behavior step 1 call the geographic location api locate step 2 set locate options watch true step 3 call stoplocate to stop the watch
code snippet to reproduce docker validator build sh stack trace error message error could not compile lalrpop caused by process didn t exit successfully rustc crate name lalrpop root cargo registry src github com lalrpop version src lib rs color never crate type lib emit dep info metadata link c opt level 3 c debuginfo 2 c metadata c extra filename out dir libra target release deps l dependency libra target release deps extern ascii canvas libra target release deps libascii canvas rlib extern atty libra target release deps libatty rlib extern bit set libbit set rlib extern diff libdiff rlib docopt libdocopt ena libena itertools libitertools lalrpop util liblalrpop util petgraph libpetgraph regex libregex regex syntax libregex syntax serde libserde serde derive libserde derive so sha2 libsha2 string cache libstring cache term libterm unicode xid libunicode xid cap lints allow signal 9 sigkill kill warning build failed waiting for other jobs to finish
code snippet to reproduce git pull origin master git checkout testnet scripts cli start cli testnet sh libra account create libra account create libra account mint 0 1000 libra transfer 0 1 200 transferring error failed to perform transaction transaction failed with vm status validation unknownscript stack trace error message transferring error failed to perform transaction transaction failed with vm status validation unknownscript
1 checkout d8ecd67c which contains a warning in the types crate 2 cargo build 3 cargo clean p types 4 cd types 5 cargo build step 2 succeeds with no output but step 5 shows the warning
code snippet to reproduce cargo audit stack trace error message error vulnerable crates found id t rustsec 2019 0011 crate t memoffset version version date t 2019 07 16 url t url issuecomment title flaw in offset of and span of causes sigill drops uninitialized memory of arbitrary type on panic in client code solution upgrade to version
code snippet to reproduce libra account create libra account create libra account mint 0 110 libra account mint 1 52 transfer 0 1 10 stack trace error message transferring error failed to perform transaction codec wireerror unexpectedwiretype wiretypevarint
i am able to reproduce the defect by running the following 1 account create 2 account mint account index 10 3 query balance account index example 1 shell libra create creating retrieving next from wallet created retrieved 6 address libra query balance 6 balance is version libra mint 6 10 minting coins mint request submitted libra query balance 6 is version example 2 shell list no user accounts create creating retrieving next from wallet created retrieved 0 address create creating retrieving next from wallet created retrieved 1 address mint 0 10 minting coins request submitted list user index 0 address sequence number 0 status local user index 1 sequence number status local 10 minting coins request submitted query is version is version example 3 shell 7 100 minting coins request submitted 7 creating retrieving next from wallet created retrieved 8 invalid number of arguments for 8 8 17 8
boot a new gcp ce g1 small image running on ubuntu version git clone url cd libra scripts dev setup sh scripts cli start cli testnet sh and wait for it to get stuck stack trace error message no error message i get stuck every time on a seemingly random package
code snippet to reproduce rust cargo test p fuctional tests stack trace error message updating registry url error no matching package named futures03 found required by admission control service location searched registry url version required version alpha 16
see above stack trace error message e0619 00 48 version client src client proxy rs 640 failed to get account state from validator error rpcfailure rpcstatus status cancelled details some received http2 header with status 429
code snippet to reproduce rust libra account mint 1 stack trace error message error error minting coins failed to query remote faucet server status 400 bad request exceeded max mint amount of
create fresh ubuntu version vm run scripts dev setup sh install protobuf version manually because the version in ubuntu version is too old run scripts cli start cli testnet sh stack trace error message error could not compile lalrpop caused by process didn t exit successfully rustc crate name lalrpop home vagrant cargo registry src github com lalrpop src lib rs color always crate type lib emit dep info metadata link c debuginfo 2 c metadata c extra filename out dir home vagrant develop libra target debug deps l dependency home vagrant develop libra target debug deps extern ascii canvas home vagrant develop libra target debug deps libascii canvas rlib extern atty develop libra target debug deps libatty rlib extern bit set libbit set rlib extern diff libdiff rlib docopt libdocopt ena libena itertools libitertools lalrpop util liblalrpop util petgraph libpetgraph regex libregex regex syntax libregex syntax serde libserde serde derive libserde derive so sha2 libsha2 string cache libstring cache term libterm unicode xid libunicode xid cap lints allow signal 9 sigkill kill warning build failed waiting for other jobs to finish error build failed note the signal 9 sigkill kill i did not do anything to kill the process
create a fresh ubuntu version vm with vagrant vagrant init ubuntu bionic64 vagrant up follow instructions from url git clone url cd libra scripts dev setup sh stack trace error message after successfully installing many components protoc version is too old update protoc to version or above abort
1 open a folder with a lot of files but the sidebar scrollbar should not appear 2 open a few files opened files will begin to overflow with a scrollbar and slides up the lower tree view files disappear because they are out of view
1 install mark text portable i don t think that it has to be on a usb 2 create marktext user data as instructed in portable md url 3 in marktext user data create a keybindings json like this json filenewtab cmdorctrl t viewtogglesidebar cmdorctrl shift r 4 open mark text portable and try and use the shortcuts above they will do their original actions and not open a new tab or toggle the sidebar
1 first step having a passage that includes at least three paragraphs which the first paragraph being 2 second step move the cursor before the first 3 third step start pressing delete
1 create a paragraph 2 change it into task list by front menu 3 check it in the paragraph menu
1 open mark text 2 insert any of the specified emojis above 3 behold
insert the following text in a blank document cpp return return return
1 create a md file in onedrive or sharepoint folder 2 write some text 3 save ctrl s 4 martext sends following message file changed on disk 1 n attestation protocol md has been changed on disk do you want to reload it 5 if you click on it right away nothing happens if you click on it after doing some changes it will reset back to when the file was saved lost work
1 download latest marktext appimage version 2 open marktext 3 press and hold alt to get hints 4 press f while holding alt for
1 have multiple lines of data with each line having multiple words 2 use ctrl right arrow key to move the cursor to different words 3 repeat until you reach the end of line and watch the cursor disappear to the bottom of page
1 have a folder opened in the side bar 2 open a markdown file make some changes 3 close the tab
1 open settings and navigate to image uploader 2 select github and type some text in all three textboxes 3 agree to terms and set as default uploader
the issue is hard to reproduce reliably however i have been able to trigger it several times today 1 trigger the issue maybe by opening the preferences i m not sure 2 switch to source code mode 3 edit the text 4 switch back to normal mode
1 open mark text 2 go to menu file open file 3 select existing md file
1 type a multiline text say this is a sample content 1 this is a sample content 2 2 keep the cursor before the this is a sample content 1 3 press shift up arrow or shift low arrow
1 launch marktest 2 cmd o and open any file
1 create a markdown table and write e g a b c as column 2 now edit cell b to b x or simular in preview mode 3 save document and reopen the document or switch to source code mode and back 4 the cell next to the edited one was replaced with x because the character was not escaped by mark text and is parsed as cell separator
1 enter enough text to create a reasonable vertical scrollbar 2 ensure the cursor is right at the end of the text body 3 hit control home
1 create any document 2 go to its last line and then keep the down arrow key pressed
1 insert document from below and insert as much lines as the editor begin to scroll 2 scroll a bit and you will notice one or multiple table separators lines floating around foo a b c d e f g h i j k l foo bar foo bar foo
1 write a bold code block like so
1 create inline code with two 2 write some code including an underscore
1 write formula or diagram frac a b formula displays correctly 2 cut a part of the formula for example frac a formula doesn t update
1 write a line of plain text containing an inline code block like this text is in bold the bold modifier is
1 open two tabs with text 2 select text in first tab and switch to tab 2
1 create a math block 2 input enough text to overflow the preview
1 take a readme md containing badges i used this one url 2 paste into mark text 3 export as html then as pdf
1 copy and paste the following snippet into mark text for every tet we define vec d s s t otimes i 3 cdot x gx in r 9 times 1 where s t is a selector matrix g is a 9 times3n matrix and vec is a vectorization denoted as vec a 1 2 cdots n 1 2 cdots n mathrm t 2 click on rendered equation like vec d s
when i worked with the following string i got unexpected behavior by showing how show how works ng template 1 place cursor after the s in works 2 use ctrl shift arrow left a couple of times to select the word works and some of the words to left of works
1 set openfilesinnewwindow to false 2 open file manager 3 click on md file
1 insert example below 2 export document as pdf bar i int ho r 2 dv foo
1 write enter foo enter enter bar 2 hover over the math block the html edit protection is shown 3 click inside the math block
1 create a table 2 put cursor in the cell 3 press cmdorctrl 3
1 first step 2 second step 3 and so on
1 create a new code fence and write 3 lines with different level of indentation 4 spaces for one tab no indent first level indent second level indent 2 copy the text and paste it in another text editor the result look like this no indent first level second
1 create a code block md javascript const foo bar 2 put cursor after bar 3 mouse down and move cursor to the title bar to select all the text 4 press backspace
1 create a mermaid above 2 create a paragraph bellow 3 put the cursor in the bellow paragraph
1 write markdown bellow md div details summary a keyword summary some descriptions details div 2 it will shown like this div details summary a keyword summary some descriptions details div 3 detail button can click
1 create a code block 2 input some code 3 select some codes and language identification press backspace
1 write foo a e b 2 put cursor after the second 3 press backspace to delete the second
1 open a code block 2 type 3 move cursor between the brackets 4 hit delete key
when i create a list like main bullet point sub bullet point sub bullet point
1 write a b c 2 now select a c and click on the paragraph icon 3 selected text gets deselected because front menu cannot handle multiple lines which is fine 4 type something like abc exception because cursor is invalid
1 open dir a md 2 open dir a md again via menu or side bar
1 write foo then press kbd enter kbd 2 write another header bar put the cursor at the end of foo 3 press arrow down on the keyboard the cursor disappeared
1 insert a contributors url b
1 write task list bellow md x foo bar 2 export html 3 open exported html file by chrome
1 step 1 set preferlooselist to true in user preference file md foo bar cursor zar foo bar 2 press space key on keyboard
1 in file add line example image img example image png 2 file export pdf
1 in file add line example image img example image png 2 file export pdf
1 create two tabs first tab with a lot of text so that you can scroll second tab doesn t matter 2 set cursor position window height in first tab 3 switch to second tab and switch back to the first
1 add relative image in html
1 first step change the theme to dark 2 second step export the file to pdf
1 have two tabs open 2 view source code mode 3 switch to other tab 4 notice the source of the tab is still displaying the source of the previous tab
1 in a new document type test 2 perform an undo operation cmd ctrl z 3 go to view source code mode 4 notice the source code has the text you ve removed via the undo action
1 copy and paste or type out the following into the editor 1 2 3 4 2 observe issue
note this occurs with both and 1 on a blank line type 2 observe the autocomplete generates a 2nd for emphasized format 3 without moving the cursor type another 4 observe that a third is typed but not auto completed 5 without moving the cursor type another 6 observe that this moves the cursor over existing
1 export the following document without and open the pdf
1 write foo space space 2 press shift enter 3 write a list list item
1 template a b cursor foo c d 2 write space before foo to create a list
1 create tight list a b c 2 copy following text d e f 3 set cursor behind b and paste the loose list into tight list
1 create image a png 2 change a png on disk
1 open marktext 2 open a file directory
1 open marktext 2 try to use ctl q to quit
save a document and add a relative image foo img relative image bar
1 write foo bar 2 add two spaces and press enter foo bar space space press enter 3 write foobar
1 foo cursor 2 paste text with at least one new line like foo newline bar
1 use dark theme or light theme 2 write and save a document 3 save then export to pdf
1 open marktext 2 switch to dark mode probably not related but just to be sure 3 save this url document somewhere on your drive 4 open saved file in marktext 5 scroll to the end of document with mouse and leave cursor there i mean text editor cursor 6 now try to navigate using pgup pgdown keys marktext will hang after 3 4 times
1 set setting theme to dark 2 write someting 3 export it as pdf document
1 create a new list 2 type 3 lt 5
1 create a table with content 2 place cursor in the first cell 3 press tab 4 the next cell is now selected with the context menu displayed 5 press tab again
1 open a fenced code block 2 press return multiple times inside the code block
simple example 1 create a window a with content a and switch to source code mode 2 create a window b file new file with content b and switch to preview mode 3 open application menu entry view in window and b no matter in what order
type text that is longer than a horizontal line and that wraps
1 open the file see example file below 2 on opening the file marktext adds an unwanted new line below created 2018 09 15 line 3 save and close the file 4 re open the notice it added a second new line after created
1 open marktext 2 select rtl language alt shift 3 type using keyboard
1 install marktext 2 download url 3 run marktext readme md
1 insert a math block such as e mc2 and leave the edit mode 2 press esc the 2 at the subscript dropped down
1 create a code block with the following text test h1 br 2 switch to source code mode 3 switch back
1 make a list as laid out in description 2 export as pdf 3 view pdf
1 write anything in marktext 2 get a screenshot and upscale it if you cannot see any red and blue edges around the text then it s rendered in grayscale mode
1 add a link like url or url 2 click it
1 launch marktext 2 exit marktext
1 type rarr hello 2 click on the e in hello
1 save following markdown text and replace relative image png with a valid relative path to an image foo relative image png bar 2 close mark text and reopen 3 open the saved file
1 enable sidebar and select toc tab 2 c p a long text with many headings so that the text and toc scrollbar are visible 3 scroll down the table of contents list
1 insert following code ok foo bar bar foobar
1 write a b c 2 switch to source code mode wait 200ms and back to preview mode
1 type some text 2 select all using cmd a 3 press backspace key to erase 4 use arrow keys to move in the file and make the erased text to reappear or 1 type some text 2 select all using cmd a 3 press backspace key to erase 4 go source code mode and see the erased text still present 5 go back preview mode and see the erased reappeared
1 get the word bar into your clipboard 2 open a new document 3 write the word foo and select it 4 paste the content of your clipboard into the document while foo is still selected
1 set the sidebar to visible if it isn t already 2 open a directory of files with file open project 3 right click on any of the directories or files shown in the sidebar within the directory you just opened 4 a context menu will appear with an item move to trach
1 have a rather long document 2 export to pdf 3 see that the finished pdf file only contains one page when it should contain more
1 run exe installer on windows 10
1 save as 2 cancel
1 make an emoji with heart 2 delete the emoji
1 display tree view 2 make a new file
1 activate the dark theme 2 activate the source code mode
1 have a document with code blocks in it 2 switch to source code mode 3 switch back to normal mode
1 open a file with a long filename
1 click on export styled html or export pdf 2 a native file save dialog is opened click x or cancel the dialog 3 log file has a new entry error cannot save file without path
1 on a new line press hyperlink hotkey cmd l 2 write the link description in square brackets 3 press tab intuitively
1 have paragraphs of multiple lines each 2 navigate the text cursor up and down using the up and down arrow keys
1 have code blocks in your markdown 2 change the theme 3 click somewhere inside the window
1 switch to source code mode 2 try to switch back to normal by pressing cmd u
1 enable sidebar 2 switch to source code mode
1 type to create a list 2 type 3 backticks to create a fenced code block don t type a language 3 hit enter image url
1 open mark text 2 write gt 3 save and close mark text 4 reopen file the gt automatically converted to
1 create a table at the beginning of the document 2 write text in the first cell foo 3 write text behind table 4 ctrl a outside table foo cusor here
1 create first table ctrl t 2 create second table ctrl t 3 write some text optional 4 try to create another table ctrl t
1 enable dark mode 2 create math block using math
1 change the font size to 2416 in the preferences 2 save the preferences and exit marktext 3 open marktext and try to edit the preferences you get white window contents
1 type some text 2 hold down shift 3 press and release the left arrow key 4 press and release the left arrow key 5 press and release the left arrow key etc
1 write list with or and type some text 2 go to source code mode
1 write a 2 it creates two 3 press enter 4 it replaces the first by a list entry dot
1 create a fenced code block 2 write some text 3 use ctrl x
1 arktext pen file 2 arktext 3 4 pen with marktext
1 click menu 2 click file 3 click preferences
1 first step 2 second step 3 and so on
1 create a new markdown file using hexo for example hexo new page projects this is the plain output with some light editing markdown title projects date 2018 04 29 00 15 16 projects i have a lot of things to do 2 open markdown file in mark text screen display already shows that it is being converted into the content img width 934 alt screen shot 2018 04 29 at 12 25 41 am src url 3
1 write a math block 2 change theme from white to black
1 write some text 2 press cmdorctrl c 3 jump to a new line press cmdorctrl v
a b foo bar baz
1 create table 2 delete table please note issue 199 that means you have to write text after table creation otherwise table doesn t exists in source code mode
1 create table in editor mode 2 switch to source code mode
1 create code block and insert a text with let s say min 30 lines or 1 load file write text with min 30 lines 2 set cursor into first line 3 go to source code mode 4 if you have luck only first lines are shown if not repeat 2 with another position example text url the second problem only sometimes occurs
1 first step open a large markdown file maybe more than 10000 characters 2 second step edit and for a moment 3 and so on the editor will become stuck
1 open a markdown file or save a file 2 change to source code mode 3 change to typewriter mode
1 first step input markdown bellow in source mode and back to realtime preview mode markdown div hello world div hello markdown 2 second step press ctrl a and not work
1 input follow markdown markdown javascript const a 12 2 press cmd a and then press backspace to delete all 3 enter some new text at the first line
1 input java 2 the languages recommend float box is shown 3 use arrow down to select language
1 create a html block 2 input div class nice gir cursor l div 3 press arrow left the html block loose focus
1 open github repo s readme md in mark text 2 the raw html looks like it s a rendering error
1 edit something without source code 2 change to source code 3 push command z and then all things editing will be delete
1 download via macos button on readme 2 open application by right clicking open and allow unidentified source thing
1 download latest marktext appimage on linux and make it executable 2 start it from the command line passing a path and name of existing markdown document as a parameter
1 first step 2 second step 3 and so on
1 click on the hamburguer menu on the top left corner 2 go to theme 3 select dark 4 restart mark text
1 write markdown file and exit editor 2 drag and drop markdown file into the editor 3 editor view is broken
1 type some content image url 2 export file as styled html image url 3 open file in browser chrome or safari image url
1 create a file with the following if itemcount s some comment followed by a space is good if itemcount s some comment followed by a char from alphabet will truncate the line 2 open this file using marktext 3 second line is truncated 4 file is saved with truncated altered content
1 first step 2 second step 3 and so on
1 open mark text on kde neon 2 look to the window bar
1 associate md files with mark text 2 open md file or run c program files mark text mark text exe readme md in a folder with a readme md file
1 change theme 2 reopen mark text
1 load mark text on a linux system 2 hit ctrl alt t
1 go to spec mdc textfield classes textarea html on the local development server
1 go here url component slider 2 attempt to drag slider
url 1 create an enhanced select element following instructions url 2 initialize element using new mdcselect element 3 add in valid styles using setvalid false 4 set helper text using sethelpertextcontent text
1 go to url 2 scroll to the left 3 open dialog from open button 4 try to slide the slider
1 go to url component ripple on mobile safari 2 tap on the button with the label click here 3 you can see that the button still has its ripple effect if you were to hover over it with a cursor on a desktop browser the hover effect disappears once there is a tap elsewhere
1 will try to get a demo together in the next 24
1 go to url component select 2 scroll down to demos 3 under filled enhanced click on the select to open the menu 4 scroll the page 5 the menu doesn t close or move with page select input
1 add i class mdc list item meta material icons outlined aria hidden true chevron right i 2 see the icon not showing
1 go to url 2 use tab to set the focus on the checkbox 3 focus not showing
1 go to my codepen url 2 click the update form values button to add data 3 the value output in red means the component is broke blue means it works 4 click the reset button to reset data to initial state this is broke too
1 go to url 2 click on the make invalid button 3 see error
1 go to url component data table 2 click on the select all box so everything is de selected 3 click on the select all box again so everything is selected 4 click on the select all box again so everything is de selected 5 see the extra flash
1 go to url component select 2 click on outlined enhanced select element 3 choose option 4 spacing to the underlying elements gets reduced
reloading the document makes the error go away and then after a few reloads it is back again
1 create a textfield with a floating label 2 add a raised button next to it 3 hover or click on the button 4 see error
url real mass 1
1 go to url component slider 2 touch any part of a slider s line and immediately move the finger or mouse up or down with the intention to scroll the page vertically 3 instead of enabling the user to scroll slider immediately jumps to touched location possibly altering its value without user having intention do that
1 go to url component select 2 press tab button until select gets focus
1 go to url 2 click on the menu button 3 click on the menu button again
1 go to url spec 2 ask for user feedback to read text within the tooltip using desktop settings
1 go to url lovely beret demo 2 check uncheck the first checkbox
steps to reproduce the behavior create a chart ex stacked bar chart x axis is time y some metric select a few other variables for filtering implement a filter field filter for example on a country use the filter to select 2 or more countries in the tooltip only one of the selected countries will be shown country displayed will be different depending on which bar is highlighted i wasnt able to find reliable pattern though sorting makes it less predictable
steps to reproduce the behavior 1 configure ldap authentication 2 configure a mapped ad group cn group ou groups dc test to a custom metabase group group 3 create a ad user and add it to the 4 log in with a new ad user and check that the metabase is correctly assigned 5 remove the user from ad 6 try to log in again and you will see error
1 click ask a question 2 click custom question 3 select a table 4 click the join data button 5 select the table you want to join 6 select the columns being joined 7 click save 8 see saving failed and the error log from console above
create a new dashboard and try to import a question to it it
go to browse data click on a ga property you ll see a prefilled query try to change the date granularity and nothing happens
not sure how others would be able to replicate this behavior at the moment
you can use the bundled sample dataset to reproduce the issue screenshots also included 1 create a new question from the sample dataset orders table 2 configure the question like filter created at previous month including this summarize sum of total by cretedat week user name filter sum of total is greater than 250 sort created at ascending 3 in visualization configure a stacked bar chart and in data section set created at on x axis 4 try to change sort from ascending to descending in my case it would be created at and you will see that chart x axis will be always ordered ascending
steps to reproduce the behavior 1 go to any dashboard 2 click on edit button to add another question as multi series on any widget which contains a chart 3 on the right side column the available compatible questions should be listed which has the described rendering problem
steps to reproduce the behavior 1 connect a data source e g dwh 2 create a question 3 rename the schema containing the table pertaining to that question 4 rename the schema in corresponding connection in metabase 5 new questions correctly query renamed schema but existing question don t update what s more even additional changes within question don t update schema name e g if i add a grouping group by clause will refer to old name not new name
steps to reproduce the behavior 1 create a dashboard 2 add a question containing timeline related data x date y number to the dashboard 3 add a second question containing timeline related data x date y number to the card created in step 2 4 click download full results and choose any output format 5 see that the downloaded data only contains a single data column probably that from first question added in step 2
steps to reproduce the behavior 1 create a question select testvariable 2 create a dashboard with that question and a filter of the same name 3 embed with the parameter set to editable
prepare a query that have columns date value a value b both values must be filled for each date and visualize it in the line chart x axis date y axis value a value b
steps to reproduce the behavior 1 create a new questions 2 group table by a category 3 add several sum of to the summarise by along with a count 4 in the editor try and create a by doing sum x count 4a the first column editor will not accept functions 4b second column editor only allows you use to count and sum unable to choose which sum use 5 now summarise by an additional column all custom columns vanish
steps to reproduce the behavior 1 click ask a question in navigation bar 2 click custom question 3 stuck at loading i can t move to some of other pages either because screen won t update correctly after that
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
1 create custom question from sample data orders 2 filter user id 1 summarize sum of total grouped by created at day and product id and product category 3 aggregation filter sum is greater than 100 4 save question and add to dashboard 5 add filters time all options and id other categories try to connect to question details summary generated sql click to expand summary select source created at as created at source product id as product source category as category source sum as sum from select cast public orders created at date public orders products via category public orders total from public left join products products via on products via where user 1 group by cast date via order by cast date asc asc asc where 100 limit details
steps to reproduce the behavior 0 open any embedded dashboard 1 user clicks download icon 2 download menu opens 3 user clicks on one of the formats csv xslx json 4 nothing happens in the background the api call is in progress to download results which might take time depending on size and complexity of query 5 user keeps clicking on one of options after assuming that no action is taking place 6 this repetitive behavior quickly overloads system
all dashboards have the same error a refresh usually resolves the issue
the command on docker docker run d v metabase data old metabase data e mb db file metabase data metabase db v plugins app plugins e mb plugins dir app plugins e mb db type mysql e mb db port 3306 dbname user user pass pass host ip name migrate v version load from h2
steps to reproduce the behavior 1 go to ask a question native query 2 select a bigquery database and past the following query into the editor select format date y m d cast 2019 09 01 as date as date 30 as mymeasure union all select format date y m d cast 2019 09 02 as 50 mymeasure union all select format y m d cast 2019 09 03 40 mymeasure 3 a visualization line example 4 when hovering over the line tool tip doesn t show up
steps to reproduce the behavior 1 deploy metabase and setup a mongodb database pointing to an aws documentdb instance 2 add another database of the same type
i run this native query on a mongodb database match date gte isodate 2019 09 01t00 00 version z lte isodate 2019 09 02t00 00 version z group id project id project id project id first project tracking hours sum hours that returns this information image url when i try to create a bar graph with x axis and y axis tracking hours it shows only one bar
steps to reproduce the behavior 1 add a database to metabase 2 delete metabase s tables for that database 3 go to admin permissions 4 grant a group unrestricted access to that database you might have create a group when you refresh the page the permission grid will show that no permissions were granted i think this is because this is because the graph function url l425 only queries tables determine permissions since there are no tables for that database no permissions are included
see attached gif
steps to reproduce the behavior 1 click ask a question 2 select native query 3 enter a query 4 run it error probably occurs here 5 if not click save and attempt to save the question error definitely occurs here
steps to reproduce the behavior 1 use internet explorer 11 2 try to view a dashboard with charts either directly in metabase or via iframe embedding or a single question which is visualized by a chart 3 see the error within the charts area
steps to reproduce the behavior 1 do a fresh install on aws of v version 2 create a native query and visualize it with a line graph 3 check the js console 4 see error
steps to reproduce the behavior 1 go to download button 2 click on download button 3 fetch the results and do the count of the rows 4 this doesn t match from source data
steps to reproduce the behavior 1 go to query builder 2 join two tables 3 summarize by count and group by column from the joined table 4 visualize results 5 click on count and select view these orders 6 see error
you can reproduce this issue with the following query against a mysql database select str to date 2019 09 10 y m d which will return 2019 01 10 directly against the database but returns in metabase
steps to reproduce the behavior 1 go to any dashboard having geo map like the one in the image above 2 click ctrl p or normal print from the menu 3 scroll down to geo map section page 4 see error on console and map not getting rendered
this is the data before upgrading to version chart was rendered properly screenshot 2019 09 11 at 11 49 18 url
steps to reproduce the behavior access public shared link with different number settings then default and access it directly from metabase see the difference between them this seems to happen sometimes and other times it s okey
steps to reproduce the behavior n a
query any data where one of the series contain only nulls table view is populated line chart is okay but bar chart is not rendered
steps to reproduce the behavior 0 configure metabase database to postgres 1 create a pin map using the people table in the sample dataset 2 place the pin map in a dashboard 3 upgrade to version 4 go to dashboard
upgrade to version check any percentage formatted field
upgrade to version make a search
steps to reproduce the behavior 1 go to ask a question simple question 2 select any database and any table 3 press save and then save again 4 see error
i haven t been able to reproduce the issue as it seems it doesn t happen with new questions
steps to reproduce the behavior 1 create a dashboard and add questinos same issue when opening an existing dashboard with questions 2 click on the pencil to edit the dashboard 3 add a filter for time 4 see error questions still show previous results it is not possible to match the filter with parameters of questions 5 if you click on save dashboard button shows that saving failed
steps to reproduce the behavior create a question in sql utilising a parameter to set a date range and a parameter to set category set the question type to be bar line or just bar and map the data points so that the date is on x axis hover over any of data points and see that date on x axis doesnt match date in pop up
with a ldap configured metabase try to log in perhaps with the wrong password and members will be removed from a metabase group
steps to reproduce the behavior 1 go to url 2 click on formatting on the left menu and change the currency to south african rand 3 go to a question that has a number and format it currency using the new settings button on bottom of screen 4 currency will zar is not applied or available select for question
steps to reproduce the behavior 1 create view a pulse with a chart 2 trigger a slack notification with it 3 look at the pulse image chart on slack
steps to reproduce the behavior 1 go to the metabase docker hub url page 2 review image history
create a table and group by day of week and time hour of day they are the same in my case image url click on the numbers associated with 4 pm or whatever row you want to view these records and you see no results image url
steps to reproduce the behavior 1 go to saved question in personal collection 2 click on pencil icon beside question name 3 click on move 4 select a public collection 5 click move on the modal 6 save question 7 refresh 8 see that question did not move
steps to reproduce the behavior 1 go to a vistulization map with gps coordinates plotted in the map 2 click on draw search 3 create a filter 4 nothing happen
1 go to custom question select sample dataset and orders 2 join products table and join people table visualize 3 click a cell of one of the joined tables i e people email and select in the drill down 4 shows the error column public people email not found 5 remove that filter and create the exact same filter but via filter sidebar it works
upgraded from v version to v version bigquery custom or native queries would throw nullpointerexception errors upgraded to v version bigquery error now reads attempting to call unbound fn metabase driver bigquery dataset name for current query message error 1 native query ask a question native query choose bigquery database simple select for example select from project data set table limit 1000 error no method in multimethod execute query for dispatch value error 2 builder ask a question custom question choose database choose table no filters all columns click visualize which i assume is the same as select from table attempting to call unbound fn metabase driver dataset name for current
steps to reproduce the behavior 1 go to ask a question custom question 2 pick a table e g maintable 3 create a join data e g jointable 4 at summarize section click pick the metric you want to see and choose custom expression 5 choose sum field from jointable is not included in the list
steps to reproduce the behavior 1 go to ask question 2 click on select a table 3 click on summarize 4 notice some of the basic metrics are missing
steps to reproduce the behavior 1 download metabase v version from url 2 setup amazon rds aurora mysql database v version a with charset utf8 and collation utf8 general ci 3 from ubuntu version try to run sudo java dmb db connection uri mysql host 3306 database user user password password duser timezone utc jar metabase jar replace variables between with the aurora mysql variables 4 view terminal logs they should stop at the info metabase db running database migrations
pre requisite link with a google analytics account steps to reproduce the behavior 1 create a new question 2 select google analytics profile 3 filter by date previous 4 months leave include
steps to reproduce the behavior 1 create a question that produces a series with any values between a and b 2 select line visualisation 3 go to settings axes 4 set a min value higher than and or max value less than b
steps to reproduce the behavior 1 browse the raw data for orders in the sample dataset 2 click the heading of created at field and choose formatting 3 click off button under show time time will disappear from created at column then click done 4 download full results to csv 5 open csv in some other program excel text editor doesn t matter created at column will now contain full datetime strings like 2019 02 11t21 40 version z even though we removed them from column already
steps to reproduce the behavior 1 have a table name in a database that maps to a friendly name with multiple words in metabase e g servicerequesttype in sql server service request type in metabase 2 search bar type the friendly name as shown the admin data model screen e g service request type 3 the table known everywhere metabase as service request type is not listed 4 search for actual table name servicerequesttype and table is listed but not by it s friendly
1 run docker compose up with this config url 2 if it doesn t happen run docker container rm caddy load balanced local db 1 and try again
steps to reproduce the behavior 1 click on the gear icon in the top right 2 click on help 3 browser will navigate to url 4 get 404 error page
steps to reproduce the behavior 1 go to url 2 click on all members 3 open the console 4 see error
1 you have a column which is set to category type and to search box filter 2 go to ask question new question 3 open search box to filter your column 4 press key while using russian layout 5 instead of getting letter in the text box you get nothing
steps to reproduce the behavior 1 attach metabase to a postgresql database 2 execute this sql select version money 3 see error bad value for type double 99 999 version
steps to reproduce the behavior 1 go to query builder 3 2 go down to custom column 2 click on 3 add formula 4 see nothing changing on button still disabled
steps to reproduce the behavior 1 add a bigquery data source to your metabase instance 2 create a custom question on the bigquery data source 3 group by on any column and set the metric to be count of rows 4 apply filter on the count column to be greater than 1 5 visualize result set
steps to reproduce the behavior 1 go to ask a question custom question 2 choose sample dataset orders as the data source 3 when the filter option appears it will extend vertically beyond the top border of a small window i m on a 2015 15 mbp with browser fullscreened see screenshot below
steps to reproduce the behavior 1 start a version docker container docker run d p 3000 3000 name metabase metabase metabase 2 create a new native query 3 enter select date trunc date part current timestamp
steps to reproduce the behavior 1 go to custom question 2 select orders 3 join people table 4 summarize with a count and group by latitude and longitude 5 click preview working 6 click visualize results 7 see error
1 prepare a small dataset for containing country code and relevant kpi 2 create a question based on the prepared dataset 3 set the visualization to map and set the region to world 4 it will take almost 40 50 seconds to render the map 5 in case question is added to a dashboard it will take 40 50 seconds for question render on dashboard and it will freeze whole dashboard for this time
1 create a new native query or custom question where underlying values contain combination of negatives and positives for example for native query use this sample sql select from values 2019 07 30 a 10 2019 07 30 b 5 2019 07 30 c 3 2019 07 31 a 10 31 b 5 31 c 3 t1 date category net sales selection 01 url 2 based on the data above build a visualisation of type bar with x axis set to date and category and y axis to net sales 3 under display tab select stacking option stack 4 observe visualization results selection 01 url
steps to reproduce the behavior 1 create table with a number field called counter 2 query editor custom expression 3 type sum counter or select from the drop down 4 error is presented
steps to reproduce the behavior 1 go to admin general 2 change the site url to url 3 error given in screen error assert failed invalid site url url u s 4 change to 5 change is saved without error
steps to reproduce the behavior 1 go to a dashboard 2 click on add a question 3 search for a term you know has questions 3 the results has repeated questions
1 create a simple question any table and visualize as table 2 either drag one of the column headers to a different position or click visualization settings and drag the visible columns to a different position 3 shows get answer button overlay on the table
steps to reproduce the behavior 1 have a table with some data of type st geometry url 2 start the scanning process in admin panel 3 synch process will terminate after first table with geodata saying the scan was successful
steps to reproduce the behavior 1 view embedded dashboard 2 click on export icon for a table chart with more than 2000 rows 3 select any file type 4 review exported file 5 note only 2000 rows of results have been exported
steps to reproduce the behavior run curl to get the db stats diegoduarte workspace curl x get h content type application json h x metabase session 154f23bf 523d 4894 85ae url jq total received xferd average speed time time time current dload upload total spent left speed 100 1043 100 1043 0 0 1538 0 1536 description null features basic aggregations standard deviation aggregations expression aggregations foreign keys right join left join native parameters nested queries expressions set timezone binning inner join cache field values schedule 0 50 timezone utc metadata sync schedule 50 name user acquisition caveats null is full sync true updated at 2018 10 23t21 14 version z details host useracquisition xxxxxxxxxxxxxxx rds amazonaws com port 3306 dbname uacq user useracquisition password
steps to reproduce the behavior 1 open the instance in any web browser 2 log in to the system 3 the spinning loading indicator appears and continues spinning forever
steps to reproduce the behavior 1 create a dashboard with an id parameter filter for a postgres data source 2 create a widget based on a custom sql question that references that parameter 3 create link to the dashboard with the parameter supplied 4 cards fail to load
steps to reproduce the behavior 1 add and connect a mongo database 1 click either sync button or just hit save and examine your dataset 2 dataset is empty no tables found
1 add a filter based on a timestamp column such as created at previous 30 days 2 check the box to include today 3 change the range from 30 to any other number 4 blur that field 5 checkbox for include today will automatically uncheck itself
steps to reproduce the behavior 1 setup and enable ldap auth 2 log in with a valid ldap auth user
pre req for behavior 1 create table a with some column foo 2 create table b with some column foo and some column bar 3 do not create a foreign key between them at the database level 4 create a foreign key relationship in metabase via the admin data model a e g specify table column foo has type foreign key of b foo steps to reproduce the behavior 1 go to ask question custom 2 select db table 3 click get answer 4 click the gear icon and try to select bar from b under more columns section 5 see error
steps to reproduce the behavior 1 select a bigquery connection 2 run a native query that returns an array select 1 2 3 casting error shows in the results area
i tried to build a generic dashboard and reproduce the error in isolation but unfortunately the error did not show up it occurs in many of our dashboards but sometimes it takes many re freshes to cause the error the other times it shows up always
steps to reproduce the behavior 1 open a report dashboard 2 open date range data filter 3 see that include today is checked on default 4 change the number of days 5 click save observe include today is unchecked
git clone url cd metabase deploy git remote add heroku url git commit allow empty m empty commit git push f heroku master
steps to reproduce the behavior 1 go to the full record view 2 scroll down 4 see error
steps to reproduce the behavior 1 select a google analytics profile with configured goals 2 select a date range 3 select metric goal xx completions 4 group by week question metabase 2019 06 20 14 55 53 url
resize the window to smaller then back to about its original size or even bigger close the window
1 keep adding tabs until the newest tabs are no longer visible alt text url
build this program as c or c in visual studio and run it manually from the command line in a cmd exe window c include stdio h include windows h int main int argc char argv tconst handle in getstdhandle std input handle tconst handle out getstdhandle std output handle tconst csb generic read generic write 0 null console textmode buffer null tconst bool success csb tchar buffer 1 tdword dwread 0 treadfile in buffer sizeof buffer dwread null fails with getlasterror error sharing violation makes sense bool success2 out treturn 0
1 open terminal and use the acrylic background 2 you should put some contrastful windows behind the terminal window so you can clearly see the display bug in the acrylic section 3 move terminal window around you can see that acrylic background is rendered in real time and displayed correctly 4 resize terminal you can see that acrylic background is rendered in real time and displayed correctly 5 double click task bar or click on maximize button to maximize window to full screen then minimize window again there is a slight delay until background is rendered correctly also distorted during maximize animation it less notable to see it in this tiny gif it s best reproduce this by yourself on your computer az0psfm6fr url
1 open a new powershell tab powershell version does not matter 2 paste and run the following code in the powershell tab powershell register engineevent sourceidentifier exiting action set content value hello there path env temp general kenobi txt 4 close the tab by clicking the x button or by exit command or close terminal window grafik url
1 start a conhost session 2 start the inspect utility 3 click on the top level window in the ui automation tree that matches the conhost session
1 connect ssh session to application server use l switch 2 type in password accept eula and accept session ssh host key 3 enter in crs at terminal to load custom application on a putty terminal emulator the custom application would load without issue
1 in chrome in a tab that shows a pr of tfs copy text see cascadia paste copy from chrome png 2 in vstudio bring up resharper s goto symbol window and paste the copied text
attempting to install via the chocolatey package pre built msxibundle
1 change initialrows 44 in settings 2 change defaultprofile c6eaf9f4 32a7 5fdc b5cf
open windows terminal type commands or text select the stuff with your mouse press enter key
1 ssh to an ubuntu version host log in to bash session 2 start byobu 2 run command while do echo all work and no play makes jack a dull boy done 3 press f2 key to create new byobu window 4 press f3 and f4 to toggle screens back and forth several times
open a bash shell and execute printf a e 999c tb this outputs an a then a cuf url sequence to move the cursor position to the end of the line then tab control character and finally b
prefer bar or box cursor shape for more prominent behavior produce more than a screenful of output so that the cursor is in the bottom row resize the window so that there s a noticeable gap a partial row under the bottom text row again make sure that cursor is in bottom row when cursor is visible that is not in off state while blinking scroll back by exactly 1 line e g by hitting ctrl shift up
open cmd exe compiled from this repo or built in windows
1 open a couple more tabs than what fits in the window 2 scroll the tab bar to see the new tabs
work via multiple ssh sessions
vim terminal src cascadia terminalapp terminalpage cpp yank and paste second line
ssh to a linux box get markus kuhn s utf 8 decoder capability and stress test url mgk25 ucs examples utf 8 test txt file cat utf 8 test txt
set up wsl2 setup kind and create cluster using kind create cluster
1 log into a machine over rdp 2 open a terminal cmd session 3 start a build using msbuild exe 4 close rdp session
1 press control to open settings in editor
see also url 1 copy some script with multiple lines from somewhere an editor like vs code for instance or even from the code section of this issue 1 use powershell with psreadline installed 1 right click paste in to the windows terminal session of powershell the issue will be amplified if the current cursor prompt is already at bottom of window as is shown below
simply open terminal then open a new tab using the profile commandline wsl exe d ubuntu version then run ls on a directory that has a lot of files or any command such that the screen displays more then the number of lines your terminal is able show at one time it may take more than one time but usually after a couple
ssh into remote host start gnu screen screen type cd and the first few non unique characters of a directory press tab key to trigger autocomplete
just happens after using the terminal for some amount of time i am not sure what other information may be helpful in tracking this down
install powershell core as a net core global tool dotnet tool install g powershell confirm it works when you use pwsh exe create a new powershell core profile and set source to windows terminal powershellcore and open a new shell doesn t work commenting out source and using commandline pwsh exe works as it is in the path
this bug sounds similar to 3080 and 3081 but this time all the escape sequences are supported by wt and i don t have a fully reproducible test case it all seems random resize the terminal to 28 rows my default due to bug 2061 nevermind execute this a couple of times slowcat t parsing delay txt whereas slowcat is shipped with vte url and does exactly what you would think with the parameter being in microseconds i e prints one byte every version seconds in the above example and parsing delay txt url is test file stripped down as much as i had patience modify numeric parameter in ballpark of xa8c i e 3 xa8c5 bytes per second as you feel like have no idea if it influences behavior sometimes it feels so but it could just be random note that at end of command you re left on alternate screen switches to normal screen for a short time in middle then back alternate one
install tmux or zsh and install a theme with color blocks e g bullet train theme url and configure a powerline font in windows terminal
sibling issue of 3080 execute this echo ne e 12 sleep 1 echo ne 34h
echo ne e 10 foo e sleep 1 echo ne sleep 5 echo sleep 1 echo sleep 10
open powershell tab press ctrl alt ctrl alt shift
echo e e 4m underlined e 33m yellow e 39m should still be underlined m
delete powershell profile and azure profile save
to resolve this issue we can add scroll tab list forward backward options or squeeze all the opened multiple tabs in tab layout
open terminal app
first open the windows terminal and then open the azure cloud shell tab you will see someting like this url exactly some words are missing after the word enter then when i maximize the window and reopen that tab correct sentence will show url
set colorscheme to setting under powershell profile to one of the scheme listed in the settings file
set copyonselect to false
1 install the latest version windows terminal on windows 10 1903 launch it and it works 2 rdp using window rdp tool your system from another windows computer 3 try to launch the windows terminal it opens and crashed instantly
try to select copy and paste with the normal windows shortcuts for these operations
run this litle command in the terminal using a cmd exe tab to produce a little box cmd echo echo
1 open a wsl tab using a light color scheme e g solarized light 2 echo e 033 1mhello 033 0m
just open math or wolframscript when using wolfram engine command and try to enter square brackets or other symbols that require pressing either altgr or ctrl alt on french keyboard layout
using gpg to sign commits it throws an access denied error url
open up any console app and copy text via mouse clicks onedrive link to desktop recording via radeon software url
1 create three tabs 2 use the ctrl alt 1 2 3 short cut to quickly jump between tabs in random order i ve had the problem occur under more normal usage but the above steps reproduce it consistently
set the newtabprofile0 shortcut to ctrl numpad 1 and save command newtabprofile0 keys ctrl numpad 1 test the shortcut to verify that it works as expected a new terminal tab opens as expected regardless of which shell was currently active before reopen settings change this shortcut to ctrl shift numpad 1 and save try to use shortcut
1 launch terminal 2 launch inspect or ui recorder url 3 attempt to locate accessibility automation id for the terminal tab elements big sign and down arrow sign and the close tab little x sign
set color scheme for powershell profile to be one half dark or any of the other ones and then launch the powershell profile
when i open a terminal window and start writing some commands some lines doesn t show properly and are truncated i think the problem might be my current windows resolution which i set on 125
1 open profiles json in visual studio code 1 in one of the profiles remove the name property i e to have it use the name it inherits from the defaults json
1 open profiles json in visual studio code 1 in one of the profiles with a default background color e g the one for powershell add background null 1 in windows terminal observe how the background color of this profile is reset to the one of its colorscheme
copy text with line break example make build essential checkinstall libssl dev libbz2 dev libzip dev libreadline gplv2 dev libncursesw5 libsqlite3 tk libgdbm libc6 libffi wget curl libldap2 zlib1g lib32z1 uuid paste it on powershell or wsl console
open the new terminal press win to open magnifier exe press the button to create a new tab in terminal
1 run windows terminal
set that profiles in settings guid 61c54bbd c2c6 5271 96e7 name windows powershell backgroundimage ms appdata roaming arthas jpg any image backgroundimageopacity version uniformtofill guid 4f2a 5b96 ac1e name powershell core source windows terminal powershellcore backgroundimage ms appdata roaming arthas jpg any image backgroundimageopacity version uniformtofill
in a conhost wsl shell execute the following command echo e e 6 19r e 24h e 99acuu 1h 99bcud r this does the following sets the top and bottom decstbm url margins to 6 and 19 moves to line 24 i below the bottom margin executes cuu url sequence with a count of 99 to move up 99 lines writes out cuu moves to line 1 i above top margin executes cud url sequence with a count of 99 move down 99 lines writes out cud
in a conhost wsl shell execute the following command echo e e 6 19r e 12h e 99ecnl 12h 99fcpl r this does the following sets the top and bottom decstbm url margins to 6 and 19 moves to line 12 i inside the margins executes cnl url sequence with a count of 99 to move down 99 lines writes out cnl moves back to line 12 executes cpl url sequence with a count of 99 move up 99 lines writes out cpl
open a tab tried with powershell and cmd run ipython start entering at least one character and then hit spacebar no more char can be added to the line and ipython doesn t respond anymore hit ctrl c to clear the line
i imagine this is similar to 633 except it seems like my arrows are rendering too far to the left and or too small rather than having a gap see image url i m using a menlo for powerline patched font with a powershell prompt generated by this url for comparison here s the same prompt in vscode s integrated terminal image url with visible colors image url
install node using nvm in the wsl using the bash shell in terminal app from wsl ubuntu occasionally when running npm install the terminal will crash
in cmd mode con
scenario 1 via rdp from windows terminal windows powershell shell running in a windows remote desktop rdp session clear ls c recurse use 2 finger scroll gesture on touchpad vertical scrolling works scenario 2 via native windows desktop i e no rdp session from terminal powershell shell running in a remote desktop rdp session clear ls c recurse use 2 finger scroll gesture on touchpad vertical scrolling does not work also note that both standard non terminal beta legacy built in cmd and powershell terminals work as expected in both scenarios i e all four test cases
1 install terminal preview from microsoft store 2 start each of the default shells
install app from windows store or build from source and deploy cascadia package
mode con lines 32767
1 configure or use a prebuilt fancy zone from powertoys leaving shift drag to zone enabled 2 grab terminal by the title bar hold shift and drag into a zone
update to the new terminal version delete all content from profiles json relaunch terminal and let it regenerate defaults hold down alt while clicking settings to see the defaults scroll down and see that consolas is still being used as the default new size actually is 12 btw
open terminal open new tab of powershell run vs code as a child process of the tab just code as long as no other vs code windows are open close tab with gui child process
open terminal open new tab of powershell run vs code as a child process of the tab just code as long as no other vs code windows are open close tab with gui child process
1 open profiles json e g via ctrl 2 change defaultprofiles to the guid of something which is not windows powershell for example the much more reasonable powershell core 3 windows powershell is still the default extra if the windows powershell is hidden then cannot find default profile warning is shown
sh echo ne a tb
1 install windows terminal version on a machine where tmux version has been installed and displaying correctly with previous windows terminal releases 2 open a wsl shell in a terminal tab inside tmux 3 run any command which displays text wide enough to use the rightmost column of the screen for the example screenshots below i used env 4 after observing initial behavior clear the screen with clear
1 install windows terminal from either microsoft store or via download from github release 2 try to launch the terminal have tried un installing re installing rebooting multiple times to no avail
1 open powershell core 7 preview 4 in windows terminal 1 left click select multiple lines and then right click
1 open wt 1 open profiles json 1 create an object in the profiles array 1 fill in some fields such as name commandline startingdirectory colorscheme etc save profiles json
1 open a ubuntu version tab 2 select the prompt and copy it right click in this specific case 3 paste in powerpoint
1 run cmd exe under windows terminal preview 2 navigate to a directory containing text files 3 run the command less mn txt 4 when you reach the end of the 1st file enter the less command n to go to next file
i can t type chinese char in terminal by microsoft pinyin bind in win10 20h1
start windows terminal open a tab with wsl ubuntu version maybe also with other distributions choose a light theme like one half light in the profiles json file view a man page e g man grep play with values for brightwhite in the choosen color schema
i install wsl ubuntu in windows 10 want setup wsl in windows terminal if change profile fontface from consolas to ubuntu mono derivative powerline url windows terminal will crash and close acrylicopacity version background closeonexit true colorscheme campbell commandline wsl exe d ubuntu bin bash c zsh cursorcolor ffffff cursorshape bar fontface ubuntu mono derivative powerline fontsize 10 guid d5ed219b a9ca 4618 8250 historysize 9001 icon ms appx profileicons 61c54bbd c2c6 5271 96e7 png name padding 0 0 0 0 snaponinput true startingdirectory userprofile useacrylic true
1 type a poorly formed export certificate powershell command such as export certificate type cert filepath cert localmachine my blah force 2 don t supply any details and hit enter when prompted for supply values for the following parameters cert 3 get a great long exception stack trace that you can t read before windows closes as it crashes to desktop ending the windowsterminal process
1 open windows terminal 2 double click on the title bar of main window
using cygwin bash execute the following shell command printf 033 38 2 255 0 0mhi 033 0m similar behavior is achieved from the c function printf in a standalone application when compiled using a cygwin compiler and linking the c function printf with the one defined by cygwin1 dll other shells running in cygwin have not been tested and lack of known functionality in cmd exe and powershell have made testing shell command directly difficult tests of c function when compiled using microsoft visual studio have proved positive on all tested shells
1 on a system that does not have any azure tools or components installed fetch commit b84a073 1 clean and then rebuild the solution 1 rename profiles json to profiles json old not sure if this is important but when i update to a new build of terminal i like to start with a completely fresh profiles json and merge in all my customizations 1 attempt to launch windows terminal
1 minimize the height of terminal doesn t even have to be fully minimized 2 create a new tab windowsterminal url
1 set historysize of a profile to 32728 or bigger 2 open a tab for that profile 3 run commands so that there is a bunch of scroll space running nano on ubuntu is easier 4 maximize the window
to reproduce on an install of windows that has never had wsl enabled or installed install the new windows terminal preview from the store open it to allow itself to get through any first initialization stuff it needs then enable wsl and install a linux distribution in my case it was ubuntu but i have a feeling it would break for the others too
1 change cursor to vintage for default ubuntu profile 2 vim q after 3 cursor is no longer vintage now it s filledbox
install msys2 and then in settings json specify the command to open msys2 s version of bash exe instead of cmd exe c msys64 usr bin bash exe
1 start ssh connection to host which asks password for authentication or use python getpass getpass 2 paste string from clipboard buffer to prompt 3 correct information will not be pasted and and python just stays waiting for input even after enter
run windows terminal on a recent surface pro device with the official type cover
launch freshly built and deployed terminal
build from cloned git tree git clone url build x64 release or debug deploy solution click the menu down arrow choose about
build microsoft terminal git clone url cd terminal git submodule update init recursive nuget restore openconsole sln open vs2019 set build to release x64 build solution deploy solution launch terminal from start menu
switch the change the size of text apps and other items to something other than 100 open up terminal and colorize multiple contiguous lines on the screen for me i m running wsl and run vim followed by color blue
this is the same repro as issue 1360 url which i was trying to reproduce and hit this render related crash instead install ripgrep url open wt windows terminal running powershell run the following from the root of a large drive while true rg i foo
i installed docker via sudo apt get following this guide url however sudo systemctl start docker gives me the following error system has not been booted with systemd as init system pid 1 can t operate other people said that sudo service docker start would work but that gives starting docker which looks fine but when running any run command i get got permission denied while trying to connect to the daemon socket at unix var run sock post url dial unix var run sock connect permission denied see run help
1 open emacs within wsl in windows terminal 2 type either of the following m alt greater than to move to the end of the file m alt less than to move to the beginning of file 3 verify key emacs is seeing by typing c h k ctrl h k for describe key then type either of above key combinations
two displays setup in my case an lg monitor used as the primary monitor connected through an hdmi cable to a dell inspiron 14 5000
when the following c
maximize the terminal window move cursor all the way to the left of the screen and start dragging to highlight text on that row
resize the window or maximize or unmaximize it and drag the scrollbar
1 highlight text in windows powershell in windows terminal 2 press ctrl c and watch as a new line is generated but realize the selected text is both no longer selected and not on the clipboard
1 open a bash terminal 2 type echo foo don t press enter 3 press alt backspace to delete the word the command should now read echo 4 type bar the command should now read echo bar 5 press enter
1 open any of the windowspowershell pwsh cmd in windows terminal 2 install python package pyreadline 3 input python and enter interactive mode 4 press enter a bunch of times until current view goes up 5 lines at the top got missing and can not scroll up
with the latest version of windows terminal using the attached profiles json file with copyonselect true every time i copy text the terminal will hang for 1 2 seconds and then crash after the most recent update to version i enabled copyonselect and only saw this crash maybe once a day since yesterday 9 11 it happens every time i copy text no settings changes happened but i do heavily use terminal every day with lots of copy pasting so as of yesterday my workflow is severely interrupted
select some text in the terminal containing a character right click to copy it if needed for example image url
1 open windows terminal 2 let the computer go into screen locked status 3 unlocked the computer 4 notice windows terminal has been closed 5 proceed to event viewer application log and look for event 1000 s showing desktop windows manager and windows terminal applications both crashing faulting source application error id 1000 faulting application name windowsterminal exe version version time stamp faulting module name ucrtbase dll version version time stamp exception code fault offset faulting process id application start time path c program files windowsapps microsoft windowsterminal x64 8wekyb3d8bbwe windowsterminal exe module path c system32 ucrtbase dll report id e93be2a0 375b 409c a1e8 package full name microsoft windowsterminal x64 8wekyb3d8bbwe package relative id app source error 1000 name dwm exe time stamp module ntdll dll stamp exception code fault offset process 0x2cec0 start path c system32 dwm exe module path c system32 tdll dll report cd25779a d818 438f b423 package full package relative source dwminit 0 the desktop window manager process has exited process exit code restart count 2 primary display device amd radeon tm vega 8 graphics
run the following app using node js after doing npm i blessed js var blessed require blessed var screen blessed screen smartcsr true screen title my window title var box box top center left center width 50 height 50 content hello bold world bold tags true border type line style fg white bg magenta border fg f0f0f0 hover bg green box on click function data box setcontent center some different red fg content red fg center screen render key escape q c c function ch key return process exit 0 focus append render
1 create a string s with sgr sequences that sets foreground to red and background color to white and then at the end of the string an sgr reset which should set fg and bg back to their defaults gray on black 2 write the string to the console and observe that it works as expected after content rest of line window edge is black 3 now make string longer by just adding content in middle long enough that it will wrap 4 write console observe that it works differently after end of content rest of line window edge is white
enter printf 033c while using wsl in windows terminal
1 make sure you have multiple monitors mine just happen to be in portrait mode 2 drag windows terminal to top of monitor 3 window is now maximized
open a r url session then type any expression and evaluate it then the up arrow should retrieve older commands in the history
run msys2 mingw64 bash in windows terminal e g in a cmd tab with set msystem mingw64 c msys64 usr bin bash login i run emacs in the terminal emacs nw and quit it immediately back at the bash prompt enter a few characters say 123 press the left arrow as often as needed to move the cursor to beginning of line in this example 3 times enter some other characters
1 in your profiles json create two profiles we will call them a and b 2 give a the space background image and b the tree background image attached at the bottom 3 open windows terminal with a as the default profile 4 open b in a new tab
hold down the shift key and drag the windows terminal window
right click app from start menu fill in appropriate credentials
go to about screen select text right click copy crash select text if auto copy is enabled crash select text and right click copy crash
click on the window the console pauses after 1 edit mode and insert mode inside console properties is checked 2 running a long running process 3 clicking the console window text not scrolling 4 leaving for lunch 5 return unlock computer make console active 6 hit enter and progress continues no progress was being made this was not a production issue however without changing these settings it could cause production issues
click on the window the console pauses after 1 edit mode and insert mode inside console properties is checked 2 running a long running process 3 clicking the console window text not scrolling 4 leaving for lunch 5 return unlock computer make console active 6 hit enter and progress continues no progress was being made this was not a production issue however without changing these settings it could cause production issues
compile and run the following c code include windows h include conio h include stdio h int main handle handle getstdhandle std output handle enable support for vt esape sequences dword mode getconsolemode handle mode mode enable virtual terminal processing setconsolemode mode set the viewport and buffer size to 40 x 15 short width 40 short height 15 small rect viewrect 0 0 width 1 height 1 setconsolewindowinfo true viewrect width height setconsolewindowinfo true viewrect write some content into the viewport for short y 0 y height y setconsolecursorposition 0 y for short x x width x printf c 65 set the decstbm margins to lines 6 to 10 printf 033 6 10r set scroll rectangle to maximum size small rect scrollrect 32767 32767 set destination position 4 lines down coord destpos 4 clip rectangle an area in center small rect cliprect 2 2 37 12 fill attributes char info fill fill char unicodechar l fill attributes 0x4f move specified content down by 4 lines scrollrect cliprect destpos reset decstbm margins printf 033 r wait for a keypress getch return
open a wsl conhost shell and execute the following command printf e 1 2r e 999hbottom line e r this sets the decstbm margins to the top two lines moves the cursor position to very bottom of screen i e below bottom margin and then writes out bottom line followed by 3 line feeds and finally resets margins
open windows terminal open new ubuntu tab
download and run url
1 use rdp to access your device 2 either start the terminal fresh or close a tab or try to open a new tab
1 copy the color palette for solarized john doe from conemu to terminal here s the relevant json json white fdf6e3 blue green 586e75 cyan 657b83 red dc322f purple 6c71c4 yellow cb4b16 brightwhite eee8d5 brightblack 93a1a1 brightblue 268bd2 brightgreen brightcyan 2aa198 brightred brightpurple d33682 brightyellow b58900 black 002b36 background 002b36 foreground fdf6e3 name solarized john doe 2 set powershell s color scheme to solarized john doe 3 run enum getvalues system consolecolor foreach object write host foregroundcolor to admire the colors
just open the cmd in windows terminal
click on the terminal window without dragging
1 set the initialrows value to something like 30 rows a value that makes the openned window has less rows than the maximized window should have 2 maximize the window 3 run some command with a lot of output like ps ls or dir
open a cmd tab edit the settings and change fontface for the cmd profile to something invalid apending zzz for example
1 turn off the windows setting scroll inactive window when i hover over them 2 have terminal on monitor with scaling other than 100 3 have enough text to scroll 4 focus terminal and scroll with mouse wheel
1 open the terminal version perhaps it s relevant that i have showtabsintitlebar set to the default value of true 2 double click anywhere inside the draggable titlebar image for illustration purpose of the area i mean by titlebar wt cant doubleclicktomaximize url
just open windows terminal and launch ssh command ssh login ipadress
re install wt still won t work but installed in my other pc worked so i think it s something wrong with my pc settings
1 make a selection left click drag 2 right click to copy 3 repeat 1 and 2 a lot and very quickly i specifically tried to have the selections be big not sure if that matters
open an azure cloud shell with a column width of 90
open windows terminal dev build this used to work and stopped working about two weeks ago after a git pull and recompile i have tried uninstalling and reinstalling using multiple methods have deleted my source directory and re downloaded followed all the steps in the documentation in the readme
1 open one or more shells in windows terminal 2 use the mouse to select text 3 use key combination defined in profile json to copy text 4 repeat steps 2 to 3 a few times note tested using both copy text key combinations ctrl shift c and ctrl c
1 open windows terminal
1 open wt 2 add tabs until they go off are no longer rendered 3 scroll the mouse wheel over the tabs
1 open windows terminal 2 double click in the title bar see screenshot below wt title maximise url
install a wsl distribution opensuse leap version in my case move it to top spot and make it default uninstall old wsl distribution and install the upgraded one opensuse leap version in my case
1 install url far manager 2 open it from windows terminal by executing far command 3 position cursor on any directory 4 press shift enter
install far manager from url run far manager inside windows terminal from cmd session or by creating new profile type any text look how cursor moves in command line while typing press ctrl o try to move cursor using directions keys press enter with any text entered in command line no matter when in panels mode or in history mode switched by ctrl o no matter if correct command or any text type any text again look how cursor moves while typing press ctrl o try to move cursor using directions keys
run powershell as admin run the following command choco upgrade microsoft windows terminal
hit control space
install the application from windows store or from binaries released on this repo and launch it it results in the following error image url builds made on my machine launches just fine so i don t know how i can get more info to debug this issue they crash after using it for a while but i don t think this is related to the same bug
open a wsl conhost shell and execute the following command printf e 41 93 4 7m e 2j e m this sets the text color to bright yellow on red and enables the reverse video and underline attributes it then clears the screen with an ed erase in display sequence
open a wsl conhost shell and execute the following command printf e 3 4r e 5 e r this sets the vertical scroll margins to lines 3 to 4 inserts 5 characters at the start of the first line using ich escape sequence and then resets margins again now open a new wsl conhost shell and execute following command printf e 3 4r 5p r this sets vertical scroll margins to lines 3 to 4 deletes 5 characters from start of first line using dch escape sequence and then resets margins again
open a wsl conhost shell and execute the following two commands printf e 30 48 5 214m orange e 8 24 80t orange e m printf e 7 38 5 15 48 5 4m reverse 8 24 80t reverse m the first command uses an sgr escape sequence to set the background color to index 214 a shade of orange writes out the text orange then uses xterm window manipulation sequence to resize screen and writes out again second command does same sort of thing but with different attributes it sets colors to bright white index 15 on blue index 4 and also enable reverse video attribute making it blue on white
1 install windows terminal 2 install a linux distribution from windows store 3 enable the windows subsystem for linux 4 reboot 5 launch the wsl distro and configure it 6 reboot
installed from ms store launching results in an empty window border showing less than 1 sec and terminating updated to latest version using chocolatey same results see 1364 for appropriate image of what i observe
open a wsl shell and execute the following command printf e 10g e lleft margin what that is doing is moving the cursor to column 10 inserting a line with the il url escape sequence and then writing out left margin
install via windows store on to one of the few windows 10 on arm devices in my case the asus novago tp370 url attempt to run terminal
1 open remote ssh session to linux ubuntu 2 run nano 3 try to use ctrl w to search for a string
in windows terminal start the ruby repl pry or irb type fooar then press the left arrow key to move the cursor back
in windows terminal start the ruby repl pry or irb type fooar then press the left arrow key to move the cursor back
install either go mono or go mono nerd font font change settings to use it and set size to 11
connect to windows from a mac with microsoft remote desktop and the use mac shortcuts for cut copy and paste option on
install firacode nf or another ligature font type ligatures
still like 1404 at the defualt profile commandline can t be opened terminal starts and right after it shuts down make profile a mistake like the image under image url after that starting a windows terminal terminal automatically closes without any message
create multiple terminal profiles add different gif backgrounds for each terminal profile open them in microsoft terminal
open the dropdown menu now move the window
1 scoop install maven 2 start up a new tab 3 run mvn
i just installed the windows terminal from windows store and when i clicked on the launch button the terminal opened and crashed almost instantly
when i ssh to my centos version server and start a new tmux session tmux new session s somesession and open a new or existing file in emacs every time i move my cursor on a white space or special character i get a unwanted square character printed on the screen some characters are already there e g on empty lines when i first open the file the changes are only visual and don t modify the actual text file e saving and re opening file clears new characters but those that are there when opens appear consistently generally in empty lines if try with emacs outside of tmux it works fine so it seems to be specific to tmux or one of its setting did try to set my term xterm 256color rxvt etc in configs but it didn t seem change anything
just use a chinese ime then type win can t print any symbol
in a standard cmd console window from the properties dialog 1 terminal enable disable scroll forward 1 layout decrease screen buffer size height to be equal to window size height
open a non default shell in my case cmd because wsl is the default press the shortcut for command splitvertical ctrl shift the pane will split and
1 install windows terminal preview url through the microsoft store on two separate windows devices important use the same credentials in the microsoft store on both devices 2 change settings on one device e g add a new profile to start in drive d 3 change the settings on other device e g add same profile but use drive e
1 start windows terminal preview with powershell as a default environment 2 open linux ubuntu tab as a second tab 3 in the second tab execute ls command 4 close the second tab 5 in the first execute docker ps command
1 create a powershell tab 2 press enter until the text covers most of the window 3 split the view horizontally 4 close the bottom pane 5 start typing
open terminal with powershell core close app click x top right
1 start wt using cmd exe 2 type in a command to change the background color such as color 90 light blue background black text 3 observe with satisfaction that the screen turns blue with black text 4 hit the enter return key a couple of times 5 look on in disappointment as you see that all the new lines you just added kept original background color instead of using blue background with black text like we told cmd exe
ping www github com with german localization
copy any text using keyboard shortcut ctrl c and try to paste it using ctrl v shortcut
1 create a directory named q a 2 within this directory create a bat file named elevate bat with the following contents echo hello timeout t 30 3 again within this directory create a vbs file named elevate vbs with the following contents set objshell createobject shell application objshell shellexecute elevate bat runas 1 then double click elevate vbs
with the terminal closed do anything that trigger a json settings file rewrite for example add any setting to the settings json file that is not on the schema or is invalid for example json foo 1 globals then open the terminal
1 run or launch a powershell terminal 2 press enter a bunch of times echo also triggers the behavior
1 create a file with the unicode right to left override url character in its name such as harmless file u 202e txt exe 2 display this files name in the terminal by running dir b in cmd or ls in powershell etc
open the about dialog then resize the window
ssh into a linux environment nano filename txt ctrl w to search within nano
1 open any type of terminal 2 change system language like usual 1 with key language change key or click the language change button on the taskbar 3 write some text
1 map a key binding to splithorizontal 2 invoke the splithorizontal key binding beyond the point where space is available for the split 6 7 times note it also happens when splitting vertically but it appears to allow more before crashing
1 launch wsl session in windows terminal 2 hit enter a few times to generate few lines of output 3 select the lines with mouse and right click to copy to clipboard image url 4 paste the lines into a different program note that 4 distinct lines are pasted this is expected behavior image url 5 launch vim or other full screen application inside the wsl window image url 6 close vim using esc q enter 7 highlight and copy the again using mouse and right click image url 8 paste clipboard into different program note that output is now on one line
1 create a new cmd exe tab 2 use command powershell 3 close the tab
1 configure a custom tabtitle for cmd or powershell shells in the profiles json file e g tabtitle windows powershell 2 open a cmd or powershell tab verify the customized tabtitle is appearing 3 try to set a custom title programmatically from within the shell e g in powershell host ui rawui windowtitle custom title
1 create tabs until they get created outside of the visible area of the tab bar
haven t found a pattern yet
drag tile from windows start menu to desktop to create link shortcut right click shortcut icon and select properties change run field to maxmimized hit apply close properties double click shortcut icon terminal window does not open maxmimized or at least it doesn t move the window to the upper left of the screen the same way it would if you hit maxmimize button or windows key up arrow
open a multi line file in a terminal editor i have tried both vim 8 and nano in the editor attempt to hold the down key vim j nano down arrow the cursor will love down however when you release the key cursor will continue to move down multiple lines past where stopped
open the about window increase the width of the terminal window it helps to start with a smaller terminal window to have room for this step
open windows terminal in dark mode add keybindings to split a tab into multiple panes ex json command splithorizontal keys ctrl shift command splitvertical keys ctrl shift open a profile that has a dark background like black or something close to that ex campbell theme where background is 0c0c0c split the tab
i m honestly not sure what i was doing this might be 2251
1 open a new cloudshell tab and log in 2 execute some azure cli commands for about 10 min
start an application like poolmon from the windows wdk that takes up the entire screen buffer while it s running
1 open terminal settings to change the colorscheme solarized dark to colorscheme campbell for better user experience 2 from the terminal list select azure cloud shell 3 type pwsh and wait for the prompt 4 at the powershell prompt type psversiontable and press enter 5 type dir and check cursor position 6 type exit and press enter to exit powershell not possible
1 ensure double click delimiters includes 2 double click on empty line
i have build terminal from source and am using it successfully but i would like to try the version from the windows store i have downloaded it but when i try to launch it it immediately terminates without any other error the exact sequence is start menu click on windows terminal preview
open windows terminal preview the default powershell tab opens with the title c windows system32 windowspowershell v version powershell exe click the button to open a new tab a second tab opens the title c windows system32 windowspowershell v version powershell exe does not fit inside tab and is cut off at pow before new button
1 open a command cmd tab 2 execute enough commands to put data in the scrollback buffer 3 execute cls 4 observe results
copy several text lines and paste them using vi text editor in bash wsl
build code from and the build completes but when i start the app i get failures and app just instantly closes out if i restore the file src cascadia terminalconnection conhostconnection cpp from to any newer code then build succeeds and the app starts normally
1 open a cmd exe prompt using windows terminal 2 change the background color using the color command color 1f 3 press enter until you are close to the bottom of the screen 4 run dir command so that text will scroll 5 notice that background color is reset for part of window that scroll s these images show side by side comparisons between windows terminal and classic console beforescroll url afterscroll url
1 open a conhost wsl shell 2 execute printf ec the ris url escape sequence 3 note that the display isn t cleared 4 do a few directory listings or something to fill the scrollback buffer 5 execute printf e 41m ec setting the background to red followed by ris 6 note that display has been cleared with a red background and scrollback is only partially cleared
apt install sl lolcat in case they are not installed yet then run sl lolcat
run windows terminal as an administrator
select text press ctrl c
start terminal edit profiles json to give background image an opacity of version exactly none backgroundimageopacity version save observe opacity change in running terminal close profiles json close terminal restart terminal launch profiles json from observe opacity value rewritten as none backgroundimageopacity version another case set background image path to an interesting name like none backgroundimage c users kfarm onedrive backgrounds characters landscape i fi vizsla desktop png it comes back as none backgroundimage c users kfarm onedrive backgrounds characters landscape u00dei u00e1lfi vizsla desktop png
paste a multiline powershell cmd that has a pipe symbol after curly braces in a powershell terminal example tget volume twhere object t t driveletter length gt 0 t tselect driveletter size
setup a profile to open a powershell core tab directly starting pwsh exe from cmd exe or powershell exe doesn t have the issue call git diff inside of a git directory with unstaged changes select git output with mouse right click to copy open notepad exe right click paste
these profile settings cause the specified background image to display each of these images is viewable via file explorer and in use as desktop background images backgroundimage c users kfarm onedrive backgrounds characters landscape oddr vizsla desktop png backgroundimagealignment bottomright backgroundimageopacity version fill these backgroundimage paths fail to render backgroundimage c users kfarm onedrive backgrounds characters landscape i fi vizsla desktop png backgroundimage c users kfarm onedrive backgrounds characters landscape f ki vizsla desktop png additionally adding these characters to tab name causes them to display the bad encoding diamond
install viu and display an image big enough to be full screen cargo install viu viu mnt c image jpg type
pressing altgr 2 3 4 7 8 9 0 number row and possibly other key combinations requiring altgr does not seem to bite on the terminal for instance getting the at sign we usually press altgr 2 or ctrl alt 2 to write it but terminal does not recognise both of these ways
1 open the terminal app 2 close the terminal app only happens when the terminal is closed and ps is the active tab does not happen if ubuntu or command line is active tab or if i close a ps tab but terminal app stays open
1 launch azure cloud shell profile tab and connect login to azure 1 launch powershell core with command pwsh 1 execute any powershell core commands
1 open terminal 2 run some command that produces output that extends past the bottom of the window e g dir on a directory containing lots of files
1 open terminal with wsl ubuntu 2 display something on stdout e g echo hello world 3 run clear x or ctrl l
open the drop down menu click on the titlebar
open windows terminal with cmd exe as the default profile open a new terminal tab hosting pwsh exe or wsl ubuntu type exit to close the new tab back in the cmd exe tab type a reasonably sized text file to the console mine was a 59 219 byte csv file
1 open a directory in explorer exe 2 type wt in the search bar to launch the terminal
i tried to use azure cloudshell connector but the connector shows an error message like below img width 737 alt issue src url
1 open a new windows terminal instance 2 open a second tab using either the button 3 close the new tab using ctrl w middle clicking the tab or clicking the tab s x repeat steps 2 3 as fast as possible
1 open the windows settings app 2 change from dark mode to light mode or vice versa
1 open the windows settings app 2 change from dark mode to light mode or vice versa
1 open wsl terminal 2 copy a multiline escaped command like below to clipboard sh test f bashrc 3 paste clipboard into open terminal window using right click
1 install clink from cmd bash clink autorun install 2 configure terminal default profile to cmd defaultprofile 0caa0dad 35be 5f56 a8ff afceeeaa6101 3 open and close terminal ui close button don t use exit command this problem didn t exist in previous public preview build
start this application and drag it somewhere
open cloud shell window perform device login
1 start up windows terminal 2 drag the window
1 open the terminal 2 switching cjk input methods doesn t work 3 typing
1 ensure double click delimiters includes 2 double click on empty line
title tab is very large don t auto scale size if i open many tab i can t click x to close this tab use exit command to exit there is many tab but can t see three image url
1 open terminal 2 click on the options down arrow image url 3 move the main window
1 fire up wsl 2 run vim 3 enter some chinese characters they seems to be fine 4 press esc press o to insert a new line above 5 start typeing some english letter 6 and the chinese characters become smaller than normal size 7 if i type english letter beneath it works ok url url url
1 install 2 launch
1 start the joe editor with a new file without specifying a filename 2 type 3 lines at least to see what happens e g line1 line2 line3 3 go back with the cursor to the middle of line2 e g before the n character 4 press enter key
1 start the joe editor with a new file without specifying a filename 2 type 3 lines at least to see what happens e g line1 line2 line3 3 go back with the cursor to the beginning of line2 4 press the enter key
1 start the windows terminal dev build 2 open an ubuntu tab or whatever linux shell you have 3 do a bunch of directory listings that really fill up the scrollback buffer the system32 directory is good for that 4 execute printf e 3j to clear the scrollback buffer
the issue manifests in a number of different ways but one of the most obvious examples looks like this 1 start the conhost host exe 2 in the properties make sure that screen buffer height is larger than window height 3 open a wsl bash shell 4 get a directory listing or something that fills screen with content 5 execute following escape sequence which sets background color to red and deletes 4 lines from top of screen printf e 41m e h e 4m
1 open the profiles json used by windows terminal for settings make formatting changes and save them 2 open a new windows terminal window
set startingdirectory for the pscore profile to a directory not on the c drive in my example the d drive
update to the latest visual studio 2019 version build terminal you will get a compiler error i had no issues building with version
using two displays with different resolutions and maximize the terminal window in the smaller display resolution
1 download the font url 2 install into windows 3 edit profiles json fontface iosevka nf
open tab too fast and many of them using shortcut key default ctrl shift number makes easy to open lots of tab at once which i was doing was holding shortcut key crtl shift 2 to open cmd for few seconds
1 open a windows terminal then an ubuntu tab 2 start python 3 import matplotlib pyplot as plt 4 try to plot anything using matplotlib
1 start an ssh session in a tab current or new would do with rsa certificate identification 2 close the tab while the ssh is still connected
render a block with background color after the text the used command is from symfony version i can provide instructions or find the exact control codes that were used if needed
cd into user desktop on c drive run lambda stack using the link attacked above after that run nvidia smi
open windows terminal from the start menu or taskbar drag the window on random intervals
run windowsterminal exe directly outside of app package click about in the drop down menu
1 start conhost host exe from within the visual studio debugger 2 from the cmd prompt open a wsl bash shell 3 begin typing something on the command line 4 watch the output debug window in visual studio 5 note constant stream of debug messages being generated as you type
1 window terminal preview run as administrator
i edit my settings to add a key binding for newwindow as listed here url l28 this is a sample of the configuration command newwindow keys ctrl n
the relevant looking parts of profiles json are globals defaultprofile c6eaf9f4 32a7 5fdc b5cf initialcols 80 initialrows 40 profiles commandline wsl exe d ubuntu version fontface dejavu sans mono for powerline fontsize 9 guid c6eaf9f4 32a7 5fdc b5cf padding 0 0 0 0
use a build from latest master commit dca0ffe6 start the terminal under vs then click on the tab down arrow menu button observe the crash
1 set the dword registry value hkcu console usedx to 1 to enable the directx renderer that supports font fallback 2 build the latest source or at least commit dca0ffe url 3 start a bash shell in conhost with the tools openbash script 4 try outputting a character that would usually require font fallback for example echo e u273f
close last tab using ctrl w
1 open a wsl bash shell in the windows terminal 2 use the scs select character set escape sequence to select the special graphics character set 3 output the character which should map to a blank 4 output character which should map to a diamond 5 note that doesn t map to a blank and maps double width diamond which causes subsequent characters be out of alignment here s an example printf statement that will demonstrate issue printf e 0 e b for reference special graphics set is documented here url
this is the way i found it was most noticeable and also how i found it initially open terminal open wsl ubuntu using the options tab or type wsl exe d ubuntu in cmd or powershell install cmatrix using sudo apt install cmatrix type cmatrix to run see the laging behavior of the terminal
try to launch the app as administrator
the default profiles in profiles json contain the element background which overrides any color scheme that you set
1 install ubuntu from microsoft store 2 install terminal from microsoft store 3 open terminal and create new ubuntu tab 4 bug ubuntu not listed as one of the options
in the configuration file the commandline variable of a profile is set to a non existing exe or command
tools azzle cmd rel bcz rel run terminal at src cascadia cascadiapackage bin x64 release windowsterminal exe
when you tap on the drop down button and bring the flyout on screen clicking on the titlebar will not trigger the light dismiss behavior and flyout remains open tapping on terminal display tab or tab bar works as expected
ssh to a server running ubuntu version edit something with vim and split view hopefully you know how to escape hotel vim and how to use it this guide url may help it crashes for me repeatedly edit i tried this ssh ing to a rhel5 host it did not repeat then when i tried it a 3rd time on the ubuntu version host did not crash sorry this may be harder reproduce than i thought specifically i also used vs vertical split that may be important
1 start openconsole sln in visual studio 2019 make sure cascadiapackage is the default project and platform is set to x64 and build the solution if necessary 1 kbd f5 kbd to start debugging a new instance you should now have a powershell instance in the terminal 1 in the powershell instance in terminal run following commands powershell esc char 0x1b s hello push esc p esc 91m this text is red pop esc q fg should no longer be red unless it was red before courtesy reset 0m 4 set a breakpoint at terminalcontrol dll microsoft console virtualterminal statemachine processstring two parameter one 1 powershell instance terminal run command s to output string when you hit breakpoint observe value of rgwch
1 install pragmata pro mono liga version font any other unicode font should work as well 2 open the windows terminal with wsl ubuntu tab 3 download and display the utf 8 demo text url mgk25 ucs examples utf 8 demo txt curl url mgk25 ucs examples utf 8 demo txt
1 open windows terminal 2 run ssh to remote gnu linux 3 download url 4 run emacs 5 install rust mode to emacs 6 in emacs open file re rs
1 open terminal 2 press button to open new tab or two 3 fairly quickly after press ctrl w multiple times
1 open farmanager in windows terminal 2 press ctrl o to switch to panel view 3 try to click with mouse on files or folders elements
press alt ret in terminal
exit a mingw bash shell using a keyboard shortcut to close the tab
if i change the settings of the windows terminal create a new profile and set it default with linux not powershell or cmd modify the property fontface from consolas to rubik font on fonts google com close all windows and try to open windows terminal it won t open if i change it back to consolas and try to open it this time will start
open a powershell and type 123 on the prompt or paste it
1 build the windows terminal locally and run windows terminal dev build from the start menu 2 when the default powershell tab opens type the following command echo before 0 after
just open the terminal and write some text
1 make tabs more then current terminal width tab name should be over the terminal topbar 2 scroll topbar using mouse wheel 3 tab does not appear but topbar size has increased
set requestedtheme to dark in the profiles json file and open windows terminal once open open and re save the profiles json file change the setting and the app window will redraw close windows terminal and re open
in a powershell window execute the command get credential
1 set cursorshape bar and fontface fira code in a profile 2 run terminal 3 paste symbol cyrillic small letter er 4 press backspace
open wsl ubuntu use bash enter few characters note that esc backspace won t delete the last words note that esb b won t go back a word
create a script in powershell that intercepts ctrl c so it can gracefully shut down run that script and try to use ctrl c the script can t intercept it it behaves the same in powershell core and in powershell powershell console treatcontrolcasinput true start sleep seconds 1 host ui rawui flushinputbuffer exiting false while not exiting write host sleeping start sleep seconds 1 while host ui rawui keyavailable and key host ui rawui readkey allowctrlc noecho includekeyup if int key character eq 3 write warning got ctrl c exiting true ui rawui flushinputbuffer write done console treatcontrolcasinput false
open windows terminal click on down icon instead of having the effect on the dropdown it was highlighted on both plus and down icon there was a delay from the effect too the down icon was highlighted but after version seconds later plus icon gets highlighted too apart from that i am wondering if dropdown is supposed to fit side of terminal
pin windows terminal in your taskbar right click on the terminal icon terminal icon in popup is missing
pin windows terminal in your taskbar right click on the terminal icon terminal icon in popup is missing
0 the crash reproduces on both cmd and pscore 1 invoke some program that outputs chinese i used dotnet info 2 drag on the output text for selection
start windows terminal with powershell version and runs vim with vim path for vim was c program files x86 vim vim81 close tab with is running
start windows terminal spam open different types of terminal using hotkeys preferably spamming ubuntu cmd and powershell some tabs collapsed into showing just icon while others are expanded
start windows terminal open a tab of cmd type this command in the prompt color 1 any color number will do change to a new tab of cmd changes were not saved into the profiles json
1 install the third party aerolite theme url to get window borders back to being usable i e not zero width 2 note that command prompt windows powershell and ubuntu for windows 10 command shell windows all respect the nice new border width 3 launch windows terminal
full screen the terminal window and use the keys windows shift arrow to move the window to your second screen
pin windows terminal to the start menu
setting codepage within the registry doesn t result in the correct code page within the wt terminal window neither this none c c windows system32 eg exe add hkcu console localappdata microsoft windowsapps wt exe v codepage t reg dword d 65001 f the operation completed successfully nor this none c c windows system32 eg exe add hkcu console users roy appdata local microsoft windowsapps wt exe v codepage t reg dword d 65001 f operation completed successfully result in correct codepage within wt terminal window
if a utf 8 stream gets buffered in a loop characters that consume more than one byte may get split at the buffer boundaries passing the buffer to will corrupt the text because a conversion to utf 16 is in place where these partials are treated as invalid utf 8 characters and replaced with with u fffd characters
add a path with spaces in system environment variables at the end of existing ones e g path c windows c windows system32 c program files microsoft vs code insiders bin
select text by dragging over it click the text which copies notice that now one character where you clicked is selected right click into your input observe the text actually pasted is just that character selected after or during copying
just run windowsterminal and make sure it is the active window i also have the dark theme configured on my system with a blue accent color
open windows terminal click on maximize icon
1 ssh to a centos based system it has to be a centos linux 2 open a linux screen session 3 press backspace when there is nothing in the current command line
1 using terminal app open a new ubuntu tab 2 attempt to change the password of an existing user using passwd
add wsl to windows terminal profile can t type alt alt alt alt hese are usual commands in emacs and these keys works all right in ubuntu wsl
1 create a profile with launch arguments e g commandline powershell exe noprofile or commandline wsl exe e vi 2 launch the newly created profile
use meslolgl nerd font forpowerline font type fi
i tried to keep profiles json saved in my onedrive so i created a profiles json symlink as the following del q localappdata packages microsoft windowsterminal 8wekyb3d8bbwe roamingstate profiles json mklink localappdata packages microsoft windowsterminal 8wekyb3d8bbwe roamingstate profiles json onedrive windows conf windowsterminal
1 start windows terminal preview this start on powershell window 2 start cmd window 3 close the first powershell window 4 start a new powershell window 5 close the new powershell 6 on the unique windows cmd run the ls l commnad result windows terminal crash show debug option debug this do nos show source detailed exption info is excepci no controlada en en windowsterminal exe infracci de acceso al ejecutar la ubicaci ls l works fine in others sequence
start windows terminal close the terminal through closing the last remaining tab the terminal frame remains there for about 4 seconds
start windows terminal restore down the terminal open a tab of ubuntu version allow the prompt to reach the end of the screen maximise terminal restore down again maximise terminal again one of prompts will align right instead of left
simply clicking the launch button will give the following error message image url
install gvim assign json files to gvim try to open the settings in terminal
add the following to the keybindings section of profiles json t command paste t keys t t shift insert
use terminal preview s setting menu command on a system without json files associated
create a profile for ztw like this commandline c users ocalvo onedrive apps ztreewin ztw64 exe icon c users ocalvo onedrive apps ztreewin ztw64 exe name ztw
1 start windows terminal in normal state 2 double click the drag bar to maximize the window
start windows terminal have the terminal on restore down open a tab of ubuntu version tls look for a directory with lots of file in it where scroll bar exists then maximise the screen click on the scroll bar and move it up the screen does not move upwards
compiled thursday build from source
1 open windows terminal 2 only windows powershell older version that come with windows but can t find powershell core 6 7
type symbols using key alt gr e g
1 open windows terminal 2 switch focus to another window
1 download windows terminal from microsoft store 2 try execute application 3 don t run only crash
set cmd as default command line tool in windows terminal open windows terminal type bash to go to bash shell
1 click on the settings button
error 1 select settings from the drop down menu via the mouse error 2 ctrl shortcut
put your mouse cursor on the window s topmost coordinate just above tabs and click
horizontal scrolling doesn t work on tabs for some reason typo in the code maybe vertical wheel does horizontal scrolling instead
i have a canadian multilingual keyboard ant to do a pipe symbol i have to use the right alt and the key before the 1 on a us layout i don t kown which one it is but on my keyboard is a slash
1 open terminal 2 left click over title bar left side of plus sing between title of open tab and plus sign 3 try to move window
1 open powershell terminal from pinned taskbar shortcut 2 do something to create output e g ls 3 grab edge of terminal with mouse and increase size 4 create more terminal output note output only consumes original footprint 5 control t to open new tab 6 note that in new tab the entire terminal window is used for output
resize the terminal window using the latest checkin
install and run windows terminal from windows store
install windows terminal on windows without powershell core 6 but with powershell core 7 installed run windows terminal
using powershell console to display characters that are not natively on the mac keyboard like it does not work the keys shift option key have no effect this is weird because it works perfectly in the powershell console or cmd outside of windows terminal
i open a file with emacs in ubuntu from windows terminal i select a block of text by setting a mark with ctrl space and then pressing up arrow key i press ctrl w to cut text
closing a tab after open a new tab
0 open windows terminal 1 ssh in any shell session tested pwsh cmd bash to linux server 2 start mc midnight commander 3 scroll through folder list with arrow down up 4 do the same as above in pwsh or bash or cmd but started directly without windows terminal 5 compare performance and screen quality
clicking on settings menu not opening settings
image url drag the window around the screen while the dropdown panel is open and you will see the panel staying in place instead of following window
runas user someuser cmd enter password of someuser
1 press win r enter wt press ctrl shift enter
create a profile with an icon property like this where the icon file exists json icon userprofile appdata local iconsforenlistments substrate ico
repros in both cmd and python 1 type a 2 press space 3 repeat
1 open terminal 2 press a 3 press backspace
write host foregroundcolor gray hello world
if you try the following steps you will not get what you copied 1 copy some texts from windows terminal highlight text with mouse left button and right click on the windows terminal window 2 close the windows terminal app 3 you will find out what copied is gone after close the application
open up a new powershell or cmd window and try to enter a with a german layout keyboard i tried to type the char with ctrl alt q and i did try it with altgr q in both cases the behavior is identical seems like the problem is present with the backslash as well on a german keyboard you need to either use ctrl alt or altgr to get char in any other application since i can ctrl c my command alt key should be problem or combination it is possibly copy char if you type it into editor and paste it click of right mouse button this is workaround for moment
1 open windows terminal 2 open new tab running cmd powershell powershell 6 3 ssh to a ubuntu 1604 lts pc 4 open any document using vim
1 using windows file explorer create a file with filename docx under a directory e g d folder 2 launch windows terminal and run cmd exe or wsl exe command 3 change directory to the folder where the file you created locates and type dir or ll command 4 check if the filename shows on the list correctly 5 try to select and copy filename from windows terminal 6 paste filename you copied in notepad exe and check if it is docx
just launch the application
1 install ztreewin url or powershell powertab 2 make terminal window large 3 execute ztw or tab in powershell with powertab enabled
type exit for close terminal with one tab opened
use clink with cmd exe within windows terminal i have a custom lua script for clink that intends to mimic the prompt produced by powerline in bash see url for information on powerline i ve attached all of my clink settings and scripts clink zip url note this prompt uses characters not included in most fonts including consolas you must use a powerline compatible font like hack linked above for correct prompt display
the sign cannot by typed using a german keyboard in windows 10
run ping host across multiple powershell tabs and close terminal without stopping ping check taskmgr and ping exe will still be running
launch the application you have at least one tab now open a new tab any console type and then close the first one either by clicking the close button or by using the keyboard shortcut mine is bind to ctrl shift w or wheel clicking
i m running tmux in wsl when i open vscode in any pane by writing code or code insiders the whole tmux display gets mutilated starting typing something in one pane starts changing other side panes
try to type an at sign by pressing altgr q doesn t matter if it s cmd ubuntu or powershell
set background image to animated gif using value backgroundimage c users username appdata local packages microsoft windowsterminal 8wekyb3d8bbwe roamingstate unicorn gif useacrylic false uniformtofill open created console
start the terminal app try to close it using alt f4
wheel click a tab within windows terminal
open windows terminal powershell with this profile it s basically posh git and chocolatey
1 install from store 2 open program 3 hover with mouse on red section try to drag and move 4 fail
open the windows terminal open the setting menu either by pressing ctrl or clicking on the settings button in the dropdown menu next to new tab button
open windows terminal snap window to side or corner of desktop attempt to interact with terminal app with no response then app crashes and closes unexpectedly
invoke the emoji panel with win click on desired emojis emojis are displayed as
1 using a swedish qwerty keyboard not sure if it matters 2 open wsl 1 ubuntu version using bash 3 pressing altgr lets me later press backspace to erase one character from my prompt
1 using a swedish qwerty keyboard not sure if it matters 2 open wsl 1 ubuntu version 3 pressing altgr somehow adds the first thing i have in my bash history at the line
1 in a shell wsl cmd or powershell open the emoji picker by pressing win period 2 start typing to search for an emoji or click an emoji 3 in the upper left of the screen a windows 2000 style toolbar appears with a squashed emoji in black and white and a green arrow anteckning 2019 06 24 url
1 using a swedish qwerty keyboard not sure if it matters 2 open cmd 3 pressing altgr tilde key s gives this output c users foo s
i have setenv bat file in s dir add new command in profiles json with commandline cmd exe k s dir setenv bat like this acrylicopacity version closeonexit true colorscheme campbell commandline cmd exe k s dir setenv bat cursorcolor ffffff cursorshape bar fontface consolas fontsize 10 guid 0caa0dad 35be 5f56 a8ff afceeeaa6101 historysize 9001 icon ms appx profileicons 0caa0dad 35be 5f56 a8ff afceeeaa6101 png name cmd custom padding 0 0 0 0 snaponinput true startingdirectory s omaha src useacrylic true
1 type in one or many full width unicode characters or emoji for example or 2 press enter enough times to put the characters into the scrollback buffer 3 scroll up and click on one of the full width characters or start a selection from elsewhere and drag your mouse over one of the full width characters basically lmb down mouse over a full width character in scrollback buffer
run windows magnifier from any means of doing so and launch windows terminal zoom in to any percent beyond 100 and press the main menu button on the top of the window
1 copy for me 336 lines of json a large text file 2 select 3 paste into terminal
enter in windows terminal open debian environment go to my folder in mnt c users ulc type ls
create a ubuntu 18 tab type or any sign that can be created with altgr
open windows terminal which defaults to an open tab with powershell open a second tab with powershell and immediately close it terminal crashes freezes
install preview from store and start app
start windows terminal with a powershell prompt type this sequence of characters open a tab with wsl ubuntu and type the same sequence of characters
open the new terminal on a french machine using azerty keyboard type alt gr 8 to get the back slash
note i already had powershell and cmd using solarized dark in conhost via cmd colors solarized url install windows terminal preview hit settings in the json file change the colorscheme for powershell and cmd to solarized dark
add keybindings for increasefontsize and decreasefontsize in the profile settings close and restart windows terminal
update the windows terminal profile with keybindings for copy paste increasefontsize and decreasefontsize example json command copy keys ctrl shift c command paste keys ctrl shift v command increasefontsize keys ctrl command decreasefontsize keys ctrl
1 enable acrylic on a profile such as cmd or ubuntu 2 click on terminal window the window becomes transparent 3 click on a different window the window loses the transparency
paste text containing complex unicode characters such as emoji into a powershell tab as a string literal emoji will be displayed as placeholders but then display correctly when the literal is output by pressing enter
you can only drag the window when clicking on the window title that is actually colored in windows 10 color style 1 marked green click on the window title 1 marked red you cannot move the window windows terminal drag 1 url
edit profiles json e g i tried to copy and paste some schemas from this templated url after saving everything was fine and i really took care about not doing a mistake in the json formatting however after closing and reopening windows terminal copy line 63 to 131 at the appropriate spot in profiles json url
1 open up windows terminal 2 in whatever shell you like produce lenghty output so we have something to scroll e g 1 100 in powershell 3 resize the window by dragging any of its borders or corners 4 immediately afterwards hover the mouse cursor over the scrollbar until it visually enlarges and drag it the scrollbar will move but terminal content won t after releasing scrollbar and re dragging it it works as expected
click on the down arrow next to the on the top bar select settings
when closing the unique tab or closing application
create a profile in terminals profiles json with an empty string as the icon option example profile json closeonexit true commandline cmd cursorshape bar guid 3e9d9e33 52e5 496b b999 icon null name example
open any terminal powershell cmd wsl type any command e g dir ver uname and enter resize the app window to the minimum and gradually enlarge the window
click on the button to add tabs to the terminal
open a new termanal window with the ubuntu version app from the ms store copy a multi line file from notepad or vs code paste the multi line file into the terminal
add this entry to profile json acrylicopacity version closeonexit true colorscheme campbell commandline cmd exe k programfiles x86 microsoft visual studio 2017 community common7 tools vsdevcmd bat cursorcolor ffffff cursorshape bar fontface consolas fontsize 10 guid 1748ecca abdd 4aa4 bcc4 historysize 9001 icon ms appx profileicons 0caa0dad 35be 5f56 a8ff afceeeaa6101 png name vs cmd padding 0 0 0 0 snaponinput true startingdirectory userprofile useacrylic true
open the terminal and click to open a new ubuntu terminal url until now ok but when you try to close powershell it freezes url
move the mouse over some text inside the terminal
1 have your taskbar set to auto hide 2 start amazing new windows terminal 3 maximize terminal 4 move the mouse to the bottom of the screen trying to get the hidden taskbar to pop up
1 open profiles json 2 in the cmd profile change the value of colorscheme from campbell to solarized dark ensure this scheme exists in the built in schemes list 3 close and reopen terminal 4 open the cmd profile also reproducible with wsl profiles e g ubuntu
change keyboard layout to hr hr and try to write vertical line char 124 using combination altgr w
happens when i start the application was fine on first install only showed up after pc restart
open up windows terminal
open tabs for powershell and cmd take a look at tab title and compare with name in profiles in profiles json
have a program running in the terminal that listens to bindings that conflict with windows terminal i noticed this in vim when switching split editing windows of vim the binding is ctrl w and then any of h j k l the terminal starts crashing at this point
1 install powershell core url via scoop url with an empty profiles json
open settings change keys for the nexttab action ctrl tab alt save settings reload terminal open settings
change settings an put cascadia code or another missing font
download and install firacode download and install windows terminal preview open settings and set fontfamily to firacode
open cmd whatever version listed above session in the terminal try to insert an ascii key by press and hold alt key digit whatever number for example 126 corresponding to
i have installed powershell 7 preview 1 and uninstalled powershell core version
1 open settings 2 set acrylicopacity to version 3 close terminal 4 open terminal again 5 observe acrylicopacity setting now being set to version
1 open wt exe 2 press ctrl w
open the settings file either through the ui or via ctrl
click any tab you ll notice that the console s blinking cursor will stop then hit ctrl shift 1 to start another powershell console tab
wsl sudo apt install joe joe some text file txt
make sure acrylic is enabled for your profile resize with window to more than 160 180 columns type
install ripgrep url open wt windows terminal running powershell run the following from the root of a large drive while true rg i foo
1 git clone git github com microsoft terminal git 2 cd terminal and git submodule update init 3 open openconsole sln in visual studio 2019 4 select release x64 5 build solution
when the terminal opens the settings file gets reformatted and what is really really annoying the new format adds trailing white spaces to every json key and the new format is not tasteful what are those spaces before every colon
set showtabsintitlebar to true in the settings file and then start up windows terminal
1 start terminal with either a command prompt cmd exe tab or a powershell tab 2 run this command type c windows system32 oemdefaultassociations xml 3 observe a long xml file appear on screen 4 run this command cls
i am using 2 screens with the same resolution 1080p when i drag the terminal to the secondary display the boundaries gets out of screen for example see attached photos below
login to wsl use nano to edit a file mark a text that has at least a linebreak and paste it on another line for example in my local deb mirror i mark this image url
open terminal and split the main pane vertically then split the left hand pane horizontally you should now have 3 panes named a b c shown in the configuration and tree structure below none 1 parent a 2 parent b 3 a c 4 c 5 b now exit pane b then exit either of panes a or c
1 start terminal application 2 run some commands in the prompt 3 run command exit
1 open windows terminal 2 have your shell terminate e g by typing exit
open terminal with following profile json globals alwaysshowtabs false defaultprofile 7e40 4e2b a20d initialcols 80 initialrows 60 requestedtheme dark showtabsintitlebar true false profiles acrylicopacity version closeonexit true colorscheme solarized dark commandline cmd exe cursorcolor ffffff cursorshape bar fontface consolas fontsize 10 guid 7e40 4e2b a20d historysize 9001 name cmd padding 0 0 0 0 snaponinput true startingdirectory userprofile useacrylic true input characters until the line wraps backspace once and enter an additional character
set the following profile as default profile js closeonexit true colorscheme solarized dark commandline wsl exe d ubuntu version cursorcolor ffffff cursorshape underscore fontface consolas fontsize 10 guid c6eaf9f4 32a7 5fdc b5cf historysize 9001 icon ms appx profileicons 9acb9455 ca41 5af7 950f png name ubuntu version padding 0 0 0 0 snaponinput true startingdirectory wsl ubuntu version home xxx useacrylic false start windows terminal press to open a second tab
1 launch cascadiapackage x64 configuration from visual studio a powershell prompt will appear 2 type ls into the prompt and hit enter 3 maximize the window 4 type ls and hit enter again 5 restore the window 6 type ls and hit enter a third time
cmd then launch powershell ctrl f prints f on the command line instead of bringing up the find dialog
paste in the text on the next line t
have a long running process e g msbuild and ctrl f to find something often the match will be off by one line version
save with visual studio ide with utf 8 needed chars or save as utf 8 bom with any kind of text editor both make encode utf 8 bom
1 in either powershell or cmd in terminal type wsl nano 2 execute taskkill im wsl exe f to kill wsl 3 type cls in the terminal where wsl was open
tools azzle cmd bcz rel
colortool exe c colortool exe any iterm scheme bug report 1 url bug report 2 url
add icon to profile
you should be able to use any color scheme but i ll provide mine specifically below fotsies colors ini ini table dark black 30 30 30 dark blue 0 0 128 dark green 0 128 0 dark cyan 128 128 red 75 75 magenta yellow 238 237 240 white 192 192 192 bright black bright blue 255 bright green 255 bright cyan 255 255 red 75 75 magenta yellow white screen foreground white background black popup foreground cyan background black 1 open powershell as a regular user i m using version that comes with windows 10 2 obtain the latest colortool release and extract it 3 place the scheme above in the schemes sub directory under colortool exe 4 load the scheme colortool exe fotsies colors ini 5 notice scheme is not applied correctly and that colors are not consistent as they should be
1 right click on a console window and select properties terminal 2 set the cursor shape to anything other than use legacy style 3 notice that the cursor shows up correctly but after hitting enter and typing a few characters it returns to the default style 4 repeat step 1 and notice that your setting has been reverted
1 open a powershell version window with default settings 2 hit enter while the cursor is showing you ll need to be quick to get it between blinks note that this seems to happen intermittently but was very easy to reproduce noticed it within seconds of upgrading last night
had terminal up for a few days on remote machine locked machine and when i came back after weekend and logged in parts of the command text is now black
1 open new terminal window 2 type in some long text in the window gibberish is fine 3 resize the window to be really small minimum size 4 wait a few seconds 5 resize to normal size observe tab is unusable typing in it does nothing
open windows terminal dev build open the dropdown menu select settings from dropdown menu
1 run virt viewer 2 run windows terminal
select multiline text in terminal copy it via right click ostensibly paste it again via right click
print a lot of text to the console this is especially apparent with progress bars that require backspace characters
i ve noticed this after i ve had terminal open for days across several sleep restore cycles otherwise not sure how to repro it
while selecting e g first line move cursor outside terminal window or even client area
open a new tab it flashes and fades
open cmd exe and enter the following commands mkdir test cd test for l i in 100 1 999 do echo i data txt for l i in 1 1 100 do copy data txt data i txt wsl cat wsl sort wsl uniq repeat the last line multiple times to repeat the problem with randomly different behavior
add backgroundimage to profiles
launch terminal create cmd tab close powershell tab via x on tab type wordw into cmd
1 clone build package install and launch windows terminal devbuild 2 execute docker run rm it mcr microsoft com windows nanoserver 1903 3 select multiple lines and right click 4 paste in any text editor i used vscode
don t install version 14x of msvc when you re installing vs 2019 then follow the build instructions
1 activate the drop down 2 move the terminal window
just scroll up and down by touchpad two hand scrolling that s all
include windows h int main handle hstdinput getstdhandle std input handle wchar buf 1024 dword read 0 console readconsole control crc crc nlength sizeof crc wchar c l t crc dwctrlwakeupmask 1 c readconsolew hstdinput buf arraysize buf read handle hstdoutput getstdhandle std output handle dword written 0 writeconsolew hstdoutput l 1 written null writeconsolew hstdoutput buf read written null return 0 run the above program and type in no return abcdef move the cursor back 3 places press the tab key
press the maximize button when the terminal is on a non primary monitor
1 start windows terminal 2 move the windows terminal window 3 close windows terminal 4 start windows terminal
1 open terminal assuming powershell is the default profile 2 open two cmd tabs 3 use middle click to close those two cmd tabs
1 open new tab in flyout menu 2 try to select text in the newly created tab
1 start terminal 2 open several tabs 3 close each one
1 start terminal 1 ssh to a remote host 1 disconnect from the internet while connected to the network 1 try to type something on the terminal and observe
1 use the norwegian keyboard layout 2 open cmd in windows terminal 3 try to do alt gr 2 to get
just open the windows terminal app
1 open powershell in terminal it works normally in cmd and wsl 2 hold down kbd enter kbd
populate the terminal with ls until scroll bar is around 1 3 height of the terminal scroll up top the top left click within the terminal capture1 url drag scroll bar down capture2 url right click within terminal
open the terminal app and try to type any character that requires alt gr e g or on a german keyboard probably affects other locales too
use a font with font ligatures and type or as your first character
open a powershell tab in windows terminal attempt to use these psreadline key bindings use the get psreadlinekeyhandler command to see a list of all key bindings ctrl backspace backwardkillword shift ctrl enter insertlinebelow ctrl space menucomplete shift tab tabcompleteprevious alt 0 digitargument and other digits pagedown scrolldisplaydown ctrl pagedown scrolldisplaydownline pageup scrolldisplayup pageup scrolldisplayupline alt showkeybindings alt whatiskey
when testing the functionality of the start command within the cmd exe shell i found that having the min parameter would affect d parameter path provided to d parameter did not seem to be acknowledged and command passed to start command would not be found test example command shell with prompt at c temp a test batch file at c temp testdir test bat with content echo hello pause running following would succeed c temp start d c temp testdir test bat following would not succeed start min d testdir bat if path is set to testdir following succeed min bat use of and min parameter together was previously working and was required functionality for a commercial product i m wondering if this problem is related 271
moment anything here tonow
steps to reproduce the behavior 1 2019 06 06 2019 06 07 filter d moment d isbetween 2019 06 05 2019 08 null
steps to reproduce the behavior 1 go to moment yyyy w ww week 2 returned 4 3 expected result 3
steps to reproduce the behavior 1 execute moment add 1 years diff moment days at least 4 times 2 compare outputs you ll see 365 and 366 inconsistently 3 execute moment startof day add 1 years diff moment startof day days at least 4 times 4 compare outputs you should see 366 each time
steps to reproduce the behavior 1 let the date string be 2019 12 31 23 59 2 parse the date using moment 2019 12 31 23 59 yyyy mm dd 3 get the js date object from above constructor moment 2019 12 31 23 59 yyyy mm dd todate 4 returned date object is sun dec 01 2019 05 30 00 gmt 0530 india standard time in my localtime
steps to reproduce the behavior use moment to date in the past
1 mkdir test 2 touch test js pasting code here url 3 npm init y 4 npm install moment 5 node test js 6 see typeerror right hand side of instanceof is not an object at isfunction node modules moment moment js 343 22 at moment toisostring node modules js 3336 13
steps to reproduce the behavior url
steps to reproduce the behavior 1 go to url 2 go to url
steps to reproduce the behavior 1 clone the project 2 git checkout develop 3 npm install 4 npm install g grunt 5 grunt test grunt version grunt cli v version v version
steps to reproduce the behavior moment jan 1 2019 08 73 pm isvalid true moment jan 1 2019 08 73 pm toisostring 2019 01 01t18 00 version z moment jan 1 2019 08 23 pm toisostring 01 01t18 23 version z
steps to reproduce the behavior 1 go to url 2 you will see the diff days calculation for each is 9 days
just use the above input
steps to reproduce the behavior 1 go to url 2 run jsfiddle 3 note the value for label without math floor 4 it is version
steps to reproduce the behavior moment 2019 05 23t12 00 version z hh mm moment 2019 05 23t20 00 version moment 2019 05 23t12 00 version z hh mm isvalid true
const moment require moment let i for i 0 i 10 i console log moment isbetween 2019 01 01t00 00 version z undefined
steps to reproduce the behavior jsfiddle here url create moment using object and day key set to 0 js var momentusingdaykey moment day 0 month 2 year 1990 format thu mar 01 1990 00 00 00 gmt 1100
steps to reproduce the behavior 1 const date moment 2 date set year 2000 3 date set month 1 4 console log date format yyyy mm dd 2000 03 01
steps to reproduce the behavior 1 set your timezone to gmt 2 central europe 2 evaluate moment moment 2019 04 25 add 5 days diff moment 2019 04 25 add 1000 days years true tofixed 2 3 evaluate moment 2019 04 26 add 5 days diff 2019 04 26 add 1000 days years true tofixed 2 4 the first statement returns version and the second version url
steps to reproduce the behavior 1 create an app with create react app 2 install momentjs 3 console log this line of code moment 1989 01 15 locale pt br format l 4 check the output
steps to reproduce the behavior i installed moment in the package json created a docker container with the package json wrote code in the container to determine if a date is daylight savings
var temp1 03 02 2013 7 25 37 pm var temp2 03 02 2013 9 25 37 pm var x moment utc moment temp2 mm dd yyyy hh mm ss a diff moment temp1 mm dd yyyy hh mm ss a format d h m console log x
steps to reproduce the behavior moment locale tr format do
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior today it s feb 28 2019 when i do moment 2019 02 27t13 08 24 05 30 add 7 days format it gives me 2019 03 07t13 08 24 05 30 which is 8 days from 2019 02 27t13 08 24 05 30
just open and see the console url
what i did to spot this bug is this i m using console logs outputs from google chrome i have 1 moment object and 1 moment friendly string which are supposed to be same x m isamomentobject true i 2019 02 23t10 11 11 f yyyy mm ddthh mm ss isutc true offset 0 y 2019 02 23t10 11 11 when transform the moment into a date aka new date x it adds 1 hour to it and makes x and y unequal when don t want it to maybe it s related my timezone but even if is s said nowhere that the moment actually take care of the timezones within their conversions and think shouldn t be an expected result ll delete this issue if is one though as m using js in a timezone less environment this behavior cause me problems even if resolved by formatting the before converting into a date
steps to reproduce the behavior 1 set your timezone to 3 30 tehran 2 execute the following statement var days moment 2019 03 23 diff 2019 03 22 days console log days must be 1 but return 0 url
moment duration p64d i have also prepared runkit with some edge cases url
steps to reproduce the behavior d 10 50 01 02 2019 m moment d dd mm yyyy res m format hh mm dd mm yyyy console log expected d console log result res
steps to reproduce the behavior call a moment method ie moment duration with arguments as described in the doc url durations creating here you got a string public static badfoo myduration number myunit string minutes moment duration return moment duration myduration myunit here you got a duration object public static goodfoo myduration number myunit string minutes const formattedunit myunit as unitoftime durationconstructor return myduration
src app ts typescript import as moment from moment console log moment format yyyy package json json t private true t dependencies t t moment version devdependencies awesome typescript loader version typescript version webpack version webpack cli tsconfig json json include src webpack config js javascript module exports entry src app ts output filename bundle js resolve extensions ts module rules test ts use loader awesome typescript loader
steps to reproduce the behavior moment tz setdefault atlantic azores moment 2018 03 24 yyyy mm dd add 1 days format yyyy mm dd 2018 03 24
steps to reproduce the behavior const moment require moment const fmt ddd mmm dd hh mm ss c e t gggg moment fri dec 28 15 36 16 cet 2018 fmt moment invalid fri dec 28 15 36 16 cet 2018 fri jan 11 17 27 00 cet 2019 fmt 2019 01 11t17 27 version
here is a gist that shows what happens when we do format yyyy w when current date is in previous year but the week ends in the following year and the previous year is a 52 week year url you can also see how it returns incorrect with this code moment 2019 1 yyyy w format week w yyyy you get the answer week 1 2018 instead of 1 2019 which i would expect to see
steps to reproduce on react native android only debug mode turned off 1 23 march 2018 moment 2018 03 23 format dd returns 22 2 29 march 2019 moment 2019 03 29 format dd returns 28 3 27 march 2020 moment 2020 03 27 format dd returns 26
steps to reproduce the behavior 1 open the developer console 2 t new date 01 01 2016 3 m moment t 4 moment m format yyyy ww yyyy ww todate
steps to reproduce the behavior 1 go to node console with moment installed 2 use moment week and see that it returns 1st week of the year 3 use moment year and see that it returns 2018 still
steps to reproduce the behavior 1 open node console load moment 2 generate dates const moment require moment undefined moment utc year 2018 week 27 utc 2019 06 30t14 15 version 00 00 utc year 2017 week 27 utc 2017 07 08t14 15 version 00 00 year 2018 week 1 2018 12 30t14 16 version year 2018 week 2 2019 01 06t14 16 version
const moment require moment moment locale fr relativetime past s butt butt butt const m moment new date m fromnow above outputs a few seconds butt instead of quelques secondes providing no configuration object gives expected results const require locale fr const m new date m fromnow above produces il y a quelques secondes
steps to reproduce the behavior 1 go to url 2 check the code and result
js moment relativetimethreshold ss 1 a moment console log a subtract 2 s fromnow 2 seconds ago moment relativetimethreshold s 59 a moment console log a subtract 2 s fromnow few seconds ago
steps to reproduce the behavior 1 moment 2018 12 31 format yyyy ww 2 see invalid output
this snippet explains best textfield variant outlined select label country margin normal value country onchange handlechange country classname classes inputfield list width 300 height 400 deferredmeasurementcache cache overscanrowcount 5 rowheight cache rowheight rowcount countries length rowrenderer index key style parent const name countryname code countries index return cellmeasurer key key rowindex index columnindex 0 parent parent cache cache menuitem value countryname style style classname classes menuitem countryname code menuitem cellmeasurer menuitem value a a textfield
link url 1 create a styled tablecell component via styled api let s call it styledtablecell 2 define a component prop on styledtablecell when using it 3 the component will have the styles from styled but no tablecell styles
link 1 open the url 2 on interactive example open the codesandbox 3 add the mui support just like here url right to left
here is a code sandbox url demonstrating the issue i have also attached a gif hopefully better demonstrate the issue dialog url
link url if you update this codesandbox and change the line 12 width 200px to width 200px the width of classb will get the priority like it should
link url this is the getting started dashboard url the only change that has been made is that the drawerwidth instead of being a global variable is passed to the usestyles hook as a prop this change makes that drawer won t collapse this is caused as dynamic drawerpaper css rule gets a higher specificity than drawerpaperclose 1 write two css classes second one should override a property of first one 2 apply both css classes to component 3 change property that overrided in first css class to function make it dynamic instead of static value 4 check result property won t be overrided different behavior than if properties are both static or both dynamic
see demo tsx file to find the type error url or see expected behavior code
follow steps at url to setup serverstylesheets
see repl it url my minimal code to reproduce this behavior javascript import react component from react import switch from material ui core switch import iconbutton from material ui core iconbutton iconbutton class app extends component render return switch iconbutton href my button export default app
code sandbox url taken from the demo pages
the code is quite straightforward hence i m creating a codesandbox io link please let me know if that is required and i ll create one here s the code though export default class book extends component state slot null onchange e this setstate e target name e target value formcontrol component fieldset classname classes formcontrol formlabel component legend select availability slot formlabel radiogroup aria label slot name slot classname classes group value this state onchange this onchange this props experience availability null props experience availability map single formcontrollabel key single id value single id control radio color primary label single title some manual options in addition to the above dynamic list formcontrollabel value female control radio color primary label female formcontrollabel male control radio color primary label male radiogroup formcontrol
link url 1 open above link in a mobile phone or simulate a mobile using chrome browser 2 click directly on a switch don t click the label 3 as shown in attached screenshot the halo will remain stuck mui switch url
tsx import menuitem menuitemprops from material ui core menuitem var a menuitemprops menuitem a link 1 url
link url 1 open the console in your developer tools 2 focus the select so that it shows it s options 3 observe the activeelement in the console it is ul where it perhaps should be a non enabled option li
link url 1 decrease rowsmax to 1 with the button 2 observe that height is unchanged 3 increase rowsmax to 3 with the button 4 observe that height is unchanged 5 change a letter e g lorem morem 6 observe that height is unchanged 7 insert a line break in the text area 8 now the height recalculates to rowsmax prop value bonus firefox only 9 set rowsmax to 4 10 copy asd asd asd your clipboard 11 hold down ctrl v inside textarea 12 invariant violation url
iterate on an array and set a xl lg and so on prop dinamically js grid container spacing 2 row map resumeitem grid key resumeitem id item xs 12 lg 6 xl resumeitem space grid grid of course space property is a number
1 using rtl component as in v version
html script crossorigin src url script script crossorigin src url script crossorigin src url src url body div id root div div id portalhost div body var shadow root attachshadow mode closed var portal portalhost attachshadow mode closed var dialog materialui mui use reactdom finddomnode it doesn t work well with shadowroot this is a hack object defineproperty shadowroot prototype nodetype get if this portal return 1 if not return 1 finddomnode will think this is a react component instance else return 11 object defineproperty shadowroot prototype tagname get if this portal return will try to invoke tagname tolowercase on node else undefined mui set style on the container and it isn t exists on shadowroot forwarding it to the host of the object defineproperty prototype style get if portal host else undefined type text babel reactdom render app shadow function app article onclick e console log article e hello world br dialog open container onclick e console log dialog e component dialog article function component h1 onclick console log h1 click me h1
i m guessing this is a pretty straightforward issue to repro given it appears to be a regression not our particular usage if not i will gladly create a sandbox
theme tsx import createmuitheme from material ui core styles export default createmuitheme overrides muichip deleteiconprimary color rgba 255 255 255 version
codesandbox example url 1 open the codesandbox example 2 click the toggle popover button a few times 3 observe the console log showing the calls to popover action handler as it mounts unmounts
see the open controlled example in documentation doc example url controlled open select
sorry i can t provide a link to a codesandbox as it only happens in the server side just render a component decorated with withwidth using react testing library to get the error
import timelinerounded from material ui icons timelinerounded return timelinerounded make sure color is set to an alpha value you will notice it adds multiple layers on top of each other
link codesandbox url 1 render the following component import react from react import iconbutton from material ui core iconbutton import buttongroup from material ui core buttongroup import arrowleft from material ui icons arrowleft arrowright material ui icons arrowright export default function groupedbuttons return buttongroup size small aria label small outlined button group iconbutton arrowleft iconbutton arrowright buttongroup 2 open the console and notice the warning message
it occurs in my own project but i noticed that it occurs on mui doc as well link url 1 go to outlined section 2 toggle developer tools and set to any mobile device 3 click on any of the outlined fields
import an icon into a ts enabled project and compile
link 1 url 2 3 4
link url server side rendering 1 visit the above link 2 disable javascript 3 refresh the page 4 observe that the match displays false
here is my repo with the issue reproduced link url 1 install webpack react hot loader and new version of material ui 2 start the webpack dev server 3 change any component to trigger hot update 4 see how all style elements of material ui are gone from the head element the repo actually contains 2 folders with two versions of material ui version and version correspondingly that because when done with version everything looks fine url but doen t work with url so i dont think it s a problem configuration
link url grid with breakpoints
link url and url 1 load url in chrome 2 open the performance tab in the dev tools 3 start recording a profile 4 click one of the buttons on the page 5 when boxes fill page click stop in profiler 6 note duration of scripting time 7 refresh page then do above with other button expected roughly similar performance characteristics perhaps props makes things a little slower actual when using props inside of makestyles it is approximately 4x slower on my machine i see scripting execution times of props in makestyles 800 1000ms props outside makestyles 200 300ms note did not use codesandbox as it takes chrome several minutes to process profile there besides better to have less going on browser
create link test link and typography test typography side by side i believe they should have the same font family size and etc link 1 url
i would try to reproduce it and edit this i thought someone might have idea whats going on
screenshot from 2019 06 07 11 06 16 url
open up the codesandbox vertical demo provided by the material ui team the behavior is exhibited there link 1 url
use the input component with type button and try to set it s value
please have look at direction js file url
link code sandbox url
taking the codesandbox url from the example we see the problematic behavior
1 create a component and export it with the hoc withstyles 2 check the typeof the element
1 go to url 2 type drawer in the search 3 click on the link for the drawer component it is url drawer wrong origin 4 error message page not found looks like you ve followed a broken link or entered a url that doesn t exist on this site
i ve tried to reproduce on code sandbox but i m getting other errors which i m not getting locally hopefully above is enough otherwise happy to provide more info
link url 1 override the expanded class for the expansion panel 2 note that only those attributes not specified by default are applied 3 if switching versions to material ui v version alpha 7 the issues away and behavior is as expected image url
link cardactionarea type bug tar gz url 1 decompress the attached example and 2 yarn install yarn test
1 go to url 2 search for typography
no need to reproduce material ui website has the same issue in rtl mode
i m not able to create a repository that reproduces this issue i started with the example gatsby starter and pasted a lot of my code into it and got it to a point where it wasn t working then i started removing code to see how to minimize the example and it started working again when i undid the changes continued working so m not able reproduce this bug consistently if anyone has some ideas what could be or what could try would appreciate at this point m really stuck but would like work with someone resolve the issue url
link url 1 load the sandbox 2 open another window and give it focus 3 click back into the sandbox s browser content 4 observe the console indicating that onclose has been called
link 1 visit url on edge 2 open the simplemodal 3 4
link url 1 see initial rendering issues 1 on field native select initial empty choose the value null 1 observe effect on field select initial empty the height of field is incorrect 1 on field native select null choose the value empty on native select null choose the value null observe effect height of is incorrect
no need to reproduce material ui website has the same issue in rtl mode
link url i fixed locally by adding style flexshrink 0 to dialogactions
visit the radio buttons page url on the component demos and click on a radio button in any of the examples
link url see the error on the customfab example with the component prop and no error on the other two examples
url i m at a loss for why it works in codesandbox but not locally for me all i ve done is spin up a new app with create react app add material ui and change app js to the code in the first screenshot above really hoping someone else can replicate the issue so i know i m not going crazy this only happened once upgrade to v4
seems you have to manually add jss next to your dependencies
check the documentation example url faked reference object the codesandbox in the documentation reproduces the failure url
link url checkout these two files index js and app js i m proposing to add the following to app js javascript static getinitialprops async component ctx let pageprops if component getinitialprops pageprops await component getinitialprops ctx return pageprops
link url the warning appear when click it the home icon
i have compiled reproduction script using your example of standalone ssr link url 1 npm i 2 npm run production 3 img width 101 alt screen shot 2019 05 27 at 7 04 01 pm src url 4 remove js process env node env production script src url type text javascript crossorigin anonymous script script src url type text javascript crossorigin anonymous src type text javascript crossorigin anonymous js externals process env node env production react react react dom reactdom material ui core materialui 5 npm run production 6 img width 108 alt screen shot 2019 05 27 at 7 03 50 pm
link url optional bootstrap with create react app for css modules if doing this create a file named tablepagination module css and import it as seen in the codesandbox 1 set up a custom tablepagination component 2 include a classes property 3 include selecticon and menuitem in the classes property
jsx stylesprovider disablegeneration true menuicon stylesprovider
link to test repo url codesandbox io reports a different error i think it s either their environment or i didn t set this up correctly but the code in the test file is very similar to what i have in the repo above url steps 1 write snapshot tests with mui v4 s buttonbase component and set disabled to true it renders buttonbase without crashing const tree renderer create buttonbase buttonbase tojson expect tree tomatchsnapshot 2 run tests see error message error uncaught error material ui expected an element but found null please check your console for additional warnings and try fixing those if the persists please file an issue 3 same component usage is perfectly fine in a browser
link url accessibility 1 keyboard focus on the button link 2 notice that there s no keyboard focus indicator like there is on link components that render an a element
link url 1 observe linked example
add component property to a buttonbase component
the font weight for bold and strong is being set to 500 which for the vast majority of fonts doesn t map to a bold variant in general 600 is the default bold value for all browsers link 1 url l20 2 url
1 import createshallow from material ui core test utils 2 3 4
install node v version npm version on windows 10 npm init a new project npm install material ui core
1 go to url 2 use chrome console mobile debugging set device on ipad 3 click on a listitem of the permanent drawer 4 click on blank space or another listitem upload gif to explain further first click is on inbox second starred listitemmobile url
the issue happens when i use withstyles from material ui styles i provide a theme with muithemeprovider but it is not accessible in styles function from withstyles styles when i use withstyles from material ui core styles the theme gets injected check url
link url menulist composition 1 navigate to mentioned link click on toggle menu grow button 2 the menu opens up under the button 3 when the menu is open try to scroll by clicking browser scrollbar 4 as soon u leave click from the scrollbar menu closes itself
link url 1 click the first row 2 click open 3 click textfield in the dialog
link url 1 look at the sandbox notice which variants work and which dont
localhost 3000 3 build errors are readable in the console i don t know for sure but i think there could be two different issues in the demo the first is a simple styled paper component when downgrading to styled components version this issue will be fixed the second one is a styled list component styled list components will work as long as there are no prop attributes set if e g component nav is added there will be an error downgrading to components version won t work here but downgrading to material ui version will both cases are shown in demo
example url click on the open dialog button then on the open popper button in the console you ll see that the textfield within popper is focused as it should since it s autofocus then instantly blurred back by trapfocus
link url 1 open select component in chrome 2 the option list will be animated twice
did a quick demo try to load the page with dev tools with simulated ios device or an iphone can also not use the drawers on the drawer demo when simulation an iphone link 1 url 2 url
link url 1 run yarn docs api
link url 1 click mount 2 toggle disableportal
cannot reproduce with a simple piece of code even in our application sometimes it s ok sometimes not tell us how to troubleshoot on our side to provide more information
link url 1 open up the above code sandbox 2 in src components app jsx change the line height value
git clone url cd gatsby material ui next yarn gatsby build gatsby serve
checkout the nextjs next example url change next config js to module exports ttarget serverless add now json t version 2 t builds src package json use now next deploy with now
here is the example codesandbox example url
link 1 url switches with formcontrollabel 2 disabled switches should not inherit of muilistitem disabled css
1 create a css class for bordercolor const usestyles makestyles theme notched paddingleft theme spacing version bordercolor green hover green focused green 2 create a component that contains an outlined input export const inputcomponent const classes uesstyles return formcontrol variant outlined inputlabel variant outlined htmlfor input input label text inputlabel outlinedinput id input labelwidth 100 classes notchedoutline classes notched formcontrol the border color will not change and no padding will be applied also from the implementation url it seems i should be able to override it by changing the root class however this also doesn t work
i can t make codesandbox io example because this is related to rhl code below test tsx import as react from react v version import hot from react hot loader root v version import grid from material ui core v version alpha 8 export default hot react fc iprops props grid change me grid index tsx import as from v version render dom aliased to hot loader dom render test document getelementbyid root steps 1 webpack dev server mode development 2 in browser check console and see no warnings yet 3 in test tsx file edit change me 4 check console that rhl managed to put update but throws invariant violation invalid hook call warning also hmr updated modules log js 24 hmr src test tsx log js 24 hmr node modules material ui core esm index js log js 24 5 in file change grid to div 6 check console that rhl managed put update but throws invariant violation invalid hook call warning also hmr updated modules log 24 src 7 in file change text again and leave it div 8 check console that rhl managed put update and no warnings anymore
link 1 textfield defaultvalue hello variant outlined inputprops disableunderline true 2 13717 3 4
link 1 url 2 url 3 4
add a startadornment to any input component
provide a link to a live example you can use codesandbox io and an unambiguous set of steps to reproduce this bug include code to reproduce if relevant which it most likely is this codesandbox io template may be a good starting point url if you re using typescript a better starting point would be url if you do not take time to provide codesandbox io reproduction should the community take time help you link 1 2 3 4
link url or url 1 ensure using material ui packages at version alpha 8 2 set minrows property on textfield with multiline prop
1 open 2 tab in browser 2 in first tab go to url simple tooltips 2 click to any tooltip example button 3 select another tab browser 4 select first tab link 1 url
1 go to url 1 compare the outlined layout in firefox chrome and ie11
the error currently shows up even on the material ui example code under the scrollable tabs section link url
link url 1 inspect one of the tabs 2 look at the styles applied to the root element of the tab 3 see that min width is not affected and there is no trace of new class i have defined
link 1 visit url 2 open the simple modal demo 3 move your mouse out of the window 4 move your mouse back into the window
1 create react app ts mat typescript 2 yarn add material ui next 3 import palette from material ui system in app tsx
cannot provide live code example as it s a private repo and a highly complex setup but here s what i did 1 install latest version of material ui 2 include chip component 3 run yarn test
link url 1 click on slider 2 focus is not set on slider after click
link url 1 try dragging the slider thumb by using the mouse
link url 1 the 3 grid elements inside the root grid appear to be in column direction 2 remove the container property from the grid in line 51 3 now grid elements appear in row direction as expected
try to use onupdate or oncreate options i e popper popperoptions onupdate data console log data link 1 url
link url 1 provide min or max props to the input material ui component
here is a sandbox with the issue i have link 1 url 2 3 4
link url 1 2 3 4
i can t share the full app and am not sure where the fault could be i m not sure this is a great issue but am hoping for an idea where to look
working with material ui core styles withstyles url not working with material ui styles url
link url 1 make a nested grid representing two columns using two items inside each item create a new grid with a nested container item as below grid container spacing 16 grid item xs 3 container spacing 16 item xs 9 container spacing 16 2 the two items will take up the full horizontal space of the outer 3 now edit the layout so that column items and their inner containers are same element spacing 16 xs 3 xs 9 4 vertical columns no longer take up full horizontal space you can see two layouts side by side in codesandbox above and screenshot above i apologise in advance if i misunderstood how nesting is supposed to work
url try scrolling the page while keeping the tooltip open to see it readjust its position
link url 1 open dev tools find the iframe with the project 2 click the green button the number value gets updated however you can see in dev tools that head style tags are also being all updated which is unnecessary 3 comment one of muithemeproviders so that only one remains 4 click button in dev tools only number value is updated as it should be
link url 1 change size of window
import muithemeprovider createmuitheme from material ui core styles import red from material ui core colors red import blue from material ui core colors blue const theme createmuitheme palette primary red secondary blue contrastthreshold 3 tonaloffset version console log theme palette primary console log theme palette secondary
as this is easy to reproduce i ve recorded a gif so we can easily see below bug ie edge url access the link listed below from a ie edge browser link 1 url
link url 1 open devtools so you can see the react dom root it s nested inside the iframe so you might want to search for index root to find it faster 2 press the toggle tooltip button this will set the state to open and then set state to false on next update setstate callback 3 note that tooltip portal element is now on dom but not visible on screen if you comment out line 34 and uncomment lines 36 38 this works fine because closing setstate is now after next update phase allowing react transition group transition component fully render and set its internal state entered when component updates in false it will then invoke mui s grow and popper s handleexited functions remove portal from dom
url step1 click on material ui text step2 now press tab step3 panel1 focused then press tab again now it should go to panel2 but it goes inside the panel1 s item that is incorrect in case panel1 is in closed state
link 1 url resize the browser window to make the card change width size and see the image not centering covering the parent div
link url 1 type a 2 type aa 3 type aaa and the label should change to invalid tag but the border doesn t change 4 type aaaa now the border changes to the correct width of label invalid tag 5 delete two a s and label should change to tag but border doesn t change 6 delete one more a and border shrinks to width of tag
link url 1 in the simple menu section click on the open menu button 2 move mouse away from the panel that pops up 3 see that the first menuitem is highlighted 4 move mouse towards any other menuitem 5 see that that one is also now highlighted
1 download the responsive drawer example from the codesandbox url 2 npm i 3 npm run start 4 see that the title in the toolbar is not positioned properly
link clone this repo url and run npm i you ll observe the error in app tsx
1 visit url customized tabs 2 open the codebox example
i think there is nothing to reproduce i just upgraded to 4 x and expected that everything works
link url full screen dialogs 1 go into mobile device mode 2 push the button to open a fullscreen dialog 3 swipe the drawer open left edge to right 4 close the dialog 5 see how the drawer is now open open mouth
1 add demo in ts for imgmediacard 2 the ts compiler will throw an error on cardmedia
i attempted to simplify it as much as possible link url
basically i have created a pr url if you remove the defaulttheme in the box js component and you run the provided test you will see the error i think this is pretty easy to reproduce but if you guys need a codesandbox let me know
link url 1 you ll need to plug in a mouse that doesn t support touch gestures and be on mac os i happened to be on mojave and using an older logitech mouse 2 observe how the labels in the main navigation tabs category 1 category 2 etc are no longer vertically centered you can also see the hover menus being detached if you hover over one of the tabs 3 you can also see this go away if open debugger and switch to a mobile device user agent
link so i invested 1h into replicating this in codesandbox but i cannot
link to codesanbox url fill name field fill age field press add button you could see how the name field is reseted and it shows the placeholder but the age field not
frustratingly the error does not occur in codesandbox perhaps the error is just something stupid about my environment or weird ts quirk box is working fine for me in a jsx file 1 npx create react app box test typescript 2 cd box test 3 npm install save material ui core version alpha 4 material ui styles version alpha 4 material ui system version alpha 0 4 change app tsx to import react from react import box from material ui core const app return hello world export default app 5 hopefully observe ts error
just try to use the box core component with create react app
link url 1 take any control that listens and reacts to touch events 2 place the slider inside 3 try to change the value of the slider with touch gestures
link url 1 scroll to the bottom to hide the focusable button 2 open dialog through the super secret button 3 focus to the browser address bar 4 press tab
link url 1 click the throw the error button 2 watch the console the error should appear there
link url 1 run the fiddle 2 open dev tools and observe warning in console
link url 1 click on item1 so that it has the keyboard focus 2 press the arrowdown key twice on the keyboard 3 observe the divider being focused
link url customized menuitem ignore the fact the the items in the demo above are customized xa8c customization only applies to color it s only demo that has item icons and hence demonstrates issue
link url 1 the second list item is not receiving focus on firefox works on chrome
have a non disabled no ssr button rendered with a dev version of react check the console
adapted from the selects demo url on the main website url the same behavior can be seen in the linked page to material ui under placeholder example
1 browse to url and open chrome s dev console 2 under the textfield section click any multiline control and hit the enter key a couple times 3 notice the exceptions logged to the console i could reproduce this bug in chrome both ubuntu 18 and windows 10 could not reproduce it in firefox ubuntu and windows i have same issue in my project found out it is present also in material u s web page note bug does not show when multiline textfield is not wrapped a form tag
link see this url example chip in the rtl mode does not display its delete icon in the right location
inspect the steplabel icon when icon 1 and as well as icon accessalarmicon when icon 1 stepper expected url when accessalarmicon stepper outcome url when using custom svg also we need to have those mui class names so we can style the svg s they are completed active and disabled i have provided a live link below live link url
link url 1 use react lazy import material ui core select 2 click on select box you will see popup on wrong side 3 if want to reproduce this again than refresh you page
link 1 open example url 2 check rules of background with image
link 1 create a select with multiple attribute true 2 add a rendervalue property to the select 3 initialize the value property of the select with a var containing an empty zero length array 4 place a breakpoint in the rendervalue function and note that rendervalue is not called when value changes to an empty array
link codesandbox url
link url 1 go to url 2 click the iconbutton 3 drawer is opened but not accessible via keyboard
link url but codesandox io didn t show tsc compile error
1 yarn workspace material ui core test watch 2 change some whitespace in a file 3 test rerun with fail
link 1 run yarn test 2 3 4
link 1 url 2 3 4
i ve reproduced this on two different windows machines one windows 7 the other windows 10 in both cases i m using git bash shell mingw64 bash shell installed as part of windows git installation for executing yarn scripts i used yarn version on 10 and yarn version on the 7 machine both behaved the same and both can successfully execute the tests in core packages listed at top packages that test coverage task was limited to until recently
link compare from v version to v version url
link url 1 go to example above 2 open the console 3 click on open left
1 change an expected value passed to assertmenuitemtabindexed in integration menulist test js 2 execute the test still passes
link url props 1 scroll to the bottom 2 scroll moderately quickly to the top 3 note that css is still highlighted in the toc
i tried upgrading the following material ui packages screen shot 2019 02 20 at 11 46 17 am url however here the are the errors i m getting when webpack is running screen shot 2019 02 20 at 11 48 24 am url when i looked at the react event listener cjs js file in my node modules react event listener i see that it is referencing babel packages with this directory structure screen shot 2019 02 20 at 11 51 38 am url it seems to be looking for a builtin directory inside of babel package however when looked babel package in my node modules notice that there isn t a builtin directory under helpers directory screen shot 2019 02 20 11 53 am url as a test modified react event listener cjs js file and removed reference to builtin and webpack seems to compile and my application seems to work
1 import any component from core component 2 use it in jsx 3 try to have ide suggest props
link 1 load the page at url 2 once it s loaded hit the reload icon on the internal browser the one on page displaying results not your own browser 3 4
even the demo does not look right when the selected items per page are 2 digits url sorting amp selecting 1 change the items per page from 5 to 25 i wanted to provide a codesandbox example with three digit items per page that illustrate the bigger issue but it looks like codesandbox is having issue lately or at least for me
link url 1 hover mouse over justify
link 1 url 2 then remove the fontfamily usenextvariants config and see letter spacing change
open url in chrome on windows linux change browser zoom zo 175 see the scrollbar codesandbox code url
1 create a tsx file 2 add this line import createsvgicon from material ui icons utils createsvgicon 3 get hit in the face by typescript error ts7016
adding material ui to a project initialized with url themeprovider tsx doc url import as react from react import createmuitheme from material ui core import indigo from material ui core colors indigo import pink from material ui core colors pink red core colors red muistylesprovider styles themeprovider tslint disable object literal sort keys const theme createmuitheme palette type dark primary indigo secondary pink error red used by getcontrasttext to maximize the contrast between the background and the text contrastthreshold 3 used to shift a color s luminance by approximately two indexes within its tonal palette e g shift red 500 to 300 or 700 tonaloffset version spacing 4 typography usenextvariants true tslint enable object literal sort keys doc url muithemeprovider const themeprovider children children react reactchild muistylesprovider theme theme children muistylesprovider export default themeprovider home tsx as react as s home css paper modules skylo mui logo logo function homeentrancepage return div classname s container paper div export default homeentrancepage
link 1 url 2 url 3 url 4 try build with webpack
link 1 url 2 3 4
link 1 url 2 url
link url in the collapse component the property collapsedheight is set to 600px 1 default state of collapse is set to false collapse height is to 600px and we see the content of collapse 2 click on the expand icon nothing append
link url 1 click the first menu 2 use the up and down arrow keys note that focus moves 3 now click away and click the second menu 4 use the up and down arrow keys note that focus does not move
look at the code of any demo in lab breadcrumbs url
links repo forked url from the original no changes made yet sandboxed repo url 1 gather the create react app url example project files to start a new react application 2 install it and run for example npm install npm run start 3 you should be able to catch the error by now
link url it s all set up in the code sandbox the middle element which is purple but has no button properties is the example of where it doesn t work
link url 1 click on the textfield nothing is displayed testing anywhere the following code sample is enough to reproduce js tooltip title testtooltip disablehoverlistener textfield label testtooltip tooltip
go to any page with a slider component and run lighthouse url link url
n a this appears to be a design choice oversight
link url click the button to switch theme to dark and see the style not applied to parametized div it s really due to theme change but not redraw when you click on inc width the style are processed again an the style name is valid i hope be clear but context is little complicated
link i don t have a live link but it s easy to reproduce 1 create react app testy 2 cd testy 3 modify package json setting the react and react dom versions to version alpha 1 to make use of hooks react version alpha 1 dom version alpha 1 4 npm install to update 5 npm install save material ui core material ui styles material ui icons 6 copy the hooks version of the sample app bar with a primary search field url app bar with a primary search field 7 paste this code into the test app s src js file overwrite existing code and save 6 npm start you will get an undefined error when makestyles function accesses empty theme object
try setting defaultprops on inputlabel this appears to work fine in codesandbox url but when i download the zip from there install modules with npm i and then run npm start i get the same error in both vscode and the build log image url
link 1 breadcrumbs api url
link url 1 2 3 4
we didn t have this issue when starting out with our fresh next js project but over time as we added dependencies bundle size got bigger and we started to see the scrollbar more often i tried to reproduce in a minimal example but was not able to do so as the minimal example weight seems to be too low for the issue arrise however if you visit the tabs demo page url scrollable tabs you should be able reproduce when you make your window small enough for scroll buttons be there and hit refresh another tip for reproducing is set your network speed slower in devtools fast 3g should do it
link url 1 on a ios device open the link in either safari or chrome 2 select on of the outlined inputs 3 pinch to zoom and the line appears through the label
link url simply change the app variable to or correcttheme to see the different the top box is styled using withstyles the bottom box is styled using usetheme to get theme color and set style directly
this can t be easily reproduced in a sandbox environment link 1 make a withstyles component that uses mui components as well 2 install a testing framework like jest 3 run snapshots 4 add a new test and you will see how the snapshots will fail on prior ones because the rulecounter increases
import withstyles stylerules withstyles from material ui styles withstyles
override some mui styles in a component view it in storybook and use dev tools to see the order the style elements are inserted adjust the material ui styles package version to observe the difference in order and see your overriding styles get lost i ll try to create a codesandbox repro some time soon is there an example i can start with that already has storybook with typescript and mui
1 create a page with 2 react apps that both use mui 2 create some custom styles on each app 3 view on the browser only the first app overrides are visible
link url 1 load the site and open the console site shows the actual state console shows all history states
it seems to be a new issue at least within the past month maybe a point update for either hmr but more likely the withstyles under material ui core
1 create a couple of textfield with select and no name 2 look the source they will all have id select
1 copy example project of material ui nextjs 2 intall and start it 3 click on button
link url 1 click on open simple dialog 2 dialog opens componentdidmount fires and the ref for the input is undefined in the console 3 4
link url js bootstrap js import install from material ui styles install js index js import bootstrap import react from react import reactdom from react dom snackbar from material ui core styles css function app return div snackbar open div const rootelement document getelementbyid root reactdom render app rootelement
link url 1 just run and inspect dom or look at the body margin and the red background color 1 you may also inspect the head for style data jss data meta muicssbaseline and look that it is empty
link 1 download this url 2 yarn install yarn start i have checked the import order is any wrong in my code or method to run
link url 1 click on toggle drawer 2 adjust the slider to make the scrollbar appear
no repro to share yet but looks like similar to url it isn t clear what to do to make classes optional seems like having add a type for it in my props definition is too complicated how am i supposed know how type it i want leave that material ui unless i missed it the docs don t explain this part
link url 1 open drawer 2 close drawer 3 open drawer
sorry i failed to demonstrate the problem on codesandbox but reproduction is still easy 1 download mui usemediaquery zip url 2 unzip mul usemediaquery zip 3 cd mul usemediaquery zip 4 npm install 5 npm build
link 1 fresh create react app typescript 2 update react react node 3 install material ui core material ui styles 4 index tsx
link url circular indeterminate 1 go to the progress page docs and open chrome dev tools 2 in the dev tools menu go to more tools animations image url 3 set the animation speed to 10 image url
just do something simple like const styledtypography styled typography margin right 10px and use styledtypography in a render function passing a prop like color typescript will throw errors so far any material ui component i tried was affected
link url 1 create react app 2 npm install react next react dom next material ui styles 3 import makestyles from material ui styles 4 npm start
link url mini variant drawer yes example in the docs is broken too 1 implement mini variant drawer like in examples
i have prepared a repo here url steps 1 git clone git github com ivawzh material ui git 2 cd material ui examples nextjs hooks with typescript 3 npm install npm run dev 4 in web browser open url 5 see the error in your terminal
link url please wait a few seconds for styles to load loading seems to be slow due to a specific issue with codesandbox but it does highlight the issue more clearly
1 url bottom app bar
have a body that is long and requires scrolling open dialog with scroll body and long content codesandbox demo url material ui docs url scrolling long content and open scroll body demo when you change the version of material ui in the demo to version the scrollbar is in the correct position but it had a different bug that caused seeing double scrollbar when modal was disappearing problably a fix for that created this bug
link 1 load url in ie11 broken theme ie url problem still occurs after cache is cleared and in inprivate browsing mode
link url image url 1 yarn install yarn dev 2 open url and it ll show 3 round buttons all with equal height width but after 100 ms the middle one will get smaller 3 if you inspect the svg css classes of the email icon you can see that the default style 1em overwrites custom applied ones 32px image url
you can reproduce in the docs drawner mini variant url link 1 url
link url 1 clone it 2 npm i 3 npm start
n a link 1 url specs 2 url
link url 1 render two dialog components in a particular order normally they will appear in that order in the dom 2 wrap the first one them in something like withwidth which delays its rendering now the first one will appear after the second one dom so visually it will be stacked on top
link please check this codesandbox url
url warning received true for a non boolean attribute native if you want to write it to the dom pass a string instead native true or native value tostring what s weird though is this error is not present in url
see expected behavior
link url 1 click on the button 2 release click and move the mouse somewhere else 3 see that there is an undefined active state that has another color 4 click somewhere else the color disappears
1 refer to this sample url 2 open url the app in new window 3 open react dev tools and click on the update the first cell button 4 you will see that all table cells are highlighted 5 also you can see how the plain html sample works btw i suppose i can be fixed by using react purecomponent for tablecell component
find the example in docs click edit in codesandbox
link 1 create an icon wrapped into a dom with inline styling div classname wrapper keyboardarrowdownicon style fontsize 16px div 2 assign to the dom element styles that the svg icon should inherit wrapper color red 3 use ssr with the application 4 run the app and then reload page despite ssr correctly render html div class wrapper svg class muisvgicon root 1 focusable false viewbox 0 0 24 24 aria hidden true role presentation style font size 16px path d m version version l12 version l version l18 10l 6 6 6 6 z path path fill none d m0 path svg div icon during first second of page loading it doesn t take specified font size and so consequently appears way bigger also it doesn t inherit color from parent
scroll window while speed dial action tooltips are present
url outlined input adornments
link url 1 2 3 4
link url 1 replace tabitem with a tab and give it the tab prop instead of the label prop 2 tabs are now functional
1 start typing and then select one of the options 2 press backspace delete nothing happens 3 you need to press another character key to clear the value link 1 url 2 url react select
url 1 type in the input 2 click clear button 3 see that the input label stays in raised position
link url 1 go to url 2 switch to dark mode 3 type a search 4 see light background in search results
link url 1 set focus into textfield 2 drag slider around 3 focus is still in textfield
reproduction not possible in sandbox sandbox lack the tooling vscode has for typings
link url text buttons
current selectinput proptypes definition for value url l453 javascript the input value value proptypes oneoftype proptypes string proptypes number bool object arrayof oneoftype string number bool object isrequired current selectinput typescript typing for value url l26 javascript string number boolean array string number boolean
url 1 download sandbox 2 yarn install 3 yarn build 3 serve s build serve build folder as static 4 inspect card div 5 observe double class declaration div class jss2 jss5 jss3 jss1 jss1 6 see head tag style style data jss data meta muicard jss1 overflow hidden style style data jss data meta hook jss1 width 500px height 500px display flex align items center justify content center
you can reproduce it simply by switching the primary the second one switch and hiting the tab key url you can see the indicatot is rendered but it is extremely hard to see because it is almost a white color on a white backgrond you can see this behavior better if you set a different background color
edit y01y12mmp9 url
link url 1 visit the link
see this snippet url when you comment out line 53 of pages index tsx you ll see the difference
will be provided if necessary
link url 1 click on the button to open the dialog 2 type something in the text field 3 hit the enter key using your keyboard no clicking 4 dialog won t get closed
link url 1 click the backdrop of the foremost dialog 2 observe explosion
link url i had tried to use selectprops to resolve it on variant standard case but it is not worked for outlined and filled cases
try the following code grid container grid item grid container grid xs 3 item yo nbsp xs 9 this content is going to wrap no matter how long it is container item container xs 3 item yo nbsp xs 9 here s an example 3 yo nbsp 9 that seems kind of weird to me but i might just be using it wrong and observe the following result image url
as i see in sources input url l96 component handles disableunderline prop correctly but filledinput not it has only mention url l39 about it but no implementation also in docs url props there is no disableunderline for filledinput link url 1 create textfield with variant filled and inputprops disableunderline true jsx textfield label name margin normal variant filled inputprops disableunderline true
link url 1 start respective profilers on page load or alternatively start the profiler and then tweak the for loop s iteration count 2 witness horror
link url 1 toggle the switch checkbox radio buttons no error 2 toggle the checkbox errors correctly
link url 1 click the open menu button 2 press the down arrow key twice
just import fab from material ui core fab in your typescript project
on the dialog demo url open simple dialog and press kbd shift kbd kbd tab kbd page is scrolled to end on url scroll to green button and press it press tab three times or click to browser s url and then press tab page is scrolled to start
link url this issue has happened for me with the code sandbox link however it is intermittent it appears to happen more regularly with more not necessarily related elements rendered on screen this makes me suspect a race condition somewhere but as i m not familiar with the library code i ll leave that to the experts for now 1 render a tabs component with many tabs include the props scrollbuttons auto and scrollable true make sure tabs can scroll 2 set initial value for tabs to a value that forces component to scroll 3 4
link url 1 make sure that material ui core is version 2 click on input you see custom color border non primary 3 update material ui core to version 4 now focused textfield is in primary color fieldset does not have focused class
link url 1 press scroll body maxwidth lg 2 press scroll body maxwidth false
javascript import list from material ui core list import listitem from material ui core listitem import withstyles from material ui core styles const styles theme root selected backgroundcolor red function demo props const classes props return list component nav listitem selected true classes selected classes selected test listitem list export default withstyles styles demo edit p9ll5rw7w7 url demo url
i have a pretty simple list that i m trying to render jsx list listitem button onclick backtosearch listitemicon backicon listitemicon listitemtext primary back to search listitem listitem button onclick this updatedrugprices listitemicon updateicon listitemicon listitemtext primary update drug price listitem list link edit material ui example page url
link url 1 move the slider left right 2 notice the scrolling on x increases as the knob is moved to the right 3 if position relative is removed from button knob scrolling is gone but of course knob is not positioned properly anymore 4
compare url in ie11 vs chrome latest
link url 1 please go to sandbox link provided in the above
might be too complex to reproduce because bug exists due webpack usedexports optimisation
link url 1 add muithemeprovider to app 2 add theme with typography button fontfamily some font 3 render listitem button within the themeprovider context
link grid container justify center alignitems center card cardactionarea cardcontent typography style height 500 width 500 backgroundcolor lightgreen das ist ein test typography cardcontent cardactionarea card grid
link 1 run yarn docs api core on a windows machine
tooltip title foo placement top iconbutton icon onclick file copy icon iconbutton tooltip will wind up with different print styles than iconbutton icon onclick file copy icon iconbutton
url 1 create a speeddialaction with buttonprops that configure the component to be link and the to to be some valid route 1 in desktop click on the action button and see that you re taken to the expected route 1 on a touch enabled device or chrome s mobile emulator tap on same action button link 1 url l91 2 url 3 url
here is a code sample demonstrating the issue link url
1 go to this page in google chrome 70 url 2 pull the slider handle away from the middle to the far right 3 release handle 4 try to click the right outer half of slider handle ui blue circle 5 about half of slider handle ui will be un clickable you can also see same behavior in most of examples on mui slider page of course link 1 url just a clone codesandbox 2 url simple 3 url custom thumb
1 create an iconbutton with nested icon 2 add fontsize small or fontsize large attrubute to icon link url
link url 1 create a togglebuttongroup where one of the togglebutton values is falsy and one is truthy 0 and 1 for example 2 select the falsy value note that the shadow background is missing 3 select a truthy value note that the shadow background appears
link url max height menus
html grid container direction column grid item xs 12 item 1 grid grid item xs 12 item 2
link url screencap url 1 use keyboard to navigate and highlight the select 2 open the select and chose a valid value to set the state and re render the select with that value 3 use keyboard to navigate back to select and open popper arrow up disabled item wont have any focus styles it 4 is now disabled value
url 1 press mouse down in the middle of slider thumb should follow cursor 1 drag cursor left until it leaves the window codepen frame 1 issue 1 cursor has left the window but slider is not slid all the way to left of track release mouse button outside of window move cursor back into window issue 2 slider thumb continues to track despite mouse being released click inside to release slider
go to the demo page url in mobile view open the main menu using the hamburger icon click within the menu and drag down to scroll up to top while maintaining your click press drag up to scroll down menu does not move this also happens at bottom of menu scrolling opposite directions
link url the red should be the full width of the green but it is not the green width is spacing unit 3 2 and gutters method adds padding on each side that is spacing unit 3 for desktop
link url max height menus 1 open max height menu
it is pretty hard to next js setup in codesandbox with all the ssr stuff need to get many boilerplate files sweat smile you can reproduce this in your docs site if you are using typography inside a link component link 1 setup next js with ssr 2 setup the new typography in theme ie usenextvariants 3 make a link that wrap a typography component
n a link 1 tab documentation url
link url 1 2 3 4
i m not able to reproduce on the codesanbox it s weird link url
link url 1 load page 2 open modal demo dialog box 3 select from the first drop down list 4 select from the second drop down
open this link in ie 11 url 1 click on a switch checkbox radio 2 nothing happens no animation no change of value
1 create two pages one with a lot of content so it has to scroll one with little content so it doesn t scroll 2 have temporary drawer with two link elements not a in for example an app bar as an overlay on both pages 3 have first link send you to page one and the second link send to you to page two 4 switch between the two pages via the drawer links
link url i have shown several different scenarios and potential work arounds none seem to resolve the issue
link codesandbox url github url gitlab url storybook url jest storyshot error 1 implement a component slider 2 use it with storybook ok 3 use it with storyshot addon jest nok
install gatsby add material ui yarn add material ui core modal create component with this code import modal from material ui core modal modal open true root hello root
unable to reproduce in a code sandbox or create react app seems to only happen in my own environment
link url i first found it in my app but then realized it also breaks on the demo page 1 open chrome dev tools 2 switch to mobile view 3 try using single touches to change the slider 4 it doesn t change value some times
link url 1 go to the above link 2 look for text fields with input adornment 3 observe the overlapping of icon on label
i am unable to reproduce this issue consistently it does happen the majority of the time in the project i m working the outline does update as soon as interaction has taken place with page like clicking on an element opening a dropdown etc or anything that manipulates state of current component i ve seen this happen in v version x i have never used variant outline in prior versions so am unaware if this bug existed prior to v version link url
it is easier to see if the active tab component has an background color it is only reproducable if scrollbars in the browser are visible and are shown after navigation is completely done sorry that i can t produce fast a fiddle for it const styles theme tabselected backgroundcolor f5f5f5 tabs value self state tab onchange event value self setstate tab value centered indicatorcolor secondary textcolor secondary classname topnavigation tab value 0 label installations component link to monthly classes selected classes tabselected 1 label usages component link to usages monthly classes selected classes tabselected 2 label clients component link to clients selected tabselected tabs
link url 1 click any of the select drop downs 2 select a value so the options disappear but the control stays focused note that setting a focus pseudo class in dev tools is not enough you have to actually do it
link url 1 set anchororigin vertical to center and horizontal to right center left
url link 1 url 2 3 4
viewing the material ui tabs with wrapped fields demo in ie11 immediately shows the issue url
link url 1 hover on button 2 wait for tooltip 3 click on button 4 close modal by clicking outside
link 1 create a button with id provided 2 handle event click with e parameter 3 the id and name of e target are empty
link 1 install material ui 2 try to use the shape object in the default theme i e theme shape borderradius
1 set the new typography usenextvariants true 2 using the simplest demo snackbar open the snackbar have developer tools open it does display appear to display correctly but you are given the console message
1 in windows 10 open high contrast setting and select a high contrast theme high contrast 1 or high contrast 2 2 open ie11 and edge browsers 3 go to url and validate switches text field menus select etc 4 verify the issues
1 simply use any material ui component that references on any of the deprecated typography variants
link url 1 check console 2 uncomment typography section 3 save 4 refresh the page or click on open success snackbar
link url 1 clone repo and run yarn install at root 2 run yarn start 3 see errors
it reproduces with customized tabs example from components demo section from the docs 1 just open url customized tabs for edit in stackblitz in safari for os x link url
link url we have an example ssr app w material ui application above you can clone the repo install dependencies and run yarn dev to see the issue
url the example references a non existent font which should be equivalent to a font that is not yet loaded but observable permanently which makes debugging easier
link 1 material ui documentation url 2 text fields in the material design guidfelines url filled text field
1 open the live example url 2 click the button 3 look at the console
open the live example url and check the console logs you ll see warning validatedomnesting div cannot appear as a descendant of p in div created by app in div created by snackbarcontent in p created by typography in typography created by withstyles typography withstyles typography paper paper withstyles paper withstyles paper snackbarcontent snackbarcontent snackbarcontent snackbar transition slide eventlistener slide slide withtheme slide withtheme snackbar div snackbar clickawaylistener snackbar app muithemeprovider app app here is the same example working with v version url i m guessing it has something to do with this line url l55 i m not passing a variant for the component so i don t think headlinemapping is getting applied i was able to work around this bug doing contentprops variant body1
open this codesandbox url manipulate the slider and check out the console the issue seems to happen less often still happens in a browser environment chrome 69 happens a lot in an electron context
link url 1 inspect element and look at the input element for the selecttextfield example 2 inspect element and look at the input element for the regulartextfield example 3 notice difference 4
link url 1 create textfield component with variant set to outlined 2 set inputprops on the component with classes object 3 observe that classes applicable for outlinedinput are not accessible e g notchedoutline 4 set classes to notchedoutline classes root 5 observe typescript error type notchedoutline string is not assignable to type partial record inputclasskey string
i can work on a minimal example if there is no obvious way to debug this issue
import react from react import proptypes from prop types import textfield from material ui core textfield import button from material ui core button const licenserequestform licenserequest handlegetlicenserequest form id license request form textfield label activation request variant outlined value licenserequest fullwidth multiline button color primary variant outlined size large fullwidth onclick handlegetlicenserequest get activation request data button form licenserequestform proptypes licenserequest proptypes string isrequired handlegetlicenserequest proptypes func isrequired export default licenserequestform when running a test in jest i get the following prop type errors console error node modules prop types checkproptypes js 19 warning failed prop type the labelwidth is marked as required in outlinedinput but its value is undefined in outlinedinput created by withstyles outlinedinput in withstyles outlinedinput created by textfield div created by formcontrol formcontrol created by withstyles formcontrol withstyles formcontrol at licenserequestform js 11 form at js 10 at test js 21 console error node modules types checkproptypes 19 warning failed type the labelwidth is marked as required notchedoutline but its value is undefined notchedoutline notchedoutline notchedoutline inputbase div inputbase inputbase inputbase div at 11 10 test 21 notes 1 passing a labelwidth to does nothing 2 this does not occur unless the variant outlined used
link mui input click err url
link 1 url filled 2 url
used the example from the autocomplete section downshift popper in a card link url
just run the example url on touch screen with the mouse click link 1 2 3 4
link sandbox url see onchange of the radiogroup it is implemented with an arrow function since sandbox displays the error here but the implementation with a class function also results in an error codesandbox swallows this error image url
link url 1 click on label
override the selected class like so const styles theme selected color theme palette secondary main link url
listitem button selected true listitemtext primary derp listitem
build typescript project with material ui installed from npm
link url multiple select please see this using developer s tool with mobile mode
1 i created an example input here url 2 clone or download the app yarn install yarn start view on ie11 and chome browser and compare behavior this example is referenced from material ui textfield examples url a codesandbox example can be viewed here url however it does not seem to run on the latest ie11
textfield onkeydown event keyboardevent htmlinputelement
link url see withroot tsx
after updating to material ui version version the icons of iconbuttons are not centered if size changed via style props link url 1 update to new material ui versions icons and core 2 change size of iconbutton via style props height width
link url 1 create a multiline textfield component 2 assign a rows 1 property 3 observe the multiple rows
please run createmuitheme and observe the result i suggest this is a bug because material ui decision to use jss should mean it should provide what jss need to work ssr rendering part js rendertohtml render comp meta const sheetsregistry new sheetsregistry const sheetsmanager new map const theme createmuitheme this is the problem the font families were created with escaped quote characters fontfamily roboto helvetica arial sans serif const generateclassname creategenerateclassname html render jssprovider registry sheetsregistry generateclassname generateclassname muithemeprovider theme theme sheetsmanager sheetsmanager comp muithemeprovider jssprovider meta jssstyles sheetsregistry tostring this will convert escaped quote characters to quot instead of return html link n a
link url 1 open link to code on mobile or in chrome with devtools open and device toolbar toggled 2 use the slider note the number beside last touchend event 3 touch anywhere else on the document not how the number beside last touchend event changes
link url 1 wrap the togglebutton inside a tooltip 2 run the code 3 see the console for warning
link 1 just run sample yarn test url
link url outlined url outlined 1 toggle rtl from the top bar
link url 1 open menu top right click section 1 2 notice that the window scrolls to section 1 briefly before resetting to section 0 3 open menu top right click section 2 4 notice that the window scrolls to 2 after a 500ms delay and stays there using an animated scrolling library e g url exhibits the same behavior if the scroll duration is less than menu transitionduration
link url outlined 1 use chromes auto fill url
go to url click the button and press esc button just after it animation should stop image url link 1 url
use mui with typescript and use provided snippet
unable to make a small reproduction i tried but it works on a small test site using next js i will update here if i can figure out how to reproduce simply as i can t post the proprietary code m working on
link url 1 npm install save react version react dom version material ui icons 2 import and render an icon somewhere in your app e g import deleteforevericon from material ui icons deleteforever deleteforevericon 4 start app
link url first paper box is created as expected boolean as a prop for square as you can see it does not work second paper box is sharp edges as i m expecting but prop is not valid it get s string not boolean ps for second box you can type anything square blabla also works
link 1 url centered error 2 url not centered working
i changed the demo file to start with open set to true and then on mount set it to false to emulate the situation i m in link url 1 start app 2 try click somewhere like the button
try to change at least two sliders with two fingers play arround with stuff link url code example url
link url react select 1 add chips to multiple input on mobile or using chrome dev tool responsive mode 2 try deleting a chip
link url 1 click the filter icon on the right side of the button
link url 1 press the button 2 3 4
open the material ui docuemntation with chrome and see that no hover effects appear on the demo buttons open it with firefox or internet explorer and see that there is a hover effect url
1 put a form within a dialog content 2 put a textfield within that form 3 add an onsubmit handler as props of that form 4 run it live open the dialog type something on the textfields press enter 5 it should submit but it won t
link url 1 open the link in browsers other than chrome 2 toggle the input component by clicking the button 3 see where the cursor blinks in edit mode
link url fairly self explanatory 3 examples of the menuitem behavior in a select last example with display block set and ellipsis as expected
1 go to the documentation url sorting amp selecting in edge 2 select any row to make the select all checkbox enter an indeterminated state 3 click the checkbox
link url 1 remove the input value and blur the input the label will descend into the input 2 focus input again and type letter e 3 blur again 4 see how label descends covering just written e
link run mui docs in development mode locally yarn dev 1 open docs in ie11 2 see broken docs
n a see linked issue this bug report is regarding the bundle duplication apologies if this case is not needed
this only seems to be happening on mui v3
here s an image of what s happening with the classnames of the component that doesn t update notice the mui classnames update with also other classnames of my styles but the classnames of infopanel don t and few others don t image url image url image url i can t reproduce it in codesandbox as i think this only happens when classname count goes over some limit but here s link what i m basically doing where it works link url in my application most components would update like button here but few them would lose black color text
link url 1 open drawer 2 open dev tools 3 check aria hidden attributes for drawer modal content 4 close drawer 5 recheck aria hidden attributes for drawer modal content
here is code similar to what i m doing export interface ioption label string value string number fixedvalue boolean disabled boolean interface icomponentprops options ioption tvalues array string number string number select tmultiple tonchange this handlechange tvalue this props values t this props options map this renderoption select renderoption x ioption i number treturn menuitem key i value x value x label menuitem handlechange event react changeevent htmlselectelement tconsole log onchange event target value
link url 1 scroll to the bottom of the page 2 click on the button on the appbar to open drawer 3 close drawer 4 on closing drawer page scrolls to top 5 if position of appbar is changed to fixed then this issue is not observed
link 1 url 2 3 4
use a popper as downshift s url menu component javascript downshift input container popper anchorel this poppernode getmenuprops div items with getitemprops div popper downshift
link url default buggy behavior already set
i can t share the code right now in total i can provide with files if needed i used the gastby ssr and withroot and getpagecontext of the example
on android use chrome or firefox browser if you can the player is broken using samsung s built in go to url directory 11 apologies for the music selection the demo collection there isn t mine just mute if it bothers you click the play button at top under amber bar in lower right is fab for speed dial click it click one of options like skip album if you click mini player icon in upper right will flip you back
link url 1 click the shown button to open the dialog 2 you should see a non fullscreen dialog although the fullscreen option is set to true
1 create a stepper with alternativelabel prop 2 add some steps in the stepper like step steplabel step 1 steplabel step 3 pass an material icon as icon prop of a steplabel link 1 url
link edit create react app with typescript url typescript import as react from react import as reactdom from react dom import snackbarcontent from material ui core snackbarcontent reactdom render snackbarcontent message span hello world span action span one span document queryselector root the above code renders properly but raises a typescript error type message element action element is not assignable to type intrinsicattributes snackbarcontentprops children reactnode type message element action element is not assignable to type snackbarcontentprops types of property action are incompatible is not assignable to reactelement any undefined is not assignable to reactelement any removing the brackets within the prop also removes the error
link url 1 delete last tab the tab 2 state value 0 changed to 2
url i ve done my best to explain what s wrong in this sample page it seems like when a panel is opened then a panel below it is open it opens the new panel before closing the first panel so when the first is closed everything scrolls up by the hight of that was opened first leaving focus far below top of newly opened if opened first is below new being open behavior works as expected link 1 url 2 3 4
1 create a react app using cra npx create react app app name 2 run the tests npm test it would work 3 install the material ui package npm install material ui core 4 run the tests npm test it fails now
link url under sorting selecting or url 1 click to sort on the name column aka dessert 100g serving see screenshot image url 2 click on the second name kitkat to try to select that row 3 expected kitkat row to be selected got kitkat changed nougat and 1 row is shown as selected but not on the page see screenshot image url link
link url 1 open the codesandbox io link using either the latest chrome or firefox version it should display the expected behavior 2 open the codesandbox io link using firefox 45 it should display current behavior bug
1 create a project using cra 2 change the app tsx to the code snippet
put a dialog component within a drawer component like jsx drawer dialog drawer
link url 1 click on any button 2 look at console or at site under state output 3 notice event equals value and not event equals event and value equals value
clone url git pull mui bug git checkout mui bug i think just the branch is mui bug run make dev build make dev up must have docker installed
link codesandbox example url this bug is consistently reproducible but the exact number of steps is unpredictable within the codesandbox io example using chrome 1 click a scroll button 2 click a few tabs 3 click the other scroll button 4 click a few tabs 5 repeat until the error is thrown it usually only takes a few cycles
link url 1 create checkbox with checked prop set to true 2 inspect html and you will find an input with no checked prop
can be reproduced in the docs all the table examples have padding attribute applied on the native table element
link url 1 look at the code 2 second line should have the same background as the first
you can easily understand that by inputting something into a textfield here url and then try to click on another textfield within 2 seconds of your last keyboard input
link 1 code repository url left to right image url right to left image url notice the difference of the icons position for both cases
link url 1 create a textfield and pass it the disabled prop 2 wrap an input inputlabel and formhelpertext in a formcontrol and pass it the disabled prop 3 the textfield s label and helper text will not have the disabled style
link url screen shot 2018 08 12 at 17 15 41 url
link url for example javascript menulist role menu hidden smup menuitem onclick menu item menuitem hidden menuitem onclick menu item menuitem menulist
link url jsx chip label focus me and press spacebar onclick console log onclick onkeydown console log onkeydown onkeyup console log onkeyup 1 paste the code snippet above in any react application or go to the codesandbox link 2 focus the chip by way of your choice 3 keep the spacebar key pressed for a while 4 look at order of console logs
just render the select component with non native and try using a onchange function and get the child argument
link url 1 the second icon in the with clip path column should display it does not 2 click show in the with clip path column and the second icon will now be toggleable 3 hide first icon again and second icon once again is hidden no matter toggle
make any withstyles hoc and change the theme
1 clone the ssr example from this repository 2 create a stepper component and import into app component and removed other components 3 changed the webpack config js mode from mode process env node env development to mode process env node env production and ran it component js javascript copyright c 2018 critical labs llc import react from react import proptypes from prop types import stepper material ui core stepper step material ui core step steplabel material ui core steplabel stepcontent material ui core stepcontent class component extends react constructor props super props this state activestep 0 render return div stepper orientation vertical activestep this state activestep step steplabel test steplabel stepcontent hello world stepcontent step div export default app js javascript react proptypes prop types withstyles styles js const styles theme root backgroundcolor f00 class app extends render const classes this props return div classname classes root div app proptypes classes proptypes object isrequired export default withstyles styles
here s the code that i changed that fixed this issue for me slow live reloading js import check close info navigatebefore navigatenext star starborder from material ui icons quick live reloading js import check from material ui icons check import close from material ui icons close import info from material ui icons info navigatebefore navigatebefore navigatenext navigatenext star star starborder starborder
link 1 url 2 url
link url scrolling long content 1 select scroll body 2 click or drag the scrollbar
link 1 following the same steps described in the sample parcel example given here url
link n a 1 go to url 2 click on the documentation link for v version 3 profit 4
i m using same example in demo with dark theme url i have changed suggestions data to have 430 items
see url i changed the ok button of the dialog in the sample code to open a snackbar unfortunately the snackbar is not shown if i move snackbar outside dialog it works however in my case i have a component that i render within dialog and this component contains some stuff and snackbar ve made sure that z index of dialog and are 1300 and 1400 respectively so it doesn t look like a z index issue btw it worked properly in one of older beta versions of mui think it was version beta 31 as you can see in screen capture below is there dom but is not shown image url
input accept audio mpeg audio mp3 type file input type file accept audio mpeg audio mp3 first one works second one does not
code to reproduce the issue url jsx eslint disable react prefer stateless function import react from react import numberformat from react number format import proptypes from prop types import withstyles from material ui core styles textfield material ui core textfield const styles theme container display flex flexwrap wrap formcontrol margin theme spacing unit function numberformatcustom props const inputref onchange testprop other props this should be yo but is undefined instead console log testprop testprop return numberformat other ref inputref onvaluechange values onchange target value values value thousandseparator prefix numberformatcustom proptypes inputref proptypes func isrequired onchange proptypes func isrequired class formattedinputs extends component state textmask 1 numberformat 1320 handlechange name event this setstate name event target value render const classes this props const textmask numberformat this state return div classname classes container textfield classname classes formcontrol label number format value onchange handlechange id formatted input inputprops inputcomponent numberformatcustom testprop yo div formattedinputs classes object isrequired export default withstyles styles formattedinputs
link url 1 create a formcontrol wrapper component 2 create a simple inputlabel inside the formcontrol 3 add a select component with displayempty to true and a value of 4 add menuitem with value of 5 add 1 or more menuitem components with non blank values
cannot reproduce inside codesandbox but might know the fix for it will come back with a pull request
link material ui textfield examples url 1 inspect the textarea of the multiline textfield example on chrome it has rowsmax set to 4 and line height is version em 19px in this case so the text area has a height of 76px 2 inspect the textarea of multline textfield example on firefox all is same but it has a height of 91px
link url 1 use the placeholder select to select a value 2 use the required select to select none 3 observe that the label for the placeholder drops down overlapping with placeholder value
link url 1 create a modal 2 place a menu 3 open a snackbar from the menu 4 the snackbar renders inside the first modal which has the same z index as modal of menu
currently reproduced in the documentation url in scroll playground section
stepcontent working embedded inside stepper url stepcontent broken inside a custom react component url 1 open the two links 2 compare the results only basic changes were made to show the problem
link url 1 identify if the ba2 color is
link url 1 click the options button in the first row of the table 2 click the button above table to see intended outcome
codesandbox io can t handle ruby deps so no point in setting anything up there link i ll fill this in when i have a second 1 create a switch element on the page non native because otherwise you can t use multi select 2 try to select an option from it using capybara 3 you can t it s literally impossible you can get as far as clicking the option in the popup but then selenium throws an unknown error because it t understand the dom anymore selenium webdriver error unknownerror unknown error option element is not in a select
link url 1 just load above example and see warning in the console
codesandbox example url click the button and see the tooltip remain visible
link url 1 click 1 button and then away works menu gets hidden 2 click 2 button and then away does not menu gets not hidden
in this codesandbox example url it ll throw a runtime error when you try to open the snackbar here url is a similar working codesandbox example for a popover
1 from route a whose component a opens a modal close the modal 2 immediately after closing the modal route changes to route b and component b mounts 3 the body overflow setting might be wiped out by the modal s componentwillunmount because it does not occur in sequence s componentwillunmount followed by component b s componentdidmount
javascript import as react from react import createstyles withstyles withstyles theme from material ui core const styles theme theme createstyles root minheight 100vh content minheight 100vh sidebar media min width 960px root display flex content flexgrow 1 sidebar width 250px interface props extends withstyles typeof styles const testcomponent react sfc props p it works p export default withstyles styles testcomponent
link 1 sandbox url 2 demo url
textfield label with normal textfield id simple start adornment classname classnames classes margin classes textfield onchange this handletextfieldonchange justtext textfield select label with select classname classnames classes margin classes value this state weightrange onchange this handletextfieldonchange choices ranges map option menuitem key option value value option value option label menuitem handletextfieldonchange prop string event react changeevent htmlinputelement console log event this setstate prop event target
url import react from react import textfield from material ui core textfield class textfields extends react component render return form novalidate autocomplete off textfield id name label this is a long label because things form export default textfields
snapshot textfield multiline props via jest
in sandbox url hover over a form item to display tooltip click item move mouse away image url
link url you can cause the first label i e recents to disappear by wrapping the bottomnavigationaction component in a tags like how the other are update after a bit of investigation i ve discovered that the opacity is set to 0 which is what s causing it to be invisible
online demo url demo code is based on v version url the only file changed is index js
link url 1 click the click button 2 click outside 3 click the button again
1 create a form with an email and password field 2 use it 3 reload the screen
1 npm i material ui icons material ui core 2 try to use it
wrap an iconbutton on a snackbar in a tooltip and apply the slide transition from the left to the snackbar
for bugs here s a code sample url 1 using these packages material ui core version material ui icons version 2 in my component i attempted to load the deleteoutlined icon js import react from react import proptypes from prop types import deleteoutlinedicon from material ui icons deleteoutlined receiving error module not found can t resolve material ui icons deleteoutlined
for bugs 1 select 2 items in the list the table should go grey a disabled for checkbox 2 deselect click function is routed in through ternary operator to onclick you can deselect only until select is below 2 again 3 if you click row where nothing is selected and you already have 2 selected in the table it removes all selected url
for bugs 1 open example url 2 try to scroll horizontally outside the red area note if you scroll the visible area and hover the handle element the tooltip will be placed correctly and body s scrollbar will disappear
url use the code above make the window really small until the scroll bar appears remove the form and it works because form content is rather small there s only a brief period where dialogcontent scrolls then it hits 0 height and everything has to start scrolling tech version material ui v version react v version browser latest chrome
for bugs 1 create a react app with typescript npx create react app app scripts version react scripts ts 2 add material ui core and material ui lab as dependencies 3 try to use the speeddialicon component codesandbox example url this does not give the exact same error but it definitely points towards the same issue
for bugs url inside fullscreen dialog url inside div in page layout
for bugs 1 use swipeabledrawer in a project 2 open inspector console 3 once it s open drag it slowly in either direction 4 you will notice a js error for every drag movement
for bugs url 1 set anchororigin to vertical top horizontal right displays correctly 2 recompile 3 change it to vertical bottom horizontal right displays incorrectly
for bugs 1 install material ui with react version
for bugs you can see this in the following codesandbox by hovering over the red tile and watching the tooltip pop in at the top before settling at top left url see src pages index js for implementation if you uncomment margin 14px important on line 17 you ll see that issue is fixed as tooltip will now have a constant size regardless of placement this will now mean however that tooltip cannot push up against edge of viewport and will be at a minimum 14px from edge but perhaps this can be countered by a negative position e g top 14px
for bugs url 1 hover a few pixels above the fab 2 observe that the actions show up since the empty container still had its full height
for bugs just have a clean install with a vanilla setup without cra with a basic webpac config js like this using webpack 4 const path require path module exports entry resources assets js main js output filename bundle js path path resolve dirname resources assets build module rules test exclude node modules loader babel loader test css use css loader devserver contentbase resolve src run webpack mode production sorry for a missing codesandbox example its because this is related with build proccess and webpack config setup file this 2 items are impossible to reproduce on codesandbox
for bugs 1 2 3 4
for bugs code url demo url just press enter try to tab around
here is a sandbox that shows the bug url
for bugs 1 create a react page that takes some time to render due to lof of components 2 set initial state in the constructor this state rendering true 3 set state in componentdidmount or in componentdidupdate to this state rendering false 4 display conditionally the progress in the render function base on this rendering
for bugs 1 go to url input adornments 2 click on the text of one of the input adornments
for bugs 1 use a tooltip component 2 get a secondary retina screen 3 hover over element on secondary screen 4 see text as blurry you might need to adjust the position slightly here is a minimal reproduction in which the blurriness is less pronounced than in my production use case but still noticeable url this is all probably related to this problem url though i am unsure why this problem happens since we are only translating in integer increments there is some chance this happens because of the scale animation or something in that space though i haven t been able to fix it
for bugs see this example url
for bugs 1 use dialog component in your app 2 try to show a snackbar above the dialog
for bugs see codesandbox url forked from the one in docs url
for bugs the following works jsx const popovercontainer document createelement div muithemeprovider theme createmuitheme props muipopover container popovercontainer app muithemeprovider the following does not but should jsx const popovercontainer document createelement div muithemeprovider theme createmuitheme props muipopover the popover will receive a regular object container popovercontainer app muithemeprovider url based on url issuecomment 1 pass an html element as a muipopover prop to 2 render a popover 3 notice the app crashes
for bugs url 1 copy image only grid list code from url 2 extract gridlisttile into a component 3 notice image is now full width height instead no width height calculation performed
for bugs my getpagecontext js const theme createmuitheme typography fontfamily myhappyfont arial sans serif join
for bugs unfortunatelly i cannot provide much of source cause it s a very big application but i can show how my initial app js is and what is the end result hopefully that s enough app js jsx import react from react import reactdom from react dom import createmuitheme muithemeprovider from material ui core styles import spacing from material ui core styles spacing jssprovider react jss lib jssprovider create jss creategenerateclassname jsspreset material ui core styles app app const generateclassname creategenerateclassname const jss create jsspreset jss options insertionpoint document getelementbyid insertion point const theme createmuitheme palette primary main ed8001 secondary main spacing medium spacing unit 3 large unit 5 const appthemed return jssprovider generateclassname generateclassname muithemeprovider theme theme muithemeprovider jssprovider reactdom render appthemed document getelementbyid root index html html doctype html html lang en head meta charset utf 8 meta name viewport content width device width initial scale 1 shrink to fit no meta name theme color content title title noscript id insertion point noscript head body noscript you need to enable javascript to run this noscript div id root div body and here is the final result url
for bugs 1 go to this demo url 2 select just the date you d see that the updateselecteddatetime doesn t log anything 3 enter values for both the date and time updateselecteddatetime should log the value
for bugs the following should not produce a typescript error typescript import as react from react import button from material ui core button import link from react router dom export default return button component link to new route the error says error 6 18 ts2326 types of property component are incompatible type typeof link is not assignable to type string componentclass buttonprops statelesscomponent buttonprops undefined type typeof link is not assignable to type statelesscomponent buttonprops typeof provides no match for the signature props buttonprops children reactnode context any reactelement any null even when typecasting to any typescript complains typescript import as react from button material ui core router dom export default return component as any new route error 6 42 ts2339 property does not exist on intrinsicattributes children reactnode
for bugs edit create react app url 1 add jss react jss jss template and styled jss to your project javascript dependencies material ui core version version template version prop types version react react dom router dom scripts styled 2 create a jssprovider component and configure your as suggested by the docs to use template literals wrap component over app javascript import from import create from import template from import jssprovider from lib jssprovider creategenerateclassname jsspreset material ui core styles configure const create plugins jsspreset plugins function jsstemplate props return jssprovider generateclassname creategenerateclassname props children export default jsstemplate 3 implement a button with a hover effect and add it to your component tree at desired location javascript styled styled button material ui core button link router dom const styledbutton button text decoration none background color 15df89 color fff font size 2em font weight 500 padding 15px 50px margin 15px 0 25px 0 hover not working background color 15df89 const registerbutton link to login styledbutton variant contained size large register styledbutton link export default registerbutton 4 submit an issue material ui
for bugs just look at the example at codesandbox url you will see that first input with native prop works great it lose focus and we can manipulate with focus and apply focus to another element e g input in our example
for bugs 1 url 2 make the window wider than 264 2 and see that they are not fullwidth
1 create snackbar component providing proper state handling of the open onclose props also supplying an action prop allowing for user interaction then supply an autohideduration prop of any number larger than 0 and a resumehideduration prop with the value of 0 2 activate the snackbar 3 interact with the snackbar ie click undo button codesandbox url
for bugs you should have a touch device availlable behaviour could be figured out at url or url you will need a virtual midi driver set up just place more than one slider next to each other
for bugs open up this sandbox example then right click and inspect the button element you ll see the outlined variant in the classes but also the flat variant url
for bugs code sandbox link url 1 click in the checkbox
for bugs 1 go to this codesandbox url 2 wait for full module transpiling and tests to run 3 check the console tab it displays the debug view of the typography node you can clearly see it has a single text child with material ui 4 check the test output wrapper s text result is a fixed context free withstyles typography instead of node actual text contents
for bugs 1 go to url 2 hover in the middle of the button blocked by tooltip 3 notice that the button isn t clickable in the middle 4 hover around sides of button tooltip doesn t block it on sides
for bugs 1 create a dialog with tall content 2 3 4
for bugs this is the link url 1 if open modal button pressed error cannot read property getboundingclientrect of null appear
for bugs url see demo js there are two select one of them is wrapped with buttonbase and is not working properly
for bugs the codesandbox io template url 1 click on visibility icon 2 observe that password placeholder moves down 3 now click on visibilityoff icon 4 observe that password placeholder moves up
for bugs visit the website 1 2 3 4
for bugs 1 create a new react app 2 add material ui core v version 2 add a tabs component to the app 3 run the app in ie11 or 1 visit url in ie11
for bugs circularprogress variant static value 100 size 150 circularprogress variant static value 99 size 150 circularprogress variant static value 98 size 150 circularprogress variant static value 97 size 150 96 95 94
for bugs go to url and just play with item selection see that only color is applied not backgroundcolor and observe a weird ripple effect
for bugs i cannot simulate it in the sandbox unfortunately thus no reproducible demo
for bugs url press the buttons in the left stepper the ripple effect protrudes into the content
for bugs this is a live example of rtl layout that present the problem url this is the live demo of rtl from the docs i ve just added a simple list in it you can see that the textfield and input are aligned to right as expected but list is not 1 follow guide of setting up rtl 2 add a list component edit material demo url
for bugs 1 go to url 2 insert any username password and click login 3 notification is triggered and gui is messed up
for bugs 1 url 2 before styles are applied to button but are not visible even in dev tools
for bugs here is an example in the codesandbox for mu url 1 have an open dialog 2 put a circularprogress size 18 in the dialogactions elemnt 3 see the results
for bugs url 1 add select input with required attribute
for bugs gist url
for bugs 1 launch nvda version url 2 open the select component sandbox url simple select 3 attempt to interact with the select using the keyboard you cannot change the selection or select any element screen reader does not read options and does not announce that is a list
for bugs always reproducible when using tabs with collapsable drawer
for bugs 1 go to url with firefox 2 if you see the above console errors the hamburger will not work
for bugs just try to import it from material ui core
for bugs 1 open selectfield 2 try to navigate across the items by keyboard it works 3 try to select by keybord it doesn t work
for bugs url the codesandbox is the same code as on the speed dial demo page except that i added an alert to onblur and onclick of the action
for bugs i cannot find a way to setup live example since it is ssr app 1 curl url tar xz strip 2 material ui master examples nextjs 2 cd nextjs 3 yarn 4 add dangerouslyuseglobalcss true to the function createpagecontext in src getpagecontext file function createpagecontext return theme sheetsmanager new map sheetsregistry new sheetsregistry generateclassname creategenerateclassname dangerouslyuseglobalcss true 5 yarn dev 6 goto localhost 3000
for bugs you can see code here url i simply took the text field dialog example and added an array to map over i would expect to see multiple text fields but i don t same result with divs and such in my personal project
for bugs navigate to material ui next com attempt to use hamburger menu
for bugs 1 url 2 open the menu 3 open dialog 4 select first input with cursor 5 press tab
for bugs provide a link to a live example you can use codesandbox io and an unambiguous set of steps to reproduce this bug include code to reproduce if relevant which it most likely is this codesandbox io template may be a good starting point url if you do not take time to provide a codesandbox io reproduction should the community take time help you
for bugs url 1 set the line height on the container surrounding a circularprogress to greater than 1 and the size on circularprogress to less than 12 lineheight
for bugs grid ref ref this gridref ref grid
for bugs bug can be replicated here url by clicking on here in helper text you can see focus getting shifted to input element
for bugs 1 see zl5xopv1lp url 2 try dragging the know or click at any distance on the slider
for bugs 1 run this url code
for bugs 1 2 3 4
for bugs 1 create a button with an image inside of it 2 click on the button 3 before releasing the mouse click and drag chrome will display the dragged image icon 4 release the mouse ripple effect remains 5 repeat 2 4 to make effect deeper
for bugs 1 create dialog component 2 attempt to control paper size using paperwidthmd 3 tried using the prop here url and while i don t get a warning it does seem like the prop is simply ignored
for bugs 1 fill in the textfield until the cursor is in the cursor line rows line rowsmax 2 switch to a ime in this example the chinese pinyin input 3 type some long word until textfield increases 4 extra words original key strike of ime inserted before cursor material ui textfield bug url
for bugs 1 open url in ie11 2 try to click on slider to change
for bugs 1 add the snackbar component with the next anchororigin properties snackbar anchororigin vertical top horizontal right 2 load the page where a snackbar component is mounted on an ipad screen in portrait mode 3 change to landscape mode 4 you should now see on the top right corner shadow of hidden snackbar
for bugs 1 here is a link url 2 if you click the second item on the drawer component you ll get to a dialog with a input field that doesn t respond screen shot 2018 05 30 at 4 39 34 pm url 3 here is the code render const classes this props return div list listitem button onclick this handleclickopen listitemtext primary update neighborhoods secondary cambridge central listitem divider list dialog open this state open onclose this handleclose transitioncomponent transition dialogtitle id confirmation dialog title update neighborhoods dialogtitle dialogcontent grid container grid xs 12 justify center div classname classes slider integrationdownshift div grid grid dialogcontent dialogactions button onclick handleclose color primary done button dialogactions dialog div
for bugs 1 navigate to url 2 inspect the drop down and note that it has both foo and bar classes
for bugs 1 create a nested withstyles rule 2 upgrade types react to version 3 compile in typescript
for bugs see above
for bugs sandbox example url
for bugs using code from url third party routing library
for bugs 1 create new gatsby starter 2 install material ui 3 call createportal function by trying to make a drawer appear open a drawer
for bugs url open the preview in a new window and resize your browser i ve also attached a screenshot to this issue
for bugs you can reproduce in docs site url components auto complete 1 type 123 2 press arrow down key 3 press enter
for bugs to reproduce the bug simply use the code from the documentation for simple dialog url simple dialogs i didn t make a codesandbox as this is the exact same code as in demo but can provide if necessary
for bugs 1 url 2 in any of the selects select the none option 3 the label will float above an empty field
for bugs url 1 use bottomnavigationaction inside bottomnavigation 2 provide showlabel attribute true 3 check chrome console 4 there will be warning
for bugs 1 add select component 2 add menu items as children of select component 3 try to open select field
for bugs 1 go to url 2 copy the code for the multiple select to a material ui react project 3 add disableanimation true to the second select component 4 npm start in the command line can t demonstrate it on codesandebox io due as i descirbed url
for bugs put snackbar contentprops aria describedby notification message into render function
for bugs in this example i have two icons inside of an h1 with fontsize 4rem and also inside of another h1 with fontsize 3rem the first icon is default and fails to scale to the parent font size the second icon has css overrides to produce the expected behavior url image url
for bugs see above
for bugs 1 write import tablehead from material ui core table tablehead to app js 2 run jscodeshift t node modules material ui codemod lib v version import path js app js
for bugs 1 click on edit the source code on codesandbox 2 error compiling the code
for bugs url 1 render tooltip 2 implement styled components 3 override a specific class with the classes attribute 4 apply styling to the specified class
for bugs url 1 create a router with at least one route 2 point it to a component in another file i didn t get the problem before i split it into another file 3 have a button with component link 4 you will get an error from router when you go to that route note if you look in my code sample i have 2 additional commented lines in test js point the test browser to test first to get the error then remove the first line and try second one which uses link still an error try last line it works edit whoops working line only works in that it compiles but you can t actually click
for bugs url 1 navigate to login page in ie11 on a desktop with a mouse attached 2 click on the user name or password labels sitting on top of the inputs 3 notice that the label moves to above the input but does not focus input 4 click a second time to focus input
for bugs you can check on this url codesandbox
for bugs 1 use ie 11 or edge 15 2 go to url components text field 3 type something in the first text field shown on the page 4 note that the clear icon is much bigger than the text
for bugs example link on codesandbox url 1 create a textfield 2 pass properties to inputprops 3 inspect the rendered native input element
for bugs 1 2 3 4
for bugs 1 go url 2 find that id of a dialog inside src pages index is dialog 3 open chrome dev tools 4 click on super secret password button 5 navigate to the html element of the dialog that appeared on the screen 6 see that there is no id property
for bugs url 1 click the toggle button 2 the thumbs up icon appears 3 click the toggle button again 4 error expected behavior the thumbs up icon disappears
for bugs 1 open modal
for bugs const selectfieldprops autowidth true iconcomponent i classname material icons more vert i select value this state depth onchange this handlechange inputprops name depth id depth selectfieldprops children select
for bugs 1 open up the sandbox link above and then open the console 2 if you go and select an option from the table you will see its contents logged in the console when you go to select a second one you will be shown undefined
for bugs 1 open material ui s tables demo url on chrome 2 open developer tools f12 3 toggle device toolbar to simulate mobile device on dev tools screen 4 drag screen to the left example mui tt 2 url for comparison same dragging movement on another screen without tables and tooltips mui tt 4 url
for bugs sample codes here url and this also happened on offical site 1 typing 2 spaces at the end of the input field after the value hello world 2 a dot is appending to the end of input field value
reproduction is very simple the gist of it is const themestyles input fontsize 48px component code render return textfield placeholder material ui inputprops classes input this props classes input this sandbox reproduces the issue for me url
for bugs 1 visit url with safari or firefox 2 see date time pickers demo 3 not works
for bugs 1 go to url components text field on an ios device 2 find the multiline and floatinglabel example 3 enter enough text into the field to move the input out of the field of view
for bugs here is a link to a codesandbox that reproduce the problem url a timer in componentdidmount adds 20 to progress state every 2 seconds as you can see progress jump from previous value to the new one instantly is this the normal behavior or should it animates smoothly from the previous value to new one
for bugs typescript react starter app that uses material ui beta 46
for bugs here is the example url and here is the video about how can it be reproduced peek 2018 05 09 22 46 url 1 use textfield with label and type number and empty value 2 input 1 manually into textfield 3 unfocus it
for bugs url 1 focus a textfield
for bugs 1 download the material ui nextjs example project 2 create a new page called test with a material ui component that uses global styles 3 add a link anywhere in the first page of sample project using import link from next link link href test a here 4 notice on the first page of existing sample primary color is purple 5 click the and notice loaded page component is now default blue
for bugs 1 add the object props when creating a theme using createmuitheme function
for bugs a live example can be found here url login credentials email kevin vugts live com password please keep in mind that i am running on a free dyno from heroku so it can take 30 seconds to load the page for the first time to wake up the server same for the api which is hosted on heroku context issue is only happening on multiline version of a textfield description capacity all other textfields do work please note that all address credentials can not be edited at moment due api limitations
for bugs 1 go to url on an ios device or simulator i used ios version on an iphone 6 2 click open simple dialog 3 press on the background it will highlight in grey sample sample url
for bugs 1 hover over main button 2 click any action button 3 scroll down to main button 4 click main button once you need to click 2nd time to make it work
for bugs url class heroedit extends react component routecomponentprops irouteparams withstyles componentclassnames iherostate private heroesurl url constructor props any super props this state hero new heromodel open false this works this state hero age 32 this handlechange handlechange bind handlesubmit handlesubmit bind handledelete handledelete bind public componentdidmount gethero then response does not work setstate hero response does not work setstate hero state name asasdfasdfsadf catch error handleopen error message body stream already read public handlechange event react formevent any const input any event target does work setstate state input name input value get returns promise public gethero promise heromodel const id props match params id return fetch heroesurl id then response if response ok throw new error statustext return json public render const classes props return div classname classes root h1 edit h1 textfield label name name classname classes input value onchange handlechange textfield label age age classname classes value age onchange before image url after image url
in the demo below try opening the first menu by clicking on the first button then the second menu by clicking on second button notice that an extra click is needed to dismiss first menu then another one to show second menu url
for bugs 1 use the following outside of default class const muitheme getmuitheme autocomplete desired property 2 then place the following inside your render return muithemeprovider muitheme muitheme autocomplete muithemeprovider
for bugs div classname classes root appbar position static toolbar iconbutton classname classes menubutton color inherit aria label menu menuicon iconbutton typography variant title color inherit classname classes flex title typography button color inherit login button toolbar appbar div extends tslint recommended tslint react tslint config prettier rules object literal sort keys false linteroptions exclude config js node modules ts name heroes react ts version version private true dependencies material ui icons version beta 43 material ui version beta 44 prop types react react dom redux scripts ts scripts start scripts ts start build scripts build test test env jsdom eject eject devdependencies types jest types material ui types node dom redux typescript
for bugs class controls extends component state checkeda true handlechange name event console log check this setstate name event target checked render return div switch checked this state checkeda onclick this handlechange checkeda value checkeda div
for bugs 1 go to url 2 open the devtools of your browser to see the console because this example is using console log 3 click the click here button you notice that only the button handler is triggered thanks to stoppropagation yet wave effect is applied to listitem
for bugs codesandbox example url const styles theme expanded backgroundcolor red minheight 0 margintop 0 marginbottom 0 expansionpanelsummary classes expanded classes expanded backgroundcolor gets applied to the expanded summary area but the other listed css attributes get overridden expansionpanel root url expansionpanel content url
for bugs 1 open url on safari ios 11 2 open the hamburger menu on the top left corner 3 try to scroll the main page 4 the page scrolls drawer stays still same thing using a dialog 1 open url on safari ios 11 2 fire fullscreen dialog or responsive fullscree dialog 3 try to scroll dialog preferably near edges 4 at beginning scrolls but soon it will stay still and page will start scrolling instead using android 1 open url on chrome android 7 2 hamburger menu top left corner 3 try to scroll main page 4 will stay still 5 url 6 fire fullscreen or responsive fullscree 7 try to scroll preferably near edges 8 no effect only scrolls
for bugs jsx import react from react import mount from enzyme import datefilter from src app components board datefilter import getmuitheme from material ui styles getmuitheme muithemeprovider material ui styles muithemeprovider tojson enzyme to json const muitheme getmuitheme describe unit testing of datefilter js funcitonality const mountwithcontext node mount node context muitheme it should render the datefilter component const mountwithcontext applyapifilter null expect tojson tomatchsnapshot
for bugs 1 url component 1 find the toolbar top right 1 click light dark lightbulb to change to dark theme
for bugs here is the live example on codesandbox io url 1 click the select component notice the tooltip stays on top of the menuitems 2 select any of menuitems notice how tooltip flickers as you move your mouse 3 click it menuitems disappear but tooltip is still displayed as if there was a mouse hovering select
for bugs see above
for bugs just add the button component which is already included at the codesandbox template url by default
for bugs this is a sandbox based on my on code url obs the demo is the original file from the documentation the demo2 is where form is
for bugs cannot reproduce error in codesandbox only locally here is a screenshot of the code that causes the error image url here is a manually edited withstyles d ts the error is gone image url
for bugs 1 use a text field component 2 give style attribute and give textalign to center or right like this url
for bugs 1 2 3 4
for bugs url 1 set speeddial to be hidden 2 toggle speeddial child on off and try to interact with the button underneath it
for bugs go to url in chrome and open up developer tools have a look at network tab image url
for bugs url the problem seem to be related to maxrows and rows properties ass soon as the only maxrows is defined and rows is missing or less than maxrows the issue occurs
for bugs several ways to reproduce but this is probably the easiest using a fontawesome icon 1 create an iconbutton jsx iconbutton onclick this handleclick bind this iconclassname fas fa cog iconstyle color iconhovercolor notice that the icon stays at color and doesn t change on hover 2 remove color jsx iconbutton onclick this handleclick bind iconclassname fas fa cog iconstyle iconhovercolor now the icon changes from the default color to iconhovercolor
for bugs 1 open a dialog including a text field 2 fill the text field with whitespaces 3 close the dialog immediately codesandbox url live demo url
for bugs 1 try to compile the sample code typescript import withstyles withstyles from material ui import as react from react import app css interface istyle content any interface icomponentprops caption string type componentprops icomponentprops withstyles content const decorate withstyles theme istyle content margin 4 const component props componentprops return div classname props classes content hello props caption div const styledcomponent decorate component class app extends react component public render return div classname app styledcomponent caption developer div export default app
for bugs 1 2 3 4
for bugs 1 open url components icon menu with safari on an ios device 2 touch on an iconmenu button 3 try to dismiss it by touching outside the menu
for bugs open the expansion panel url page in chrome and ie11 and the difference should be apparent i would provide a codesandbox io example except the browser on there does not display the issue we have found that when using a large number of expansion panels we see extra line thickness every third panel
for bugs 1 click button that opens dialog popup etc 2 hit esc to close it
for bugs code url example url
for bugs 1 create a form with the material ui datepicker with name birthday and hinttext birthday 2 save the form 3 make sure you have birthday as an autofill option in safari 4 click on birthday again app should break
for bugs 1 open chrome 2 open task manager and observe low cpu usage 3 go to url 4 observe how the task manager shows the demo tab using much cpu and gpu
for bugs provided above
for bugs 1 use cssbaseline in your project and try to run some sort of ssr build
for bugs 1 markdown file ffplay research notes
for bugs 1 edit create react app url or download the source that cloned from codesandbox create react app zip url
for bugs 1 2 3 4
for bugs open official website of material ui and click on flat buttons component in responsive mode mobile screen can also be seen if you open the website on a mobile device with a chrome browser
for bugs 1 roughly follow the server rendering instructions but not 100 exactly 2 experience a multitude of issues 3 try everything to fix it 4 eventually cave and put the jssprovider also client side 5 find it worked in one situation and not another 6 fix the problem again by using dangerouslysetinnerhtml but then find out changing the route breaks it again 7 post a call for help on github
for bugs here s a code sample tooltip placement top title formattedmessage id userfeedback likely defaultmessage likely iconbutton disabled this state resolved onclick this handleclickrating likely facesmile color smilecolor iconbutton tooltip
for bugs import attachmoney from material ui icons attachmoney
for bugs js import iconmenu from material ui iconmenu import menuitem from material ui menuitem import iconbutton from material ui iconbutton import moreverticon from material ui svg icons navigation more vert function wrapper component return component primarytext wrapper function wrappedmenuitem return wrapper menuitem iconmenu iconbuttonelement iconbutton moreverticon iconbutton anchororigin horizontal left vertical top targetorigin horizontal left vertical top menuitem primarytext not wrapped primarytext not wrapped primarytext not wrapped div div wrapped div wrappedmenuitem iconmenu
for bugs opening any modals or select dropdowns trigger the issue i ve checked and its even happening on the material ui next site
for bugs 1 using url from the documentation click the open simple dialog button 2 when the dialog appears press escape to close the dialog 3 ripple effect is displayed in button until something else is clicked alert dialog demo does not seem to have same behavior url
for bugs 1 render a select component with a variable width e g within a fullwidth formcontrol 2 resize the window until the input width changes 3 toggle the dropdown 4 the menu width will be that of input before step 2 sandbox url
for bugs edit material demo url 1 open the link above 2 check the console
for bugs 1 go to url 2 click cards on the left menu 3 4
for bugs codesandbox url 1 you can see that the first 3 steps are wrapped in a custom container component and they are not displaying the way it should be number of step active or any other prop 2 the 4th step is used as a direct child of the stepper and it s working as intended
for bugs drawer open show anchor window innerwidth 768 bottom right variant window innerwidth 768 temporary persistent classes paper classes paper docked classes docked content drawer if i remove this component the scrollbar is gone or if i change the anchor to bottom the scrollbar is gone too i ve tried change the variant to temporary and permanent scrollbar is gone it only show up on persistent variant
for bugs testclass tsx pre const decorate withstyles palette spacing mixins typography breakpoints interface testclassprops class testclass extends react component lt testclassprops gt render return note that this should result in compilation failure because withstyles is not present as part of the props in this class export default decorate testclass pre
buttons demo url
for bugs url 1 open sandbox output in a new window 2 toggle device toolbar in devtools 3 open drawer
for bugs url add a select input in a vertical stepper click on select no option is visible
for bugs this can be observed on the official documentation page url
for bugs url 1 click on input field 2 notice how tab bar appears above keyboard taking up valuable real estate screenshot url
for bugs 1 2 3 4
for bugs 1 2 3 4
for bugs 1 go to url 2 take a look at any disabled controls
nested menus section in docs url components menu
for bugs url 1 clone the repo 2 install dependencies 3 run tests from the list of 3 currently found problematic dependencies removing one makes the tests watcher work properly node sass chokidar version material ui version same behavior with the next enzyme version
for bugs 1 nest children in expansionpaneldetails 2 error in console 3 both examples work but both have ugly side effects
for bugs 1 create a new react app using create react app or create a new empty react project 2 install material ui next 3 copy and paste the paper example found here url components paper 4 start the application an example can be found at this codesandbox url made
for bugs i found that having the cssbaseline makes the background color possible url but without it doesn t work url i must have missed this in the documentation to be a mandatory part of the setup if so then please point me to it
for bugs 1 go to url 2 click lightbulb in toolbar to switch to dark theme 3 mouse over or click the speeddial button in either of the demos 4 notice that speeddialaction icons are difficult to see
for bugs 1 npx create react app myapp 2 cd myapp 3 npm install material ui next 4 npm start
for bugs 1 open firefox 2 go to your site 3 click on style 4 see what happening
for bugs the code to reproduce the error is below js import react from react import map from lodash map import upperfirst from lodash upperfirst import listitemwithtertiarytext from meteor zetoff vulcan material ui theme list material ui list typography material ui typography grid material ui grid withstyles styles const styles theme emptylistwrapper width 100 textalign center marginbottom theme spacing unit class interventionslist extends react purecomponent render const interventions classes formatmessage this props console log classes const emptylistlabel upperfirst formatmessage id noresults defaultmessage no results found if interventions interventions length 0 return grid container aligncontent center alignitems center grid item xs 12 div classname classes emptylistwrapper typography variant body1 emptylistlabel typography div return list dense map interventions intervention listitemwithtertiarytext key intervention id intervention primarytext intervention secondarytext tertiarytext primarytext primarytext secondarytext secondarytext tertiarytext tertiarytext icon icon onclick onclick list export default withstyles styles interventionslist the warning displayed warning the key flex provided to classes property is not implemented in interventionslist you can only override one of following emptylistwrapper log of object emptylistwrapper interventionslist 512 flex undefined withflexwrapper flex 448
for bugs simply use react select in a typescript project
for bugs see codesandbox the top row of boxes uses no material ui components the bottom row uses only two different icons url
for bugs 1 create a button can be any element 2 wrap it in a tooltip 3 set the css of the buttons parent to overflow auto overflow y hidden 4 the tooltip should now overlap with the button 5 hover over area where button intersects with tooltip 6 you should be able to observe flickering sandbox url
for bugs 1 going to the component demo on the website url 2 add properties maxheight 300 overflowy scroll to root 3 change listitem count to 10 4 start scrolling
for bugs this is the reproduce error url 1 add a entry at todolist 2 when the entry is checked the another icon shows in disorder
for bugs apply styling via classes overrides option in the tablepagination component api or try to apply styling via classes override in selectprops it does not work
for bugs javascript dialog dialogcontent textfield id multiline flexible label label multiline rowsmax 2 value value onchange this handlechange value margin normal dialogcontent dialog
for bugs edit create react app url see should render test 1 create a react project with create react app 2 make a component 3 make a test for the component with a shallowrender using enzyme and jest
for bugs 1 go to the component demo on the website url on mobile or simulating with chrome dev tools 2 tap the speed dial tap elsewhere then on the speed dial again please note that i ve only copied code from example and tried it in my own app where i noticed bug i then proceeded to test if bug was present on demo page which it is that means problem should be reproducible by going to website or making a local clone of this repository and running docs as described in contributing md url getting started
for bugs im not quite sure how to reproduce typing errors using codesandbox please let me know if a reproduction repo is needed if so i will quickly create a repo for that 1 use select component in a typescript project in my case typescript version 2 pass in event two const value event target value value join console log two due to the usage of react changeeventhandler htmltextareaelement htmlinputelement for the onchange prop the type and behavior is not identical
for bugs 1 unable to replicate in sandbox i can t really say why given that the node module contents are hidden from me
for bugs 1 2 3 4
for bugs class app extends component render var mytabs tabs tab label item 1 tab label item 2 tabs return div appbar title my app iconelementright mytabs repos will turn up here similar to github but before this design checkout how to integrate with gthub api div
for bugs 1 select date 2 change year manually 3 try to input more than 4 digits
for bugs 1 open formhelpertext d ts 2 look for component 3 none found
for bugs url 1 copy the example from the demo and attempt to use it i am using this with redux actions the original material ui worked with this setup so i would assume this next version will as well
for bugs example here url note multiline true has already been added to the textfield
for bugs js listitem listitemtext blah listitemtext listitemsecondaryaction div style height 20 width 20 backgroundcolor red listitemsecondaryaction listitem
for bugs 1 download the zip of the repository 2 extract the create react app with typescript folder 3 run npm install in the extracted folder 4 run npm start
for bugs url 1 create a theme with letterspacing version em for caption 2 create a textfield with inputlabelprops shrink true 3 see how the theme defined for caption is not applied to the textfield label
for bugs apply styling via classes overrides option in the tablepagination component api
for bugs steps to reproduce url selects just use multiple select with chip here
for bugs under textfield d ts textfieldprops extends standardprops formcontrolprops textfieldclasskey onchange defaultvalue in which formcontrolprops extends standardprops react htmlhtmlattributes htmldivelement which obviously is why onkeydown resolves to react keyboardevent htmldivelement
for bugs codesandbox link url steps to reproduce 1 navigate to url 2 use the tab key to navigate to the delete icon 3 once the delete icon has focus press enter and or space try delete the chip
for bugs in the sandbox click on the select and wait for it to load url
for bugs 1 go to this url url floating action buttons 2 out of the 3 icons add edit and delete hover over the delete icon 3 the hover state of edit icon gets triggered which is not correct
for bugs 1 install the latest package version of the material ui next from npm 2 check a component classkeys i e linearprogress or tab 3 notice that the classes are not the same with list of classes in components api and github files 4 compiling old version of code using previous classkeys do not return error 5 running application shows warnings saying classes defined are not existing
for bugs 1 go to 7ym5xyvq16 url 2 resize the app window
codesandbox io link url 1 visit link 2 select any item from any select field 3 press tab 4 press the space bar or return key 5 see that no selection can be made
for bugs the official controlled accordion example if you click on an open panel if should close but it stays open url
for bugs 1 go on url 2 start typing some text inkbar should become green 3 exceed the limit inkbar is still green
for bugs i ve made a code example here url
for bugs 1 override muibutton sizesmall sizelarge key using createmuitheme 2 get ts error of type mismatch or something like that
for bugs steps to reproduce 1 go here url 2 scroll down to full screen dialogs address bar should be hidden by now 3 scroll up a little bit so the chrome address bar shows 4 now open the dialog 5 note chrome address bar is showing 6 click and hold drag the dialog content up notice that the address bar goes and you can see content under dialog 7 release drag dialog resizes to full screen again
for bugs this if forked from materialui auto complete example 1 open url 2 enter letter a in the search at the top
for bugs check maxlength working url
for bugs 1 create a form 2 add select field with name 3 submit form and serialize json 4 there will be no field for the select value
for bugs 1 try changing backiconbuttonprops aria label previous page in sorting selecting sample table to backiconbuttonprops aria label first page url
for bugs i can t seem to reproduce this in codesandbox but the link is below and the component hierarchy is the same as i m using namely i have a snackbar conditionally rendered in a parent component and triggered from within a modal living in a child component edit create react app url
for bugs i use the muithemeprovider like this muithemeprovider theme createmuitheme palette primary mainpalette secondary accentpalette error errorpalette type light spacing unit 4
for bugs this sandbox demonstrates how far i m able to go for indicator customization i ve modified the height and margins of the indicator using class overrides but i m not able to access or modify the width because it s a function of the selected tab size notice overhang on right side of selection url
for bugs by default screenshot 3 url component button better to set button is true and component automaticaly be a button screenshot 4 url url 1 props component by default it s a li when button is false and a when is true 2 3 4
for bugs 1 copy and paste the example code for the table component from the documentation docs url components table 2 use it in another component to render it 3 profit see example url for an example
for bugs this happening only with iphone safari 1 type something in auto complete text box 2 you will get more than one result 3 select any item in the filtered result except first item 4 you will see first item appears in the textbox rather the one you selected if you do not take time to provide a codesandbox io reproduction should the community take time to help 1 2 3 4
for bugs url 1 add a button inside a link
for bugs 1 click checkbox in table header
for bugs code at sandbox url 1 load the sandbox code 2 click on the switch 3 nothing happens at first
for bugs n a possibly more of a feature request
for bugs jsx textfield fullwidth select label days and stuff menuitem value 0 today menuitem menuitem value 1 24 hours menuitem value 7 7 days value 15 15 days 30 30 days textfield
for bugs 1 go to url 2 click open simple snackbar 3 switch to some other program but one that doesn t hide the browser so that you ll see that the snackbar remains up 4 wait 10 seconds the snackbar in this demo should auto hide after 6 seconds so if it hasn t disappeared after this long then this shows that autohideduration isn t working 5 click back inside the browser wait a few seconds and snackbar will disappear this bug started in v1 x it didn t happen in v0 x see for example demo for old url components
for bugs gif of bug url url using standard drawer and button config from material ui demo
for bugs the problem lies here url l296 swapping the lines 295 and 296 should fix this bug
for bugs replace flatbutton with raisedbutton in this file url to see the error i should add that i noticed after i pushed that material ui was actually installed in my root directory not directly in my client shouldn t matter but i installed it directly in my client anyway and there was no change the behavior
for bugs i managed to reproduce the bug in codesandbox link url
for bugs 1 just take a look here url l279
for bugs 1 an example of this is on the material ui pickers doc site url 2 source to produce this is here url image url the horizontal positioning issue can also be seen on the example on material ui next com however the vertical positioning seems to come from using an iconbutton horizontal issue is because width 100 is set on input element removing this and setting flex grow 1 fixes this vertical issue can be fixed by setting a fixed height of 48px input adornment
for bugs 1 go to the material ui docs for dialogs url alerts 2 open a alert 3 observe the missing ripple effect on button
for bugs 1 generate some load inside a promise 2 observe circularprogress animation it still runs but the length of the circle stays constant demo url warning chrome pls firefox crashes under this artificial load
for bugs i spun this up to demo the issue url
for bugs 1 visit modal example url 2 open modal and notice there is a short transition for opacity 3 close the modal and notice all content pops off instead of transitioning
for bugs 1 follow rtl enabling steps here url 2 add jss rtl 3 use the hoc url 3 jss rtl to wrap any textfield in your code 4 npm run build
for bugs see codesandbox here url if you navigate to the demo js you ll see the relevant code
for bugs main component reactdom render appcontainer provider store store connectedrouter history history children routes provider appcontainer document getelementbyid react app 1 build an app with any material ui component 2 build it for production there is no point to show it in codesandbox io since it can t build project in production mode
for bugs url 1 make a circularprogress with a value of 20 2 make a circularprogress with a value of 50 3 make circularprogress with value of 85
for bugs i tried my best url i have no idea why this codepen sample isn t working 1 make a table with a tablebody 2 its children will be mapped from an array into tablerow objects 3 set the selectable property of the tablerow objects to false 4 the checkboxes generated won t be selectable but they won t have the disabled property 5 using dev tools set same tablebody to be selectable false and it sets disabled true for every checkbox
for bugs i am using react int url library for internalisation it woks really well with material ui and only fails at placeholders i e textfield label formattedmessage id index email placeholder formattedmessage id index emailexample fullwidth margin dense value email onchange target this setstate email target value placeholder is displayed as object object this works fine for label in same field and things like tabs
for bugs 1 input japanese util having newline 2 in textfield will have duplicate text textfield underlineshow false fullwidth multiline rowsmax 4 textfield
for bugs paper elevation 4 classname dashboard paper grid container spacing 24 grid item xs 12 sm 6 paper elevation 8 typography this is the component that causes me some troubles variant headline component h3 classname dashboard typography this is a sheet of paper typography typography component p can be used to build surface or other elements for your application grid grid dashboard padding 2 background color 3f51b5 color ffffff
for bugs go to url using internet explorer 11 and attempt to click on a link on the drawer
for bugs 1 2 3 4
for bugs url 1 click on button collapse 2 enter a character 3 input is moving jumping around collapse input with iconbutton as adornment url
for bugs 1 go here url 2 check a checkbox 3 uncheck the checkbox 4 notice color
for bugs 1 copy and paste the code in the source section of raised button or any button and try to render it in a current project i tried with and with out muithemeprovider to no avail import react component from react import button from material ui button import muithemeprovider from material ui styles muithemeprovider export default class test extends component constructor props super props render return muithemeprovider variant raised color primary hello world or import react from react proptypes prop types withstyles material ui styles material ui const styles theme margin theme spacing unit input display none function raisedbuttons props const classes props return div variant raised classname classes default variant raised color primary classname classes primary variant color secondary classname classes secondary color secondary disabled classname disabled input accept image input id file multiple type file label htmlfor file component span upload label div raisedbuttons proptypes proptypes object isrequired export default withstyles styles raisedbuttons
for bugs codesandbox example url
for bugs yarn add material ui next yarn start which runs parcel index html
for bugs 1 browse to the the multiple select demo url multiple select on a mobile device or using chrome s emulator 2 select some names 3 try deselecting a name 4 observe it still having a grey background peek url
for bugs see a demo here url
for bugs 1 import any icon from material ui icons package 2 render it 3 see warning in console note i tried this in codesandbox but did not see the warning but here is the link regardless url
for bugs i made a repository to illustrate the problem url
for bugs 1 create simple multiline text field 2 enter multiline text
for bugs codesandbox link here url 1 simply insert any appbar example of the demo site with a title
for bugs code sandbox url 1 create a react js app 2 import drawer from material ui drawer 3 add it to a component and set the varient to either persistent or permenant 4 load the page
for bugs 1 open the menu 2 click outside of the menu
for bugs url 1 2 3 4
for bugs 1 open url 2 you can see that shouldnt be visible on load button is visible on load while it shouldn t 3 click show button shouldnt be visible on load will still be there another button mountonenter helps but shouldnt be necessery will show 4 from now on you can toggle hide show everything works fine only point 1 is problematic
for bugs 1 open url 2 open debugging console 3 click on the buttons see the event target object which is a child span of the flatbutton that is being created behind the scenes
for bugs able to manually set style for floatinglabeltext
for bugs i don t have a small project to reproduce this i made only this video url if you have no idea why it happens just close this issue i will try to fix it later html tabs indicatorcolor primary textcolor primary value this props activetab onchange ontabschange fullwidth tab label sign in value login tab label sign up value register tabs
for bugs on a media size small enough so that snackbar covers the full width of the page 1 add a floating action button 2 add a snackbar
for bugs url open the select and select a value you will see the popover is horizontally shrunk when it is exiting
for bugs the full code for the component import as react from react import link from react router dom import typography from material ui typography import withstyles from material ui styles const styles textdecoration none hover color white function textlink props return link to typography color secondary type body1 style styles props text typography link export default withstyles styles textlink
for bugs this can be reproduced on the popover demo page url i have reproduced this on windows as well i have not been able to reproduce it on firefox safari on the demo page in chrome 1 click open popover under the section anchor playground 2 click outside of popover to close it 3 scroll down to section mouse over interaction 4 hover over hover with popover 5 mouse out of hover with 6 page will snap up to top of page
for bugs the non working code is provided above
for bugs single click
for bugs edit materialui react router bug url 1 press tab key until keyboard focus is on the bar item 2 press spacebar 3 observe js error
for bugs described above
for bugs see url which is a demo i setup for 10037 which includes an explicit container prop which is clunky
for bugs see url you can see that the menu is positioned correctly within the main window relative to the button however in the popout window menu overflows parent window
for bugs 1 create radiobuttongroup 2 create radiobutton inside it 3 add raisedbutton to the label of the radiobutton 4 see object object instead of the actual results
for bugs typescript const test withstyles props classes any div const app test
for bugs url 1 view code sandbox example url 2 mouseover both svg images toggle component doesn t change svg color on hover
for bugs 1 add a typography component 2 add property nowrap to the compnent 3 set the type property of the component to body2 4
for bugs demo url 1 add an input to a modal 2 open the modal and try to edit the contents of said input
for bugs 1 url 2 see demo js 3 try purple it works 4 try orange deeporange lightblue and maybe some other it throws typeerror
for bugs just create a checkbox on a page use oncheck to call a function and try to tab into it and press the spacebar our users are telling us it doesn t work or that it takes them 3 5 times hitting the space bar before it takes affect but if they click on with a mouse is the 1st time if you do not take time to provide codesandbox io reproduction should the community take time to help you no they do not need take time write reproduction i think should be easy do
for bugs actually you can reproduce it with the default sandbox link provided url 1 click on the button super secret password 2 after the modal is opened enter esc and watch the button ripple effect pulsing
for bugs url 1 use code above 2 check console
for bugs in a react scripts app 1 yarn run build
for bugs 1 go to persistent drawer url persistent drawer example 2 click on menu icon to toggle drawer 3 notice persistent drawer title is hidden under instead of being shifted
for bugs 1 i m trying to build a nested menu recursively every menu element is a component with withstyles 2 component ul in the component ul can t get the classes of the jss 3 this is an example menu data pre type ul title ul level 1 children type title level 2 children type li title li level 3 type li title li level 2 1 pre 4 checkout the demonstration of issue there is also working version without withstyles url thanks in advance
for bugs 1 go to url npm and view the code snippet
for bugs run nextjs sample app
for bugs create custom theme js const palette types dark background default light background default ffffff const theme createmuitheme palette use this theme to set body background js const styles theme global body background palette default this will have no effect on the body because the palette values are ignored color can only toggle between fafafa and based on the value of type i am currently using the following workaround but this seems completely unnecessary js const styles global body type light types light default types dark
for bugs 1 clone the example 2 try to build 3 it will fail
for bugs see edit url
for bugs url 3 4 notice that there is extra padding bottom it is applied in last child selector source file here url line 9 now this selector doesn t take effect if there is cardactions present in fact this selector will apply only when there are multiple instances of cardcontent in my opinion which should be never since one card should have only one card content i may be totally wrong here and please correct me if i am understanding this wrongly
for bugs go to url click on open left then click anywhere to dismiss it
for bugs url 1 add a button as follows button raised color primary default button
for bugs provide a link to a live example you can use codesandbox io and an unambiguous set of steps to reproduce this bug include code to reproduce if relevant which it most likely is this codesandbox io template may be a good starting point url
for bugs use this in your react app to reproduce selectfield openimmediately true
for bugs 1 build a appbar with redux title with a textfield onchange dispatch action to reducers appbar js appbar title textfield value reducers1 onchange e e target value length 0 action2 true action2 false action1 2 build a new js file with drawer inside have menu and menuitem and somecomponent new js render return div bool from reducers2 a b drawer docked false open reducers3 onrequestchange bool action3 bool menu menuitem primarytext sth menu drawer div 3 and when you try to trigger reducers2 to make component changed from to b thought action2 4 and the component will changed but the textfield will lost focus 5 but if you change menuitem listitem that will avoid the problem occurs
for bugs tsx class toggle extends react component toggleprops private togglechange event checked this props field visible checked render const value this props field visible on off return div data hook toggle switch value value checked this props field visible onchange this togglechange div test tsx wrapper mount toggle field attachto document createelement div input wrapper find input on input props value on these options do nothing wrapper simulate click input simulate click tsx also tried which throws onchange typeerror cannot read property target of undefined at object switchbase handleinputchange as onchange node modules material ui internal switchbase js 115 27
for bugs issue could be reproduced on material ui official website on iconmenu component subpage url components icon menu seems to be reproducible for material ui v1 as well url max height menus 1 open page on ios device 2 click on iconmenu popover position should be good 3 zoom page click iconmenu again the popover position will be awkward as the screen attached 4 if popover position is normal zoom page more or less and repeat step 3 attaching screenshots for conveniece initial url zoomed url
for bugs in this sandbox url 1 hover the first line 2 click on the popover nothing is logged the issue 3 hover the second line 4 click on popover some text is logged is printed in console as expected
for bugs 1 render component table tablebody tablerow tablerowcolumn textfield 2 click on the first textfield in the first tablerowcolumn 3 switch focus on the other textfield by pressing tab key javascript class treatmentcontent extends react component constructor props super props this state type notes status location food firstname lastname email day this notestoadd type text notes text status text location text food firstname lastname email day number this reorgtablerow this reorgtablerow bind reorgtablerow const noteskeys keys notestoadd const chunkedkeys chunk noteskeys 3 return map chunkedkeys keychunk i tablerow selectable false key i style border none map keychunk keyname j tablerowcolumn key j textfield hinttext keyname floatinglabeltext keyname type notestoadd keyname value state tablerowcolumn tablerow render return div table tablebody displayrowcheckbox false reorgtablerow tablebody table div
for bugs typescript stepbutton error in xxx xx tsx tsl error in xxx xx tsx 240 29 ts2322 type children string is not assignable to type intrinsicattributes stepbuttonprops children reactnode type children string is not assignable to type stepbuttonprops property orientation is missing in children string
for bugs 1 click on deploy to now button in url 2 provide valid zeit token 3 click deploy 4 deployment fails and following message is shown in the deploy page deploying examples nextjs directory in v1 beta branch of mui org material ui deploy failed please check the repo and try again
for bugs 1 fix the width should not change the width of iconmenu 2 fix layout
for bugs copy paste the example code from the responsive drawer into a typescript project in visual studio code you may also need to do some casting to any as the styling stuff doesn t really play nice with ts at the moment
for bugs const custommuitheme createmuitheme toverrides t tmuitouchripple t t troot t tdisplay none
for bugs const theme themeoptions palette primary green 1 set primary to any color runway
for bugs my implementation import react from react import muithemeprovider createmuitheme from material ui styles const theme createmuitheme palette primary 50 eaf6f8 100 cae9ed 200 a6dbe1 300 82cdd5 400 68c2cc 500 4db7c3 600 46b0bd 700 3da7b5 800 349fae 900 2590a1 a100 68c2cc a200 4db7c3 a400 3da7b5 a700 4db7c3 contrastdefaultcolor light secondary 50 fef9e9 100 fcefc8 200 fbe5a3 300 f9db7e 400 f7d363 500 f6cb47 600 f5c640 700 f3be37 800 f2b82f 900 efac20 a100 f7d363 a200 f6cb47 a400 f2b82f a700 efac20 contrastdefaultcolor dark error 50 fbeeee 100 f4d4d4 200 edb7b7 300 e59a9a 400 e08484 500 da6e6e 600 d66666 700 d05b5b 800 cb5151 900 c23f3f a100 e08484 a200 da6e6e a400 d66666 a700 cb5151 contrastdefaultcolor dark overrides muibutton name of the stylesheet root name of the rule background linear gradient 45deg fe6b8b 30 ff8e53 90 borderradius 3 border 0 color white height 48 padding 0 30px boxshadow 0 3px 5px 2px rgba 255 105 135 30 const theme children muithemeprovider theme theme children muithemeprovider export default buttons are children of palette changes took effect but nothing related to overrides did
for bugs formcontrol inputlabel htmlfor activity level activity level inputlabel selectfield input input name sort id activity level onchange this handleformchange activitylevel value this state activitylevel tooltip id tooltip sedentary title little or no exercise placement right menuitem value sedentary sedentary menuitem tooltip tooltip id light title 1 3 week placement right menuitem value light light menuitem selectfield formcontrol handleformchange key return event debugger let newstate newstate key event target value this setstate newstate
for bugs 1 have typescript setup in a react environment 2 use import datepicker from material ui datepicker to import the datepicker right now i m getting around this error by using const datepicker any require material ui lame 3 add an onclick property to your eg onclick console log opening the 4 see annoying red stuff in your editor
for bugs 1 open dialog component with props fullscreen true
for bugs 1 look at url 2 then look at the type definition url 3 note the differences in keys defined for zindex also noted in the changelog url
for bugs 1 going to url multiple select 2 select some items in multiple select example 3 click on any space on page 4 see how label mixed with selected variants on field image url
for bugs 1 have a form with checkbox or radiobutton controls 2 click and drag over the option labels text attempting to select the text 3 text does not get selected
for bugs i apply my styling as follows javascript import as react from react import tab as materialtab tabprops from material ui tabs import withstyles theme from material ui styles import withstyles from material ui styles withstyles const tab react sfc tabprops withstyles root props return materialtab label props label classes root props classes root const styles theme theme root height 60 export default styles tab and use my custom component inside an uncostumized tabs component javascript tabs value this state value onchange this handlechange indicatorcolor primary textcolor primary tab label settings label sensors tabs as mentioned if i supply the textcolor prop the building works even though the functionality seems to be broken but that s probably another thing javascript materialtab props classes classes textcolor primary
for bugs i have an another error trying to reproduce the bug url
for bugs 1 create table 2 add table pagination 3 4
for bugs when i use chip in my code and test my code on chrome when i click the delete icon it should only activate the onrequestdelete action but it also activates onclick it also happens when i copy the example and paste it in my code is there anyone knows why thanks a lot
for bugs go to the official component demo of the multiple select url and click it the first item stays the selected in popped up list even if you move mouse pointer elsewhere
for bugs ts export interface appmenuprops classes record string string undefined const styles theme theme root width 100 flex flex 1 menubutton marginleft 12 marginright 20 appbar background theme palette common black color theme palette common white loginbutton color palette common white class applicationmenu extends component appmenuprops render const classes this props return div classname classes root appbar position static classes root appbar toolbar iconbutton classname menubutton color primary aria label menu menuicon iconbutton typography type title color inherit classname flex supportworks dashboard typography button root loginbutton login button toolbar appbar div export default withstyles styles applicationmenu error here
for bugs url in the sample both switches should become true after timeout of 2000 checkeda with initial value of false works checkedb remains unchecked
for bugs i don t think codesandbox runs electron 1 use in electron is a valid use case is it not 2 brings to light a bug or omission 3 would help me tremendously with my project 4
for bugs following the instructions at url 1 curl url tar xz strip 2 material ui 1 beta examples nextjs 2 cd nextjs 3 npm run build 4 npm run start
for bugs dem url
for bugs my render function code is as described below trender t tif this state redirect t t treturn redirect push to pathname this state redirectpath t treturn muithemeprovider div style styles megamenucontainerstyle menu tdesktop true twidth 100 tonitemclick this menuitemclicked menuitem primarytext map view insetchildren true menuitem tprimarytext chart view tinsetchildren true trighticon arrowdropright tmenuitems menuitem primarytext time series chart view menuitem primarytext scatter chart view primarytext calendar chart insetchildren true table insetchildren schematic insetchildren menu div muithemeprovider
for bugs 1 codesandbox snippet url 2 add a chip element to app 3 the rendering differs in chrome and edge 4 wrapping chip with inline flex container e g badge or custom div fixes an issue
for bugs textfield id reason note multiline true maxlength 255 onchange this onreasonnotechange underlineshow false note the textfield is being used into a dialog textarea cursor2 url
for bugs 1 curl url tar xz strip 2 material ui 1 beta examples nextjs 2 cd nextjs 3 yarn 4 yarn dev 5 open browser url
for bugs 1 have content within body tag that causes it to overflow or body has style of overflow visible 2 open select drop down
for bugs url 1 container should have position absolute 2 add an iconbutton surrounded by a tooltip 3 set tooltip s title to test title
for bugs 1 using zeit s nextjs url with typescript 2 install material ui following the typescript tutorial url customization of theme 3 try adding primary red 300 to your color palette 4
for bugs this bug is visible on the bottomnavigation component page on material ui com here url components bottom navigation i have also mocked up an example edit o9q3kjrzkq url
for bugs 1 create a simple component that has a delayed render like so class delayedcomponent extends react component state isset false componentdidmount settimeout this setstate isset true 1000 render if this state isset return div div else return div this is some really long text to test the popover component with formcontrol component fieldset formlabel legend anchorreference formlabel radiogroup row aria label anchorreference name anchorreference value this state anchorreference formcontrollabel value anchorel control radio label anchorel formcontrollabel value anchorposition control radio label anchorposition radiogroup formcontrol div and use the popover like so render popover open open anchorel anchorel anchorposition top positiontop left positionleft onclose handleclose anchororigin vertical anchororiginvertical horizontal anchororiginhorizontal transformorigin vertical transformoriginvertical horizontal delayedcomponent popover 2 position a button to trigger the flush right 3 open the
for bugs beta 24 example url beta 21 example url
for bugs the issue is hard to track down as i am not a developer however it does not occur at our development environments this leads me to believe it s going wrong during npm build somewhere in our webpack stack adding the unit types would however bypass the issue all together imho might be related url url
for bugs url 1 open dropdown 2 try to select the last entry
for bugs url select a value click it again to unselect it then the option doesn t lose the selected background until the select menu is closed and reopened so we can t know if we have unselect it
for bugs working sample available here url steps 1 check several boxes 2 search for data 3 notice that the data changes and check boxes are now all cleared
for bugs 1 2 3 4
for bugs 1 install material ui v version beta23 on a fresh project with create react app 2 copy over the example code for a chip array url 3 observe how the delete icon does not appear for any of the chips 4 observe in the console error warning unknown event handler property ondelete it will be ignored
for bugs 1 click on a button and compare the result with the specification
for bugs look at the source code
for bugs 1 go to url 2 click any item in open one and it will console log closing two it should console log closing one
for bugs 1 go to url components card 2 check chrome s dev tools elements event listeners scroll you will see there is one scroll listener this is your baseline 3 now click on the popover menu item to see the example popover page 4 check chrome s dev tools elements event listeners scroll you will see four listeners one listener was registered for each popover on the screen even though they are not visible at the moment this means popovers are registering even if they are not active at all
for bugs 1 have a page with multiple textfields for example url 2 use dev tools to see which parts of the page is repainted for example chromes paint flashing or layer boarders 3 focus a textfield
for bugs 1 create a dialog 2 add list items count should be above 30 inside dialog 3 add styling with different keywords 4 open dialog
for bugs 1 go to the link url components in ie 11 2 click on disabled textfield 3 look at the bug image url
for bugs provide a link to a live example you can use codesandbox io and an unambiguous set of steps to reproduce this bug include code to reproduce if relevant which it most likely is this codesandbox io template may be a good starting point url if you do not take time to provide a codesandbox io reproduction should the community take time help you
for bugs url open the link on ios go to the second dialog scroll to the very end scroll two time more while at the end once at end of modal scroll to top scroll will start to feel weird note it seems that this is happening when you tapping on a input not 100 sure
for bugs url 1 load codesandbox 2 see two autocompletes 3 note that there is a large gap between the two
for bugs url 1 click button 2 see that there is no action
for bugs 1 url 2 click on age 3 type twenty and press enter 4 try the same thing on the native select component below 5 do the same steps on url components select field it works here
for bugs 1 add anchorposition and anchorreference to popover 2 compile code with typescript
for bugs toolbar innerref console log ref is ok
for bugs url 1 create a fonticon component within an iconbutton don t set a hovercolor 2 define it s onclick function to modify it s color as onclick e e target style color 33ff33 important console log e target style color 3 check the console output which will show that the color changed successfully and it is retained 4 repeat 1 and 2 but this time with a hovercolor mentioned 5 even after the click when there is no hover the goes back to predefined same can be seen in console with console log document getelementbyid icon id style 6 tried it with e target style 33ff33 earlier which too didn t work
for bugs you may see this on example url you may see how different color contrasts are in light and dark themes
for bugs url 1 change window size in project view
for bugs 1 url 2 insert switch into expansionpanel 3 use switch
for bugs 1 npm uninstall material ui 2 npm install material ui latest 3 start your app npm start yarn start etc 4 see the failed to compile error
url image url edit qk17pp2vlq url
for bugs url is not working i do not know why so i will put example here if you do not mind javascript import react from react import muithemeprovider from material ui styles import grid from material ui grid class gridexample extends react component render return t t div style width 1000px margin 0 auto t t grid container grid item xs 12 sm 6 sidebar item xs 12 sm div const app muithemeprovider gridexample muithemeprovider reactdom render app document getelementbyid container
for bugs url 1 resize the whole window until unnecessary scrollbars appear 2 simply hover over the button 3 after moving the mouse away and again over the button tooltip moves 4 after doing that a few times it moves into correct position it should have been in initially
for bugs create a table with pagination that spans the whole screen width 100 open in ie11
for bugs javascript import as react from react import header css import appbar toolbar typography iconbutton hidden drawer from material ui import menu as menuicon navigatebefore as navigatebeforeicon from material ui icons export default return div classname header appbar position static toolbar iconbutton classname menu color contrast aria label menu navigatebeforeicon iconbutton typography type title color inherit classname title sample typography iconbutton classname menu color contrast aria label menuicon toolbar appbar hidden mdup drawer type temporary anchor right open true modalprops keepmounted true here s the issue list stuff here drawer hidden div
for bugs 1 create any flat or raise button 2 for onclick event add event handler for showing logs 3 click button 4 all events are fired twice
for bugs 1 create a container with a child tab element in it fullwidth 2 resize the parent container programmatically not by changing the viewport
for bugs see code above
for bugs here is a minimal demo url
for bugs open this sandbox url in chrome to see the bug click in a field to see labels appear for a short moment open in firefox to see it working fine
for bugs not sure how to provide a simple codebox as you basically have to bundle an app in cordova i m opening this ticket in hope someone has an idea but will continue debugging and eventually create a pr to fix this
for bugs 1 go to url 2 click the text under the checkboxes heading to avoid having to tab through everything else 3 use the tab key to navigate the page
for bugs given the following card initiallyexpanded true cardheader showexpandablebutton true actasexpander true cardtext expandable true checkbox cardtext card 1 check the checkbox 2 collapse the card 3 expand the card 4 checkbox is unchecked
for bugs here is codesandbox url
for bugs go to material ui main website change emulator to blackberry and refresh the page
for bugs url 1 inspect the element test 2 notice that no vendor prefixes are generated when looking at the class examplecontainer root 1
for bugs 1 define max rows of 8 2 define width by percentage 3 add text 4 and change the width of the window
for bugs 1 2 3 4
for bugs 1 go to the materialui next website url 2 on the first field type some the letters gyjpq in firefox 3 you ll see the bottom of gyjpq are stripped
for bugs i have created a sample project url that just uses a textfield 1 git clone url 2 npm install 3 you can see the module bundle stats by running sh npm run build npm run stats
for bugs bug demo url press do a bug button 1 set slider props value 5 minvalue 1 maxvalue 10 step 1 2 change slider props to minvalue 25 maxvalue 30 value 27 3 see that slider s value did not change
for bugs not a bug i would expect typescript export const theme createmuitheme typography fontfamily helvetica light roboto arial sans serif fontsize 18 fontweightlight 500 fontweightregular 600 fontweightmedium 700 palette primary 50 e8ffd5 100 d8f7be 200 cbf0ac 300 c0e5a1 400 b4dd92 500 a4cf80 600 97c570 700 88b661 800 78a750 900 6e9a49 a100 d0f7b0 a200 c3f796 a400 aef275 a700 a2e16d contrastdefaultcolor dark secondary 50 f1ffff 100 d6f1f2 200 c1e6e7 300 acd5d6 400 9dcbcc 500 90c2c3 600 83b5b6 700 70a8a9 800 629c9d 900 538d8e a100 e2fbfb a200 cafafb a400 a5f6f7 a700 8bdddf contrastdefaultcolor dark error 50 ffebee 100 ffcdd2 200 ef9a9a 300 e57373 400 ef5350 500 f44336 600 e53935 700 d32f2f 800 c62828 900 b71c1c a100 ff8a80 a200 ff5252 a400 ff1744 a700 d50000 contrastdefaultcolor light grey 50 d1d2d2 100 aaaaab 200 300 400 6b6b6b 58595b 4b4c4d 393a3c 800 2b2c2d 900 1d1d1e a100 d6d7d9 a200 b3b5b8 a400 7e7f81 a700 5b5d61 contrastdefaultcolor light
for bugs 1 provide selectfield an empty array as child instead of array of menuitem s 2 open this selectfield s dropdown empty dropdown is shown as there are no items to select 3 click away to close the dropdown error will appear in the console the same happens if i provide undefined instead of empty array
for bugs see above codesandbox url note in the codesandbox the iframe doesn t contain material ui styling this is because the jss needs to be injected into the iframe explictly as well as muithemeprovider this is a different unrelated issue and so i didn t take time to implement that here
for bugs demo of bug url 1 create a select field with menuitems 2 set displayempty in select field 3 have one menuitem with value and label none 4 with an initial select field value other than choose the none option and watch as the inputlabel unshrinks and covers the value in the field
for bugs i m not sure if this can be reproduced on codesandbox io since it requires ssr for demonstration if there is a preferred way to structure code for ssr based issues i ll be happy to follow whatever guidelines are provided and provide that as an edit to this issue this issue can be reproduced with an ssr rendered component that contains a modal keepmounted true div content div modal as explained above this appears to be a case of portal rendering nothing on ssr and something on initial client render it is hopefully trivial reproduce in any dev s rendering solution of choice but if there is a preferred setup for including in issue reports let me know what that is and i can provide basic project
for bugs url components select field 1 select someting in select field 1 open the select field dropdown again 2 with dev inspector move the overlaying dropdown you will see text field without value
for bugs js import react from react import storiesof from storybook react import alertdialog from alertdialog storiesof alertdialog module add basic alertdialog bodykey test onclick titlekey test open where is a boring wrapper around dialog i m sorry for not including a code snippet i don t know how to set up the tests to illustrate the issue but i tried my best to provide as much relevant information as possible
for bugs just copy the code for centered grid from url full width vs centered on to your project you don t see any effects that would be considered centered
for bugs a simple example can be seen here url you can ignore the lack of styling and what not in the popout window just trying to show the portal issue
for bugs example with iconbutton url 1 navigate using tab keys to the second icon and press enter
for bugs url 1 select first text box 2 hit enter key 3 notice 2nd text box is focused ftw 4 hit enter key again 5 nothing happens
for bugs 1 navigate to url 2 inspect the mark up for labelled switch 3 have that parsed by url
for bugs link to codesandbox url 1 download react version react dom version material ui version beta 20 devextreme datagrid relies on this version but it isn t involved with this component 2 get sample code from material ui website component text input search 3 edit it so it only shows the search text input i may have made an error in doing this i m not sure 4 npm start which leads to error uncaught typeerror 0 styles2 default is not a function
for bugs 1 create and style constant and use withstyle hoc jsx const styles theme button2 color ec5c5d fontsize 15px hover color ec5c5d label color ec5c5d inputlabel root color ec5c5d muiinputlabel root 2 textfield id breeders races filter search label search race fullwidth margin normal classname this props classes button2 3 text size works colors do not
for bugs 1 type jjyyqqpp in a material ui text field in firefox 2 observe that the bottoms of the letters are cut off
for bugs 1 visit url 2 open the codesandbox io console on the right bottom area of the page 3 change the name text field see that it changes visually and name and value are present in console 4 now change gender select field see that it does not change and console prints out undefined in place of actual field name
for bugs 1 wrap a button that will open a dialog on click with a tooltip 2 hover on the button tooltip appears 3 click on the button tooltip disappears dialog opens 4 close dialog tooltip appears again need to have another click to let it disappears 5 url
for bugs you may see this on example url
for bugs here is the live example url 1 click on the selectfield 2 scroll to the bottom 3 click on any item 4 list scrolled to top
for bugs 1 open the dialog with grow transition 2 close the opened dialog 3 url
for bugs 1 assume you are in a ts file and you are using ts compiler 2 the following code will cause the ts compiler to throw an error jsx const tooltiptitle return typography type body2 align center hey brother and sister typography render return tooltip title tooltiptitle tooltip 3 the error would look like the following message type title element placement bottom children element is not assignable to type intrinsicattributes htmlattributes htmldivelement disabletriggerfocus boolean disabletr type title element placement bottom children element is not assignable to htmlattributes htmldivelement types of property title are incompatible is not assignable to string source ts
for bugs 1 use create react app my app scripts version react scripts ts to create a simple react app with ts 2 add react router as dep and install it 3 use a list in the app template and try to add an item with listitem button component link to somelink listitem
for bugs 1 npm install save typescript version material ui version types material ui version 2 build
for bugs test the html in ie url you may need to paste the text again this is what i used jsx input spellcheck true lang language multiline fullwidth true value this state text onchange this handlechangetext
for bugs 1 import all material ui modules run npm install material ui and npm install material ui next 2 get the example code from this file simplegrid url 3 setup your environment and run npm start
for bugs set up a div container with an arbitrary width insert an input component with properties fullwidth true and multiline true and a defaultvalue that is big enough you will see that the text doesn t stretch to the width of the container
for bugs in this codepen i have created a basic html example url
for bugs url 1 click toggle to check it opens from the left 2 click it again to close the drawer 3 click change anchor to make it to the right 4 observe the drawer 5 click toggle again drawer will recalculate correct opened position
for bugs 1 open link in ie 11 url
for bugs this is a server side render issue so using something like codesandbox com isn t an option since you can only do csr in that case 1 create a ssr react app 2 create a view w a textfield component in it like follows textfield classname type email fullwidth true name email floatinglabeltext email 3 load the view 4 check console to see react warning above
for bugs i am not able to reproduce this in a small example but i can tell you which code path is making this spurious call to onblur the culprit is essentially the componentwillupdate method in input js see here url l386 l398 1 on line 395 there is a call to muiformcontrol onblur without passing an event 2 this calls formcontrol handleblur url l180 l187 which expects an event 3 this in turn calls props onblur event which is my event handler that gets an undefined
for bugs url components auto complete start typing in a field a dropdown autocomplete list will appear select a value and then the input loses focus and we lose the tab order
check the select page in the current documentation to try it out url
edit dialog not dismissed bug url
for bugs 1 example of expected behavior in material ui version beta 17 url 2 example of observed behavior in material ui version beta 18 url 3 example of observed behavior in material ui version beta 19 url 4 example of expected behavior when overriding select component s onblur in material ui version beta 19 see simpleselect js and console url
for bugs 1 codesandbox link url
for bugs use a simple component like this one below linearprogress mode determinate max totalseconds min 0 value totalseconds timepassed if i start with a total seconds 100 i would not see the linear progress bar moving until the last two minutes
for bugs basically mount the slider but then stop rendering it on an if statement there are some events that you have not cleaned up if this state durationslideropen this buttons push canvasbox name duration dimensions this calc presentation duration onclick this setcomponentstate durationslideropen true canvastext percentsize 3 iconbutton style paddingtop 9 down color white iconbutton span style color white duration parentstate room videoconference duration minutes span canvastext canvasbox else buttons push canvasbox name dimensions calc presentation span slider onchange e v session functions velocitydump e v setparentstate room videoconference v tostring ondragstop e v setcomponentstate durationslideropen false setparentstate room videoconference parentstate room videoconference tostring window api post action roomsave state parentstate leavestatealone true min 30 max 240 step 5 value parseint parentstate style widht 218 span canvasbox
for bugs follow instruction here url it breaks on this step flow typed install i think this is because the versions specified in package json don t follow semver see this bug url
for bugs codesandbox url
for bugs 1 open material ui beta 19 select in internet explorer 11 2 in dev tool on muilistitem root x justify content is set to initial and the muibuttonbase root x justify content is set to center the muilistitem root x justify content should be set to flex start unfortunately i can t attach screenshots edit select material ui url
for bugs the simplest example code gridlist gridlisttile cols 1 rows 1 onclick event console log clicked gridlist code
for bugs input fullwidth startadornment inputadornment position start searchicon inputadornment placeholder input disableunderline this component would provide us an input where the width is set to auto by inputadornment class
for bugs in the simpleselect url example remove minwidth formcontrol margin theme spacing unit minwidth 120 change some of the options to be super long to exaggerate the problem menuitem value 10 ten menuitem menuitem value 20 twenty menuitem value 30 three hundred and twenty
for bugs import withstyles from material ui styles import withtheme from material ui class controlpanel extends react component props state constructor props props super props this this state darktheme theme palette type dark console log theme here theme is function render export default injectintl withstyles styles withtheme withrouter controlpanel
for bugs 1 navigate to material ui com on the stock default browser of an android phone os 5
for bugs bottomnavigation selectedindex 0 bottomnavigationitem label one ok bottomnavigationitem label two ok condition bottomnavigationitem label three will throw error when condition is false bottomnavigation 1 2 3 4
for bugs 1 open safari 2 go to url 3 change browser to 1280px width 4 sidebar disappear
for bugs 1 go to url components select field scroll down to floating label example section 2 click on the placeholder area of the selectfield on the first example notice everything including the floating label works fine 3 then try clicking on little arrow icon indicating dropdown menu located on right area of selectfield 4 notice floating label starts floating for a very short amount of time just before dropdown menu is completely open note pressing and waiting arrow icon triggers label to float however pressing and waiting other area of selectfield does not trigger anything that may be cause bug
for bugs 1 open url in desktop breakpoint size 2 start reducing the width of the window until you see the horizontal scroll bar 3 if you hover over each tooltip even the tooltip to expand example code you ll see that horizontal scroll disappear
for bugs 1 add a select with about 50 items 2 try to open it i traced this issue to the getpositioningstyle in popover js i found that modifying the code like below fixes it check if the horizontal axis needs shifting if left this marginthreshold var diff2 left this marginthreshold left diff2 transformorigin horizontal diff2 else if right widththreshold var diff3 right widththreshold left diff3 transformorigin horizontal diff3
for bugs 1 open url in ie 11 2 click confirmation dialogs demo phone ringtone example 3 4
for bugs minimum example url
for bugs use url to reproduce with the above steps
for bugs url 1 type two characters in the first input to cause it to be disabled 2 click type in the second input notice that both inputs are focused
for bugs here is a codesandbox io url the indicator should be set for index 1 but the indicator is set to index 0 this worked earlier i noticed this issue when i updated material ui to beta 17
for bugs 1 open url 2 observe drawer on the left side 3 4
for bugs provide a link to a live example you can use codesandbox io and an unambiguous set of steps to reproduce this bug include code to reproduce if relevant which it most likely is this codesandbox io template may be a good starting point url if you do not take time to provide a codesandbox io reproduction should the community take time help you 1 2 3 4
for bugs 1 create a theme override with an invalid style key e g const theme createmuitheme overrides invalidkey 2 open the javascript console 3 the console shows bundle js 6820 warning you are trying to overrides a style that do not exist
for bugs 1 create a table with two tablebody children 2 render the table and verify that only the second tablebody is rendered jsfiddle example url
for bugs write a snapshot test for e g import hidden from material ui hidden and one for import button from material ui button is there a pastebin which is capable of this
for bugs see simple menu demo url
for bugs 1 go to url 2 observe the face icon and the right text in the red box 3 click the open dialog button 4 observe position of face icon and right text in red box
for bugs url components auto complete an example of this page with the openonfocus props can reproduce the above phenomenon
for bugs 1 go to url 2 press tab 3 click on any label of a checkbox radio button or switch the input now has a grey background as if you had selected it with a keyboard tab clicking on the input directly instead of the label will not cause this stop this behavior
for bugs 1 create a dialog 2 open it with a menuitem s onclick prop with some code like js handle method handledialogcontrol method boxname const list this state openlist if method close const openlist removefromopenlist list boxname this enum return this setstate openlist if method open list push boxname return this setstate openlist list return new error usererror params invalid use with onclick menuitem onclick handledialogcontrol open dialogaddlink 3 then open it in your browser 4 unexpected keep loading
for bugs 1 import green from material ui colors 2 linearprogress color green
for bugs 1 use the code shown url with version beta 13 2 update to version beta 16 3 see the changes p s to downgrade simply run npm install material ui version beta 13
for bugs this bug is visible in the demo site under the positioned section url positioned 1 click bottom center 2 observe that the snackbar is centered and not full width 3 click bottom left 4 observe that the snackbar is full width
for bugs i made a video of the datepicker docs which uses a popover if inlined url
you can directly reproduce the bug here url 1 type something in the multiline textfield 2 press the reset button results the content of multiline textfield is not cleared here is a very simple component you can directly add to your code to reproduce bug import react from react import textfield from material ui textfield import button from material ui button class test extends react component constructor super this state content handlechange return event this setstate content event target value resetcontent this setstate content render return div onchange this handlechange value state rows 5 rowsmax 5 label multiline fullwidth button raised onclick resetcontent bind reset div export default test
for bugs import react from react import proptypes from prop types import withstyles from material ui styles import button from material ui button red material ui colors const styles root background red 600 color white raised hover backgroundcolor red 700 function overridesclasses props return button props props children button overridesclasses proptypes children proptypes node isrequired classes proptypes shape isrequired export default withstyles styles overridesclasses
for bugs here is an example i added padding to it so you can actually see what it does if you remove the padding you will not see the changes url
for bugs 1 create a cra app 2 build example like above 3 yarn build 4 serve s build or something like that invoke your code and everything will crash
for bugs url eslint disable flowtype require valid file annotation import react component from react import withroot from components withroot import grid from material ui grid import inputlabel from material ui input input material ui checkbox material ui checkbox class index extends component render const factor field id 1 editlabel this is an edit label return div p current behavior the input do not fill the space assigend by the grid p grid container item xs 11 div style background pink inputlabel style background yellow htmlfor factor field id factor editlabel inputlabel input style background cyan id factor field id onchange this handlechange bind this type number div item xs 1 style background orange checkbox onchange this handlechange bind cyan p expected behavior the field and selects should fill all space assigned to it by item p container item xs 11 div pink inputlabel display block yellow htmlfor editlabel display block cyan onchange handlechange bind type number xs 1 orange checkbox onchange handlechange bind cyan event alert event target value export default withroot index 1 an example is in url
for bugs 1 visit url components dialog 2 go to section nested dialogs and click on button dialog with date picker 3 open a date picker dialog by clicking on date picker input 4 click esc button
for bugs 1 create an app with a typescript create react app wrapper url create react app testing material ui icon error typescript scripts version react scripts ts cd testing material ui icon error typescript 2 add material ui and material ui icons yarn add icons npm install icons 3 start the server yarn start npm start 4 add the menu icon into the default src app tsx import as react from import css import menuicon from icons menu const logo require logo svg class extends component render return div classname div classname header menuicon img src logo classname logo alt h2 welcome to h2 div p classname intro to get started edit code src tsx code and save to reload p div export default
for bugs 1 create a custom theme overriding the toolbar defaults e g createmuitheme palette type light toolbar backgroundcolor red minheight 60 media min width 0px and orientation landscape minheight 60 media min width 600px minheight 60 2 inspect the toolbar after render the background color isn t red and the minheight remains at default 64px doing same with a direct style override works fine with exception that min width in media query must be specified as minwidth e g const styles toolbar backgroundcolor red 60 media minwidth 0px and orientation landscape minwidth 600px style styles
for bugs drawer anchor right type permanent div hello world div drawer
for bugs 1 create a table with any number of rows columns 2 place a tooltip inside a cell in the tablehead 3 hover over the tooltip to open the popper 4 notice that the popper is always in upper left corner of screen 5 notice that any tooltip in a cell in tablebody seems to work fine you can see all of this here url
for bugs try to render myselect from const setdata e console log e target export const myselect formcontrol fullwidth inputlabel htmlfor age simple civilit inputlabel select value monsieur onchange setdata input input label civilit name civility menuitem value mr monsieur menuitem menuitem value mme madame menuitem select formcontrol 2 look at your console
for bugs see url
for bugs jsx tooltip title tooltip placement bottom iconbutton disabled done iconbutton tooltip
for bugs check this url url 1 bring up chrome dev tools to be able to see the console log 2 click the text hello to move focus to that window 3 on the keyboard hit tab set focus the click me button 4 hit enter on keyboard 5 watch console and see that clicked was printed twice also note that if i in handler uncomment e preventdefault it s actually only printed once
for bugs url 1 click show dialog 1 observe that react warning in console
for bugs 1 use a textfield and set type to number apply an onchange function 2 in the browser enter a number in the field and remove it you should see a zero now 3 enter another number you shoud now see a the number with leading zero 3 url 4 url 1 url 2 url
for bugs 1 go to url 2 select a random tab 3 click switch 4 chehck indicator position
for bugs 1 head to url components flat button 2 inspect one of the buttons labels in your browser 3 disable vertical align center
for bugs code sandbox url try to click the mouse button on the right it s impossible because of the tooltip
for bugs 1 enter with mobile devices 2 scroll on menu result
for bugs 1 use the following drawer drawer type permanent anchored right div hello world div drawer 2 check css rules applied
for bugs 1 implement tooltip 2 add button in area where tooltip is rendered 3 try and click on button when tooltip is hidden it should be unclickable 4 alternatively just inspect element with tooltip and you will see the container element on top of the page when you hover over it
for bugs 1 run the controlled example here url components auto complete in v version or version 2 run the same code on version and see the difference
for bugs render menuitem dense
for bugs 1 a basic list listitem list listitem disabled primarytext im disabled onclick window alert i fired list 2 clicking on the listitem still fires the onclick
for bugs provide both inputprops and inputprops
for bugs url 1 put a select inside a dialog
for bugs live example url
for bugs tooltip label my tooltip placement bottom button onclick onclick addicon button tooltip
for bugs 1 create a theme object with no shadows defined 2 you will notice that shadows are still prevalent on any component
for bugs 1 just take the code above and typecheck with typescript
for bugs 1 open a select component 1 start typing to select an option
for bugs url 1 add a condition to display a menuitem allowempty menuitem value em none em menuitem 2 evaluate condition to false
for bugs add chip to any typescript project and compile with tsc
for bugs url 1 pick an option from select 2 click outside the select container 3 notice that select stays in focused state
for bugs import addicon from material ui icons add
for bugs const materialtheme createmuitheme transitions easing easeinout cubic bezier version 0 version 1 easeout cubic bezier version 0 version 1 easein cubic bezier 0 1 1 sharp cubic bezier 0 duration shortest 150 shorter 200 short 250 standard 300 complex 375 enteringscreen 225 leavingscreen 195 muithemeprovider theme materialtheme button raised color accent mui button button muithemeprovider
for bugs 1 private responsivedialog withresponsivefullscreen breakpoint sm dialog when using typescript
for bugs 1 open a popover using open true
for bugs 1 create a textfield component and use it with type number
for bugs 1 import button from material ui button 2 webpack will complain cannot find module
for bugs example on codesandbox io url
for bugs it is a gatsby project url or url 1 clone repo 2 install gatsby if you don t have it 3 run gatsby 4 access localhost 8000 test 5 change viewport size
for bugs open the demo page url
for bugs 1 provide a drawer component of the type temporary a classname prop
for bugs as an example iconbutton title asdf tabindex 1
for bugs go to the component demo and try scrolling it i tried with an android phone phone
for bugs 1 create a component containing listitemtext inside listitem button and dialog bind function to open the dialog to listitemtext prop onclick 2 import this component into list that is inside drawer now you can open the dialog by clicking on list item in the drawer working example url
for bugs iconbutton disabled color primary icon alarm icon iconbutton
steps to reproduce the behavior 1 open a file to the graph view and add an eol comment field after the operands field 2 make the operand field much larger than needed 3 see that with no comment operand field auto sizes to minimum length needed 4 add an eol comment and then see that operand auto sizes to maximum width instead of minimum required width
steps to reproduce the behavior 1 analyze a file in version that has library calls such as memcpy dllmain dispatch etc 2 analyze the same file in version dev to observe the library calls identified in version version are not identified in dev
select any individual row right click and the copy special option is greyed out
steps to reproduce the behavior 1 open the attached exe file in ghidra 2 analyze with decompiler parameter id enabled 3 go to the mentioned function
steps to reproduce the behavior 1 analyze a x86 16 file with data references to offset 0 in another segment 2 if references are not automatically added add them manually 3 references to offset 0 are not marked up in the same way as the others
steps to reproduce the behavior 1 analyze an x86 16 program pretty much any com file will do 2 create a function using custom storage and unknown calling convention 3 add a parameter of either byte or word datatype and bind it to a composite register of matching size say al ah or ax 4 confirm the changes 5 now regardless of the datatype chosen in step 3 all instances of the composite register and its sub components are substituted with parameter that was just added
steps to reproduce the behavior 1 import libh lib 2 choose batch 4 see exception error importing file affaldiv java io ioexception bad omf data tat ghidra app util bin format omf omfsegmentheader sectionstream establishnextbuffer omfsegmentheader java 406 tat ghidra app util bin format omf omfsegmentheader sectionstream read omfsegmentheader java 428 tat java base io inputstream read inputstream 279 tat ghidra util monitoredinputstream read monitoredinputstream 124 db chainedbuffer fill chainedbuffer 1167 db dbbuffer fill dbbuffer 162 ghidra program database mem memorymapdbadapterv2 createbuffer memorymapdbadapterv2 214 program database mem memorymapdbadapterv2 createinitializedblock memorymapdbadapterv2 157 program database mem memorymapdb createinitializedblock memorymapdb 471 app util memoryblockutil createinitializedblock memoryblockutil 249 app opinion omfloader processsegmentheaders omfloader 323 opinion omfloader load omfloader 132 opinion doload 346 opinion loadprogram 83 abstractprogramloader load abstractprogramloader 114 plugin importer importerutilities dosingleimport importerutilities 360 plugin importer importerdialog lambda okcallback 6 importerdialog 363 task tasklauncher 1 run tasklauncher 93 task task monitoredrun task 128 tasklauncher lambda startbackgroundthread 2 tasklauncher 315 base lang thread run thread 835
steps to reproduce the behavior 1 open the provided example elf in codebrowser 2 create struct mystruct as ulonglong a ulonglong b ulonglong c it needs to be 16 bytes to not spill into multiple registers per section version b 3 of pcs ghidra doesn t do this correctly either but that s a separate issue 3 open main function in decompiler 4 edit returnerimpl return struct signature 5 set return type to mystruct 6 see that a new parameter return storage ptr has been created and incorrectly allocated x0 pushing the other parameters into x1 and w2
steps to reproduce the behavior 1 demangle the symbol ztifmve typeinfo for unsigned long 2 call the method getnamespace on the result 3 resulting namespace is long
steps to reproduce the behavior 1 create an xxe payload file and set the extension of the file to jnlp 2 go to path to ghidra server ghidrasvr 3 modify wrapper conf value point the jnlp file 4 run ghidrasvr using sudo ghidrasvr start 5 xxe exploit in jnlp file gets executed
steps to reproduce the behavior 1 open codebrowser on an aarch64 or arm program 2 edit a function s signature 3 turn on use custom storage and edit a variable s storage 4 make sure the table has a row where the type is register 5 open the location combobox and see registers sorted unhelpfully
steps to reproduce the behavior 1 install ghidra 2 run ghidra
steps to reproduce the behavior 1 create a file with contents as xa1 x50 eg by echo ne xa1 x50 test 2 open the file in ghidra format raw binary language 68000 coldfire 3 disassemble the code in codebrowser 4 see it is a1 50 mov3q 0x0 a0 the decompiled code also show in a0 0 5 compare it with binutils objdump b binary m m68k d test test file format binary disassembly of section data data 0 ta150 tmov3ql 1 a0
steps to reproduce the behavior 1 git checkout master 2 perform build as usual
the following bug is happening with clang check but is not related to the binary in function export memory references line 1179 file idaxml py python target self get data value addr ri tdelta ri base however the computation of target may overflow from 2
analyze the file in the attachments rename it to 102h exe github does not seem to allow exes attachments go to 0x43f0ce rename local 10 to whatever and see part of the program disappear
steps to reproduce the behavior 1 import and open a binary 2 choose no when prompted to analyze 3 at a known function address run the following in python from ghidra app cmd function import createfunctioncmd cmd createfunctioncmd currentaddress true cmd applyto currentprogram 4 see true returned when no function is created and no instructions exist at the address
steps to reproduce the behavior 1 stand up a remote project 2 import a 64 bit file to the remote project 3 create a dummy structure with pointer type fields in the imported file s file archive 4 through the
download the lahf txt and sahf txt files below flat files containing the bytes the txt extension is to allow uploading to github load each as a flat binary select x86 default 64 little gcc for the language don t autoanalyze try to disassemble at address 0x0
download the test txt below a flat file containing the bytes the txt extension is to allow uploading to github load it as a flat binary select x86 default 64 little gcc for the language don t autoanalyze try to disassemble at address 0x0
steps to reproduce the behavior 1 create a structuredatatype parent and add two components 2 create a new structuredatatype child with the same name and same datatypemanager but a different categorypath 3 use child replacewith parent 4 use child clearcomponent 1 5 check the child structure in the datatypemanager and find that parent structures component 1 still exists within with same name and comment
1 load the malicious project 2 malicious code will be executed when the decompile module is called
steps to reproduce the behavior 1 load vmware vmx exe 2 open the string window and search for strings that are xrefed by an undefined function 3 follow the undefined function and view it in the decompile window 4 press l to rename 5 see uncaught exception
1 compile the following dll from a fresh unmanaged c dll project in vs2019 with platform tools v142 and targeting x86 cpp include pch h extern c declspec dllexport double cdecl test double a treturn a version bool apientry dllmain hmodule hmodule dword ul reason for call lpvoid lpreserved return true 2 create a ghidra project add the dll to it and run analyzer with default settings 3 navigate to the test function in exports and take look at decompile view you get this cpp float10 cdecl test double param 1 0x1000 1 test symbol ref return float10 param 1 float10 version or if you retype the return value to double cpp cdecl param 0x1000 symbol ref return param version produced literal vs minimum literal where you can see value cpp version so just couple digits short really looking at hex view still works though
1 also useful debugging tip on windows an api monitoring tool like api monitor v2 64 bit from www rohitab com with tools options memory maximum size of captured buffers 4096 and filter for data access and storage local file systems file management kernel32 dll monitoring ghidra s javaw exe can yield this interface details in the child decompile exe process writefile getmappedsymbolsxml addr space ram offset 0x9002 readfile result parent val parent mapsym externrefsymbol name ordinal 1 exref addr space ram offset 0x9002 externrefsymbol addr space ram offset 0x9002 rangelist mapsym result then the decompilation completes without anything further
decompile 16 bit code with the following sequence ensuring import addr resolves to a different cs segment register than the current segment callf import addr 0x9a code jmp cs offset bx offset jump table code for jump table offsets
steps to reproduce the behavior 1 compile program with mingw64 2 open program in ghidra and run analyzer 4 see wrong symbol set to primary
steps to reproduce the behavior 1 import arm64 dyld cache to project as a file system as a file works after commit for 682 but slowly 2 import any file from new window and privateframeworks folder 3 open this file in codebrowser 4 see errors for example failed to create no return function la symbol ptr stack chk fail functions and classes are empty
steps to reproduce the behavior 1 load the sprintf binary attached using the powerpc be 64 vle 32addr version language 2 disassemble using vle f12 3 scroll down to 74 0b 10 3b instruction at 0x100 this is supposed to shift r0 left by 2 but this isn t interpreted correctly and the case labels come out wrong as well
1 compile the following dll from a fresh unmanaged c dll project in vs2019 with platform tools v142 and targeting x86 cpp include pch h extern c declspec dllexport void cdecl test double enable hwnd hwnd tif enable 0 t tmessageboxa hwnd not 0 mb ok t else t tmessageboxa hwnd 0 mb ok mb iconerror t bool apientry dllmain hmodule hmodule dword ul reason for call lpvoid lpreserved return true 2 create a ghidra project add the dll to it and run analyzer with default settings 3 navigate to the test function in exports and take a look at decompile view you get this cpp void cdecl test undefined4 param 1 undefined4 param 2 param 3 0x1000 1 test symbol ref if false messageboxa param 3 not 0 return messageboxa 3 0x10 return then branch is considered to be dead code 8 byte parameter is interpreted as two unknown4s
steps to reproduce the behavior 1 open ida with program database that has commented stack variables 2 run ida xml exporter edit plugins xml exporter 3 select all options on option screen 4 press ok 5 supply filename when requested press save 6 error message appears error message itself fails with name space error
1 open up an apk such as this url 2 observe the application log file in ghidra ghidra version 3 note the debugging information java decompilation of extracted files should still occur normally
steps to reproduce the behavior 1 create a new project 2 open an apk such as this one url in ghidra as a batch import file increase the depth and observe the availability of java classes for import 3 create another project 4 open the same apk as batch import observe that java classes are not available for import
follow the steps in devguide md with a fresh git clone
steps to reproduce the behavior 1 open a new project 2 choose file import file 3 select the dyld shared cache arm64 e file 4 choose file system 5 select the dylib to import i e foundation 6 continue normal import steps
steps to reproduce the behavior 1 go to edit function signature on a function with at least 2 parameters function variables 2 click on one of the parameters 3 click on the up or on the down arrow right side of dialogue box 4 click ok 5 order of function parameters has not changed
steps to reproduce the behavior feed the file to ghidra jump to the address in the screenshot after ghidra finishes analysis
load the following code block in to ghidra 01 00 31 e3 teq r1 0x1 1c 00 00 1a bne lab lab xref 1 j c2 c2h f3 f3h 3f 3fh e3 e3h 00 a0 e1 cpy r0 r0 14 27 9f e5 ldr r2 service adfspoduleide response r2 addrnewctlr null note that this is arm little endian v7
1 open a subroutine with at least one parameter 2 right click on the parameter and click auto create structure 3 right click again on the parameter and click edit data type 4 in the window that pops up change the name of data type and press apply editor changes 5 observe how decompiler now fails to decompile subroutine
steps to reproduce the behavior 1 import attached file 2 let it be autoanalyzed 3 open the function objectmanager setupnexthdma 4 see error at the last line of the decompilation
steps to reproduce the behavior 1 observe in the binary of your choice the sequences of instructions fcomp fnstsw test and jz which should correspond to an if condition involving a floating point comparison as an example here s a sample fcomp dword ptr float stuff fnstsw ax test ah 0x41 jz lab 2 the decompiler will output a technically correct but overly complicated code example above would decompile to if ushort ushort var float stuff 8 ushort var float stuff 0xe 0 with exception that float stuff might be evaluated directly in output but general condition would look like that
steps to reproduce the behavior 1 in the server wrapper you have to set the property java rmi server hostname to your nat s dns hostname and java rmi server uselocalhostname to true
steps to reproduce the behavior 1 download symbols from microsoft symbols server for ntoskrnl exe version version notice the resulting file size is 7 27 mbytes 2 execute pdb exe on the downloaded file 3 under visuel studio the peak memory consumption is 2 6 gbytes which is a 361 to 1 ratio compared to input file size
steps to reproduce the behavior 1 real world scenario a b within a projet for a windows pe x64 dll or exe use the file importpdb menu entry and try to import the pr iously downloaded ntkrnlmp pdb file c witness the fatal error message window titled load pdb failed 2 narrowed down error cause replace main function with int main int argc char
create a zlib compressed file create a tar archive file add both to another tar archive file attempt to batch import the top level tar file
steps to reproduce the behavior 1 build the above c code with any aarch64 c compiler and with debug info e g with aarch64 none elf gcc test c o2 g o test 2 import the produced binary in ghidra 3 analyse it with the default analysis options 4 go to f
steps to reproduce the behavior 1 open python window 2 select some output 3 try right clicking cmd c ctrl c 4 nothing works
steps to reproduce the behavior 1 open ghidra until you see this tip of the day
steps to reproduce the behavior 1 export a ghidra project containing structure definitions as xml 2 configure ida pro for xml import export per ghidra instructions 3 load target into ida and select plugins xml importer 4 select all import options and specify exported xml file from step 1 5 receive error 1 above 6 change namspace to namespace per 1 above and re run import 7 receive error 2 above 8 make changes per 2 above 9 import completes successfully
steps to reproduce the behavior 1 go to python interpreter 2 type findbytes currentprogram getminaddress b x28 x3f x23 x00
steps to reproduce the behavior 1 compile the test stdcall c file contained in the provided zip archive using gcc gcc m32 fno pic test stdcall c o test stdcall o1 2 import into ghidra 3 create correct function types and correctly set global variables types 4 the call func procedure is incorrectly analyzed
same de compile error occurred on several functions and in several binaries analyzed cannot share binaries
steps to reproduce the behavior 1 open the code browser 2 note that each pane has an x button at the top right with tooltip close window 3 go to tool options key bindings and search for close window
steps to reproduce the behavior 1 analyze a c library program with full dwarf debug information 2 find populated struct within the dwarf category 3 find empty placeholder struct within the demangled category
steps to reproduce the behavior 1 follow the instructions in devguide md to set up ghidra for eclipse 2 import ghidra into eclipse as a gradle project 3 eclipse proceeds to configuring project decompiler then angs on configuring project
steps to reproduce the behavior 1 go to file parse c source 2 parse the above example
steps to reproduce the behavior compile the code in ms visual studio 2017 in debug mode or download the exe from link below include stdio h int cdecl test cdecl int num1 int num2 treturn num1 num2 int main ttest cdecl 1 2 tprintf this is main the caller code in ghidra 6a 02 push 0x2 6a 01 push 0x1 e8 40 f8 call thunk fun undefined thunk fun und ff ff 83 c4 08 add esp 0x8 callee code in ghidra
steps to reproduce the behavior 1 download the binary url may sound fishy but it s just a ctf task binary 2 load it into codebrowser tool 3 do the default analyses 4 go to fun aka main 5 there should be a loop between lab and lab in the decompiler view but decompiler just ignores it and show no loop whatsoever
steps to reproduce the behavior 1 use codebrowser to disassemble code 2 use function trees to display rsrc section 3 scroll down to part of rsrc with icons 4 see error
it is not deterministic i only got it once so far steps to reproduce the behavior 1 tools generate checksum 2 see error
steps to reproduce the behavior on windows 10 1 in the main ghidra window select edit rarr tool options 2 navigate to tool 3 select the entry cde motif for the swing look and feel option and apply these settings 4 restart ghidra 5 attempt to use any common clipboard hotkey in a text field for example filter field in ghidra main window
steps to reproduce the behavior 1 load the code segment included below as m68020 big endian code 2 define a volatile read write region in the memory map starting address size 32 bytes define the whole region as a 32 byte array labelled nvramcon 3 disassemble code 4 observe that there is a read from volatile region immediately prior to writes which is not included in disassembly but should be
steps to reproduce the behavior 1 enable focus follows mouse without window raising you can do that using winaero tweaker url or x mouse controls url run winaero tweaker and under xmouse options select enable window tracking and make sure enable window raising is not selected 2 run ghidra and ensure several windows are open for example open a project and open help then adjust the windows size position so the project selection window the help are in front of larger codebrowser 3 move mouse around notice that as you move mouse over codebrowser which is beneath other two windows ghidra raises it to cover other two windows
steps to reproduce the behavior 1 run the pdb exe binary in the debugger of your choice with the following arguments fakefilename pdb 0 3 observe status stack buffer overrun exception thrown by stack cookie check
steps to reproduce the behavior run in 4k
void cdecl16near display control uint flags assume ds 0xec25 void void return uint stack 0x2 2 flags display control e000 a672 55 push bp e000 a673 8b ec mov bp sp e000 a675 8b 5e 04 mov bx word ptr bp flags e000 a678 b4 00 mov ah display control a67a cd 12 int int disp a67c 5d pop bp a67d c3 ret i m replacing some value by define value like on the int int disp but the decompiler still show swi 0x12 void cdecl16near display control uint flags code pcvar1 pcvar1 code swi 0x12 pcvar1 return
steps to reproduce the behavior 1 navigate to the root directory of ghidra 2 run gradle buildghidra as described in step building the package of the devguide url building package 3 see error reported by task createjavadocs task createjavadocs home u desktop ghidra play ghidra ghidra features base src main java app services markerservice java 39 error attribute not supported in html5 name a name usage a home u desktop play framework project src main java framework plugintool plugin java 38 warning empty p tag p home u desktop play features base src main app util bin format pe cli blobs cliblob 31 error malformed html if first four bytes are 110bbbbb 2 x y and z size is bbbbb 2 24 x 16 y 8 z bytes home u desktop play features base src main app util viewer format actions enablefieldaction 38 warning no param for panel public enablefieldaction string owner fieldheader panel 100 errors 100 warnings
steps to reproduce the behavior 1 navigate to the root directory of ghidra 2 run gradle eclipse with gradle version version installed 4 see error
steps to reproduce the behavior load any 32 bit mips32 le elf file
1 run ghidra on your favorite x86 64 linux host 2 create a new project 3 import the a shared object see attachment compiled for armv7l 4 look for the function diminuto cue debounce for example 5 note that it s misplaced by offset placing it in the middle of an unrelated object module
steps to reproduce the behavior using ghidra disassembly file some instructions cannot be recognized such as isel
write a python script that uses a decently large chunk of memory and than fails
steps to reproduce the issue 1 use the cursor to select a the beginning of a function at a fun
steps to reproduce the behavior 1 disassemble telen exe from url 2 go to the idiv32 function at 1000 ac13 3 edit the function as follows idiv32 url storage url 4 the disassembly incorrectly names instruction arguments fused regs url
i believe you simply need to decode these bytes in this order but since i m not sure what s causing it i m not sure if it makes any difference this is taken from an elf library compiled for android
steps to reproduce the behavior 1 ctrl f or right click find in the decompiler window 2 enter a string 3 click next 4 the string is highlighted in the decompiler window 5 click on a different line in decompiler window highlight follows focused line instead of being cleared 6 close decompiler find text dialog 7 click on a different line in window even after closing find text dialog highlight follows focused line and it s not cleared
load arm32 binary attached decompile function undefined8 java appsolid sdk memhack undefined8 uparm1 undefined8 uparm2
load an arm some arm cortext little endian binary which contains a cmp w instruction e g b1 f5 a0 2f cmp w r1 use the patch feature to change the compare value e g notice the bytes of the instruction change to a1 f5 c0 2f cmp w r1 change compare value back again to its original value e g observer instruction bytes are not same as original bytes despite disassembly appearing to be same a1 f5 a0 2f cmp w r1
steps to reproduce the behavior 1 prepare a pe file that uses an unc path pointing to a windows share as pdb path the screenshot below shows such an exe image url 2 start a server on the attacker machine that captures or relays ntlmv2 hashes i ve used the auxiliary server capture smb metasploit module for simplicity s sake 3 import open and analyze file selecting only pdb analyzer is sufficient image url analyzer will fail well unless you actually serve right pdb of course 3 go back to attacker machine and be happy for your newly aquired hashes or shells if you relayed image url
steps to reproduce the behavior 1 open up a binary 2 edit function signature 3 in the text box type something like int parse int data
steps to reproduce the behavior 1 use the adjusted cspec for msp430 attached which provides gcc and interrupt conventions 1 import attached ghidra zip export for jakarta 2 navigate to the login function and observe decompiler output looks like this screenshot 1 3 go to fun 46f4 function and edit the function 4 set calling convention to gcc 5 set return type char 6 add 2 parameters that are char screenshot 2 7 navigate login function and observe decompiler output has change it is showing call return addresses as ustack38 return address screenshot 3
select an entire function in the listing view from the file menu select export program from the format dropdown select intel hex make sure the selection only checkbox is ticked export file open file in an editor that can read intel hex format e g use segger j flash compare last bytes in file with last bytes selected in disassembly
steps to reproduce the behavior 1 download and unpack fixedsys ttf gz url 2 place fixedsys ttf to fonts 3 in codebrowser set the decompiler and disassembly font to fixedsys excelsior version 4 observe the font has changed as expected 5 close and reopen codebrowser 6 observe that an arbitrary font is used in place of fixedsys
steps to reproduce the behavior 1 disassemble telen exe from url 2 go to 1000 ac13 this is the idiv32 function 3 attempt to edit its function signature to uint32 t cdecl16near idiv32 uint32 t x uint32 t y with custom storage either in the decompilation window or in the listing window you can initially set storage for x ax and bx and for y cx and dx however any attempt set return type uint32 t and its storage ax bx will result in a too much storage error because for some reason ghidra thinks that a return type of is only 2 bytes
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 decompile telen exe from url 2 look at the disassembly at 1000 0177 note that ghidra has correctly created symbols in the data segment for these instructions 3 follow the call that s immediately after to fun 1000 ab35 4 look at disassembly at 1000 ab3b note that this is a ds access but ghidra has not assigned a symbol for it 5 attempt to create a symbol for it in data segment note that ghidra does not apply symbol to instruction
steps to reproduce the behavior 1 get a wannacry sample for example url 2 go to function fun 3 scroll down to the sprintf calls at offset 407e18 4 see that three arguments are pushed to sprintf but only two are identified
steps to reproduce the behavior 1 unset option automatically save tools 2 close and open ghidra 3 option automatically save tools is set
steps to reproduce the behavior 1 load any cfg protected binary into ghidra e g amsi dll 2 perform default analysis 3 navigate to guardcffunctiontable
disassemble a binary with multiple lda addr x in it look for inconsistencies
1 open script manager 2 right click a script 2a edit with basic editor 3 find line of code longer than the width of the editor pane 4 attempt to view the full line without having to resize the window
steps to reproduce the behavior 1 create a new project 2 open a large xml file that can be generated by ida i have 1gb of this file 3 ghidra only knew that he was binary
steps to reproduce the behavior 1 apply this patch url issuecomment to ghidra features pdb src cpp symbol cpp rebuild the project and move build os to os 2 import and load chrome exe in ghidra 3 perform auto analysis 4 see error
steps to reproduce the behavior 1 download ghidra 2 point to jdk 3 run ghidrarun 4 see error
steps to reproduce the behavior 1 go to edit tool options key bindings 2 search for recently used 3 remove the keybinding or set a different key 4 observe that the new keybinding is used 5 restart codebrowser 6 observe that the default keybinding is used again y
steps to reproduce the behavior 1 fetch the executable for my baby shark singing program as found here url 2 decompile it with everything default
steps to reproduce the behavior i used windows defender s mpengine dll for testing url dependencies url i ran exact function instruction matcher and exact data matcher against versions version and version
steps to reproduce the behavior 1 open any application with the codebrowser tool 2 find an operation that looks like a structure member dereference in the decompiler 3 right click on the offset from variable to member field and select auto create structure 4 see error failed to create structure variable java lang database support not provided for highconstant tat ghidra program model pcode highfunctiondbutil updatedbvariable highfunctiondbutil java 513 tat ghidra app plugin core decompile actions filloutstructurecmd createstructure filloutstructurecmd java 563 tat ghidra app plugin core decompile actions filloutstructurecmd applyto filloutstructurecmd java 142 tat ghidra framework cmd backgroundcommand applyto backgroundcommand 59 app plugin core decompile actions actionperformed 122 docking popupmenuhandler 1 run popupmenuhandler 62 desktop awt event invocationevent dispatch invocationevent 313 desktop awt eventqueue dispatcheventimpl eventqueue 770 desktop awt eventqueue 4 run eventqueue 721 desktop awt 4 run 715 base security accesscontroller doprivileged native method base security protectiondomain javasecurityaccessimpl dointersectionprivilege protectiondomain 85 dispatchevent 740 eventdispatchthread pumponeeventforfilters eventdispatchthread 203 eventdispatchthread pumpeventsforfilter eventdispatchthread 124 pumpeventsforhierarchy 113 pumpevents 109 pumpevents 101 run 90
steps to reproduce the behavior 1 open a binary in codebrowser in this instance i ve used windows own notepad exe but have encountered the issue on every binary 2 navigate to the entry point and hover over a local variable or parameter name in the listing window 3 a subsequent click within listing window will cause corruption
steps to reproduce the behavior 1 set pdb path to a symbol server with symbol folder hierarchy enabled 2 run the pdb analysis ghidra tells me that the symbol could not be found
steps to reproduce the behavior 1 use homebrew to install xz brew install xz 2 create a new project in ghira 3 import the xz binary into ghira 4 leave the default import settings 5 see the below error loading usr local cellar xz version bin skipping segment pagezero usr local cellar version lib liblzma 5 dylib not found usr lib libsystem b dylib not found 6 look for referenced libraries ls l usr local cellar version lib liblzma 5 dylib r r r 1 user staff feb 9 17 06 local cellar version lib liblzma 5 dylib ls l libsystem b rwxr xr x 1 root wheel 60880 jan 15 17 21 libsystem b
steps to reproduce the behavior 1 copy an arbitrary portable executable file named cmd exe into a folder for instance c test 2 open a command line and go to the choosen folder following the same example cd c test 3 execute ghidra from the command line route to ghidra ghidrarun bat 4 create a new ghidra proyect 5 add a portable executable into proyect 6 open added file in ghidracodebrowser 7 go to window and then python 6 wait until your arbitrary file cmd exe is executed
steps to reproduce the behavior 1 go to memory map window in the code browser 2 click on button 3 set type to byte mapped set source address new memory region address and size and click ok 4 back in the memory map window click the button again 5 set type to byte mapped set source address previous byte mapped memory region size and new region address 6 go byte mapped region up in step 5 and attempt disassemble instructions there
steps to reproduce the behavior 1 head ghidra dir ghidra processors mips data manuals mipsmic idx 2 note the errors in the header
stack0 zip url in main rename stack local 54 to anything variable assignments and predicates change
steps to reproduce the behavior 1 go to contributing md 2 scroll to the section near the bottom getting started 3 click on the linked text for developer s guide 4 see 404 error
steps to reproduce the behavior 1 install ghidra in a read only location like program files 2 import a file in a new project 3 in the import dialog press options 4 see error
steps to reproduce the behavior 1 create a project and close it 2 put an xxe payload in any of the xml files in the project directory see screenshot for example 3 open the project 4 observe your payload doing its thing same concept works with archived projects gar files too
steps to reproduce the behavior 1 compile this code with the default c compiler on macos url file spectre poc c 2 open the compiled file with ghidra 3 choose all the default options and let analysis run 4 this is error i get failed to create no return function la symbol ptr stack chk fail at
simply decompile any code that is referencing a class
launch application also any time you select a menu item such as file open codebrowser or anything that opens a dialog will also open off screen
steps to reproduce the behavior 1 import the cp elf binary into your project default settings 2 right click it and click export 3 select binary as the format 4 export it 5 make the exported binary executable 6 run exported binary
steps to reproduce the behavior 1 auto analyze a semi large program with the windows x86 pe exception handling pass enabled 2 watch as the windows x86 pe exception handling pass takes forever to complete for me it was around 6 functions per second out of 10000 functions to analyze
steps to reproduce the behavior 1 follow the steps on url to compile the hello world executable 2 import into ghidra and auto analyze with default options
acquire hidpi machine set gdk scale 2 or higher launch ghidra
git clone url cd nativescript sdk examples js tns run ios and navigate to tabs usage example
playground example url 1 run on iphone 6 result the action bar is half visible
playground example url 1 tap on second tab 2 tap on third tab result the highlight is stuck on second tab and the page tab isn t slided
create a button align it left and set its text to go
set rows columns with a star value from css css gridlayout rows star columns star
this happens in a tab template see issue 6859 for more info
1 create a new project with tns create ng statusbar testy 2 run the app on an ios hardware device unadjustednonraw thumb 2 url 3 share the internet connection with another device 4 the status bar should now be taller unadjustednonraw thumb 3 url 5 go to the desktop or another app 6 go back to app layout is now broken notice list items unadjustednonraw thumb 4 url 7 rotate phone to portrait and back again to restore layout
copy url to my code base import and use my botton view
here is the example css far font family font awesome 5 free fa regular 400 font weight 400 fas font family awesome 5 free fa solid 900 weight 900 here is example markup label text xf002 class fas h1 label text xf1ea class far h1
install the newest xcode 11 beta version and set it as command line preference prepare and run the demo app on an iphone 8 ios 13 simulator and compare with iphone x simulator
in the template tabstripitem title account iconsource fontdynamic tabstripitem in the typescript component fontdynamic font xf015
url open it on a ios device just tap anywhere inside the textview and then tap done on your keyboard
my worker js code require tns core modules globals let counter 0 let time str convert counter to time formar 00 00 00 let counter to time str value let sec num parseint value 10 hours math floor sec num 3600 minutes math floor sec num hours 3600 60 seconds sec num hours 3600 minutes 60 hours 10 0 minutes minutes 10 0 seconds seconds 10 0 seconds return global onmessage data if data data stop global close if counter data setinterval 1 time str to str update the main theath with the and the string global postmessage console log console log 1000 global onerror error close
erroneous behavior can be observed in e2e ui tests app bottom navigation icon change example
change root view classname after running the app
observable is imported from tns core modules ui page page correct one is tns core modules data observable observablearray is imported from tns core modules data observable array observable array correct one is tns core modules data array view imported from ui page page correct one ui view gridlayout isn t even recognized for auto import
create a css rule like this css element width calc 100 10px this rule will log an error from percentlength parse or length parse because of an invalid value
add a textfield with keyboardtype number the comma button is not usable even when you set your android device simulator region to something that uses as the decimal separator only is allowed as the decimal input which is wrong in most regions outside of en us
i start a custom activity using app android foregroundactivity startactivityforresult intent result code activity shows up as expected then either ends the activity or pressing the hardware back button closes destroys that activity and brought back to the last page i was before calling the custom in short back to main default then when i press on navigateback button which is suppose to navigate me back to previous page it does not work if i press on hardware button it does work it navigates me previous page but ui not responding clicks
triple tap on the button from the repro page
just add an image with an asset that is dynamically loaded src as source
add the following css to any nativescript app css w 1 width 25 w 1 2 width 50 and use this simple layout to see the issue html stacklayout label class w 1 backgroundcolor red label class w 1 2 backgroundcolor blue stacklayout
to reproduce 1 have a page that transitions to a second page via an unanimated navigation 2 have that second page transition to a third page via an animated navigation 3 have the third call frame goback to get the first 4 bug should be seen
bind an observable as an object inside and try to use it in view s conditionals js page bindingcontext user xml text user isloggingin sign up for groceries back to login following normal use has no problem js page bindingcontext user xml text isloggingin sign up for groceries back to login
open any modal view make changes to that modal views xml save the changes and wait for hmr to livesync the changes
url tap on button in the action bar
run the playground example
bash tns create collapse template tns template tab navigation ts cd collapse perl pi e s console log home items page app home home items page ts cat eof app app root xml stacklayout tabview androidtabsposition bottom tabviewitem title search ios iconsource res tabicons search android iconsource res search frame defaultpage search page frame tabviewitem tabview tabview androidtabsposition bottom visibility collapse tabviewitem title home ios iconsource res tabicons android iconsource res frame defaultpage items page frame tabviewitem tabview stacklayout eof tns run android tns run ios
create a new project tested with react nativescript and plain typescript project hello world starter template set an id for actionbar and add an event handler to it in the page navigatingto function code behind const actionbar page getviewbyid actionbar as actionbar addeventlistener loadedevent event ios as uinavigationbar topitem title i wwaaas changed does not work settimeout ios as uinavigationbar topitem title i wwaaas changed works version
app component ts application android on application androidapplication activitybackpressedevent args any this ngzone run args cancel true this userservice onandroidbacktriggered path home component ts ngoninit this userservice androidbacktriggered subscribe path string this onandroidbacktriggered path public clickhistory void ishistoryopen ishistoryopen private onandroidbacktriggered path string void ishistoryopen true home component html gridlayout id history class active ishistoryopen class inactive image src id history shadow image some element tap clickhistory some element gridlayout home component scss history active history shadow animation name hideshadow animation duration version s animation fill mode forwards inactive shadow animation name showshadow duration version s fill mode forwards keyframes showshadow from opacity 0 to opacity 1 keyframes hideshadow from opacity 1 to opacity 0
tns create myapp ng create platform prepare ios run it with xcode
use template tab navigation ng and put a listview as the current item detail and then try to navigate forward to an item detail with corresponding actionbar
url on load you will notice that all tabs have correct colors as per css the selected one has gold while the others have red tap on the 1st tab this messes up the 3rd tab color while other two have correct colors tap on 3rd tab this messes up color of 2nd tab to sum up active color is correctly applied but normal color is applied only to previously selected all other tabs have a messed up with some strange transparency
url go on the second tab and try to focus the field
url tap on change button
url tap on the change button
url tap on the change button
1 go to dev settings in android device and turn on the don t keep activities option 2 start this n app url or any other using frame navigation 3 tap navigate button the app navigates to other page 4 switch to other app doing this will destroy the app s activities 5 switch back to the sample n 6 tap navigate back button crashes
in nativescript core let date new date fri 12 jul 2019 08 33 59 z console log date date is invalid
tns run android bundle with vue as the base save any vue ts source file and you ll see it rebuild in the cli properly however the app will not reload with the new code
settimeout console log hello false fails in nativescript but suceeds in js
have the following markup bottomnavigation tabstrip tabstripitem title first tabstripitem tabstripitem title second tabstripitem tabstrip tabcontentitem tabs tabstrip backgroundcolor palevioletred title first title second tabstrip tabcontentitem gridlayout backgroundcolor skyblue label text first view gridlayout tabcontentitem tabcontentitem gridlayout backgroundcolor gold label text second view gridlayout tabs label text second view bottomnavigation
take a look at url
do an request to an server which responses with a application json as content type and an empty response body
use the following setup also visible in e2e ui tests app tabs font icons example xml tabs tabstrip tabstripitem title first iconsource font xf10b class font awesome font size color tabstripitem tabstrip tabs css awesome family fontawesome size size 36 color color blue with this setup the icon isn t shown on ios
use the following setup xml page actionbar actionbar gridlayout tabs tabstrip tabstripitem title first class special tabstripitem tabstripitem title second tabstripitem tabstrip tabcontentitem class special gridlayout label text first view gridlayout tabcontentitem tabcontentitem gridlayout label text second view tabcontentitem tabs
tabs tabstrip tabstripitem title players tabstripitem tabstripitem title dummy tabstripitem title teams tabstrip tabs
the same problem happens on every ng angular project running on android create project with template tns template drawer navigation ng and move slide your fingers from left side to middle of the screen
tns create project name choose style angular choose template tabs cd project name tns migrate proceed to building the project as normal below works with no errors tns build ios env aot env uglify env sourcemap bundle open up project in xcode after signing with provisioning profile etc launch on device all builds well but on run fails with reported error below
use the following snippet also available in e2e ui tests app tabs color example xml tabs tabstrip tabstripitem title first class special tabstripitem tabstripitem title second tabstripitem tabstrip tabcontentitem class special gridlayout label text first view gridlayout tabcontentitem tabcontentitem gridlayout label text second view gridlayout tabcontentitem tabs css tabs color gold special color olive tabstrip color skyblue special teal active yellowgreen
use the following code snippet based on e2e ui tests app bottom navigation font icons example xml tabs class font awesome tabstripitem title third iconsource font xf556 class font awesome size tabstripitem tabstrip tabcontentitem class special gridlayout label text first view gridlayout tabcontentitem tabcontentitem gridlayout label text second view gridlayout tabcontentitem label text third view tabs css awesome family fontawesome size size 36 color color blue tabstripitem active color red
1 open url 2 scan qr code with device 3 open device log tab
use the following setup also visible in e2e ui tests app tabs background color or e2e ui tests app bottom navigation background color examples xml tabs tabstrip tabstripitem title first class special tabstripitem tabstripitem title second tabstripitem tabstrip tabcontentitem class special gridlayout label text first view gridlayout tabcontentitem tabcontentitem gridlayout label text second view gridlayout tabcontentitem tabs css special background color olive
use the following setup also visible in e2e ui tests app tabs background color example xml tabs tabstrip tabstripitem title first class special tabstripitem tabstripitem title second tabstripitem tabstrip tabcontentitem class special gridlayout label text first view gridlayout tabcontentitem tabcontentitem gridlayout label text second view gridlayout tabcontentitem tabs css special background color teal special active background color yellowgreen
using e2e nested frame navigation 1 go to page w bottom navigation 2 navigate to some page no transition 3 go back app crashes with the following exception an uncaught exception occurred on main thread the specified child already has a parent you must call removeview on the child s parent first java lang illegalstateexception the specified child already has a parent you must call removeview on child s parent first
use the following xml declaration xml bottomnavigation backgroundcolor yellow button text go to fifth no tabstrip item tap ontap gridlayout tabcontentitem tabcontentitem gridlayout label text second view gridlayout tabcontentitem tabcontentitem gridlayout label text third view label text fourth view label fifth view bottomnavigation
1 clone git project url 2 run the program on android tns run android env uglify 3 please add if this is a same case on ios as well
1 open the sample projected provided in the link below 2 tap the button start worker to start the worker itself and task 3 tap button cancel worker and you see that script is still running 4 open worker js in project uncomment task to one containg setinterval and comment for loop task 5 rebuild app and repeat steps 1 3 to see that this way gets cancelled
run a bundle command
npm install g nativescript tns update tns run android bundle tns run ios bundle
run the sample here url
1 create a custom component that extends span 1 add it inside formattedstring
1 click on change fields values button 2 update the value on one of the fields in the app 3 click check value
try the sample project
create new project add timepickerfield to xml set minminute 10 in xml set minhour 10 in xml set maxminute 48 in xml set maxhour 18 in tns run android
in my case i did the following 1 tns create myapp vue appid ch blah myapp 2 tns run android at this point i had other app with same name installed and this run did not update to the new app version 3 deinstalled myapp manually inside emulator 4 tns run android no app gets installed in emulator
run unit tests app with bundle workflow from url
ts export function test const topframe topmost helper navigatetomodule ui page test module css page tkunit assert topframe currentpage content instanceof label content of the test page should be a label created within test page module css const testlabel label topframe currentpage content tkunit assertequal testlabel text label created within a module css tkunit assertequal testlabel style backgroundcolor hex 00ff00 ts import as pagemodule from tns core modules ui import as labelmodule from tns core modules ui export class testpagemodule extends pagemodule constructor super var new labelmodule text created within a module css this content export function createpage return new testpagemodule
1 define custom component ts app components my control ts import stacklayout from tns core modules ui layouts stack layout stack layout import label from tns core modules ui label label import button from tns core modules ui button button export class mycontrol extends stacklayout constructor super let counter number 0 const lbl new label const btn new button btn text tap me btn on tap args lbl text tap counter this addchild lbl this addchild btn 2 reference it in a page xml page xmlns customcontrols components my control navigatingto navigatingto class page customcontrols mycontrol page 3 build app with bundle workflow
1 clone nativescript repo locally git clone git github com nativescript nativescript git 2 cd nativescript 3 run setup steps npm install npm run setup tsc skiplibcheck w 4 open another terminal and create blank typescript project tns create dev test template tns template blank ts cd dev test 5 link local tns core modules in the new project npm install tns core modules save 6 execute run android or run ios uselegacyworkflow is false in nsconfig 7 command fails on both platforms with the following logs android android skipping node modules folder use the syncallfiles option to sync files from this folder searching for devices running webpack for android clean webpack plugin users mdonev github dev test platforms app src main assets app
add a leading dashes classname to a view and attempt to target it with css
using nativescript core js create some views without using any xml give the views classnames and create a css class that targets those classnames run tns debug ios and update some css webpack will respond but the updates will not be shown closing the app and re opening will still not fix the issue
simply clone sample project url and run
1 goto url and preview the app status bar should be red 2 press go to page 2 button page should change and status bar should become green 3 press go back using nsrouterlink page should change to page 1 and the status bar become red that s how it be 4 press go to 2 and after navigating to 2 tap go back 1 using router backtopreviouspage change 1 but the color of the status bar will still be green instead of red
1 clone plugin repo e g autocomplete git clone git github com nativescript nativescript ui autocomplete git 2 cd src 3 npm run postclone 4 cd demo 5 tns run android 6 now modify autocomplete common ts in src folder and save it app crashes
try the provided playground app on ios and open a modal and close it you will see that the red area disappears but this doesn t happen on android
export class testlayout extends stacklayout onloaded super onloaded this on gesturetypes tap console log tapped this on gesturetypes doubletap console log double tapped if you attempt to double tap on the testlayout the console will show tapped double tapped
css btn margin 0 layout stacklayout class home panel button class btn btn primary text button button button class btn primary m t 5 m 0 text m t 5 m 0 stacklayout css bug url
run that css on version or older project and button is great on android21 with ns version it doesn t work
look for the demo as titled above and follow the playground link to it
tns test ios justlaunch and n to webpack migration prompt runs the tests successfully and returns manually remove uselegacyworkflow from nsconfig json tns test ios justlaunch and y to webpack migration prompt migrates to webpack but does not run tests or return instead launches the app similar to a run command
apply this style to a segmentedbar segmentedbar color fc7e0e selected background color fc7e0e then call alert
set uselegacyworkflow false and use background images and colors i can t imagine any reason it would happen
xml button text tap height 80 width 200 style android elevation 0 no shadow on tap unless android dynamic elevation offset is set as well
upgrade first your nativescript cli to v version using npm install g nativescript and remove a platform by executing tns platform remove android ios and the error occurs
enter some text into the textfield then hit the space bar twice in order to trigger the shortcut and have a period inserted you will notice that the period is not present in label below textfield
1 tns create mytestapp template tns template master detail ng 2 start ios simulator with version 11 3 tns run ios bundle 4 the app is successfully started 5 try to scroll the application 6 an exception is thrown
see playground app url
use this playground url tap the css toggle and js toggle buttons
for now we only have the crash logs from google analytics
the above screenshots come from the example playground url open the app tap the text field
you have to add an icon font on a css class then you have to put an icon on the label s text property and add the action tap on this label
browse to this playground project url and preview it
i don t know what causes these problems i ve found that flex layouts don t like having child content updated mid animation i ve also found that flex layouts don t like child label text being updated it seems mostly to affect ios but the point here is if at any point one breaks the rendering resetnativeview will do nothing to fix it
we haven t been able to reproduce the problem in house we only have the crash logs from google analytics
html listpicker items pokemons selectedindex 5 selectedindexchange log event object selectedindex listpicker 1 render a listpicker component with a selectindex bound make sure that the value is available before the component is rendered 2 bind selectedindexchange event and add a console log 3 render the listpicker component 4 do not touch it 5 you ll see the event logged even though you didn t touch
1 open demo app url using nativescript preview on android 2 use the listpicker to attempt to select element 3 as you select elements further down the list you ll see increasing jank around 6th item in the list 4 by 10th item it ll completely lockup the screen for a few seconds repeat this on ios to see that it s not a problem on ios also note that selectedindex value on screen does not change ios until you let go of input field
create an app and run with the newest ios simulator version main page xml xml page loaded pageloaded class page xmlns url actionbar title home class action bar actionbar scrollview stacklayout class home panel label textwrap true text text class h2 description label label text visible collapsed object visibility visibleobj visible collapsed stacklayout scrollview page main js js var observablemodule require tns core modules data observable var pagedata new observablemodule fromobject text initial visibleobj true exports pageloaded function args args object bindingcontext pagedata settimeout function pagedata set changed pagedata set visibleobj false 500
load a view with the following code template page actionbarhidden true tabview tabbackgroundcolor white tabtextcolor red tabviewitem title tab1 label text content for tab 1 tabviewitem tabviewitem title tab2 label text content for tab 2 tabviewitem title tab3 label text content for tab 3 title tab4 label text content for tab 4 tabview page template
storing a timestamp from a date in application settings using the setnumber method results in one of the above issues the same is true for values where high precision
after creating clear project remove hooks folder and run tns install
run url tap open modal tap close modal
1 add or other extended unicode character anywhere inside the xml of your app s initial page for example inside label s text property 2 add textfield autocapitalizationtype none to the same page 3 tns run ios emulator
i am unable to consistently reproduce this issue i know it has something to do with removing child views and adding them it would appear to be an issue specific to ios perhaps removing native views setting it undefined under different circumstances from android
run the pg demo
tns deploy ios device your connected device id using sidekick produces the same issue above
setup nativescript and got a clean bill of health from tns doctor i created a new nativescript project per the documentation like this tns create helloworld template tns template blank ng and then ran tns run android it worked perfectly fine then used the nsconfig json uselegacyworkflow false to make sure hot reload was on all of the time per the docs for version and ran run android switching back by removing command from nsconfig json doesn t fix this issue
image src url class image stretch aspectfill image image background size cover background color yellow clip path polygon 25 5 75 5 100 50 75 95 25 95 0 50 height 216 width 216
ts import component oninit ondestroy from angular core import page from tns core modules ui page component selector home moduleid module id templateurl home component html styleurls home component css export class homecomponent implements ondestroy constructor private page page on layoutchangedevent this onlayoutchanged this ngondestroy void this off layoutchangedevent this onlayoutchanged onlayoutchanged void alert onlayoutchanged fired
add pan gesture on view and add a subview like a label or a listview
1 add the tns platform declarations to devdependencies npm i tns platform declarations save dev 2 add references d ts to the root of the modal navigation e2e app with the following content reference path node modules tns platform declarations ios d ts 3 change this lines url l38 l41 of modal navigation e2e app to let options showmodaloptions context context closecallback console log home page modal page closed fullscreen true ios presentationstyle uimodalpresentationstyle popover view showmodal frame options
tns create ngapp ng cd ngapp tns run android
just add this to startup of the project const platformmodule require tns core modules platform var test uuid platformmodule device uuid console log asdasdasd json stringify test
create a flexboxlayout that contains a row with two label elements the first with flexgrow 1 the second one with flexshrink 0 give the first a very long content so that is has to be truncated
please check the home component of how its set up once build just start it up and scroll all the way down in the scrollview you will see that the scrollview falls behind tabbar please do test it on different devices with and without safearea s and different ios versions
url try on android and ios
1 define a frame root for your app default page contains no frames i e we have single frame scenario 2 navigate to a different page that contains additional frame i e we now are in a nested frame scenario 3 navigate back with android hardware button the exception above occurs
i have attached a sample project
in a nativescript angular component create a webview webview src url loadfinished loadfinished event webview and a corresponding function in the component loadfinished event loadeventdata console log finished error event error if you set src to a working url this outputs finished error null but if the hostname doesn t exist loadfinished is never called
1 define a frame 1 root for your app default page contains additional frame 2 i e we are in a nested frame scenario 2 from within the page loaded in frame 2 lookup the parent 1 and navigate to a different page that contains no frames i e we are in a single scenario 3 navigate to still other page that contains no frames i e single scenario 4 navigate back with android hardware button 5 try to navigate forward or back nothing happens
just monkey test an android app and open close modals after navigating in out of different sections routes this is specifically related to angular integration and may only happen more frequently with angular integrations i ve seen this happen in every nativescript angular app at random
run following playground example url
open any app that uses location services in the background nike run club google maps and navigate back to the application built with nativescript this is occurring on device iphone 8 but i don t have another physical device to test on
i created a playgound app to reproduce but you cannot reproduce the bug there because you have to click on launcher icon of your app therefore download and extract it build and run on android to show the behavior the sample app logs the domid of frame via loaded event of frame and also via button
build a component with a radcartesianchart or a radpiechart and change one property of an item
open a modal after modal is open show an alert dialog inside that modal s component it doesn t show an alert dialog even though it works in android
contact me adjenkov for reproduce open app login go to list view select list view item click button to navigate a second time click back button in action bar all navigation buttons stop working after that
apply the following styles on any ns layout border radius 50 border color dcdcdc transparent dcdcdc transparent
start a phone call open a nativescript app with a tabview
you can visit url and add tap fabtapped to each fabitem and implement method with a console output try expanding the fab item group and clicking on them theres no action nor event initiated
create a view with a textfield and a button add a blur event on the textfield which executes console log blur add tap event on the button which executes console log tap place your cursor in the textfield click the back button to hide keyboard click on button console will log tap not blur
1 have a searchbar 2 set textfieldhintcolor first 3 set hint after this
run this playground url on ios tap on any of the fields keyboard doesn t show as expected minimise the app and then get back to it don t wait for it to fully load tap quickly on some of the fields you can now change the text
git clone url cd nativescript pdfview ng cd publish bash pack sh
just run the sample project
1 input some text 2 input newline textview resizes properly but content shifts up and gets partially clipped 3 input newline textview resizes properly and content offset is ok content visible
load up app scroll to the bottom rotate scroll to the top and observe text and container overlapping
instructions above
make sure the transition property in main view model ts is enabled press the icon to navigate to new page and then navigate back try to press the icon again page should be frozen
create vue project tns create simpleapp cd simpleapp tns preview hmr in home vue add class to the following line span class newcolor text message in app scss add newcolor color green
i couldn t find a minimal example for error reproduction so i ve created a playground sample similar to my real app with a testing datasource i m receiving the error in the playground sample
1 tap player two and then go back to players list via arrow or hardware button nested frame navigation and back 2 tap navigate to some page and then go back via arrow or hardrware button parent frame navigation and back 3 try to tap player two again nested frame navigation app crashes with an uncaught exception occurred on main thread java lang nullpointerexception tat android animation animatorset animatorsetlistener onanimationend animatorset java 797 tat android animation valueanimator endanimation valueanimator java 1056 tat android animation valueanimator access 400 valueanimator java 50 tat android animation animationhandler doanimationframe 644 animationhandler run 660
login title login message sign in using your credentials okbuttontext sign in cancelbuttontext cancel usernamehint email passwordhint password username this logindata email password this logindata password
login title login message sign in using your credentials okbuttontext sign in cancelbuttontext cancel usernamehint email passwordhint password username this logindata email password this logindata password
please see the example down below
hit the change tab via ngmodel button in the demo below and the tab is switched with a slide animation
flexboxlayout style width 200 background color red label text flexshrink 1 style background color blue label label text flexshrink 1 style background color green label text flexshrink 1 style background color yellow flexboxlayout
it happened after i created a pipe and this had an error so i removed the pipe and added the transform in the controller instead
this is what it looks like on our moto x play ezgif 4 url
once application launched tap on go to profile and then on profile component tap on go to listview link which will take back to home try to repeat this cycle for some time application will terminate
clone the nativescript examples url repository or nativescript ui samples open the app on android device with api 24 go to the split screen mode with another app and then try to navigate within the nativescript app while split screen mode is active
here is the css property i added code backgroundimage background image url images bkg jpg background repeat no repeat background position center background size cover code
programmatically create an element in ts and apply a class with element classname myclass
simple code would be html gridlayout radlistview items places groupingfunction mygroupingfunc tap grouptapped ng template tklistitemtemplate let place item stacklayout label text place city label stacklayout ng template radlistview gridlayout ts public places country us city new york country us city los angeles country canada city toronto country england london us chicago canada calgary mygroupingfunc value return value grouptapped will fire whenever anywhere in group is tapped the grouptapped function here will register a tap on anywhere in the group it will not tell you if the user has clicked on a category header
on the parent element of an html component set margintop to some negative value
1 add an image to your xml file like this image src base64encodedimagesrc class border def 2 in css add a border definition like this border def border width 2 color ffffff radius 45 in my case my radius is 45 because my image height and width are 90 so it s an effective radius of 50
place a listview inside a stacklayout then listen to the stacklayout s tap and listview s itemtap the function binded to the itemtap won t be called in the example below taphandle is never called unless you remove tap parenttap html stacklayout class page home panel tap parenttap label text outside padding 30 label listview itemtap taphandle height 300 items a b c ng template let item item stacklayout label text click me padding 30 label ng template listview
i m using angular reactive forms if that s at all related but does the same on playground so probably the same everywhere stacklayout formgroup group textview formcontrolname description textview stacklayout class hr light stacklayout stacklayout
launch sample application url move to the second page inside nested frame with next button minimize the application with home button restore the application from recents menu try to navigate to startpage in the topmost frame
create an app with a label mine was angular based provide the label text field with a number in my case in the text myarray length form you can provide the field with myarray length tostring for control sample to see that it will work
create a page with an action bar set to flat and a layout which should span the safe area set a background on the layout so that you can see it run on an iphone with a safe area i m using an iphone xs navigate to this page from another page note that the layout does not overflow into the safe area also note that if you repeat these steps and don t set action bar to flat layout will overflow correctly
i ve created a minimal repro in the playground using the icanhazdadjoke api tap the button to load a dad joke you ll see that the message changes to we loaded it status code is 200 and data gets filled in with joke now put your phone into airplane mode and tap button again despite not having a connection it calls success handler again so message still becomes we loaded it as you can see though status code is null and data is empty
run the provided sample code either look at the console of the ui
i am using the following to test hard crash nsarray objectatindex method sent to an uninitialized immutable array object static ioscrashtest1 console log ios crash test 1 const foo nsarray any nsarray alloc foo objectatindex 3
this examples writes tap on the console everytime i tap with my finger on label1 when i run it from the playground or with the command tns preview but if i run it with tns run android the tap is only written sometimes looks random
eddystone beacon using a g google beacon app
1 tap navigate to some page notice how the tab part of the page disappears immediately instead of transitioning away
1 create a nativescript typescript project with webpack 2 run tns debug android or tns debug ios 3 change one of the typescript files
1 tap player two nested frame navigation with default transition 2 tap navigate to some page button parent frame navigation with slide transition 3 go back via hardware button parent frame back navigation 4 nested frame content is missing i e player two details are missing from the home page
create a listview with a stacklayout large enough to go off the screen and then scroll to the bottom of the list
import afterviewinit component elementref viewchild from angular core import color from tns core modules color import as platform from tns core modules platform import textfield from tns core modules ui text field component selector testtextfield templateurl test textfield component html styleurls test textfield component scss moduleid module id export class testtextfieldcomponent implements afterviewinit viewchild textfield elementref constructor ngafterviewinit custom ios carret color if platform isios const uitextfield this nativeelement as ios console log log this nativeelement as t console log log this nativeelement as ios result logs are device iphone console file app bundle js 572 24 1 30 device iphone console file app bundle js 573 24 2 undefined
scroll the page and see the title change color between its large and normal versions
add a scrollview layout horizontal and let s call it as a parent layout add multiple flexbox layouts inside it add a background color to each of these flex layout add some margins on the right to separate these the last flex layout which is visible on the screen and is being cut off slightly will merge with the next flex one which will be visible when scrolled in it s right margins don t work p s it s not just flexbox i ve tried all layouts inside scrollview whenever i apply a background to child layouts and margins to separate them element which is being cut off gets merged into next one this happens only on ios android works pretty fine i want padding or margins between these layouts mimic google material card
url visit this on android then visit on ios on ios the button stays behind the layered layout i ve included a possible workaround
tns build ios open ios project in xcode open memory report in xcode on device click on example loop 2 4 times or click on loop 10x reserved memory hasnt gone in memory report if you reach limit of memory app crashes
add nested tap events to the objects a label with a tap inside a stacklayout with another tap is enough the stacklayout event will be fired even when the touch is on the label xml scrollview tap test stacklayout test label text touch this label test textwrap true stacklayout scrollview ts export function test args eventdata any args object false this seems to be ignored console log touch on args object
see playground link provided below the page loads with a form
fresh install nativescript from npm do tns create foo select vue when asked install nativescript playground and nativescript preview on android phone do tns preview scan qrcode using playground preview shows exception
i followed the instructions in advanced setup guide in nativescript website url i didn t install packages online i downloaded them separately and copied them to corresponding temp folders so chocolatey could find them i didn t install avds that day running tns doctor returned a checkmark
1 follow instructions for nativescript plugin seed url 2 add latest version of onfido version url to src platforms ios podfile 3 app crashes and no errors are present
home html flexboxlayout stacklayout container orientation vertical loaded onloaded label text test label stacklayout flexboxlayout home css flexboxlayout justify content center align items center background color aquamarine stacklayout width 300 padding 20 20 background color bisque border radius 8 home ts export class homecomponent viewchild container container elementref onloaded let container view this nativeelement scalex 0 scaley 0 animate scale x 1 y 1 duration 1000 curve animationcurve easein
try to scroll through the list on android in this playground sample then try on ios url
it s very specific you should see the playground to have a better understanding
take any sample app in vscode with nativescript modify launch config of visual studio to add tnsargs hmr hit f5 change the code or xml files notice the app close after each file save instead of remaining open
i installed the latest node and the np m android studio is installed on the computer with all sdk s following the steps here url i ran following commands 1 npm i g angular cli 2 npm i g nativescript schematics 3 ng new c nativescript schematics sass project shared style scss 4 cd sass project 5 npm install 6 tns run android bundle also tried using nativescript sidekick at step 6 on a different attempt have also tried installing all packages to their latest using latest have also tried cloud building both from terminal using tns cloud run android bundle as well as using nativescript sidekick
start a new project from the template and run tns preview bundle
tns run android ios hmr
run tns run android hmr navigate to another page where you have a method implemented with a console log as an action of a button click a button see consoel log change something in the component and wait for webpack to replace it try clicking the button again console log doesn t show anymore
run the project on devices version and more to see the difference
const options modaldialogoptions viewcontainerref this vcref context data fullscreen true return this modalservice showmodal somecomponentname options then data console log data error console log error
just add a label with following text
just compile with webpack version
here is what i am doing httpmodule request url url timeout 5000 method get headers then response const result response content tojson alert received response response content e the provided url leads to a sample webservice from url and the delay is set to 10 seconds open the provided sample app and tap the button it will start http request and after about 10 seconds you get an alert with json
run following commands tns create ema2 template tns template drawer navigation ng cd ema2 tns run android emulator
see the playground example below on android
see playground example below
url scroll a bit open recent apps resume the scroll goes back to 0
1 create new app using angular template tns create app ng 2 add unit tests 3 run the unit tests tns test ios
just add these components and run the app you will still be able to type inside the search box searchbar isenabled false searchbar isuserinteractionenabled false
some sample code that causes this error for me const dialogs require ui dialogs dialogs prompt title test message test okbuttontext ok cancelbuttontext cancel inputtype dialogs inputtype text and my package json description nativescript application license see license in your license filename readme nativescript application repository fill your repository here nativescript id com funfangle pos tns ios version version scripts lint tslint app
the issue is very easily reproducable by creating a new ns angular app using tns new app template angular then adding a canactivate guard to the items route then running tns run ios app routing ts injectable export class theguard implements canactivate canactivate observable boolean return timer 1000 pipe map true const routes routes path redirectto items pathmatch full path items component itemscomponent canactivate theguard path item id component itemdetailcomponent
checkout playground example url here i have given two stacklayout with and without horizontal orientation and you can see the difference
launch the video file picker and select a video from the gallery it does not always happen but surely if you do it 5 times repetitively you will find the error
create a webview include an img tag and set the src property to a local folder i e img src marker r png an external image will display properly on an ios device a local image will not
create a listview with an item and add a basic itemtap add a tap action over a parent element and try in the tap action to dismisssoftkeyboard on android
simplified test case link url steps to reproduce 1 add a textinput 2 add multiple text tags inside it
simplified test case dev url prod url steps to reproduce 1 add child nodes to the targeted dom element 2 deploy app 3 see app appended to child node
simplified test case url steps to reproduce 1 open on ios safari on a real device url 2 pinch to zoom sometimes 3 see the value updates sometimes and easily gets wrong
steps to reproduce 1 url 2 click on image 3 see a white page
example url steps to reproduce 1 create a clipped text with ellipsizemode different than tail js text numberoflines 1 ellipsizemode clip example text text 2 the is always clipped with ellipsis regardless of the mode head clip
simplified test case url steps to reproduce 1 create a view with a pan responder 2 add children at a non origin position in the view 3 tap and move on the parent view 4 observe the locationx and y coordinates are correct 5 while keeping your finger pressed move over the child view 6 locationx and y coordinates are relative to child
a simple component can be found here url 1 type aaa in the text input 2 type arrow up 3 the cursor has moved to the beginning of the text input
in native jsx apptext accessibilityrole heading
simplified test case url steps to reproduce 1 add a border to a text 2 no border will appear unless you clearly set the borderstyle
simplified test case url jsx import react from react import image text touchableopacity view from react native class app extends react component render return view text title it works text with label it works text touchableopacity accessible accessibilitylabel test title it doesn t work touchableopacity with label doesn t work touchableopacity image source uri url title image with title doesn t work style width 120 height 40 view export default app
simplified test case in url text has notice that the text component has the following styles applied to it textdecorationcolor ff0000 textdecorationline underline the rendered output shows underlined text but the color of underline is black
url simplified test case url steps to reproduce 1 create a stylesheet with property shadowtext using react native web 2 apply the style to a view element from react native web 3 get a warning message telling the property name is wrong
codesandbox doesn t have webpack relevant webpack config is module rules test js i include path resolve projectroot node modules path resolve projectroot app path resolve projectroot index web js use loader babel loader options presets react native plugins react native web i tried adding exclude native js but it didn t change anything steps to reproduce 1 create a file with a native js extension 2 create a file of the same name with a web extension 3 run webpack
simplified test case url steps to reproduce 1 open html page in edge 2 observed screen is orange in color 3 expected screen is violet in color
simplified test case url steps to reproduce 1 scroll a bit 2 open the elements panel 3 observe that the first item is still rendered in the dom
put following in example code that uses react native web export from react native simplified test case none steps to reproduce 1 create sample react native web project 2 create new file like reactnative js with export from react native 3 import button from reactnative
git clone url cd react native web styled components bug yarn yarn dev open url exception node modules styled components native dist styled components native esm js attempted import error react native web does not contain a default export imported as reactnative node modules styled components dist esm js attempted import error react web does not contain a default export imported as reactnative typeerror cannot read property stylesheet of undefined at module node modules dist esm js
record a snapshot of the output in the appregistry test for ssr as function of app
ts import settings from react native console log settings in the webpack report you should see react art being included amongst other unwanted things img width 1255 alt screen shot 2019 03 11 at 8 12 53 pm src url
steps to reproduce 1 yarn install 2 yarn website 3 errors occur on command line and in the storybook website localhost 9001
attempt to pass any all lower case prop to a view or text component i e tooltip hello simplified test case not needed steps to reproduce 1 attempt to pass a lower case prop a component
simplified test case url steps to reproduce 1 create any view with flexdirection row and add children that also have flexdirection row 2 add text or any other self sizing content to the children row containers
simplified test case url steps to reproduce 1 create a new project 2 create new styles for bar bar height 56 width 200 backgroundcolor blue 3 create a new view that applies those styles with object spread view style styles bar 4 run project and the view does not have the styles
simplified test case url steps to reproduce 1 just go to the top of the list to load more messages 2 repeat the process a few time and things should start to become weird
steps to reproduce 1 render either of the following components class textinputreftest extends react component constructor props super props this textinput react createref componentdidmount console log textinput this textinput render return textinput ref this class textinputreftest extends react component componentdidmount console log this render return ref el console log setting ref el 2 observe the logs and see that the ref never gets set
web url native url view style flex 1 width 100 backgroundcolor 2191b6 view style alignitems flex start view view style flex 1 backgroundcolor red alignself stretch text test text style flexdirection row height 300 width 300 backgroundcolor green
simplified test case url steps to reproduce 1 attempt to apply a style value transition to a property that is rtl flipped 2 notice that no transition occurs
url observe the console using the provided resizeobserver mock
simplified test case url steps to reproduce 1 render image resizemode repeat with an svg source
steps to reproduce 1 try to render view accessibilityrole list 2 run on any android device
snack url works codesandbox url same code crashes
simplified test case url
steps to reproduce 1 visit url react native on chrome
simplified test case url steps to reproduce 1 clone the test case 1 yarn install 1 yarn start 1 open url disable javascript in your browser refresh the page
url steps to reproduce on mac 1 turn on voiceover cmd f5 2 navigate to switch using vo keys ctrl option shift down 3 toggle switch ctrl option space 4 observe that the control is read as unchecked checkbox
simplified test case url steps to reproduce 1 create a sectionlist with section 2 add should this be default it is on ios 3 scroll sectionlist
simplified test case url img width 1154 alt screen shot 2018 08 06 at 15 45 13 src url steps to reproduce 1 create an image element and reference a svg file by url with http
simplified test case url steps to reproduce 1 use textarea or input type text inside a touchableopacity tag 2 try adding some blank spaces by pressing space
live example url simplified test case js picker selectedvalue mango style padding 24 appearance none picker item label kiwi value kiwi picker item label apple value apple picker item label mango value mango item label watermelon value watermelon steps to reproduce 1 access codesandbox with chrome
steps to reproduce 1 build react native web add 2 test animated components 3 displays on storybook
simplified test case url steps to reproduce 1 place an horizontal flatlist in a scrollview 2 try to scroll vertically from the flatlist 3 the scrollview won t scroll vertically
simplified test case url steps to reproduce 1 go to the codesanbox link 2 type in the input field 3 hit your enter return key to submit the form
simplified test case url steps to reproduce 1 type a letter in the text input 2 look at the console to check the value when the event handler is called
i put a simple test case at url where you can see how each row does not expand to the list width the list has a fixed width in this case so i could also put that width on the columnwrapper but in my real case i don t know that value and it could also change responsive yes i could calculate it on layout if that s the only way but m trying to prevent that
simplified test case url failure screenshot url success screenshot url steps to reproduce 1 create a text element 2 apply styling that uses the backgroundclip property 3 watch it fail on chrome safari but not on firefox
see code sandbox here url steps to reproduce 1 add text to the textinput setup as described and hit enter to submit 2 call clear on the textinput ref 3 call focus on the textinput ref
steps to reproduce 1 create a reference to a view 2 call focus on the ref programatically
simplified test case url steps to reproduce 1 press the add element button that calls directly to the method of the virtualizedlist that it seems it is accessing reactnative an it s not defined
steps to reproduce
simplified test case create a component a link that project then in your web project link the library and use it
with this code for the panresponder js componentwillmount should not be the same for web app t this panresponder panresponder create t t false t evt gesturestate tif gesturestate vx version gesturestate vy version tthis pressout treturn false else return true evt gesturestate treturn vx 0 vy 0 evt treturn vx 0 vy 0 tonpanrespondergrant true tonpanrespondermove e tif size this messagelist tif vy minforce dy minforce 10 console log upbubble tthis upbubble vx tif minforce this state current property father console log downbubble tthis downbubble tonpanresponderrelease e true the function is then given to a regular view component
just using the flatlist with inverted true url
ls node modules react native web jest preset json
url steps to reproduce 1 go to switch screen 2 press a switch 3 try pressing it again
import platform share from react native
js a href url style backgroundcolor green padding 20 touchablehighlight onpress event console log clicked event stoppropagation view text click me text view touchablehighlight a steps to reproduce see above
test case url steps to reproduce 1 open url in safari on ios or chrome on adroid 2 click goto page b 3 click back to page a 4 try to scroll invariant violation unable to find node on an unmounted component img 1 url
test case url steps to reproduce 1 just run the app the entire background should be green and hello world should be centered in the window current render screen shot 2018 05 08 at 3 36 23 pm url
usr libexec netdata plugins d alarm notify sh
use nonexistent variable in health expression
1 install netdata master to receive stream from slaves 2 point the registry on the master to itself 3 set a slave to stream to the master and use the master as registry 4 configure alarm notifications 5 click an alarm link it will take you goto host from alarm which seems check registry if host is known if host has not been viewed in netdata it seems be unknown and error occurs
update docker to version and run netdata in docker
attempt the 1 line install of static binaries with the don t ask flag bash kickstart static64 sh non interactive
curl ss url md5sum cut d f 1 echo ok valid echo failed invalid
run docker compose up d with the compose file above and view the webserver at url note that containers will be named properly but their networks won t
this problem occurred consistently on all 6 machines on which we had it installed i suggest although i did not try install latest centos7 c w the epel repo yum install netdata version yum update y
1 log in to netdata cloud account with 1 node associated with it 2 click on the delete icon beneath any of the nodes 3 click on the delete it button in the modal window 4 check console output to see if error appeared 5 refresh or log out in to see if node was deleted properly
didn t try can update other servers and see if this happens again
compile the code from pr 6814 and run usr sbin netdata w createdataset
login over ssh to system running netdata and run something that consumes 100 cpu for a while openssl speed rsa is good candidate observe app cpu usage
start netdata with service netdata start
run the debian packaging flow
bash install netdata bash curl ss url get complete netdata conf file and make changes cd opt netdata etc netdata curl url conf vi conf change something run installer again i e update bash curl ss url config file has been overwritten cat conf can generate its own config which is available at url you can download it with command like wget o opt etc
just examine netdata netdata edge on package cloud
run a bats test on fedora 31
visit a dashboard on the provided docker image url contains i e url theme slate
etc netdata edit config netdata conf file netdata conf is not found in usr local lib netdata conf d
start more than 2 qemu instances with openstack
bash curl ss url dont wait stable channel echo exit status
configure a user for monitoring with no super or replication client permissions test mysql plugin usr libexec netdata plugins d python d plugin debug 1 mysql 2019 08 08 09 17 17 python d error mysql tcp removed query user statistics show user statistics error error 2019 08 08 09 17 17 python d error mysql tcp removed query slave status show slave status 2019 09 python tcp get data failed slave status
yum y install epel release yum y install rpm build redhat rpm config yum utils autoconf automake curl gcc git libmnl devel libuuid devel make pkgconfig zlib devel libuv devel openssl judy lz4 nc json c freeipmi cups yum y install gcc c autoconf archive autogen snappy protobuf protobuf c git clone url cd netdata source packaging installer functions sh set e run autoreconf ivf run configure enable maintainer mode run make dist run rpmbuild rebuild srpm fails here
1 install netdata with bash curl ss url 2 stop and disable netdata systemctl disable netdata and systemctl stop netdata 3 confirm is dead and disabled systemctl status 4 change the checksum in var lib tarball checksum to force an update 5 run usr libexec updater sh 6 check is still dead and disabled systemctl status if updater finds a new version it runs installer sh auto update dont wait dont start it the new version is installed it s not started however status show s it s now enabled will start on the next reboot
it only necessary to run netdata with a template alarm
upgrade to netdata version globally enable repeat notification feature as described above wait for alarm you should receive notification with raised alarm and once the the alarm is gone clear notification i didn t receive repeated notification nor clear
2019 07 31 12 44 53 netdata info health internal error rrd2rrdr on netdata cloud pages sso agent responses update every 1 with unaligned grouping sum group 3600 resampling time 0 resampling group 1 after got want req db before got want req db duration got 3600 want 3600 req 3600 db 3690 points got 0 want 1 req 1 db points is not wanted points 2019 07 31 12 38 19 netdata info web server static1 internal error rrd2rrdr on dockerhub pulls sum update every 5 with aligned grouping incremental sum group 657 resampling time 0 resampling group after 003 before 0 duration 3285 2633 3285 3290 points 36764 after is not wanted after 2019 07 31 13 38 40 netdata info health internal error rrd2rrdr on cloud pages home responses update every with unaligned grouping sum time before duration 4550 is not wanted
upgrade ubuntu to ubuntu version lts from version lts going through version lts using the do release ugprade commands check which network configuration system is retained should be ifupdown and the ethernet interface names should remain eth0 eth1 ethn install and open netdata no network monitoring should be present the net in out gauges don t appear at the top and ipv4 ipv6 sections in right hand menu are missing
create a let s encrypt certificate with proper hostname configure the master with full chain cert file as certificate and key as ssl key configure a slave to use ssl for streaming with tcp hostname port ssl without skipping certificate validation watch the stream fail in error log with ssl rfc4158 check we have a invalid certificate the tests result 20 and message error lib 0 func 0 reason 0 whereas openssl s client works fine echo q openssl s client connect redacted host port grep i verify depth 2 o digital signature trust co cn dst root ca x3 verify return 1 depth 1 c us o let s encrypt cn let encrypt authority x3 verify return 1 depth 0 cn redacted host verify return 1 done return code ok
install lxd from snap install netdata spawn a container and check out metrics
build netdata from sources
on a host where netdata has been running for some time scrape metrics using an prometheus server also scraping the constant variables http host 19999 api v1 allmetrics format prometheus source raw variables yes
yum info netdata loaded plugins fastestmirror langpacks loading mirror speeds from cached hostfile base ftp tsukuba wide ad jp extras ftp tsukuba wide ad jp updates ftp tsukuba wide ad jp available packages name netdata arch x86 64 version v version release 1 el7 size version m repo netdata x86 64 summary real time performance monitoring done right url url license gplv3 description netdata is the fastest way to visualize metrics it is a resource efficient highly optimized system for collecting and visualizing any type of realtime timeseries data from cpu usage disk activity sql queries api calls web site visitors etc ne
export save a snapshot set the which dimensions to show dashboard option to all import load the saved snapshot
this happened on a fresh debian 9 launched from aws debian s official amis and with netdata installed from the kickstart script
sudo service netdata start error shows up in syslog service fails to start
access the node menu using the brave browser
install netdata forget how you installed netdata really important bit here update netdata using bash curl ss url
visit the dashboard for an agent connected to a private registry click the sign in button to see expected behavior then click any of the nodes sup beta sup buttons to get redirected to netdata cloud without the popup
master config dashboard is on port 80 behind password protected nginx proxied through unix socket global run as user netdata web files owner root web files group root bind socket to ip version web bind to unix var lib netdata netdata sock x x x x 9999 dashboard streaming registry 9998 registry is public ip of master registry enabled yes registry to announce url api xxx guid stream parameters slave config global run as user netdata web files owner root files group root bind socket to ip version memory mode none health enabled no mode none enabled no announce url stream enabled yes destination 9999 api key xxxx xxxx xxxx guid
run netdata on a system with very low max file connections setting to get a reproduction
just starting the container is causing this
run kickstart sh
1 setup etc netdata go d httpcheck conf with jobs name test url url status accepted 200 2 query bash curl l url grep netdata httpcheck response time 3 nothing in output
login to nodes with github profile try to get list of all nodes from netdata cloud
1 setup etc netdata go d httpcheck conf with unreachable host jobs name gitlab status accepted 200 url url unreachable host 2 run sudo lsof i p n l grep go d plug
edited health alarm notify conf ran sh usr local netdata usr libexec netdata plugins d alarm notify sh test it only uses role sysadmin and sends mail to root
run the scripts on the various distros
execute sysbench num threads 4 test cpu cpu max prime run to heat cpu up when it reaches 80 cpu frequency gets throttled on pi 3b beginning with 60 frequency gets reduced from 1400 mhz to 1200 mhz netdata shows in grap always 1400 mhz cou frequency probably freq is read via sys devices system cpu0 cpufreq scaling cur freq that always displays unthrottled frequency on raspberry the currenct can be measured via opt vc bin vcgencmd measure clock arm
1 configure netdata to use the new dbengine memory mode and start it 2 check the contents of your configured cache directory
1 create several nodes through docker containers 2 delete one node docker stop docker rm 3 recreate a new docker container which will have same ip than before but of course a new guid 4 enter the dashboard we have two times the node which is fine at this point 5 delete the unreachable node same ip old guid this is working fine and unreachable node has now vanished 6 refresh the dashboard 7 at this time i have to auth again through oauth which is a bit surprising sometimes i have this step 2 times 8 i come back on netdata panel then switch again to dashboard 9 then when entering dashboard again i again new and old unreachable step 4 5 step 4 url post step 5 post 4 url 7 7 url 9 9 url
execute verification one liner as given at the moment of bug report curl ss url md5sum cut d f 1 echo ok valid echo failed invalid
run the kickstart on a fresh ubuntu 1804 install
retrieve some chart using api api v1 data with group average set as in examples below raw data without grouping for 10 arbitrary seconds curl url labels time user data version 0 version version 0 version 0 group by average curl url labels time user data this already looks weird as there are no values above 0 and group by sum produces exactly the same result curl url labels time user
find a chart with chart variables make api v1 chart and api v2 data calls to that chart
access netdata using any browser
1 ensure elasticsearch is not available 2 install netdata 3 do not edit configuration 4 start netdata 5 check var log netdata error log for errors from python d
install netdata using docker enable nut plugin notice failure
1 attempt to build netdata with enable plugin xenstat in the configure options
install netdata put it behind nginx reverse proxy
enable the new db engine
create docker container from netdata netdata latest sha256 start docker container enter container shell and execute bash version ls lach usr libexec netdata plugins d total 15032 drwxr xr x 1 root root 548 apr 18 09 24 drwxr xr x 1 root root 62 apr 18 09 24 rwxr xr x 1 154 apr 18 09 24 alarm email sh rwxr xr x 1 version k apr 18 09 24 alarm notify sh rwxr 301 alarm test sh rwxr version k anonymous statistics sh rwsr netdata version k apps plugin k cgroup name rwsr cgroup network r cgroup network helper charts d dryrun helper charts d plugin fping plugin m go d plugin health cmdapi test rw r r loopsleepms inc node python tc qos helper
run the installer
run the installer
enable x509check plugin with edit config go d conf modules x509check yes add some job to monitor edit config go d x509check conf update every 1 autodetection retry 1 jobs name wrong host source url
install netdata on centos 7 and check web ui
bash create test config cat opt netdata etc netdata python d web log conf eoh test name test path tmp access log all time false autodetection retry 5 eoh start python module sudo u netdata opt netdata usr libexec plugins d python d plugin 1 web log wait for a while and check log 2019 04 11 10 39 35 python d error web test tmp access not readable or not exist 2019 04 11 10 39 35 info plugin main web check failed 2019 04 11 10 39 35 info plugin main will recheck every 5 second s on another terminal echo version 11 apr 2019 10 40 50 0900 get wwwcheck html http version 200 30 tmp access check 04 41 15 info collected data request code bytes sent address 41 15 info plugin main recheck successful chart runtime execution time for ms pythond runtime line 1 dimension run time run time absolute 1 1 41 15 main exiting from disable
install current fedora 30 pre release run bash curl ss url
just run nightlies without changes
setup a caddy server and use the following configuration in caddyfile host netdata domain tld basicauth username password proxy 10 x x x 19999 transparent websocket go to netdata host netdata domain tld and click on login login using your google account
run the updater when changes are available for download and add something that breaks the functionality of updater within the update path
bash curl ss url downloading static netdata binary url tmp netdata kickstart w1q0at e b e 0m e 1m e 33m curl ssl connect timeout 10 retry 3 url b 0m ok curl ssl connect timeout 10 retry 3 url tmp netdata kickstart w1q0at b 0m 1m 33m curl ssl connect timeout 10 retry 3 b 0m ok ssl connect timeout 10 retry 3 aborted static binary checksum validation failed stopping netdata installation and leaving binary in tmp kickstart w1q0at
follow the documentation for updating or install for mac and run bash curl ss url no updates install usr local
just run the installer on mac following the netdata instructions for mac
run the kickstart script as it quickly reproduces there
add dots in app name python example yaml my example com qwe 1
let cron run the updater
install netdata using kickstart sh
ls l opt netdata netdata plugins plugins d
create a lot of containers in a few seconds on a slow machine
add an entry to apps groups conf run a process that maches that entry stop the process see charts
1 create a python plugin wich contains three error by intention one with i o without permissions one with variable not defined 2 run plugin with netdata 3 correct first error 4 run again 5 correct last error 6 run again result something it will fails as code version is from step 2 sometimes it works sometimes will fails as the code version is from step 4
download url compare the 2 files
service netdata restart ps aux grep netdata
run etc cron daily netdata updater manually etc cron daily netdata updater sun feb 24 17 07 51 cet 2019 info running on a terminal this script also supports running headless from crontab total received xferd average speed time time time current dload upload total spent left speed 100 473 100 473 0 0 1242 0 1244 netdata latest tar gz netdata v version 7 tar gz sun feb 24 17 07 51 cet 2019 info newest version is already installed
as an example with fail2ban module head c 200 dev urandom var log fail2ban log this will result with having error log flooded with python d error fail2ban fail2ban update unhandled exception utf 8 codec can t decode byte 0xbd in position 0 invalid start byte
follow installation instructions here url linux 64bit pre built static binary new version not found
just install netdata headlessly somehow
set up netdata in a master slave configuration and reboot the slave watch the dashboard provided by the master and see the bandwidth spike up after reboot has completed
installed netdata version from apt install removed netdata version via apt remove netdata left behind configuration files installed netdata using git clone installation is broken can t hit endpoint tried running kickstart script received error message
enable the ipmi plugin plugin freeipmi update every 6 command options ignore 875 results in 691 2019 01 22 02 04 34 netdata error pluginsd freeipmi child pid 37833 exited with code 1 692 2019 01 22 02 04 34 netdata error pluginsd freeipmi usr local libexec netdata plugins d freeipmi plugin pid 37833 exited with error code 1 disabling i 693 2019 01 22 02 04 34 netdata info pluginsd thread with task id finished root inari 139 usr local etc sudo u usr local libexec plugins d plugin 6 ignore 875 2019 01 22 02 21 24 error main ipmi monitoring sensor readings by record id internal system errno 9 bad file descriptor 21 24 fatal main data collection failed no 0 root inari 1 usr local etc libexec plugins d 6 ignore 875 chart ipmi events ipmi events events events sel area 90002 6 dimension absolute 1 chart sensors states sensors state sensors states sensors states line 90001 dimension nominal absolute
run cron jobs according to the title of the error mail the following command likely ran test x usr sbin anacron cd run parts report etc cron daily
install debian strech netboot update all components minimal setup then upgrade to proxmox version x following manual install in wiki server load does not affect the frequency of the missing bits most of the times server run in idle shutting down single lxc container running does not make any difference netdata installation bash curl ss url
on clean installation setup powerdns conf localhost name local url url header x api key my api keys
install at commit 3ecc26b change etc netdata netdata conf such that bind to becomes bind to unix run netdata netdata sock tcp restart sudo systemctl restart view logs debian beaglebone journalctl u logs begin at thu 2016 11 03 17 16 43 utc end at wed 2019 01 16 10 06 00 utc jan 16 09 44 34 beaglebone systemd 1 starting real time performance monitoring jan 16 09 44 35 beaglebone systemd 1 started real time performance monitoring jan 10 05 59 beaglebone systemd 1 stopping real time performance monitoring jan 10 06 00 systemd 1 stopped real time performance monitoring 10 06 00 starting 06 00 started 11087 listener unix bind on path 19999 failed 11087 2019 01 error main listener unix bind on path 19999 failed errno 13 permission denied 11087 listener cannot create unix socket 19999 11087 2019 01 error main listener cannot create socket 19999 listen socket tcp version opened successfully listen socket tcp opened successfully 2019 01 info main listen tcp version opened successfully info main listen opened successfully
1 install netdata 2 set up netdata to create a registry on a custom domain 3 proxy netdata registry through nginx nginx config upstream netdata server version 19999 keepalive 1024 server listen 80 include snippets auth conf include snippets auth location conf server name domain tld location proxy set header x forwarded host host proxy set header x forwarded server host proxy set header x forwarded for add x forwarded for pass url http version version pass request headers on header connection keep alive store off gzip on gzip proxied any gzip types block any http requests other than get head and options limit except get head options deny all wordpress pingback request denial if http user agent wordpress return 403 relevant settings web disconnect idle clients after seconds 3600 respect do not track policy no enable gzip compression no registry enabled yes registry to announce url just to be certain i ve tried several different nginx configs the basic virtual host config from the wiki url and also the high performance url
spin up alerta server via their default tutorial url tutorial 1 configure the plugin for hitting alerta run the above command to send a test alert
daemonize hddtemp with an alternate disk listing for example hddtemp df find dev disk by id name wwn name part 0 9 or hddtemp df dev disk by vdev efs 0 9 0 9 since by vdev is what i normally use restart netdata look at hdd temp local
install netdata in phusion ubuntu container lauch the original netdata container
install netdata and smartmontools configure smartd to log output to var log smartd as recommended in the netdata documentation start smartd notice smartd logging csvs to var log start netdata notice no log item in the netdata dashboard grep var error to view related errors notice the lines mentioned in the summary above
command cat host proc self mountinfo grep mnt name inside the container cat proc self mountinfo grep mnt name on the host
visit netdata dashboard via ipv6 close tab wait 60 seconds line should appear
i can t reproduce it now but i hope netdata could support switch debug output on the fly so we could at least provide some useful log
download url decompress cd into directory follow url
1 build binary based on netdata spec in 2 install this build package
start journalbeat start netdata restart journalbead incremental values rise to random usr libexec netdata plugins d python d plugin journalbeat debug trace shows good values 0 5 7 but chart show this netdata url
run netdata installer sh manually or allow the daily cron job to execute
run netdata in a container that isn t allocated all cores i assume that s what leads to the discrepancy between proc cpuinfo reporting the number of allocated cpu cores and proc schedstat and sys devices system cpu reporting the total amount of hardware cores which ultimately leads to the logging of an error message every second
run a fresh netdata installation on a lxc host and stop and start a container lxc stop container1 sleep 10 lxc start container1 but it doesn t seem to happen on every try it seems to be better reproducible with bigger containers btw another side effect is a very high peak of cpu usage when the container was stopped of version but this seems not to trigger an alarm
create new incomming webhook by following this guide url set default recipient slack parameter in health alarm notify conf try to send an alert to that channel by using alarm test sh script
yaml global hostname hostname run as user root update every 5 memory mode ram debug log none access log none health enabled no statsd enabled no plugins idlejitter no python d no node d charts d fping tc plugin cgroups enable cgroup yes plugin apps update every 10 plugin proc diskspace update every 10 check for new mount points every 0 plugin proc proc net snmp proc net snmp6 net ip vs stats net stat synproxy stat nf conntrack
git pull kickstart sh enter at prompt wait segfault during seemingly random components but always during make all recursive
set for example nano as your system editor and editor would be equal to bin nano then launch edit config and vi would be use because edit config forces editor editor vi
1 set up snmp server 1 define snmp config with oidname snmp conf url 1 run usr libexec netdata plugins d node d plugin 1 snmp my output usr libexec netdata plugins d node d plugin 2018 10 28 22 45 56 node plugin error cannot read user configuration file etc netdata node conf enoent no such file or directory open etc netdata conf chart nas disk temperatures nas disk temperatures disk temperatures celsius temperature line 50001 10 dimension disk1 nan absolute dimension disk2 nan absolute dimension disk3 nan absolute dimension disk4 nan absolute disk5 disk6 disk7 disk8 disk9 disk10 disk11 disk12 begin nas disk temperatures set disk1 33 set disk2 31 set disk3 36 disk4 32 disk5 33 disk6 32 disk7 36 disk8 35 disk9 36 disk10 34 disk11 35 disk12 31 end
1 as the netdata user use pip user to install a python module required by a python d plugin module 2 ensure that the system wide python installation does not include the python module you installed in step 1 3 attempt to run the d plugin module that depends on you installed in step 1 in debug mode
i have no idea it just randomly stops working yaml global thostname node 01 do ams3 les rops misc trun as user root tupdate every 5 tmemory mode ram t debug log var log netdata debug log t error log var netdata error taccess dev null health tenabled no statsd tenabled no plugins t enable running new plugins yes t check for new plugins every 60 tidlejitter no tpython d tnode d tcharts d tfping plugin apps tupdate every 10 plugin proc diskspace tupdate every 10 tcheck for new mount points 0 plugin proc proc net snmp proc net snmp6
run the following docker compose file yaml version 2 services netdata restart always image netdata netdata latest amd64 container name netdata hostname volumes var run docker sock var run docker sock ro etc localtime etc localtime ro sys host sys proc host proc stream conf etc stream conf ports 19990 19999 then watch the logs docker logs container name 2 1 grep usr lib a ls rahl usr lib within the container shows that every file is owned by root root with mode rw r 640 and directories with drwxr xr x 755
the below example show that it recognize fake undetected json file is a json file cpp include filesystem include fstream include iomanip include iostream json hpp int main std ifstream input std ofstream output nlohmann json js int test 2019 create real output open real js hello hi js year test output std setw 4 js output close create detected fake file open fake detected std ofstream binary write reinterpret cast const char test sizeof test close create undetected fake file open undetected ofstream binary write reinterpret cast const char sizeof close verify filesystem path p filesystem current path for auto filesystem recursive directory iterator p if is regular path input open path try input cout is a endl catch nlohmann exception e cerr is not a endl input close return 0
include nlohmann json in a cmake project using fetchcontent fetchcontent declare nlohmann json git repository url git tag v version fetchcontent makeavailable nlohmann json include directories nlohmann json source dir single include
look at the readme and try to use the library then try to look up members of type json in url
by borrowing build flags url l426 i have reproduced it here url
my code std string strdat cblox user getfriends userid std vector string data json parse strdat
use gcc and compile the code
mac os cmake clang set cmake cxx standard 14 set cmake cxx standard required on set cmake cxx extensions off set cxx flags wall wextra wfatal errors pedantic fpic
compile json hpp version using clang tested version
json options video size framerate 0 vcodec std vector std pair std string std string m options non working code j options get to m options working code for auto i j get vector map string string m push back i begin
cpp int main nlohmann json jsontest std pair int int intpair 10 20 jsontest intpair intpair intpair jsontest compilation error on this line
this simple code c json data json object or json data json value t object data foo 1234
cpp struct data tbool bool1 tbool bool2 inline void from json const json j data config tconfig bool1 j at bool1 get bool tconfig bool2 j at bool2 get bool inline void to json json j const data config tj t t bool1 config t t bool2 config void codeexample oversimplified example tstd string key1 key2 give them some random value tkey1 fine1 tkey2 fine2 tint integerofchoice 1 tstd unordered map int data map 1 true false 2 true true saving it tjson cfg tcfg key1 key2 push back map integerofchoice output is fine map integerofchoice cfg key1 key2 get crashes step by step for debugging tauto fine cfg at key1 tauto fine2 fine at key2 tauto crash fine2 get bool
complete example to illustrate include iostream include nlohmann json hpp int main using namespace nlohmann some json auto jv r xxx foo bar bar baz hello xxx json a json pointer auto p bar baz pointer this is intuitive compiles and produces the correct output std cout jv at p this is also intuitive compiles but causes ub assertion std cout jv find p
a simple program called testosabi cpp include nlohmann json hpp int main return 0 if compiled with gcc testosabi cpp o testosabi o inlohmann json single include then use readelf readelf h testosabi o will give elf header magic 7f 45 4c 46 02 01 01 00 00 00 00 class elf64 data 2 s complement little endian version 1 current os abi unix
nlohmann json fjson std string codigo ativo o fjson codigo ativo codigo ativo fjson dump
i am getting the following response from one for the server and i am trying to de serialize the string to json and trying to fetch each item from the message object output from server error message auto disable count 0 complete flow result match enable true fail event ids null fail result match frequency day month hour minute second generate run false id 1 name test os job pass event ids null run kind os properties command testprocess environment null fail exit code 0 type job but following code is not iterating over message object rather it s giving whole object as a single string tjson table data ttable data data json parse data message dump tfor auto x table items t tstd cout key is x key std endl t tstd cout value is x value std endl key is value auto disable count 0 complete flow result match enable true fail event ids null result match frequency day month hour minute second generate run false id 1 name test os job pass event ids run kind os properties command testprocess environment exit code 0 type job
pair string bool value key1 true json j json array j push back value j value or pair string bool value key1 true json j json object push back
try to build any project with include json hpp
the following code snippet fails to compile include nlohmann detail meta type traits hpp using namespace nlohmann detail int main static assert is detected value type t std iterator traits std string value false however replacing std string with std vector string iterator works fine
cpp compiled using msvc version include iostream include nlohmann json hpp int main nlohmann json j r value version json double x j value prints version here double y j value version prints here std cout x y return 0
just compile as described
cpp include json hpp include unordered set using nlohmann json void podfromhex const uint8 t data std string hash completely horrible simple implementation for example purposes data reinterpret cast const uint8 t hash c str struct publickey uint8 t data 32 inline bool operator const publickey other const return std memcmp this data other sizeof publickey 0 namespace std template struct hash publickey size t operator p return reinterpret cast size p struct wallet std unordered set keyimages uint64 balance void from json json j wallet w w balance j at balance get uint64 w keyimages j at keyimages get unordered set void from j p what should this be string hash at get string string podfromhex p int main balance 100 keyimages wallet w
cpp include iostream include json hpp using json nlohmann json int main int argc char argv json hi object hi 5 hooo std cout hi dump std endl g main cpp std c 1z wall o main main
1 create a new github repository and hook it up to travis ci 2 define the environment variables viapikey and viapitoken in the repository s environment variables by signing up for a free account on my company s website voiceit io voiceit io api version 2 3 in your repository do the following wget url wget url wget url 4 add a travis yml as follows language cpp compiler gcc addons apt sources
create a json file with multiple objects and attempt to iterate with tassert baddie is array tfor auto json jsonstream t name json name get std string
update json h compile with mingw w64 gcc version
any program using the library and compiling with msvc
nlohmann json json char sample a json char sample std cout json dump
cpp include vector include iostream include boost any hpp include nlohmann json hpp using json nlohmann json namespace nlohmann template struct adl serializer boost any static void from json const j boost any opt opt j get boost any int main auto doc parse params 1 2 3 4 std cout doc dump 4 std endl auto aot doc params get std vector
parse file url e g by cpp std ifstream f n multidigit number then 00 json json parse f
compiling the small program below results in c2166 l value specifies const object see full compiler output below when putting the map and the to from json in the same namespace it compiles it boilds down to an assignment construction of map s value type include json json hpp include map include string namespace bla enum class foo uint16 t tbar baz comment this out and lines above main in and it will compile using foo map std foo std string void to json nlohmann j const foo m void from const nlohmann j m using bla int main int char tnlohmann j tfoo m j
c include iostream include nlohmann json hpp using namespace std using json nlohmann json class state public double x state cout destroyed endl void from json const j state p try p x j at x get double catch type error e std cerr e what std endl catch out of range e std cerr e what endl int main data state s data x 10 s data cout s endl return 0 output is bash destroyed 10 destroyed
jsonobject name telef ica jsonobject dump
json parse wstring failed
args hello world json j get info from file j distributions push back std unordered map std string std string name args 1 location args 2 distributions location world name hello location there name hi location partin name tristan
build and run this code cpp void jsontest try nlohmann json v1 nlohmann json parse a b c value 900 auto value1 v1 a b c value value 0 std cout value1 value1 std endl catch printf value1 exception std cout exception std endl try nlohmann json v2 a b c value 900 auto value2 v2 a b c 0 cout value2 endl catch cout value2 exception endl try nlohmann json v3 900 auto value3 v3 0 value3 value3 catch value3 exception
nlohmann json j std ifstream if c example json j if if close void square int in in in square j int
file cmakelists txt cmake minimum required version version project jj include externalproject externalproject add json git repository url git tag develop install dir project binary dir cmake args dcmake install prefix path install dir dbuild testing 0 djson multipleheaders on update command include directories system project binary dir include add executable jj src test cpp add dependencies jj json file src test cpp include nlohmann json hpp int main return 0
1 enable the modules ts 2 try to import std core before include json hpp 3
include the json hpp in the header of a c program and compile the program using wswitch enum and werror options
cpp using json nlohmann json the original example prints currency usd value version json array not object json array currency usd array value version std cout array not object dump std endl this seems to work correctly it prints currency usd value version not object corrected currency usd value version std cout not object corrected dump std endl
try the following code and exception will show up cpp include json hpp int main tnlohmann json jsonobj tstd string jstr r data bin version dataname expandor version factor version instrumentid rb1805 m version mse sigma theta updateday updatetime 14 55 08 errorcode 0 errormessage receiver any receiver result ok sender voldist servicename voldist ttry t t tjsonobj nlohmann json parse jstr t tcatch std invalid argument invalid t tstd cout invalid what std endl return 0
m message below contains the data to parse the library seems to have done some escaping of my data but a quick inspection of the data suggests it s valid m message is g u0007 g keyusable u0013 t u001e keyusable x r u0000w uf keyusable u000e u0012 keyusable 7b 22 67 5c 75 30 30 30 37 5c 72 d7 7e d6 5f 5c g u0007 22 ae 28 47 26 df 86 f7 7f 22 3a 22 4b 65 79 55 g keyu 73 61 62 6c 65 2c 7b 5c 75 30 31 33 28 sable u0013 eb 61 b5 54 e2 93 f7 5b 75 31 65 3e 94 a t u001e cc 3b 3a 4b 65 79 55 73 61 62 6c 2c 93 78 99 20 e8 d6 52 75 98 57 x r u0000 w 7d f8 f2 dd 55 46 3a 4b 79 55 73 61 62 uf keyusab 6c 2c f0 92 9b le u000e u 31 32 c8 5e 5d 95 fe 3d 5f da e6 fb a8 0012 3a 4b 79 73 62 6c 7d terminate called after throwing an instance of std invalid argument what parse error
simplifying to pseudo esque code cpp static auto matic boost format var fn function return s auto j r some object happy true pi version json auto dumped j j at some object dump auto formatted boost str matic dumped j formatted var fn function return some object here formatted 0 and formatted len 1 are
include iostream include string include sstream include json hpp using json nlohmann json int main json dummy r oggetouno numero oggettodue const dummyref dummy const a dummyref oggetouno numero std cout std setw 4 a is null std cout std setw 4 a empty const b dummyref oggettodue numero cout setw 4 b is null cout setw 4 b empty return 99
1 main application uses 1 shared libraries a so that uses another library b so 2 json object j is instanciated by a so 3 j is passed by const reference to b so
tsx page tsx import styles from page css
folder structure styles one css styles two css styles three css main css import declaration in main import styles
function updatelink linkelement obj var css obj css sourcemap obj sourcemap sourcemap css sourcemappingurl data application json base64
taking url for file from store url l4 dist folder 1 pdf does not exist in the folder url taking url from view l5 dist folder 1 pdf exists in the folder
url 1 npm start 2 open url 3 change some code in src index js 4 entire page reloads
this is the code for the working demo url
1 remote lock package json module b json name remote lock version version main dist index js types index d ts scripts build parcel build src index js target node no minify no source maps global remotelock test tsc jest devdependencies babel core version babel preset env version babel jest jest parcel bundler typescript 2 redis remote lock package json module a json name redis remote lock description main dist index js scripts build parcel build src js target node no minify no source maps global redisremotelock test tsc jest keywords author paul li license mit devdependencies babel core preset env parcel bundler typescript dependencies 3 redis src import makeremotelock from 4 redis test test import makeredisremotelock from src adds 1 2 to equal 3 makeredisremotelock
repository with reproduction znerol scratch parcel parent dir bug znerol scratch parcel parent dir bug
demo project url
using this folder structure index html tsconfig json src tsconfig json src index tsx see config content above index tsx content typescript import react from react import render from react dom render h1 hello world h1 document getelementbyid app index html content html doctype html lang en head t meta charset utf 8 t meta name viewport content width device width initial scale version t meta http equiv x ua compatible ie edge t title test title head body div id app div script src tsx script body running parcel fails with error uncaught referenceerror react is not defined because the compiler does not see the configuration options true esmoduleinterop true
you can yarn run dev and run the vscode debugging command then try changing the source code of epk whatever file quickly enough in a repeating manner let the vscode nodemon debug launch the process and wait until bundling starts there is a chance that error is thrown url i m currently trying to setup a minimal repo demonstrating this error but i m having trouble reproducing error outside of epk
described above
the following files with the addition of the above configuration should be enough to reproduce the issue src index html doctype html html body div id root test div script src index js script body html src index js document getelementbyid root append more test
repository of the bug url
index html html body h1 index home h1 a href index html home a a href categories home html categories home a body categories body h1 categories h1 href index href body here is the full code url
url works in parcel version breaks parcel in version
js import from jquery import anime from animejs document ready function anime target title color black left 25 easing easeinoutquad loop 1 autoplay true
background js js console log gimme a hell yeah manifest chrome json manifest firefox json json manifest version 2 name chrome extension version version background scripts background js package json currently i m solving removing hash with a hack of renaming using script rename background the gripe with that is it doesn t change the reference of index html but thankfully i m not using index html in this project name chrome extension version main index js scripts clean rimraf dist build firefox parcel build no content hash index html out dir dist firefox build chrome parcel build no content hash html out dir dist copy firefox cpy manifest icons dist copy cpy icons rename rename n rename prod npm run all clean copy license mit devdependencies cpy cli npm run all parcel bundler cli rimraf
html div id app div script src index js script
i ve set up a minimal reproduction repo here url
private repo i can make a local test environment if you guys aren t able to reproduce it software version s parcel v version node v version npm yarn v version operating system fedora 29
this can be reproduced easily in any project
vue template template script src somejs js script parcel index html will include somejs js parcel build index js does not include somejs js vue template template script contents of somejs script parcel build index includes the
the filestructure is really minimal i set up an example here url each of the three scripts just prints a log message to the console ideally this should already display the typescript sourcefile as source it would look a bit like this contentscript content ts line 1 to test my sample repository just clone it and run parcel git clone git github com lhk popup inaccessible git git checkout ts version parcel build src manifest json no minify after bad experiences with file paths i made sure to also check parcel build src manifest json no minify public url and parcel build src manifest json no minify public url then import extension in chrome and inspect it of course i didn t execute different public url versions after each other i first ran without this flag and checked then tried checked again then tried checked again
reproduction repo here url
the repository containing whole source code can be found here url
main js new worker myworker js type module myworker js console log hello world
script async src url script script window datalayer window datalayer function gtag datalayer push arguments gtag js new date gtag config ua xxx xx script
see the configuration section
js import decode from jsonwebtoken import shouldmock from env lines of code that use decode if shouldmock import jsonwebtoken then async sign const mockuser await import mock user json sign user mockuser secret
js index ts window foo
url build with either npm run script build or npm run script build working serve with npm run script serve on port 5000 removing sidenav component from main js produces a working build with tree shaking
js import semantic ui css semantic min css
addpathdependency classpath make relative glob let p path relative path dirname this name classpath p path join p hx if p charat 0 this adddependency includedinparent true
repository url after cloning the repo and installing node modules just run yarn dev css or npm run dev css
a full working example can be seen here url
repository url after cloning the repo and installing node modules just run yarn dev js or npm run dev js
download curl wget url in the same directory as index html html html head script src jquery version slim min js type text javascript script head body script console log script body html
index html html html body script src index js script body html index js js window require url
straight from the blog post index js import add from math console log add 2 3 math js export function add a b return a b export function sub a b return a b
see attachment for example project directory project zip url
index html html body script src index js script body html index js console log hello world
index html doctype html html lang en head meta charset utf 8 meta name viewport content width device width initial scale version meta http equiv x ua compatible content ie edge title document title head body a href test html test a img src media test png script src js index js script body test doctype lang en head meta charset utf 8 name viewport content width device width initial scale version http equiv x ua compatible content ie edge title title head body img src media png script src js index js script body index file import import scss scss console log hello world
project repo url
index html html html body script src index js script body html index js js import url console log version
this is the router of our application as register is loaded lazily it should split the code in there but it does not is there something i missed js import react from react import route switch redirect from react router dom const register react lazy import domains access pages register page export default return switch route path exact render div test div route path register exact component withsuspense route render div not found div switch const withsuspense component component return props suspense fallback loading component props suspense
this is not an open source project unfortunately if there s anything i can do to help reproduce i d be happy to but this is a very simple project i m just getting started today
you can run see the behavior using a simplified bug demo project i created here url git clone git github com clintharris parcel plugin multiloading assets bug demo git cd parcel plugin multiloading assets bug demo yarn install yarn testserve yarn run v version note how app js is loaded twice here node testserve js server running at url building loading asset app js packaging loading asset node modules parcel bundler src builtins hmr runtime js built in 523ms loading asset app loading asset node modules parcel bundler src builtins hmr runtime testserve const path require path const bundler require bundler const loadbugdemoplugin require index let new path join dirname sample app index html outdir path join dirname sample dist hmr true cache false loadbugdemoplugin serve index module exports function addassettype require resolve src myasset myasset class myasset extends jsasset async load console warn this relativename return await super load
index html html doctype html html body script type application ts type tt bouh bar function log t tt console log t log bouh script body parcel index result doctype body script type application ts function log t console t bouh script body
const src tester worker js const worker new worker src
a minimal repro with a readme can be found here url
tsx somecomponent tsx import as react from react import styled from emotion styled export const somecomponent styled div color hotpink
here is a repository that can reproduce the problem url this sample contains two scripts one is in src the other is in src content both scripts print something to the console which makes them easy to find the master branch contains no parcel and shows you how code works correctly git clone url cd nested sourcemaps npm install tsc now you can load src manifest json into firefox open any website open developer console reload website you will see two logs from two scripts firefox automatically recognizes them as typescript now you switch to parcel branch git reset hard git clean xdf git checkout parcel branch npm install parcel build src manifest json same procedure as above load plugin into firefox now have to use manifest from dist manifest json again can see two console logs but for script in content sourcemap can t be parsed if i edit this file manually and change last line from sourcemappingurl content2 map sourcemappingurl content2 map then it works as expected
please see my bug report above with code snippets
run parcel build experimental scope hoisting index html after cloning url
html doctype html html t head t t meta charset utf 8 t title demo title head body div id app div script src src main js script body html index javascript import vue from vue dist vue js import app from mockapp vue const app new mount app main js template div thello world div template mockapp json name cattest version version description main index js scripts start npx parcel index p 8081 author license isc dependencies version devdependencies component compiler utils version parcel bundler package json
you can reproduce this problem in this way 1 git clone url 2 edit package json to delete the whole postcss key and its value 3 run parcel client index html 4 check the css bundle inside dist folder
cat one html span style font size 1em span a href two html link a cat two html span style font size 1em span parcel one html server running at url built in 687ms c cat dist one script src two js script style font size 1em a href two link a ls dist one js map see that script src js what is that from the crazy part is that if i remove style from the files the problem goes away parcel v version
unfortunately the error occurs in a larger project at work that i can t share
it seems like the issue is import as three from three project url github page url also occurs with a pixi js protype import as pixi from pixi js project url github page url other react projects built with parcel are perfectly fine and deploy without issue
index pug pug doctype html html lang en head meta charset utf 8 meta name viewport content width device width initial scale version meta http equiv x ua compatible content ie edge title document body h2 should update in browser after edit me script src ts play ts ts play ts console log parcel with pug
some code are from helpers in the tool js import as app from webjs modules app import img from react jpg export class card extends app templatepage constructor root super root this template div img width 300 height 300 src img div ontemplateload console log done
git clone url cd parcel react ssr npm install npm start
register paint workers if paintworklet in css css paintworklet addmodule js houdini image cross js note that the worklet path should point from the root not the js file app js in this case i tried using the syntax but that didn t help
i have set up a repository that reproduces the problem url just use npm install parcel build src manifest json
canterberry parcel autoprefixer issue url contains a minimal configuration for demonstrating this issue
tsx index tsx import react from react import reactdom from react dom import antd dist antd css import config firebase shell from containers shell reactdom render shell document getelementbyid root
ts import styled from react emotion export default styled input font size 1em border none outline none width 100 text align center border bottom 1px solid transparent focus border bottom color lightgrey
the repo is here url below is the module produced by rollup js function bar return bar function foo return foo const quux quux export quux bar foo
the first code transform to the second scss root body md select menu multiple md option md checkbox enabled selected md icon after box sizing border box transform rotate 45deg position absolute left version px top version px display table width version px height version px border width 2px border style solid border top 0 left 0 content root body select menu multiple option checkbox enabled selected icon after webkit box sizing box webkit transform rotate 45deg left 0 style solid top 0 width 2px sizing content display table height left position absolute top 22222px transform rotate 45deg width
js index js import react from react import render from react dom import typography from material ui core typography or import typography from material ui core render typography hello document getelementbyid app please see the gist url for details
i have index php html doctype html html head t title test title t link rel stylesheet type text css href node modules bootstrap dist css bootstrap css t link rel stylesheet type text css href app head body t div class container h1 testing h1 div script src index js script body html index js js const say require say say name gus say js module exports tname function text tconsole log text
just take windows 10 and try do something like this import images from images png then try build it
basically start with the this example url and throw few svg path tags with d attribute run parcel build index html after that
minimal reproduction of the bug url
process version match 0 9 g map function n return parseint n 10
see this simple repo repository url
app vue vue template lang pug fx textfield label label input type type value value template style lang postcss fx textfield margin 5em 0 label display block font size 14px opacity 5 input height 30px background e0e0e0 border none border bottom 1px solid e0e0e0 focus transition border color 3s border bottom 40bdd2 focus label not empty font size 75 transform translate 0 100 opacity 1 fx textfield fx textfield display block style script export default name fxtextfield props type string required true type string default text value string script
you can see this bug happening in this repository in this branch url you can make a parcel build and serve the application with some http server you can open the inspector tools and you will see the console log described before showing the same name of front and left images application also crash since pixi js throws error when trying to load same image 2 times
the problematic file livesplit core js url
i created a sample repository that makes the same error of this issue url
a file named index html which includes a main js that js import some methods from foobar js and the modification in step 4 is remove or add some import methods in main js
html div class c masthead background slideshow c slideshow data slideshow div class c slideshow slide style background image url img chick in hand jpg div div class c slide style background image url img pig jpg class slide style background image url img brahman cow with hand jpg slide style image url img ducklings jpg dolphins in sea calf in field puppy paw
minimum example gist url
repo url run npm run dev to test
minimal code sample url
index html html script src component tsx body html component tsx tsx import h from hyperapp import styles from style css export const component t div t t div class styles title parcel div t div style css css title font size 4rem font weight 600 composes header from global css global does not work global does not work projects project global does work header font family lato sans serif
stylus modules require
i created a demo here url sleepy taxi click on show live and then use inspector to get the css file in the head
please refer to url 1 clone 2 yarn install in both app and lib 3 yarn link on lib 4 yarn link scoped lib on app 5 yarn start on app
index js js const apple require apple html console log apple apple html html h1 h1 index html doctype lang en head meta charset utf 8 meta name viewport content width device width initial scale version meta http equiv x ua compatible content ie edge title document title head body script src index js script body
the repo where this is the problem as of right now is url you can reproduce this exact setup and problem by cd ing into the extensions folder and running npm install followed by npm run build note how the file markdown hash js is put into public extensions core instead of expected public extensions core interfaces code folder edit we removed this usage to continue working on platform without this causing errors
example url run parcel build app1 index html
run a command like this bash parcel watch src main assets js app js d target classes public dist public url public dist
no need for any complex repo the code below fails as explained above even with the latest version version index js js import template from template2 pug console log html template template pug pug h2 this is a pug file
to reproduce checkout this pr and just run yarn install yarn dev url the environment is not as important for this bug as it is not os specific it is due to the difference between a built bundled version and git tree source version software version s parcel master v version html support 075ca6f
src index html main js package json html html head title parcel example title meta charset utf 8 head body div id calendar hello world div script src main js script body html
repo with code to reproduce the issue url
the code is going to be mit so i don t mind sharing the entry point ts import config from application config import ipointclickevent from events ipointclickevent import ipointmoveevent from events ipointmoveevent import iworkerevent from events iworkerevent iinteractionpoint util isprite view sprite istagemanagerprops stagemanager stagemanager const props istagemanagerprops audiocontext new audiocontext height config window height selector body width config window width const sm new stagemanager props const worker new worker worker index js
js app js console log hello world html
the issue can be reproduced in this repo url run npm run build
invoked with bash node env development node server js
see expected current behavior
followed the get started guide and react recipe blog exactly
index js causing a uncaught referenceerror buffer is not defined exception import fs from fs function tvar styles fs readfilesync index css tconsole log styles tvar head document getelementsbytagname head 0 t tstyle tstyle document createelement style tstyle setattribute type text css tstyle innertext styles thead appendchild style index js causing no exception import fs from magically include missing dependency buffer by merely mentioning the word o function tvar styles readfilesync index css tconsole log tvar head document getelementsbytagname head 0 t document createelement style setattribute type text css innertext thead appendchild style test html doctype html html t meta http equiv content type content text html charset utf 8 body t script src dist js type text javascript script body
js const pako require pako const inf new pako inflate to string const data 0x1f 0x8b 0x08 0x00 0x00 0x00 0x00 0x02 0x03 0xf3 0x48 0xcd 0xc9 0xc9 0x07 0x82 0x89 0xd1 0xf7 0x05 inf push new uint8array data true console log inf err inf msg result result hello to reproduce stick as index js and the package json from above in a directory run npm install run the parcel build command above try and run the generated output with node dist index js
example repo url
i just upgraded the packages from the same sample code url
javascript index js require style css require some image svg css style css body background url some image svg
index html html doctype html html head title shelf title head body div id app div script src src main js script body main js js import vue from vue import app from app vue new vue el app render h h jsx template div id h1 msg h1 div template script export default name data return msg welcome to your js script style lang css color 56b983 style
see above let me know if i left out any necessary files src index html html doctype html html lang en head meta charset utf 8 meta name viewport content width device width initial scale version meta http equiv x ua compatible content ie edge title example title head body div id root div script src index tsx script body
index js js async new vue components the header import components header vue the home import components home vue mount app
url simply run parcel serve index html and click the links to see the inconsistent behavior
see repo as above url
node modues test test js js window catch 1 src index js js import test window catch 2 after build window catch 1 window catch 2 the keyword did not be handled the right way because the custom uglify config did not take effect on the modules as a npm dependencies
really basic setup index scss imports some other scss partials and index js imports index scss i have no module reference errors and the code does work its just the files that are being watched during development could be expanded index html doctype html html lang en head head body script src scripts js script body html js import scss stuff import variables import typography import ui body tbackground color dark
steps and demo assets available here url
index html html doctype html html lang en head meta charset utf 8 title title title link rel stylesheet href style index scss head body hello world body base scss scss body background red index scss import base btn width 100px height 38px border 1px solid ae2616 color ae2616 outline none background color transparent cursor pointer
index js js import styles from styles class landing extends component render return div classname styles container landing screen div styles css css container flex 1 display flex
full test cast at url index html doctype html html body script src index js script script console log html foobar script body index js export function foobar return foobar console log js foobar
html doctype html html lang en head meta charset utf 8 title title title head body p style color red hello world p body html
create the project with the following bash commands bash mkdir p test parcel src cd test parcel echo doctype html html head meta charset utf 8 title test parcel with dropbox title head body h1 test h1 body html src index html
the configuration section above has all the code
1 go to any registered edge endpoint 2 click on app templates 3 select a container hosted locally 4 enter a name nginx test 5 click deploy the the container 6 see the error popup failure no such image myregistry 5000 nginx latest technical details
1 go to any registered edge endpoint 2 click on app templates 3 select a stack hosted locally 4 enter a name nginx test 5 click deploy the the stack 6 see the error popup deployment error yaml unmarshal errors line 1 cannot unmarshal str 3 into config rawservice technical details
1 go to any registered edge endpoint 2 click on images 3 enter image nginx latest 4 select registry myregistry 2 click on pull the image 4 see error failure manifest for myregistry 5000 nginx latest not found manifest unknown manifest unknown technical details
1 go to images view for example 2 select an image on page 1 and another image on page 2 3 the ui will only keep the image on page 2 as selected technical details
on windows 1 go to images view 2 try to pull the mssql server image from mcr microsoft com 3 get image successfully pulled toast notification 4 see that the image hasn t actually pulled technical details
1 set up portainer with google oauth 2 set up a reverse proxy such as traefik to serve portainer over a specific domain name e g example com 3 navigate to example com and try to log in using google technical details
1 log in as ldap user 2 at home page you will see all accessible endpoints and count of container ant other their resources 22 url 3 click to one of endpoints and see only images count no containers no networks no volumes 11 url 4 log out and log in as admin 5 see all endpoint and all containers everything works correctly 33 url technical details
1 open portainer and web inspector 1 pick an endpoint 1 notice how a request to api endpoints endpoint docker containers json all 1 is made open stacks notice a request yet again click on a stack see another request technical details
create docker container using the following commands sudo docker create name xxx restart unless stopped p xx xx e puid 1000 e pgid 1000 e tz america vancouver v etc localtime etc localtime ro look in logs for timestamps and receive 2019 08 19t05 25 version z technical details
1 remove the portainer db file 2 enter new password 3 try to log in with new password technical details
1 deploy portainer instance on localhost 9000 2 deploy agent in cluster 3 create agent endpoint on localhost 9000 and manage it portainer 1 url 4 deploy portainer instance on localhost 9002 5 create agent endpoint on localhost 9002 at this time endpoint is shown as down portainer 2 url 6 docker service update agent with force flag 7 refresh snapshots 9002 now endpoint is up 3 url 8 in the home view of 9000 click up and get error message 4 url 9 refresh view 9000 is down 5 technical details
setup a swarm cluster 1 manager node 1 worker node install agent register cluster with portainer deploy stack to worker node stacks containers volumes check list of volumes in ui they don t show verify docker volume ls on worker technical details
1 go to services 2 click on some of services to expand them 3 turn on auto refresh 4 see the page refresh and the services will be collapsed technical details
1 go to a place where there is a number input e g create service 2 click the down arrow on the replicas input a few times 3 see it go into negative numbers note this is just an example and is repeatable on other inputs also
1 go to services view and click the checkbox of a service 2 see the task status table show services bug url technical details
1 create 2 persistent volumes name one and let docker name the other 2 add a service mount these persistent volumes to it then deploy 3 edit the service 2 see below problem where the persistent volumes are not saved instead we have the select a volume dropdown v version v version 1 19 1 20 url v version v version 1 21 22 url technical details
make a call to endpoints id access to update the endpoint permissions technical details
1 go to containers 2 the containers are sorted by state 3 click on any other column header than state 4 click refresh 5 the containers are sorted by state again technical details
1 go to registries 2 add a custom registry that requires credentials this registry doesn t have to exist to reproduce these steps so pick whatever you want 3 enable authentication and enter anything you want for a username and password click add registry 3 now go back to registries and click manage access for the newly created entry 4 choose a user or team under create access then click the create access button 5 see error invalid credentials username and password must be specified when authentication is enabled technical details
1 go to stacks 2 click on add stack 3 add environment variables 4 deploy the stack 5 see error technical details
with rm extension activated 1 create a registry with valid url 2 browse should be able to list repositories co 3 edit url to invalid one registries id 4 try to browse still able to do it backend still using the previous valid url same steps can be done inverting valid and invalid urls 1 create a registry with invalid url 2 browse should not be able list repositories co 3 edit valid one registries id 4 try browse still not able do it backend still using the previous invalid only way force the new be used is go registries id configure and test the configuration test configration will force backend use new for this registry not even needed apply changes there clicking test button is enough trigger update on backend technical details
1 build image from latest commit of develop branch 2 click on a view in portainer with a table e g volumes 3 see there is no default sort selected no default sort bug
1 deploy a service 2 click on your service to view its service details view 3 see the box next to the service webhook toggle see error image url technical details
1 set up a fresh portainer 2 add an admin user enter an endpoint 3 get green confirmation message see that the are not lised in portainer technical details
steps to reproduce the behavior 1 log in 2 click on primary endpoint 3 see error failure unable to connect to the docker environment technical details
1 try to configure oauth with okta and it fails portainer version version additional context
1 create 30000 empty docker volumes so the docker volume ls command takes longer than ten seconds 2 navigate to volumes view and receive unable to retrieve volumes error image url 3 navigate to home view 4 click on agent enabled endpoint which is shown as up in portainer error occurs saying endpoint is down image url additional notes
1 create your nfs volume docker volume create driver local opt type nfs opt o addr mynfsshare nfsvers version rsize wsize hard timeo 600 retrans 2 noresvport opt device portainer portainer data validate it s working docker run rm it v portainer data data busybox ls al data 2 start portainer with that volume mapped onto the dir docker run d p 9000 9000 name restart always v var run docker sock var run sock v 3 try to curl the port or do anything with the volume and it hangs you can t kill s pid or remove the container without rebooting host after a two minutes you ll start to see these messages in dmesg info task 4254 blocked for more than 120 seconds technical details
1 deploy an agent portainer setup 2 manage the agent endpoint 3 drain a node inside the cluster through the ui 4 directly try to manage the endpoint access containers volumes etc and see that one request will fail additional info
1 deploy agent on swarm with 1 manager and 2 worker nodes 2 promote a worker node to manager 3 drain leader node 4 endpoint shown as down in portainer technical details
steps to reproduce the behavior admin view img width 839 alt screen shot 2019 06 11 at 3 04 14 pm src url img width 1004 alt screen shot 2019 06 11 at 3 04 29 pm src url test user view img width 956 alt screen shot 2019 06 11 at 2 54 30 pm src url img width 805 alt screen shot 2019 06 11 at 2 54 54 pm src url technical details
steps to reproduce the behavior 1 login to portainer 2 go to containers page 3 set items per page to 100 4 hide one columns 5 logout portainer 6 login back portainer 7 go containers page 8 the previous sets got reverted default 10 items per page and all column visible technical details
steps to reproduce the behavior 1 create new private registry 2 create new app template 3 write some parameters in template 4 deploy container 5 see error failure invalid reference format technical details
steps to reproduce the behavior 1 go to stacks 2 click on add stack 3 add stack name func 4 select use a git repository 5 add repository url url 6 click deploy the stack technical details
steps to reproduce the behavior 1 run the local registry by running docker run p 5000 5000 name registry e registry storage delete enabled true v directory of the local registry var lib 2 2 assuming the manager extension is enabled use custom to setup 3 enter a name and enter url which is url of local ip address 5000 4 click on add 5 push an image with different tag names for example i pushed hello world image to local with different tags docker tag hello world localhost 5000 hello world latest docker tag hello world localhost lts docker tag localhost version push localhost latest push lts push version 6 go back to portainer click on then browse then 7 you should be ble see all images but refresh page you should see that all images disappeared and error failure unable retrieve latest failure unable retrieve lts failure unable retrieve version technical details
steps to reproduce the behavior 1 restart the host centos7 2 login into portainer 3 go to the containers section 4 you will see the ip addresses are chnaged technical details
installed ubuntu server version and updated checked during install both ssh and docker technical details
steps to reproduce the behavior 1 enter to the container s terminal 2 type somithing in english for example 3 switch language 4 type any text you will not see symbols 5 switch back to english 6 type any text 7 text doesn t showing technical details
portainer exe admin password test technical details
steps to reproduce the behavior 1 setup a docker multi node swarm windows only 2 install portainer through a single replicated global service manager only 3 expose a tcp endpoint on the same manager portainer is running by changing the docker daemon json file in programdata docker 4 attempt to connect to local daemon technical details
1 go to create service view 2 click on secrets tab at bottom of screen 3 click add a secret and select your secret 4 repeat step 3 with the same secret 5 click create the service see below error
steps to reproduce the behavior 1 go to users view 2 within add a new user widget fill in details for a new user making sure there are spaces in the name 3 click create user 4 see incorrect error selection 002 url technical details
steps to reproduce the behavior assuming there is an endpoint with an assigned tag
steps to reproduce the behavior 1 define a docker compose yaml file similar to the one given above 2 docker compose up d portainer 3 in a web browser navigate to portainer on port 9000 4 attempt to login with username admin and password matching the contents of the portainer admin password file technical details
steps to reproduce the behavior assuming there are multiple users and or teams 1 go to endpoint access or group access view on a group or endpoint 2 click on authorize all or deny all buttons 3 not all users and teams will be moved technical details
steps to reproduce the behavior 1 go to team details view for a team and make sure there is a team leader present in the team 2 click on remove all users or the remove button next to the leader name 3 see error i e leader count is not updated to show that leader has been removed technical details
steps to reproduce the behavior 1 deploy portainer using official deployment info swarm mode using composer 2 configure ldap authentication either simple bind tls or starttls 3 go to default primary endpoint and using manage access give access to the user 4 login in portainer with the user in home section he is able to see all the info about primary endpoint number of stacks services containers volumes and images 5 click on primary endpoint on home page 6 user see can see number of images inside swarm but 0 of any other resource stacks containers volumes services or networks no error shown in container log technical details
for example i have 3 host machines on each machine i have installed portainer agent on same overlay network added 1 among this 3 node machine as end point to portainer instance after stack deployment of my app image steps to reproduce the behavior 1 go to services 2 click on stats icon 3 on the top right corner i m seeing the error unable to retrieve container information technical details
steps to reproduce the behavior named pipe 1 install portainer on windows server 2019 through the official installation steps url 2 start url 3 select the left most option local manage the local docker environment 4 no endpoints are listed steps to reproduce behavior tcp 1 add a new endpoint in endpoint tab 2 select left most option docker docker environment 3 fill in blanks name local endpoint url url this ip address is docker host s ip address 4 click add endpoint button 5 on top right displays a green block with a check and text created 6 somehow never shows up technical details
steps to reproduce the behavior 1 go to portainer stack menu 2 click on add stack 3 fill in required detail 4 click deploy the stack 5 see error img width 317 alt screen shot 2019 03 13 at 1 37 27 pm src url technical details
steps to reproduce the behavior 1 go to services inside a swarm environment that is not running the portainer agent 2 click on a service 3 click on the stats or console icons under the actions column 4 see errors below img width 310 alt screen shot 2019 03 08 at 3 24 16 pm src url img width 1005 alt screen shot 2019 03 08 at 3 25 25 pm src url technical details
steps to reproduce the behavior 1 go to stacks 2 click on add stack 3 add name and define stack and click on deploy the stack 4 error during connect get url dial tcp lookup var run docker sock no such host technical details
docker pull portainer portainer docker run d restart always name portainer isolation process h portainer p 9000 9000 v c programdata c data v pipe docker engine pipe docker engine technical details
1 server and client certificates keys signed by ca server certs used by docker engine client certs used by portainer ca used by both 2 start remote docker engine dockerd tlsverify tlscacert root ca pem tlscert root server cert pem tlskey root server key pem h tcp version 2376 3 start portainer container docker run d p 9000 9000 name portainer v home ash certs certs v portainer data data 4 choose to add remote endpoint 5 upload tls from bind mount location of home ash 6 click connect technical details
1 create an app template using a remote compose file with variablized version variables 2 create several variables for the template using the select list see screenshot image url note sensitive information redacted 3 add some presets but select the select list button image url 4 save the template and create a stack image url 5 stack immediately reverts to presets even though we want to select from a list image url technical details
block access to the registry and try to download the image technical details
steps to reproduce the behavior 1 logout portainer 2 login portainer 3 portainer home shows do not click any endpoints 4 visit url templates 5 page is blank technical details
curl v h authorization bearer token url http 2 502 content length 0 technical details
steps to reproduce the behavior 1 go to dashboard containers create other pages 2 see error technical details
steps to reproduce the behavior 1 go to containers 2 click on add container 3 see error technical details
steps to reproduce the behavior 1 stop container 2 click on duplicate edit 3 scroll down to runtime and resources 4 drag slider to unlimited and click deploy 5 slider resets to previous value note selecting a non unlimited value works as expected technical details
steps to reproduce the behavior 1 go to the console 2 use nano function on a file 3 scroll down up or navigate with the arrows 4 see error technical details
steps to reproduce the behavior 1 create a local registry with a port like 5000 in my case it s localhost 5000 2 push any image to that regitry 3 deploy an container using the pushed image 4 update the image and push the new image 5 goto url 6 select your 7 open network monitor 8 click pull from registry 9 notice name is wrongly splitted and invalid tag format error technical details
steps to reproduce the behavior 1 go to url stacks 2 add stack 3 set name of stack so it will start with uppercase letter 4 two stacks are created technical details
steps to reproduce the behavior 1 create volume and abc tar gz file in it vweng bugatti docker volume create test test vweng bugatti docker run d it v test test busybox vweng bugatti docker exec it sh cd touch abc tar zcf abc tar gz abc ls l total 4 rw r r 1 root root 0 jan 28 16 46 rw r r 1 root root 86 jan 28 16 47 tar gz 2 now go to portainer ui and find the volume and download the gz from browser 3 try open the file zxf unrecognized archive format error exit delayed from previous errors technical details
steps to reproduce the behavior 1 add a number of containers with different published ports 2 go to the container list 3 click on published ports 4 observe that the ports are not in any sensible order technical details
create a host job that takes the image from private repository that requires authentication technical details
steps to reproduce the behavior 1 add gitlab com as registry in portainer with auth 2 externally push image to gitlab com registry with a tag other than latest dev newname etc or a subdomain of the main registry registry gitlab com username projectname subdomain 3 create container in portainer using that image and 4 red error message in upper right corner no such image path to technical details
steps to reproduce the behavior deploy a container with a label and no value specified technical details
1 run container from templates json a run nginx mainline alpine container with command statement as per dockerfile defined for command field b run anything from templates json with command statement containing single quotes 2 into docker ps you will observe single double single quote for command technical details
steps to reproduce the behavior 1 create a network 2 connect a container to the network 3 click the network name technical details
steps to reproduce the behavior 1 under settings in the left menu 2 click on users and pick teams 3 in the input field name type a b and press enter 4 scroll down to the teams list and see error shown as a amp b technical details
steps to reproduce the behavior 1 go to swarm 2 click on any of the nodes technical details
steps to reproduce the behavior 1 create a stack as non adminstrator with the following config just relevant parts version 2 services whoami image emilevauge whoami volumes whoami tmp volumes whoami driver local 2 enable access control is default 3 click deploy the stack 4 click on volumes on the left and see no volume volumes waja url 5 navigate to container details of created container and see attached volume there container url 6 clicking on volume brings you back to volume view with following error error url 7 logged in a administrator reveals that ownership was given to object administrator admin url technical details
steps to reproduce the behavior 1 add registry with authentication and images in it in portainer dashboard 2 deploy new stack from dashboard with some images in global mode 3 join new node to cluster 4 technical details
see my bug description technical details
sadly i was not able to find out the factors needed to reproduce this behavior all i can say is that it in some random cases it just seems to work but in most cases it doesn t technical details
current deployment 1 server gce 2 registry gitlab com private registry i am very very sure the credentials set in portainer s gui is correct however i am curious how to validate it steps to reproduce the behavior 1 go to the a service page 2 click on update the service 3 check pull latest image version option 4 app s container recreated but image version is not updated technical details
steps to reproduce the behavior browse to url technical details
steps to reproduce the behavior create an insecure registry out of scope of portainer then create a new entry it will be assumed to be accessed via https technical details
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error technical details
as per the installation docs found here url windows 1 docker volume create portainer data 2 docker run d p 9000 9000 name portainer restart always v var run docker sock var run docker sock v c programdata portainer data portainer technical details
steps to reproduce the behavior create container with published ports in my case 8080 80 4433 443 stop container edit env variables deploy with new settings technical details
steps to reproduce the behavior 1 create template with ports mapping including host specification in templates json 2 load in portainer 3 create container 4 see error technical details
steps to reproduce the behavior 1 fail to recreate a container recreate a container and map its port to an existing mapping 2 app stays on the container creation page 3 remove the problematic ports and try to recreate again 4 portainer won t tell about conflicting names because the original name doesn t exist anymore 5 portainer will fail because there s already a container named original name old technical details
steps to reproduce the behavior 1 go to container 2 add new container 3 edit container with new image 4 dockerfile cmd in the new container can not read exactly technical details
edit duplicate and recreate running container technical details
steps to reproduce the behavior 1 run portainer version 2 docker pull portainer portainer latest 3 start new version technical details
no ideas at all this seems to be related to host job schedule which looks new in version technical details
steps to reproduce the behavior 1 create a new instance of portainer clear db 2 create the default docker endpoint 3 change url to dashboard 4 see console technical details
1 go to images tab 2 specify any image in the image input box 3 pull the image technical details
steps to reproduce the behavior 1 select a stopped container 2 go to containers 3 click on container stat icon 4 see error red prompt showing some javascript error technical details
1 ensure you have only one container in one of your endpoints 2 go to portainer s home page you will see the text 1 container s in the endpoint s summary 3 click on the endpoint with one container in the dashboard page you will see text 1 container s technical details
steps to reproduce the behavior 1 run this curl command into somewhere that has access to portainer curl x put d git portainer app template json h content type appl ication json main 9000 api templates 1 i can verify that where i ran this command had access and admin authorization on portainer i could run a get request on templates succesfully the json type 2 title whmcs dev stack description whmcs stack used for development purposes in ipburger categories cms platform linux note more info on classified logo url repository url url stackfile docker stack yml env name leading domain part label leading url part description leading part in the domain construction name username label username description username of the ipburger employee that will use stack select text sagar value sagar text donald value donald text rushi value rushi text rahul value rahul vitor vboufleur bevin bevin bhavesh bhavesh name base domain label base domain description base for select whm whm default true whm dev whm dev 2 this curl command fails with err invalid request payload details json cannot unmarshal array into go of type templates templateupdatepayload technical details
keep portainer running for a long time run script from url to see the increasing of number of open files of portainer technical details
1 create a container with logging drivers and opts like logconfig config mode non blocking syslog address tcp nj dacontainer 1 5140 tag imagename name id type syslog 2 deploy container 3 open container and hit duplicate edit 4 logging option shows default log drive instead of syslog and all log opts are lost as well as screenshot below screen shot 2018 10 31 at 3 32 27 pm url portainer version portainer portainer pr2384 docker version managed by portainer not related to this issue platform windows linux not related to this issue additional context
steps to reproduce the behavior 1 go to containers 2 click on a container and duplicate edit 3 modify or create a variable in the env tab 4 deploy the container technical details
steps to reproduce the behavior 1 automatically restart the server 2 login into portainer 3 observe that the swarm is down technical details
steps to reproduce the behavior 1 go to networks 2 click on add network 3 click on the driver drop down 4 macvlan is missing technical details
steps to reproduce the behavior 1 install swarm on one or two node 2 install portainer with agent 3 install gluster plugin on all node 4 test the volume with docker run v test mnt rm ti ubuntu 5 write file on mnt 6 open portainer and list files technical details
1 go to stack page 2 click add stack button 3 specify name for the new stack 4 click the repository button 5 enter repository url 6 leave repository reference empty for master 7 enter stack file name 8 click radio button to enable auth 9 add user name and password 10 click deploy the button got error message unable to deploy the technical details
simply making a stack restarting the host and losing control over it i guess ahaha technical details
using the following docker compose yml file version 2 services app image php fpm networks default ipam config subnet version 24 docker compose up sets the network fine using portainer s stack deployment does not technical details
steps to reproduce the behavior 1 create a stack with a relative mount in a git repo version 2 services home assistant image homeassistant home assistant volumes config homeassistant config 2 start the stack trough portainer 3 see a new folder on the host data and see that folder mounted instead of the correct folder technical details
openssl s client tls1 connect localhost 8008 connected ssl handshake has read 2125 bytes and written 315 bytes new tlsv1 sslv3 cipher is ecdhe rsa aes128 sha expected openssl s client tls1 connect localhost 8008 connected error ssl routines ssl3 read bytes sslv3 alert handshake failure s3 pkt c 1493 ssl alert number 40 error ssl routines ssl3 write bytes handshake failure s3 pkt c 659 technical details
steps to reproduce the behavior 1 deploy a docker compose yaml with volumes technical details
steps to reproduce the behavior 1 create a dockerfile for printing an environmental variable 2 create a new stack from api using the env parameter 3 look at the logs technical details
steps to reproduce the behavior 1 push the same stack twice using different names 2 try to remove both technical details
steps to reproduce the behavior 1 open portainer normally 2 leave the swarm from docker console docker swarm leave force 3 create a new swarm docker swarm init 4 restart the machine i d changed the ip and some rules that broke docker table 5 portainer print logs that service is listening on port 9000 and is started but ps show no port mappings for container telnet to port 9000 on container ip doesn t work and restart containername also doesn t work 2018 10 09 22 47 02 templates already registered inside database skipping template import 2018 10 09 22 47 02 instance already has defined endpoints skipping endpoint defined via cli 2018 10 09 22 47 02 starting portainer version on 9000 6 if i remove current portainer container with rm containername and recreate another one with previous volumes will login operate normally technical details
steps to reproduce the behavior post on api stacks type 2 method string endpointid 3 with this body stackfilecontent docker compose build docker compose up d if docker compose logs ckan shows db not ready run docker compose restart ckan a few times matteo de stefano francesco frassinelli derived from url 3 volumes ckan config ckan home storage pg data services container name image registry gitlab com nina data nina coat latest links db solr redis ports port 5000 environment defaults work with linked containers change to use own postgres solr redis or datapusher sqlalchemy url postgresql postgres password db datastore write url postgresql postgres password db datastore datastore read url postgresql datastore ro readonly password solr redis redis 6379 1 datapusher site site max upload size mb max upload size mb postgres password ds ro pass readonly volumes config etc home usr lib storage var lib datapusher container name datapusher image clementmouchet ports 8800 8800 container name image postgresql latest environment ds ro pass readonly volumes pg data var lib data solr container name image latest latest env site port 5000 readwritepw readonly readonlypw max upload size mb 1000 nina coat8 technical details
1 go to a service 2 click on update the service button select pull latest image version 3 see the task being rejected and eventually the tasks will go back to running without the new image pulled technical details
steps to reproduce the behavior 1 on a swarm cluster on aws with iam roles ecr read access assigned to the hosts 2 run portainer with the credential helper see 1533 my image of that is here ricmathie ecr portainer version docker stack deploy f docker compose portainer yml portainer 3 go and deploy a stack with a private ecr image version version services private test image dkr ecr eu west 1 amazonaws com someimage command ping docker com 4 get the webhook from service page 5 pingback webhook to trigger image pull http post ec2 123 123 123 123 eu west 1 compute amazonaws com 9000 api webhooks 89ab cdef 0123 technical details
steps to reproduce the behavior 1 create 2 containers a and b on the bridge network with mapped ports 2 recreate b while removing the exposed ports but setting the network to container a 3 see error technical details
1 use the docker version distributed by red hat red hat enterprise linux server release version maipo docker client version 74 git6e3bb8e el7 x86 64 docker common version 74 git6e3bb8e el7 x86 64 docker rhel push plugin 74 git6e3bb8e el7 x86 64 74 git6e3bb8e el7 x86 64 2 start portainer 3 try to create an httpd container from fockerhub technical details
steps to reproduce the behavior 1 make sure one of your endpoints is in a group 2 log in as a non admin 3 go to home technical details
1 create an app template that contains a select variable with some predefined values 1 b to quickly see a result use the value for example in the image reference of the compose file 2 in app templates klick on the template and select a value in drop down 3 hit deploy stack if 1 b was considered you should see an orange popup after a while that says something like deployment error error response from daemon no such image myimage invalid reference format technical details
steps to reproduce the behavior 1 deploy a stack with environment variables defined in the portainer ui 2 observe the container has the environment variables set e g connect to container run echo preset returns value configured in portainer ui 3 scale service from 1 0 containers 4 scale service from 0 1 containers 5 observer container does not have environment variables set e g connect to container run echo preset returns empty string workaround
steps to reproduce the behavior 1 go to stacks 2 click on create 3 select and set git repository 4 deploy technical details
post the following request to resource controls resourceid type container public false this leads to the error err invalid request payload details invalid resource control declaration must specify users teams or public also this description is not very precise because it says that you can specify users teams or public which is not true at the moment you have to specify public and team or users technical details
1 get google cadvisor latest 2 the entrypoint in the dockerfile is an array entrypoint usr bin cadvisor logtostderr 3 go to portainer and edit the container 4 put in usr bin cadvisor logtostderr housekeeping interval 5s into the entry point field 5 it will be saved as a string usr bin cadvisor logtostderr housekeeping interval 5s rather than an array 6 container then won t run because it will try to find an executable named usr bin logtostderr housekeeping interval 5s note i also tried other combinations like housekeeping interval 5s and results are same technical details
n a technical details
steps to reproduce the behavior 1 go to portainer 2 click on sidebar settings technical details
steps to reproduce the behavior 1 go to the registry screen 2 enter your docker com credentials into the box that says docker hub 3 update and wait for the green confirmation 4 go to image screen and try to pull a private image technical details
1 create a yml file with the sample code 2 try to deploy it technical details
steps to reproduce the behavior 1 go to networks 2 click on add network 3 give your network a name 4 select overlay 5 see error message cannot create a multi host network from a worker node please create the network from a manager node technical details
bash mkdir pv tmp cd tmp echo from alpine dockerfile echo run apk add u no cache wget dockerfile docker build t dummy image docker run d name dummy container dummy image sh c tail f dev null docker tag dummy image oldimage docker build t image no cache cd rm rf tmp in container details of container sha256 b953a7de is shown but b953a7de is tagged oldimage latest tag latest corresponds to sha256 now as a side effect the name shown in container list is neither nor oldimage additional context
1 add new external endpoint in endpoints json 2 restart portainer 3 go to endpoints list 4 try manage access to newly added endpoint technical details
followed the exact same steps as here url inside a swarm cluster steps to reproduce the behavior logs agent 2018 09 03 14 33 03 info serf eventmemberjoin version 2018 09 03 14 33 03 info starting portainer agent version version on version 9001 cluster mode true 2018 09 14 33 10 http error missing portainer public key err portainer public key unavailable code 403 portainer failed 2018 09 14 33 get url dial tcp 9001 getsockopt connection refused success 10 templates already registered inside the database skipping template import 10 starting on 9000 11 http error no administrator account found inside the database err object not found inside database code 404 11 http error invalid jwt token err invalid jwt token code 401 11 http error invalid jwt token err invalid jwt token code 401 16 credentials unauthorized 422 19 credentials unauthorized 422 30 no administrator account found database object not found 404 technical details
steps to reproduce the behavior 1 docker container run d name foo httpd alpine 2 docker container run d name bar link foo httpd alpine 3 look at container list and notice that foo is named bar foo technical details
steps to reproduce the behavior 1 deploy a service in the swarm mode with some exposed port 2 navigate to services section on portainer ui 3 click on the link of the published port 4 see a newly opened blank tab technical details
1 deploy a swarm with docker for aws and specify awslogs driver when running the cloudformation template 2 deploy portainer on the swarm 3 run a docker stack without specifying any logging driver at the services level 4 check the logging driver found for a service of stack in service details page in portainer technical details
steps to reproduce the behavior 1 go to the services page if necessary deploy a service 2 click on a service to see its details 3 click in the image input field 4 if necessary reduce the browser window width so that image name does not fit within width of visible image input field 5 attempt to move text cursor right past visible text technical details
steps to reproduce the behavior 1 go to service list page services 2 if necessary add a service 3 click on the name of the service to see details technical details
steps to reproduce the behavior 1 use a custom white only logo 2 inspect the menu and the login page technical details
1 follow the instructions as per url deploy portainer without docker url 2 run portainer with the admin password file option although i don t think that matters technical details
1 configure portainer to auth against ldap enable automatic user provisioning 2 test connectivity 3 try and log in through the web ui using known good credentials 4 observe that the ui returns an invalid credentials message 5 observe that the user will have been created in portainer 5 observe the stack trace in docker logs pasted below 6 delete user in portainer 7 create user manually with same name as an administrator and disable automatic provisioning ldap config 8 try and log again 9 observe that login is successful technical details
1 go to web ui or via api and create a type 3 template 2 click on submit or send the request 3 click the refresh button and you won t see the template you ve created 4 get templates list via api you can see the template you ve created 4 see error technical details
prerequisite run a swarm with latest portainer agent version 1 deploy a portainer instance docker volume create portainer data docker run d p 9000 9000 name portainer restart always v var run docker sock var run docker sock v data data 2 connect to a swarm agent connexion for me version 9001 you will be able to use the agent endpoint 3 completely remove instance rm f volume rm data 4 reproduce step 1 and step 2 5 try to connect on swarm endpoint on home swarm is shown as down and you get an error 2018 08 06 scrot url technical details
steps to reproduce the behavior 1 go to api auth 2 provide a working password with a inside it 3 submit the request 4 see error technical details
steps to reproduce the behavior 1 start portainer with templates pointing to this url 2 check this error 2018 08 02 23 30 44 unable to parse templates file please review your template definition file 2018 08 02 23 30 44 json cannot unmarshal string into go struct field template type of type portainer templatetype technical details
steps to reproduce the behavior 1 go to stacks 2 open the the container list 3 click on an action technical details
create a container with an empty environment variable then duplicate edit it technical details
steps to reproduce the behavior 1 create a three node swarm cluster e g node 1 node 2 node 3 2 deploy portainer agent 3 click on the volumes menu item and create two volumes with the same name once on 1 and once on 2 you get an error from portainer that the name already exists however volumes are still created for both nodes you might want to track that as an additional issue 4 click on containers menu item in portainer to deploy a single container 5 in deployment section select 2 as 6 at bottom in advanced settings section volumes shows all in cluster without any information about they belong to networks show all networks cluster without any information about they belong technical details
steps to reproduce the behavior 1 open a brand new project 2 push an image to your registry step 1 and 2 done in url 3 start a brand new portainer instance done in here url but it expires every 4 hrs 4 register an docker registry with registry gitlab com and then try to pull the image neil cresswell testproject alpine unable to pull it 5 try registering another registry with gitlab com neil cresswell pull image testproject alpine which allows you successfully pull the image however after you create an container with it when you try edit duplicate it portainer complains the docker for url is not registered inside portainer hence you cannot do anything again technical details
steps to reproduce the behavior bash docker service rm portainer agent docker service create name portainer agent detach true network net portainer e agent cluster addr tasks portainer agent mode global mount type bind src var run docker sock dst var run docker sock mount type bind src data volumes dst var lib volumes version technical details
steps to reproduce the behavior 1 make a call to api registries with valid auth headers 2 see your own password in plain text technical details
add registry and image settings to a container template in template json to specify a remote image to use outside of dockerhub allow template json to initially load and create a container based on it registry may need be created in portainer and involve auth trigger issue not sure image pull will result in failure also try update change the registry parameter via the portainer ui changes don t appear stick technical details
try to edit network parameter for a container template using portainer template ui technical details
steps to reproduce the behavior create a stack from this stack file version version services server image jordan rundeck version environment tz europe amsterdam volumes etc etc rundeck projects var rundeck projects mysql var lib mysql ssh var lib rundeck ssh storage var lib storage volumes etc mysql projects ssh storage check the unnamed volumes screenshot 2018 07 30 om 13 20 29 url technical details
steps to reproduce the behavior 1 go to stacks add stack git repository 2 enter repository url compose path username ad password 3 sclick deploy the stack 4 see error technical details
1 docker run p 9000 9000 v var run docker sock var run docker sock portainer portainer no auth 2 go to localhost 9000 technical details
create a template with ports 20001 8080 tcp in it technical details
1 start portainer docker stack docker stack deploy c portainer agent stack yml portainer file customised portainer agent stack yml version version services image networks network ports 8080 9000 command data tmp data ephemeral data intentionally lost on restart data tmp no auth host tcp tasks agent 9001 tlsskipverify environment log level debug agent image networks network volumes var run docker sock var run docker sock deploy mode global placement constraints node platform os linux environment cluster addr tasks log level debug networks network driver overlay 2 web url containers see list of containers 3 simulate crashed node where is running the service is configured with dir tmp thus is intentionally lost on restart to simulate node failure loss service update force 4 web url containers container list is empty and red notification indicating failure unable to retrieve containers workaround
i have selected to use my custom templates and pointed to url that is verified to work however although i have say mixed container and stack templates i am only able to see the templates of type container steps reproduce the behavior 1 start a portainer stack via docker compose 2 on the main page click on settings and select use custom templates 3 enter a valid url that points a valid json file 4 select app on main portainer page only the of type container are displayed technical details
open stacks page and look http trace technical details
steps to reproduce the behavior 1 go to stacks add stack git repository 2 enter repository url compose path username ad password 3 click deploy the stack 4 see error technical details
steps to reproduce the behavior 1 add new stack 2 insert snippet below 3 try to deploy stack version 2 services mq image rabbitmq latest container name sample mq restart always networks web networks web external true technical details
deploy stack like this version 3 services linux image alpine version networks test command sh c ping version networks test driver overlay technical details
steps to reproduce the behavior 1 run a container that produces many stdout into log technical details
the error is random some time it works but sometimes it doesn t no clear way or environment of how to reproduce technical details
i m not sure to have all the element to reproduce here is my docker compose of stack version 2 services elasticsearch image myprivaterepo com company elastikstack elasticsearch latest ports 9200 9200 9300 9300 environment es java opts xmx256m xms256m networks elk logstash image myprivaterepo com company elastikstack logstash latest ports 5000 5000 environment ls java opts xmx256m xms256m networks elk depends on elasticsearch kibana image myprivaterepo com company elastikstack kibana latest ports 5601 5601 networks elk depends on elasticsearch networks elk driver bridge the images are base on a fork of url where i simply add the custom configuration in the docker file technical details
steps to reproduce the behavior 1 create a swarm mode setup with 3 nodes 2 deploy some containers around the cluster 3 use the portainer api in docker api proxy mode to execute api calls against a specific container 4 in some cases this will work in most cases it will fail technical details
i have swarm with 3 nodes 2 with public ip master node is here 1 behind nat with public ip i have set up port forwarding 2377 7946 and 4789 ports technical details
steps to reproduce the behavior from a raspberry pi 1 docker pull portainer agent linux arm64 2 docker inspect portainer agent linux arm64 technical details
steps to reproduce the behavior 1 startup a windows container server 2016 2 click on containers to see all running containers in portainer 3 select console from quick actions 4 try to open a console session using cmd exe or powershell user left blank technical details
steps to reproduce the behavior 1 deploy multiple around 40 stacks from the same template technical details
upgraded to portainer version from version latest agent technical details
steps to reproduce the behavior 1 select an app template and deploy it 2 keep deploying the same template with different stack names 3 eventually you will hit this error and be unable to deploy stacks from templates technical details
steps to reproduce the behavior 1 go to swarm in the sidebar 2 click on go to cluster visualizer 3 stay on the page it will auto refresh observe the position of tasks on each node technical details
let s assume the following stack file version version services web image nginx mainline alpine deploy mode global placement constraints node role manager update config delay 60s 1 have a swarm with at least one worker 2 deploy the example stack 3 compare docker service ls to portainer s services list technical details
steps to reproduce the behavior 1 go to containers page 2 select a container and start it 3 select and start another container two containers trying to start 4 unable to start container error message is displayed technical details
steps to reproduce the behavior 1 setup the google container registry as a registered registry in portainer 2 create a container referencing a gcr image 3 click re create in the container page 4 see error technical details
steps to reproduce the behavior 1 deploy my stack via portainer stack deploy 2 go to portainer s service details view for the app service 3 scroll down to mounts 4 notice the source fields reads select a volume technical details
steps to reproduce the behavior 1 run docker plugin install rexray s3fs latest 2 open portainer and go to add volume page 3 open driver selectbox 4 see only local driver technical details
use rex ray plugin for volumes with digital ocean integration technical details
i used a nodejs based request let request require request let querystring require querystring yaml require yamljs request put url url this portainer port api endpoints 1 stacks stackid headers authorization bearer jwt body json stringify stackfilecontent yaml stringify newstackfile 10 2 prune true error response body if error console log failed error else console log upload succeeded i then checked the stack in portainer and checked the services technical details
1 go into portainer container console and login 2 copy command from notepad 3 paste it inside console 4 see error technical details
install docker as vm on vsphere installation using photon os for example install vmware docker volume driver url create a named volume using the vsphere driver start a container using the created volume technical details
steps to reproduce the behavior 1 click on a stack 2 change any parameter or comment out an environment variable 3 click update the stack 4 error during connect get url dial tcp lookup var run docker sock no such host code 500 technical details
see technical details for a docker compose yml technical details
steps to reproduce the behavior 1 rename your primary endpoint to something else 2 deploy a stack 3 see error technical details
steps to reproduce the behavior 1 deploy a docker swarm with multiple managers 2 create a docker compose yml file with the following content version 3 services portainer image portainer portainer latest command h unix var run docker sock ports 9000 9000 volumes var run docker sock var run sock portainer data data deploy mode global placement constraints node role manager volumes data 3 run the command stack deploy c compose yml 4 go to any master node 9000 and try to login technical details
steps to reproduce the behavior 1 go to containers 2 click on a container that has port mappings 3 scroll down to container details 4 see error under port configuration technical details
steps to reproduce the behavior 1 go to advanced network settings for an existing or new docker container 2 add multiple host file entries 3 deploy the container 4 go in and edit the container 5 only the first host file entered is displayed technical details
1 create a model with 2 unique fields i e email and username 2 insert a node where email test test com and username user1 3 query the single node with parameters email test test com and username user2 4 the query returns user1 expected behavior
model graphql type category id id id name string parent category query graphql allcategories categories id name parent name allrootcategories categories where parent not null name parent allsubcategories categories where result json data allcategories drinks null milks drinks allrootcategories drinks null allsubcategories expected behavior
1 run the migration in the main project 2 prisma introspect in main project 3 prisma introspect in some other project which has no previous knowledge of the model database 4 see error expected behavior
1 move your prisma yml and datamodel prisma into a subdirectory subdir 2 prisma deploy p subdir prisma yml 3 see error after successful deploy and client is not generated bash deploy p subdir yml deploying service default to stage default to server local 545ms changes blammo type deleted type blammo applying changes version s couldn find yml file are you in the right directory get in touch if you need help url to get more detailed output run export debug your endpoint is live http url ws ws localhost 4466 you can view edit your data here admin url expected behavior
1 create resolver to update model with a datetime field 2 persist with prisma client 3 observe returned model in mutation resolver updateperson async parent args context const data args data birthdate new date toisostring console log data data const person await context prisma updateperson where id args where id console log person return person log name katy birthdate 2019 05 03t21 16 version z id name katy expected behavior
actually i really don t know because i ve never had this problem before and it has been weeks since i ve run prisma deploy i get back on it today and impossible to make it work tried to upgrade prisma cli downgrade it upgrade my node modules downgrade them upgrade prisma downgrade cry still that same issue of authentication expected behavior
try to deploy the prisma yml in the following repository url expected behavior
standup prisma with a new mysql database see getting started url create a simple type with uuid tagged as id type user uuid uuid id strategy auto name string try to deploy using prisma deploy user x xa8c the field uuid is marked as id must have one of the following types id int expected behavior
1 load up the previous schema into a postgres database 2 run prisma introspect expected behavior
1 write docker compose yml and start prisma with docker compose up without d 2 you will see the output from docker compose 3 open a new terminal don t close old one that is opened at step 1 and 2 and run docker compose stop 4 see the prisma shuts down with code 137 on the terminal used at step 1 and 2 like this go gql sample prisma 1 exited with code 137 this is prisma server db 2019 04 28 03 24 version utc log received smart shutdown request db 2019 04 28 03 24 version utc log background worker logical replication launcher pid 24 exited with exit code db 2019 04 28 03 24 version utc 19 log shutting down db 2019 04 28 03 version utc log database system is shut down go gql sample exited code 0 expected behavior
1 generate a go client using the following schema type example id uuid id createdat datetime createdat updatedat datetime updatedat enumlist platform scalarlist strategy relation enum platform ios android web 2 try to get all the examples back with ios as a platform it should probably be something like this go client example t prisma exampleparams t twhere prisma examplewhereinput t t no enumlist option here exec ctx expected behavior
1 make a database with 2 tables one has a key to the other e g create table adm app tid adm app serial not null t tconstraint adm app pk t t tprimary key ttitle varchar 150 tdescription text ts create timestamp 6 default now ts create user integer ts update user integer ts update timestamp 6 default now create table adm relationship tid relationship serial not null t tconstraint relationship pk tprimary key trelationship name varchar 100 trelationship description text tid app integer tconstraint relationship id fk treferences timestamp 6 default now user integer update user update timestamp 6 default now unique index id uindex ton id 2 prisma init generates type admapp pgtable name id int pgcolumn name unique description string screate datetime pgcolumn name s screateuser int pgcolumn s supdate datetime pgcolumn s supdateuser int s title string usrrelationship usrrelationship usr type admrelationship pgtable int unique idadmapp admapp relationshipdescription string description relationshipname string screate datetime screateuser supdate datetime supdateuser 3 prisma deploy generates errors global could not find the foreign key column idadmapp in the model table expected behavior
i m using this repository to reproduce the error url 1 update category type type category db name category id id id name string posts post relation name posttocategory tags string scalarlist strategy relation 2 run prisma deploy 3 access localhost 4466 to see the docs 4 categorywhereinput don t have any fields related to tags expected behavior
1 go to url 2 choose any query or even create one 3 click on any node 4 in detail area click on delete icon 5 whole page will become empty 6 in console you ll see error that i ve mentioned above expected behavior
1 create a user with posts using prisma createuser 1 validated that the mongodb contains the correct data 1 prisma users does not return the embedded data please see url for a running example expected behavior
try to import your datamodel into your graphql yoga schema graphql expected behavior
1 create a psql table with a date datatype not datetime create table adm framework tid adm framework serial not null t t tprimary key tframework version integer teffective date date tend date ttags text tframework name varchar 30 tid adm app integer ts create timestamp 6 default now ts create user integer ts update user integer ts update timestamp 6 default now tis active boolean 2 a new prisma introspection with prisma init 3 prisma deploy and the server error will appear java lang runtimeexception encountered unknown sql type with column effective introspectedcolumn effective null true expected behavior
1 create a file datamodel prima as following graphql type configuration id id id attachablefiles json 2 run prisma generate 3 the output prisma schema ts as following graphql type configuration id attachablefiles json graphql input set json graphql input configurationcreateinput attachablefiles type attachablefiles json input configurationupdateinput input expected behavior
type consultancy id id id organization organization relation name organizationconsultancy type organization id consultancy consultancy relation link inline name organizationconsultancy expected behavior
try to deploy the following datamodels graphql type user id id id name string test string graphql type user id name string test string scalarlist strategy embedded expected behavior
i have pushed a reproduction on github here url 1 clone 2 prisma generate 3 see error expected behavior
1 globally install of prisma npm i g prisma version beta 2 update datamodel to v version syntax 2 run prisma deploy env file variables env expected behavior
1 create the two models above 2 create a label mutation createlabel data text l text 3 create a blog with the label mutation createblog data title blog 1 labels connect text l title 4 create a blog without the label mutation createblog data title blog 2 title 5 query for the blogs and aggregated count query blogs where labels some text l blogsconnection where labels some l aggregate count output will be data blogs 1 blogsconnection aggregate count 0 expected behavior
1 deploy this datamodel prisma graphql enum option a b c type something id int id options option scalarlist strategy relation 2 create parent with related nodes graphql mutation createsomething data options set a c id options result javascript data createsomething id 1 options expected behavior
datamodel prisma type user id int id username string unique npx prisma deploy now go the playground and create a user mutation createuser data username test id try to create the same user a few times you will get errors because username is already taken create another user called test 2 this will not have id 2 because the users we tried to create earlier raised the even when they did not got created because username was already taken expected behavior
1 generate a self signed cert key and start up a mongo instance docker run p 27018 27017 name mongo rm v pwd etc ssl mongo 4 sslmode requiressl sslpemkeyfile etc ssl mongodb pem v 2 verify connections work to the database with the needed flags set simplest case mongo localhost 27018 ssl 3 attempt to connect to this database using mongodb localhost 27018 ssl true as the connect string with prisma expected behavior
1 perform a count query on a child resource funnel in my case filtered by a parent resource id shop in my case expected behavior
1 define relation with relationship ondelete casacade 2 run prisma deploy expected behavior
here is my data model type post db name osts id id id created at datetime createdat updated at datetime updatedat title string unique content string author user categories category relation name ostcate link inline tags tag relation name osttag link inline type category db name ategories id string unique posts post relation ostcate type tag db ags string unique posts post relation osttag when i using updatepost method i can change the title and content but the connect isn t working updatepost async parent title content cates tags context try const post await context prisma updatepost data title content categories connect cates tags connect tags where return catch err throw err expected behavior
1 deploy a datamodel with one type to prisma backed by mysql on azure 2 make a field required or non required or add a field to the one type in datamodel 3 the deployment will fail with column field already exists alternatively here is a reproduction with workaround url expected behavior
1 create a data model without createdat and or modifiedat 2 run prisma deploy 3 check the database 4 both fields exist the logs show they were added by prisma during deploy expected behavior
type organization id id id consultancy consultancy relation link inline name organizationconsultancy type consultancy id expected behavior
run prisma generate command or through post deploy hook expected behavior
start prisma wired to a mariadb database expected behavior
1 try prisma init on existing mongodb with any database and observe the generated docker file 2 try to use docker compose up d and the server will go into a restart loop with exception in thread main java lang runtimeexception unable to load pri sma config com prisma config invalidconfiguration expected host to be n on empty expected behavior
1 run prisma init and choose existing mongo options you will always get the default datamodel expected behavior
1 run prisma introspect with a mongo db project expected behavior
1 get a simple prisma project up and running 2 in the prisma yml define secret env prisma secret 3 create a env file in your project with the value prisma secret 12345 4 go into any other folder which is not the one with the yml in 5 use deploy p relative path to yml e relative path to env file 6 a a valid environment variable to satisfy declaration warning should appear example
sh prisma init set up a new prisma server or deploy to an existing server use existing database what kind of database do you want to deploy to postgresql does your database contain existing data yes enter database host erick almeida us east 1 rds amazonaws com enter port 5432 enter user erickalmeida enter password hidden name the includes the schema karoo use ssl no please select the schema you want to introspect public introspecting public failed resolve fk constraint usuario idioma fk idioma id sql constraint usuario idioma fk fkey foreign key idioma fk references i18n id match simple on update no action on delete no action expected behavior
1 try to deploy the following datamodel on mysql type user id id id name string zebra uuid 2 try deploy it rolls back expected behavior
1 prisma init test 2 select use existing database with mongodb enter connection uri 3 docker compose up d expected behavior
on the above model execute the following mutation mutation updatefamily data pets deletemany create name rocky type dog name cooper type dog where id id username pets name type expected behavior
in the attached image i have a set of available operations for an image field i want to use set
use in query with empty array expected behavior
1 try prisma delete e your env file 2 see the error expected behavior
1 given the datamodel graphql type user id id unique name string 2 fetch a user that does not exist ts const user await prisma user id 123 there is no with the id 123 3 observe the type of it is expected behavior
1 create a blank mongodb database 2 run prisma init 3 choose use existing database mongodb 4 fill in the connection string 5 see the error expected behavior
1 run prisma introspect 2 select mysql in the kind of database to introspect 3 fill the information to connect to the database host username password port and database to be introspected 4 it will generate the datamodel prisma that has problems described above expected behavior
1 setup an existing postgres with database name shop scheme name public 2 run prisma init and fill out the details screenshot 3 notice that it asks for schema name as the last question but it is not printed in the generated docker compose yml file expected behavior
1 create a data model like so type user id id id name string registeredat datetime createdat 2 then run prisma generate 3 create some resolver where you will utilize a createuser method 3 start the project 4 server will give an error on registeredat field expected behavior
1 create a scalar type json 2 fill it with some object 3 query that document 4 error is thrown expected behavior
run prisma deploy see error deploying service default to stage default to server local error whoops looks like an internal server error search your server logs for request id local data deploy null errors message whoops looks like an internal server error search your logs for request id local path deploy locations line 2 column 9 requestid local status 200 expected behavior
1 make the following prisma yml file yaml specifies the http endpoint of your prisma api endpoint url defines your models each model is mapped to the database as a collection datamodel datamodel prisma 2 run prisma deploy 3 see error expected behavior
use the following datamodel and deploy a prisma instance using it graphql type item id id unique name string description string price float quantity int default value 1 images string run the following and observe the output js const item name some item description some description price version quantity 20 images url url url const id await prisma createitem item images set images const itemindb await prisma id console log itemindb prints url const deleteditem await prisma deleteitem console log deleteditem prints expected behavior
1 create a database with the following schema create table admin users id serial primary key create table customers admin user id integer not null references admin users id id serial primary key 2 running prisma init generates the following schema type adminuser pgtable name admin users int unique customers customer type customer pgtable name customers int unique user adminuser 3 change int to for both types 4 create docker container with docker compose up d 5 running prisma deploy generates the following error errors global could not find the relation table adminusertocustomer 6 this made sense to me since that table doesn t exist in my existing database so i instead tried using pgrelation directive as detailed here url type customer pgtable name customers unique adminuser adminuser pgrelation column user however i then see following error errors global could not find model in database expected behavior
given this simple database schema sql create table user id serial name varchar 10 primary key id create table post id serial title varchar 100 author int coauthor int foreign key author references user id foreign key coauthor references user primary key introspection produces this datamodel graphql type user int unique name string post post post type int unique title string author coauthor with field duplicated in type prisma deploy results in these errors deploying service default to stage default to server local 97ms errors the type has a duplicate fieldname the detection of duplicates is performed case insensitive the relation field must specify a relation directive relation name myrelation the relation field author must specify a directive name myrelation field coauthor must specify a directive myrelation nb missing directive too expected behavior
1 create model e g course 2 create enumeration categories and assign 1 value 3 create categories enum field and allow it having multiple values and is required 4 create an entry that uses the 1 enum value 5 rename enum field to category 6 change enum field from list to non list 7 querying for the following throws the above mentioned error in prisma coursesconnection edges node category typename expected behavior
1 npm install g prisma 2 prisma init important that no project name is specified use the cli wizard to generate the files select demo server choose a region this could be the first place for an error us1 appears to be the endpoint but description includes us2 in file blows up parseendpoint ts it looks for a public end point with either eu1 or us2 in it generated end point from here is us1 not sure what is intended don t create client 3 prisma deploy 4 error is thrown expected behavior
see here url type user id id unique posts post type post id id unique author user expected behavior
1 upgrade existing heroku dyno to version heroku 2 run prisma deploy 3 see error 4 downgrade to version heroku 5 run prisma deploy 6 see successful deploy message expected behavior
1 execute prisma deploy expected behavior
example datamodel prisma type user tid id unique tcredit int default value 0 tcreatedat datetime tupdatedat datetime type call tid id unique tsource user relation name usercalls tguests user relation name usercallsreceived tcreatedat datetime tupdatedat datetime tendedat example prisma yml endpoint url datamodel datamodel prisma generate generator go client output generated prisma client 1 create a new golang project 2 run deploy 3 run generate 4 try to run the following with generated packages imported u getcurrentuser ctx users err prismaclient call callwhereuniqueinput id callid guests guestsparamsexec where userwhereinput id u exec ctx if err nil tlog fatal err treturn expected behavior
1 unzip the schema and deploy a new service on your prisma instance e g core revision 1 core prisma host localhost npx prisma deploy 2 import the export via core revision 1 core prisma host localhost npx import data export zip 3 visit your instance and query products pid variations id vid images 4 inspect the result the first 30 or so products should contain variations with images but all remaining variations and their images property hold an empty list 6 unzip export zip on your local machine 5 inspect ids of variations without
1 use mongodb 2 datamodel graphql type user id id id fullname string times time relation link inline createdat datetime createdat updatedat datetime updatedat type time embedded id hour int minute int 3 e g resolver js async function updateuser parent args context return await context prisma updateuser data args data where args 4 create user and time 5 e g perform a mutation xxx is user yyy is time graphql mutation updateuser xxx data times create hour 10 minute 0 update where yyy data hour 12 minute 30 times hour minute expected behavior
1 create a schema with implicit relations between multiple types that start with lowercase letters 2 run prisma deploy expected behavior
1 start prisma with the following datamodel type person id id unique name string 2 start with the following schema type pageinfo hasnextpage boolean haspreviouspage boolean startcursor string endcursor string type person id id name string type personconnection pageinfo pageinfo edges personedge aggregate aggregateperson personedge node person cursor query personconnection personconnection however export const queryresolvers this returns error cannot return null for non nullable field personconnection aggregate async parent args context info return await prisma personsconnection this works async parent args context info const aggregate await prisma personsconnection aggregate const pageinfo await prisma personsconnection const edges await personsconnection edges return edges expected behavior
1 export 2 import d zip expected behavior
1 install prisma version 2 install mysql version 3 see error in prisma s console expected behavior
1 create datamodel 2 run prisma generate 3 create resolver with ctx area id accesses 4 throws error 5 create resolver with ctx area id accesses 6 all fine expected behavior
1 create local prisma instance with mongo connector 3 set endpoint in prisma yml to url 2 run prisma deploy 3 set endpoint in prisma yml to url 3 run deploy 4 open terminal and run mongo 5 run show dbs 6 see only one created database called project expected behavior
1 create a one to many relationship that is not required on the one side 2 create a relationship with both and one that doesn t have a many relationship expected behavior
1 setup an ubuntu vm version 2 setup nginx as a reverse proxy to redirect traffic to prisma server see config file 3 setup prisma server following the tuto version for mongodb with docker 4 on your local machine create datamodel prisma and prisma yml 5 run deploy expected behavior
my summarized datamodel prisma interface advisemessage code code id type type string error description description string indicates the level of importance of the message posible values error warn info level advisemessagelevel identifier to be able to investigate the cause of the error correlationid id interface node id code code id errors that will lead service to abort advisemessage level advisemessagelevel advisemessage create date createdat datetime update date updatedat datetime enum advisemessagelevel waringn message warn error message info message info type customer implements node customername string errors that will lead service to abort advisemessage level advisemessagelevel create date createdat datetime update date updatedat datetime when i execute prisma deploy i get next prisma deploy deploying service default stage default server local 693ms errors customer field has type but there s no or enum declaration with that name expected behavior
url expected behavior
use method chaining inside a custom resolver get an obscure error see screenshots expected behavior
just run the command prisma generate expected behavior
1 login on cli via prisma login 2 deploy via prisma deploy e env staging 3 prints this error message data addproject null errors locations line 2 column 9 path addproject code 3015 message authentication token is invalid token can t be decoded invalid signature for this token or wrong algorithm requestid alpha curated curated status 200 expected behavior
just try to generate a client from above datamodel expected behavior
1 create a datamodel with a one to many relation field mark the field as required 2 deploy to prisma cloud 3 open prisma playground 4 open type definition for type that contains the one to many relation field expected behavior
i m going to do get started step by step i ll use javascript mysql from the documentation i m following the documentation to the forth step after running docker compose up i d expect a graphql editor to show on container s ip and port but it s loading and loading and loading infinitely expected behavior
1 in the command line run yarn prisma deploy 2 select demo server 3 click grant permission button 4 see error network error unexpected token in json at position 0 in upper right corner expected behavior
1 use prisma init with use existing database option 2 setup postgres 3 check docker logs they will show org postgresql util psqlexception fatal permission denied for database postgres detail user does not have connect privilege or 1 deploy to prisma cloud 2 the server will report as not reachable expected behavior
given a list of users with uuids disconnect from campaign entity ctx prisma updatecampaign data campaignleads disconnect id b76b 4b26 afb9 id 1571c0ec 06dc 4ec7 a5ba where id expected behavior
1 set the prisma endpoint to prisma shfoo com 2 run prisma deploy 3 prisma will crash with the error cannot read property split of undefined expected behavior
datamodel prisma
1 follow all the steps in the documentation 2 here url start the graphql server go run server hello world server server resolver go 68 4 unknown field author in struct literal of type hello world generated prisma client postwhereinput expected behavior
and screenshot image url expected behavior
datamodel prisma
1 edit mongo conf add verbosity 1 yml systemlog destination file path etc mongo mongod log logappend true verbosity 1 2 query from any mongo collections via prisma playground only asking for id field to be returned gql query sometype where id id 3 although prisma returns only id field when we check mongo logs we found in fact prisma queries all fields
1 compose docker along with postgres db setting and run docker container 2 prisma introspect in cli 3 prisma deploy 4 shows error error the provided name account messageboxes receivers is not a valid name for a relation it can only have up to 54 characters and must have the shape a z a za z0 9 expected behavior
1 go to 2 click on 3 scroll down to 4 see error expected behavior
mutation createcompany data name example company admin connect id invalid id id name expected behavior
1 docker compose yml copied from version docs unchanged yml version 3 services prisma image prismagraphql prisma version restart always ports 4466 4466 environment prisma config port 4466 databases default connector mongo uri mongodb prisma mongo mongo image mongo version restart always environment initdb root username initdb root password ports 27017 27017 volumes var lib volumes 2 datamodel graphql a simplified from the docs graphql type user id id id name string posts post relation link inline type post id title string author user 3 check s playground via port 4466 image url in the where condition of the users query only and name related conditions are allowed we cannot query users by posts which makes the new mongodb connector basically useless
create table in postgres with column type json define the datamodel in prisma with type json type table pgtable name table id int unique description string category json run a mutation to create a record postgres throws an error category is of type json but expression is of character varying expected behavior
set this as prisma yml endpoint url self custom name datamodel datamodel graphql secret self custom endpoint secret generate generator typescript client output src generated prisma client generator graphql schema output src generated prisma client custom endpoint secret env prisma endpoint secret name env deployment uid expected behavior
1 use types schema graphql graphql scalar datetime type query post id id post posts post filterposts searchstring string post type mutation createdraft title string content string authoremail string deletepost id id publish type createdat datetime updatedat datetime published boolean title content author user type query user user users user mutation signupuser email name deleteuser email name posts datamodel graphql graphql email unique name posts relation link inline createdat datetime createdat updatedat updatedat published boolean default value false title content author the associated resolver for author of typescript import postresolvers from generated graphqlgen export const postresolvers postresolvers defaultresolvers author args ctx ctx prisma 2 prisma deploy prisma generate graphqlgen 3 signupuser a createdraft then publish it 4 query the posts query name expected behavior
1 clone this repo url 2 create a prisma server and service 3 deploy to heroku 4 visit the heroku endpoint to see if the error is present expected behavior
if i name a type abctype it will produce the following code func instance node abctypeexec however abctypeexec is actually defined as type abctypeexec struct texec prisma exec produces error undefined abctypeexec expected behavior
1 go to set up on a new database tutorial url 2 follow the tutorial and start your prisma server 3 run prisma deploy with version version of the cli it should run successfully 4 upgrade the cli to version 5 run prisma deploy and it will fail with the below console output expected behavior
for this datamodel graphql type participant model user user dietaryrestrictions enumdietaryrestriction enum enumdietaryrestriction diabetic glutenfree highprotein this doesn work with data dietaryrestrictions glutenfree javascript let data args const updateuser await ctx prisma updateuser where id user id data participant update data but it works if you change dietaryrestrictions glutenfree from an array into an object dietaryrestrictions set glutenfree javascript let args make enum list palatable to prisma client set const updateuser await ctx prisma updateuser where id user id participant update expected behavior
1 be logged in to prisma cli 2 have a deployed server protected by a managementapisecret 3 try to perform prisma deploy 4 see error creating stage dev for service heroku database error authentication token is invalid token can t be decoded invalid signature for this token or wrong algorithm data addproject null errors locations line 2 column 9 path addproject code 3015 message authentication token is invalid can t be decoded invalid signature for this or wrong algorithm requestid local management status 200 expected behavior
deploy a schema with required int field then change it to float expected behavior
1 create a resolver calling a connection query 4 see error expected behavior
1 create three different relations and deploy the changes mine are graphql type recipe id id id name string ingredients ingredient relation link inline author author relation link inline createdat datetime createdat type author id name string type ingredient name string 2 run a mutation using the playground mine is graphql mutation createrecipe data name prisma with mongo author create prisma team ingredients create prisma mongo ingredients 3 notice everything is fine now try to do the same using prisma client in my case i m using the typescript client that s how it would look like js import from clientts async const recipe await createrecipe with mongo create team ingredients mongo console log recipe 4 recipe variable contains a object with only and createdat both and are not being returned but they re being added
steps to reproduce see this repo repo url expected behavior
1 add generator graphql schema to your prisma yml 2 run prisma generate expected behavior
datamodel type profile id id username string unique password string generated type type profilewhereuniqueinput struct tid string json id omitempty tusername string json username omitempty invocation userstr test profile profileerr client profile prisma profilewhereuniqueinput username userstr exec ctx output errormessage graphql variable where expected value of type profilewhereuniqueinput but got username test reason field is not defined in the input profilewhereuniqueinput line 1 column 15 query profile where errortype grapherr expected behavior
i haven t been able to create a small reproducible test case expected behavior
1 try replicating the example code 2 generate the prisma bindings 3 try running ctx db subscribe foo mutation in created updated node 4 see error typeerror cannot read property selectionset of undefined at users skainswo dev kumo node api node modules prisma client lib src client ts 316 14 at array reduceright anonymous at client generateselections users skainswo dev kumo node api modules prisma client lib src ts 231 30 at anonymous users skainswo dev kumo api modules prisma lib src ts 138 32 step users skainswo dev kumo api modules lib dist js 47 23 object next dist js 28 53 dist js 22 71 new promise anonymous awaiter dist js 18 12 processinstructions src ts 134 42 message cannot read property selectionset of undefined locations line 2 column 3 path buildevents expected behavior
1 host server on heroku although hosting provider shouldn t matter 2 add the server on app prisma io 3 run prisma init heroku database and select the server while logged in to the same user and defaults note dev stage as used in endpoint below 4 cd heroku database 5 change prisma yml to reference env vars for endpoint and secret 6 create env file heroku env with values for endpoint and secret 5 yarn prisma deploy e env where contains endpoint url secret my secret management api some management yml is datamodel datamodel graphql expected behavior
1 add a post deploy script for prisma generate using version prisma cli on windows 2 run prisma deploy expected behavior
1 create a mismatched relationship like so graphql type author posts post type post note this needs to have an author field like so which is why it breaks author author title string 2 run prisma deploy or prisma generate i forget which one 3 get error message saying expected name but found expected behavior
new installed macos mojave install homebrew install prisma via homebrew install docker ce signed in docker run prisma init abc choose all options throw error expected behavior
use following schema type kintoblock embedded blockid string unique name string versionname string versiontype string buildid commitsha proxyport int protocol protocol type deployment db name deployments id id unique createdat datetime createdat updatedat datetime updatedat deploymentid deploymentname environmentid environmentname kintoblocks kintoblock run prisma generate see generated code is only returning client getone versus getmany type deploymentexec struct texec prisma exec func instance deploymentexec kintoblocks kintoblockexec tret instance exec client getone t tinstance exec t tnil t t 2 kintoblock kintoblocks blockid name versionname versiontype buildid commitsha proxyport treturn kintoblockexec ret expected behavior
1 create a data model type without scalar fields eg graphql type foobar user user 2 run prisma generate yarn prisma generate yarn run v version users sp dev temp prisma bug node modules bin prisma generate generating schema 49ms syntax error expected name found get in touch if you need help url to get more detailed output run export debug error command failed with exit code 1 info visit url for documentation about this command expected behavior
1 deploy this data model graphql type user id id id nick string unique memberships listmembership type list id createdat datetime createdat updatedat datetime updatedat name string memberships listmembership type listmembership user user relation strategy embed list list relation strategy embed 2 execute this mutation graphql mutation createuser createuser data nick marcus memberships create list create name personal inbox nick 3 execute this query query users users nick memberships name expected behavior
1 setup a project with prisma init workflow 1 create a datamodel with type named news 1 run prisma generate expected behavior
in windows powershell mkdir newproject cd newproject prisma init set up a new prisma server or deploy to an existing server demo server choose the region of your demo server info 680cc8 demo eu1 choose a name for your service prisma demo 1 choose a name for your stage dev select the programming language for the generated prisma client don t generate deploy del init set up a new or deploy to an existing choose the region of your info 680cc8 eu1 name for service 2 name stage dev select programming language generated client don t generate deploy list delete 1 expected behavior
1 create a related subscription 2 query using some every or none 3 gives iterator next error 4 the subscription works if used like previous version expected behavior
1 update to version 2 re generate the javascript client 3 try to use prisma updatemany 4 see error expected behavior
1 go to prisma console services 2 the layout of the services table breaks it should at least be horizontally scrollable expected behavior
1 run prisma playground inside the folder that contains the prisma yml 4 see error expected behavior
edit your datamodel prisma to add this type graphql type user tid id unique tcount long run shell prisma deploy then you get the error the field count has the type long but there s no type or enum declaration with that name expected behavior
1 setup a project with prisma init 2 update datamodel to match the above one 3 run prisma generate this generates various deviations as well as an empty input type in this specific case is generated empty since the relation is required and should not be generated at all expected behavior
1 run prisma init new folder 2 see error expected behavior
1 perform any deployment that results in a rollback here is an example that triggers this behavior url expected behavior
1 restore the database db sql url 2 download the github project url 3 open the project in visual code 4 start the docker container docker compose up d 5 deploy prisma prisma deploy 6 open graphql playground url 7 execute mutation mutation creataarticulo txt url 8 open docker browser to display container log 9 look at error as seen in error when executing mutation id menu passes as null so record is not inserted in database expected behavior
0 setup a new project using prisma deploy and generate typescript client
1 deploy a prisma server using the offical docker image version setup like this url 2 deploy a second prisma server with the same db credentials and secret as the first one 3 try to deploy a schema using the second server expected behavior
clone this repo url and follow instructions in the readme md expected behavior
1 create a new project with prisma init 2 paste the following into the datamodel prisma file graphql type a id id unique name string bs b relation name atob ondelete cascade type b id id unique name string 3 deploy this schema via prisma deploy 4 open the playground at localhost 4466 5 create a subscription on type b graphql subscription b mutation node name previousvalues updatedfields 6 in a separate tab create record of type and use nested mutations to create some records of graphql mutation createa data test bs test 1 test 2 7 observe that the subscription shows both s being created 8 issue an updatemany against graphql mutation updatemanybs data test update many count 9 observe that subscription is not fired for each of updates that took place 10 issue deletemany against mutation deletemanybs where contains count 11 observe that is not fired for each of deletes took place expected behavior
1 create a new project with prisma init 2 paste the following into the datamodel prisma file graphql type a id id unique name string bs b relation name atob ondelete cascade type b id id unique name string 3 deploy this schema via prisma deploy 4 open the playground at localhost 4466 5 create a subscription on type b graphql subscription b mutation node name previousvalues updatedfields 6 in a separate tab create record of type and use nested mutations to create some records of graphql mutation createa data test bs test 1 test 2 7 observe that the subscription shows both s being created 8 delete record created earlier graphql mutation deletea where goes here 9 observe that subscription is not fired for each of deletions that took place expected behavior
i create repo with this bug 1 clone git github com 4urbanoff prisma subscriptions bug git 2 run npm i 3 run npm run bug or launch program in vscode debugger 4 open localhost 4000 and run subscription 5 see error expected behavior
1 git clone url in your gopath 2 cd prisma go hackernews2 3 prisma go hackernews2 docker compose up d 4 prisma go hackernews2 cd prisma 5 deploy 6 try to modify the code preferably with a relation like user votes to see the that autocomplete is broken or not expected behavior
run const a await prisma graphql query users id console log a the error will be printed typeerror prisma graphql is not a function the same for prisma request prisma request and graphql to the best of my knowledge it should be graphql expected behavior
1 create an ssl protected postgres database and retrieve key file and cert file e g on cloud google com 2 create dockerfile from prismagraphql prisma version copy client cert crt app client cert crt copy client key key app client key change permissions run chmod 0600 app run chmod 0600 app cert crt set env vars as described here url env pgsslcert crt env pgsslkey 3 set ssl true for prisma config 4 start container expected behavior
1 add a new type like this to your datamodel graphql type test id uuid unique test string 2 deploy 3 run this mutation graphql mutation createtest data test abc id 4 you ll receive an internal server error java sql sqlexception conn incorrect string value xac xed x00 x05sr for column id at row 1 expected behavior
follow the instructions in this repo url expected behavior
run any subscription and will try to use filters for node field after that delete something that not in filter and you will get notify despite of filters expected behavior
1 go to prisma playground 2 run a query like query users users orderby numfollowers desc after null first 3 id numfollowers take id of the last item and run the same query again passing inside the after notice that the returned list is empty expected behavior
1 open git bash 2 run prisma init 3 press down arrow 4 see that nothing happens expected behavior
query listmyentity skip 0 first 20 aggregate count count result is at most 20 even if i have elements expected behavior
type access implements node id id unique user user type user implements node id id unique expected behavior
prisma init myproj set up a new prisma server or deploy to an existing server use existing database what kind of database do you want to deploy to mysql does your database contain existing data no enter database host version enter port 3306 enter user root enter password connecting to error could not connect connection terminated unexpectedly at endpointdialog anonymous usr local lib node modules prisma node modules prisma cli core src utils endpointdialog ts 271 17 at step usr local lib node modules node modules cli core dist utils endpointdialog js 40 23 at object throw usr local lib cli core dist utils endpointdialog js 21 53 at rejected usr local lib cli core dist utils js 13 65 anonymous process tickdomaincallback internal process next tick js 228 7 exiting with code 1 note that it doesn t prompt me for a schema in my mysql before crashing also note that i have validated my mysql server is running locally and is accessable using the credentials shown i also have looked through the output printed after setting export debug but i didn t immediately see anything expected behavior
1 include in your datamodel prisma and schema graphl a type that takes consist of an id and string like so datamodel prisma type permission id id unique title string schema graphql type permission id title string 2 create some entries via mutations in the graphql playground 3 change the type to use an enum instead of a string for the title like so datamodel prisma permission unique title permissionenum schema graphql permission permissionenum 4 run prisma deploy force expected behavior
1 deploy the datamodel 1 the generated type of multiple field in this case todoes on query is promise array todonode this type does not extend fragmentable expected behavior
1 install prisma 2 setup the config as posted above 3 execute prisma generate 4 see error generating schema 32ms syntaxerror expected 1478 152 1476 1477 1478 export const prisma makeprismaclientclass clientconstructor prisma typedefs endpoint url process env core host 4466 core v env core revision 1479 export const new expected behavior
1 prisma init choose new database with postgres 2 create a schema for a table 3 prisma deploy 4 run a subscription query 5 insert a row to the database via psql console expected behavior
1 try db exists user passing a non existing user id expected behavior
1 open chrome go to url 2 right click web page translation 3 click on second sections change datamodel 4 see error expected behavior
i create repo with this bug 1 clone git github com 4urbanoff prisma enum bug git 2 run npm i 3 run npm run bug or launch program in vscode debugger 4 see error expected behavior
1 deploy the above datamodel expected behavior
1 npm install prisma beta 2 prisma init abc follow wizard to create new docker compose yml for local mysql 3 cd abc 4 replace docker compose yml with diff version 3 services prisma image prismagraphql prisma version beta restart always ports 4466 4466 environment config port 4466 uncomment the next line and provide the env var management api secret my secret to activate cluster security managementapisecret my secret databases default connector mysql host mysql port 3307 user root password migrations true rawaccess true mysql image version restart always environment root password ports 3307 3306 volumes var lib volumes run docker compose up d periodically run docker ps and check the status of the container it ll restart every 10 seconds and crash image url expected behavior
1 deploy prisma with a managementapisecret ex my secret 42 2 go to the playground 3 add an authorization header with a jwt with the following payload grants target action iat exp source url 4 run the following query listprojects name stage 5 see the following error data null errors locations line 2 column 3 path listprojects code 3015 message authentication token is invalid contained invalid grant vector requestid local management expected behavior
schema graphql type story id type userspace id stories story relation name storiesbyuserspace ondelete set null expected behavior
please follow url expected behavior
please follow url expected behavior
1 go to part 2 step 5 2 node index js expected behavior
1 go to url 2 click on get started 3 go through the guide with a new database 3 when you are finished with page 3 try to run the application node index js in the terminal 4 see error expected behavior
1 deploy this schema graphql type user id id unique createdat datetime updatedat datetime username string unique password string 2 create user from mutation 3 add more fields to schema graphql type user id id unique createdat datetime updatedat datetime username string unique password string post post type post createdat updatedat content 4 now post fields in old user will be null but we want to migrate old data to have type graphql mutation migration 01 updatemanyusers where null data create content hello world count expected behavior
1 init a prisma instance selecting the docker local installation option with postgresql as database 2 deploy this datamodel user university career datamodel url js type user id id unique name string interestedin university type university id id unique name string careers career type career unique name string 3 load this data example data url 4 try to get all the users with all the universities they are interested in but only including the first 10 careers for those universities js query users name interestedin careers first 10 expected behavior
this assumes that there is a hidden step in which the db is populated with tables using another prisma service so that migrations false has a fresh db deployed with migrations true to look at left it out to reduce complexity 1 setup docker compose yml with the following basic services version 3 services database image postgres version restart always ports 5432 5432 networks dev environment postgres user postgres postgres password prisma prisma image prismagraphql prisma version restart always depends on database networks dev ports 4466 4466 environment config port 4466 managementapisecret my api secret databases default connector active true host database port 5432 user password migrations false networks dev driver bridge volumes queue persistence 2 setup a model such as type exampletype id id unique createdat datetime updatedat datetime firstlist string secondlist string 3 start your docker setup and run deploy with the proper environment variables 4 you should see an error errors exampletype the scalar field firstlist has wrong format string possible formats string scalar field secondlist has wrong format possible formats expected behavior
datamodel graphql graphql type foo id id unique bars bar type bar id id unique quantity int query causing internal server error graphql mutation createfoo data bars create quantity 1 quantity 2 bars first 1 orderby createdat desc quantity whoops graphql data createfoo bars null errors message whoops looks like an internal server error search your server logs for request local api path createfoo locations line 4 column 5 requestid local api expected behavior
create a datamodel type a field int type b field int a a type c field int the generated type aupdateone will have no disconnect field create datamodel int b c the generated aupdateone will have disconnect expected behavior
1 do not start prisma container 2 run prisma deploy force and check we get could not connect to server at 3 check exitcode with echo it is 0 instead of 1 expected behavior
schema type item model id id unique year int revisions itemrevision relation name itemrevisions ondelete cascade type itemrevision model id id unique item item relation name itemrevisions createdat datetime name string organization string description string editreason string query that triggers the issue query items revisions orderby createdat desc first 1 name organization typename typename query that works as expected query items revisions orderby createdat desc first 1 createdat organization typename typename expected behavior
image 2018 09 07 at 3 26 25 pm url image 2018 09 07 at 3 26 51 pm url expected behavior
1 open the playground with firefox 2 write an errorsome query 3 point the pointer to the error 4 see error expected behavior
1 run prisma export on the source server 2 run prisma import on the destination server expected behavior
schema graphql type deployment id id unique site site relation name sitedeployments files deploymentartifact relation name deploymentallfiles children deploymentartifact relation name deploymentrootchildfiles type deploymentartifact id id unique children deploymentartifact deploy deployment relation name deploymentallfiles type auth unique sites site siteauths type site unique deployments deployment sitedeployments ondelete cascade auths auth siteauths query does not work graphql query deploymentartifacts where deploy auths some query does work graphql query deploymentartifacts where deploy this is making the work auths some expected behavior
1 create a datamodel graphql like this graphql type book id id unique title string author string 2 deploy to prisma server with prisma deploy 3 run schema intropspection and search for book with graphql cli graphql get schema endpoint url console grep books then we can read type query books where bookwhereinput orderby bookorderbyinput skip int after string before string first int last int book expected behavior
1 create a prisma service with an all caps type 2 deploy the service 3 see generated prisma queries and subscriptions expected behavior
run a query on the playground using fragments with two different shapes of a child type assuming the types type sector t tid t tname t tcode t ttype entrepreneur tid id tname string tsectors sector run a query with fragments query entrepreneurs first 1 id name sectors id code sectorcard fragment sectorcard on entrepreneur tsectors tname expected behavior
1 deploy a new prisma service 2 run prisma playground expected behavior
url this is my model shop owner one to one owner fruit one to many fruit color one to type shop id id unique owner owner type id id unique shop shop favoritefruits fruit type fruit unique color color type color unique 1 url 2 shops where favoritefruits some any expected behavior
1 setup prisma version with latest postgresql database 2 schema graphql type session id id unique taskgroups taskgroup relation name taskgroupsforsession ondelete cascade type taskgroup id id unique session session relation name taskgroupsforsession tasks task relation name tasksfortaskgroups ondelete cascade type task unique taskgroup taskgroup relation name tasksfortaskgroups template template templatefortask ondelete cascade type template unique task task templatefortask 3 seed with some data 4 query this works graphql query templates where abc but this doesn t graphql query templates where session xyz expected behavior
data schema gql type post id id unique status status type status id id unique slug string unique posts post in status i have some data with slugs like publish draft removed query gql posts where type slug in draft remove slug return data gql data posts slug publish publish publish expected behavior
implement the resolvers in index js as below subscription userchanges subscribe args context info console log checkcheck return context prisma subscription user where mutation in created updated deleted info taskchanges subscribe args context info return context prisma subscription task info run the server and open playground in the browser create a subscription to userchanges like below tuserchanges node t name run the on app make a mutation to add then make a mutation to update and finally make a mutation to delete create user like below for prsima api tuser where in created node t t tid name run on prsima api make add then update and finally delete expected behavior
1 update from prisma version to version have a query like this js const article await ctx db request query variables if article throw new error article not found with prisma version everything worked fine now you have to do js const data await ctx db request query variables const article data if throw new error not found expected behavior
1 start out with this datamodel graphql type user id id unique isadmin boolean 2 now deploy this datamodel diff type user id id unique isadmin boolean isadmin boolean 3 get internal server error find this in the logs org postgresql util psqlexception error column user isadmin does not exist hint perhaps you meant to reference the column user position 68 at org postgresql core v3 queryexecutorimpl receiveerrorresponse queryex ecutorimpl java 2433 at org postgresql core v3 queryexecutorimpl processresults queryexecutor impl java 2178 at org postgresql core v3 queryexecutorimpl execute queryexecutorimpl ja va 306 at jdbc pgstatement executeinternal pgstatement java 441 expected behavior
i ve extracted a self contained test case with instructions here url image url graphql query titles id rating ispopular meta releaseyear querying meta and rating at once will break things expected behavior
create subscription with datetime previousvalues definition expected behavior
1 deploy this datamodel graphql type category id id unique slug string unique type project id id unique slug string unique category category relation name category 2 deploy this datamodel diff type slug string projects project relation name category2 type project slug string relation name relation name category2 3 the deployment is stuck sh deploying service r 2796 to stage dev2 to server local 104ms changes created field projects of project updated field deleted between undefined and undefined category2 created between and applying changes 19 5 expected behavior
1 do a prisma init and set up a new mysql instance as normal 2 in the generated datamodel graphql change the default id field declaration to uuid unique 3 run prisma migrate to deploy the schema 4 run prisma playground and attempt to use a mutation query to create a new user expected behavior
setup a prisma cloud service then load the data browser for a type expected behavior
1 create prisma server using the create server flow in app prisma sh 2 create your prod env file 3 try to deploy to this server and you will receive an error expected behavior
1 create and deploy type type y id uuid unique value int 2 create a few nodes of type y my result data ies id a0c6 4b30 861d value 3 id 41c597fe 2c78 4af6 bd8f value 5 id 6bc1691c fa91 49fa 982d value 1 eb1743e9 d0a5 4123 8142 4 e962 488e 9c32 2 3 create query e g in playground query gety after string before string first int orderby yorderbyinput ies after after before before first first orderby orderby 4 send gety with variables first 1 results as expected data ies a0c6 4b30 861d 3 5 send gety with variables 1 after a0c6 4b30 861d results in error data null errors message whoops looks like an internal server error search your server logs for request local api path ies locations line 2 column 3 requestid local api 6 send gety with variables before eb1743e9 d0a5 4123 8142 results in the same error as in 5 expected behavior
1 clone url 2 run docker compose up d 3 run prisma deploy expected behavior
1 follow the steps in the prisma docs url example to set a prisma secret then generate a token using prisma token 2 client side use window fetch to access the server be sure to include authorization bearer token in the header javascript window fetch server url headers authorization bearer token method post mode cors body json stringify query api variables 3 run code so that gets sent to server and you get a response 4 re run code but this time without authorization bearer javascript window fetch server url method post mode cors body json stringify query api variables expected behavior
1 init prisma 2 create relationship with uuid model type user id uuid unique name string posts post type post id uuid unique body string author user 4 start container and deploy 5 try to find posts by author query id id posts where author body author image url the same query with the default works well expected behavior
create a user schema and make sure where fields use unique type user id id unique username string unique email string unique password string name string facebookuserid googleuserid createdat datetime updatedat datetime posts post listings listing relation name listingsbyuser ondelete cascade try calling within a mutation async facebooklogin parent appid token redirecturl ctx const facebooksecret xxxxxxxx const fields id name email first name last birthday locale gender picture const accessendpoint url appid redirect uri redirecturl client secret facebooksecret code token const userendpoint url fields try getaccesstoken await axios get accessendpoint access token await getaccesstoken data data await axios get userendpoint access token access console log data data id email await user ctx db query user where or facebookuserid email the rest expected behavior
1 subscribe to deleted and be sure to query previousvalues with the id field graphql subscription user previousvalues id 2 delete an entry to trigger subscription expected behavior
1 create files prisma init selecting existing postgresql database during prisma init creates prisma yml datamodel graphql and docker compose yml prisma yml endpoint url datamodel datamodel graphql datamodel graphql type manager keyword pgtable name manager keyword id int unique geo string keyword string docker compose yml version 3 services image prismagraphql version restart always ports 4466 4466 environment config port 4466 databases default connector postgres host rds amazonaws com port 5432 database
1 clone the repo from here url 2 install dependencies and launch server playground bash npm install npm run dev 3 run the following query in playground graphql query users where id orderby id desc id 4 returns an error error errors message null requestid eu1 api expected behavior
1 it is reproduced in the snapshot url l81 of the tests for introspection expected behavior
1 create a new project prisma init subscriptions 1 demo server also tried create new database with local postgres 2 hosted on eu west 1 also tried us west 2 2 cd subscriptions prisma deploy 3 open playground 4 start the subscription 5 perform the mutation subscription subscription s user mutation node id name mutation mutation m createuser data name dale cooper id name expected behavior
this is my schema graphql type user id id unique follower user relation name userfollow following user relation name userfollow first connect x y and x z graphql mutation updateuser data following connect id y id z where x then disconnect x y graphql mutation updateuser data follower disconnect where y this is what is got from mysql log sql delete from test dev userfollow where test dev userfollow b so it deletes all relations that is following expected behavior
i created a repository containing a simple demonstration of this bug which you can clone run and verify this issue against the queries in queries txt are meant to be run in the graphql playground it is located here url expected behavior
1 create a schema with the initial state and do a prisma deploy 2 update the schema with new order schema 3 it should stall on prisma deploy expected behavior
1 clone the repo prisma boilerplate url 2 run the prisma deploy 3 prisma will stuck on the apply changes expected behavior
1 go to 2 click on 3 scroll down to 4 see error expected behavior
use a pagination filter first or last with value 1 expected behavior
1 inititiate a prisma service with the stated docker yml and prisma yml code 2 install the needed dependencies 3 go the directory with the docker compose yml file and run docker compose up expected behavior
the following datamodel graphql excerpt was generated from an existing postgres database it is however not valid upon attempting to run prisma deploy type account pgtable name account id id unique default value uuid generate v4 expected behavior
1 type prisma introspect 2 type schema name when prompted enter name of existing schema 3 error the provided database doesn t contain any tables please provide another database expected behavior
1 go to your prisma yml file and add a server side subscription url prisma yml 2 do prisma deploy and try to invoke your subscription 3 console log the headers on the webhook and you will see that the ones you added to the configuration file are not being sent expected behavior
1 deploy any prisma service on heroku url 2 run prisma seed expected behavior
1 npm install prisma version beta 0 g 2 prisma init 3 choose create new database 4 docker compose up d 5 use the above datamodel and prisma deploy output applying changes 0 33 client sending query to cluster local 6ms client url 0ms client query name string stage string client migrationstatus name name stage stage projectid revision status applied rolledback errors 0ms stage test name r uuid deploy 0ms migrationstatus rolledback 0 applied 0 projectid r uuid deploy test errors revision 2 status in progress 81ms sending query to cluster local 504ms url 0ms query string string migrationstatus projectid revision status applied rolledback errors test r uuid deploy migrationstatus rolledback applied projectid r uuid test errors revision 1 status success 35ms sending to cluster local 502ms url 1 success 38ms sending to cluster local 501ms url expected behavior
i will provide a reproduction soon expected behavior
1 on an older prisma version e g version create a node with scalar list values delete that node afterwards 2 export from this version 3 import it into a recent prisma version e g 4 the import will crash because the export contains the scalar list values for the node that has been deleted expected behavior
1 setup prisma server with postgresql connector 2 schema type user id id unique createdat datetime courses course relation name coursesforuser ondelete cascade type course id id unique createdat datetime colors string tools string user user relation name coursesforuser 3 create data with an instance of course having colors and tools field set to a non empty
1 run prisma init and choose to deploy to a demo server 2 run prisma deploy 3 the deploy fails with an error because no workspace slug is included in the url in the prisma yml the provided endpoint url points to a demo cluster but is missing workspace slug a valid demo endpoint looks like this expected behavior
the following schema generates the error type must define one or more fields graphql type mydatatype fields onerelations myrelationtype relation name relationone tworelations myrelationtype relation name relationtwo type myrelationtype one item relation name relationone two item relation name relationtwo expected behavior
1 prisma yml datamodel d graphql 2 a valid datamodel graphql 3 run prisma deploy and fill it with the following img width 1230 alt screen shot 2018 06 29 at 2 27 52 pm src url 4 prisma yml will have endpoint url because the defaults are missing 5 running prisma deploy again works as defaults kick in but the appended url is incorrect expected behavior
1 set up a new prisma api with this datamodel graphql type family id id unique createdat datetime updatedat datetime oldid string accommodationoptions accommodationoption type accommodationoption id id unique createdat datetime updatedat datetime price float 2 run prisma deploy 3 navigate to the endpoint and in the playground schema search for magical image url you ll find 3 types magicalbackrelation every magicalbackrelation some magicalbackrelation none they are exposed in the type familywhereinput expected behavior
datamodel graphql graphql type affiliatecampaign model core id t tid unique createdat tdatetime updatedat tdatetime fields account taccount relation name campaignsforeachaccount campaignid tstring unique destination tjson name t tstring change the destination field from json to json and then prisma deploy to prisma cloud the response indicated that the field destination had been set to not required however a create mutation still produces an error for example graphql mutation affiliatecampaigncreate accountid name 2018 summer promotion campaignid error message variable data got invalid value account connect accountid campaignid name 2018 summer promotion field value destination of required type json was not provided here the resolver in case helpful javascript const crypto require crypto const affiliatecampaigncreate async parent accountid ctx info return await ctx db mutation createaffiliatecampaign data account connect t accountid campaignid crypto randombytes 5 tostring hex module exports affiliatecampaigncreate and schema graphql affiliatecampaigncreate string string affiliatecampaign expected behavior
0 have a prisma server running on port 4466 1 use this prisma yml endpoint url stage dev service test 2 run prisma deploy you ll get this output creating stage dev for service test deploying service test to stage dev to server local 186ms expected behavior
1 update prisma image in docker compose yml to version 2 update prisma cli to latest version 3 run prisma deploy 4 see error expected behavior
run black on the following snippet foo list of values it results in the following output foo list of values so it left the trailing comma at the end of list expected behavior
1 create a file with this python code exclude because before exclude trips before is not none and trip stop time get time timestamp current time float exclude trips before 2 run black on it with no arguments 3 observe that nothing happens even though the first line has 125 characters and so should be reformatted expected behavior
1 run black on url l340 2 this produces the following diff a aioitertools itertools py b aioitertools itertools py 340 7 340 7 async def islice itr anyiterable t args optional int asynciterator t if not args raise valueerror must pass stop index if len args 1 stop args stop elif len 2 start stop type ignore elif len 3 expected behavior
steps to reproduce the behavior 1 take this file python x0c note form feed character on previous line print hello black issue tracker x0c note form feed character on previous line 2 run black on it with no arguments 3 observe that black has eaten our innocent formfeeds expected behavior
1 install black in pycharm project 1 run black on it with path as an argument 3 wait forever looking at clean console expected behavior
steps to reproduce the behavior 1 run my code in windows and linux 2 compare this time
import torch dev torch device cuda torch manual seed 0 random ix torch randint high 10 size 256 3 7 embedding layer nn embedding 10 5 padding idx 0 embedding layer to dev random ix random ix to dev embeds embedding layer random ix merged sum embeds dim 2 summed merged sum summed backward print layer weight grad 0 which outputs tensor 505 505 505 505 device cuda 0
steps to reproduce the behavior python d concatdataset somedataset i for i in range n
python a b c na a 0
import gc import numpy as np import torch import torch nn as nn class mymodel nn module def init self embeddings super mymodel self init self embeddings nn modulelist for embedding in embeddings embedding torch as tensor embedding embedding from pretrained freeze true self embeddings append device cuda np zeros 1000 3 model mymodel try model model to device except runtimeerror cuda out of memory print gpu memory overflow use cpu instead del model gc collect torch cuda empty cache
python two torch tensor version dtype torch float32 half torch tensor version dtype torch float32 crop size as tensor self crop size dtype float32 top target height crop size two half floor left target width crop size two half floor capture url div s constant should be float32
import torch import time import threading import torchvision def create tensor index print create model format index resnet50 torchvision models resnet50 pretrained true del resnet50 def create tensor thread index x threading thread target create tensor args index x start x join def run use threading false for in range 5 if use threading memory leak observed tensor thread else no memory leak observed time sleep 5 run true
i have a simple example to illustrate we e in the probability domain or rather the logprob domain so this is the straightforward approximation of probabilities using a softmax on top of a linear layer or rather a logsoftmax import torch import torch nn as nn import torch nn functional as f encoder nn linear 1 2 bias false init zeros encoder weight data fabricate some one hot encoded data of batch size 1 good enough input torch ones 1 1 as i said i have the sum of gradients or rather difference really below i l show gradients linear layer weights after backpropagating first difference then summands themselves separately logits encoder forward input norm logsumexp logits dim keepdim true this is sum producing strange gradients logits norm sum backward print encoder weight grad init zeros weight grad data logits forward input sum backward print weight grad init zeros grad data forward input norm logsumexp dim keepdim true norm backward print this prints in order annotated tensor 0 0 tensor tensor version version
python def forward self xy height width xy shape 2 xy shape 3 when tracing for onnx export this is tensor if not isinstance height torch tensor height width torch tensor height torch tensor width i torch arange width dtype float32 j arange dtype float32
steps to reproduce the behavior 1 training a fairly large network while almost using all gpu memory 32gb on a tesla v100 1 the dataloader is rendering using opengl and then returning cpu tensors
steps to reproduce the behavior x torch ones 32 2048 8 8 device cuda 0 conv nn convtranspose2d 2048 512 kernel size 4 4 stride 2 2 padding 1 1 conv conv to x device print after forward torch cuda max memory allocated
steps to reproduce the behavior 1 install pikepdf url i used pip 2 install pytorch cpu i used conda 3 run import torch import pikepdf segmentation fault core dumped or import pikepdf import torch segmentation fault core dumped
step to reproduce the behavior 1 run the jenkins pytorch build sh script on ppc64le platform as one example resulting output snippet echo pytorch build statistics pytorch build statistics sccache show stats jenkins pytorch build sh line 182 sccache command not found cleanup
get an error like error type tensor bool of input parameter 253 of operator gather in node is invali
i could not used boolean indexing and tried masked select but got this error python idx conf thresh filtered bbs bbs masked select idx
import torch import torch nn modules loss as l class customcrossentropyloss l loss def init self reduction true super customcrossentropyloss self init self reduction reduction def forward self inp target input target inp gather 1 target view 1 1 input max inp max dim 1 keepdim true output exp torch exp inp input max output softmax sum output exp sum dim output input target torch log softmax sum view max if reduction mean return ce nn crossentropyloss none custom ce customcrossentropyloss false batch size 128 n class 90000 logits randn batch size n class targets randint n class batch size print ce logits targets view custom ce logits targets view mean
just type torch tensor 540 version steps to reproduce the behavior 1 import torch 2 torch tensor 540 version
steps to reproduce the behavior python torch jit script def image pool crop new h new w resized interpolate crop int new h int new w mode bilinear or python torch jit script def image pool crop h w resized interpolate crop int h int w
python a b c na a 91 return registry domain version opname keyerror u bitwise not
uncomment to see the bug python import torch from typing import dict tuple list torch jit script def foo v dict int int k int if k in v return true else return false torch jit script def foo1 v list int k if k in v return true else return false torch jit script def foo2 tuple if in true else false def python if in true else false name main a 1 2 3 4 5 6 b 3 print python a b
steps to reproduce the behavior 1 torch jit script module model1 torch jit load model1 pt 2 torch jit script module model2 torch jit load model2 pt model1 pt same as model2 pt
steps to reproduce the behavior 1 use torch finfo torch float32 eps in an expression in a forward function 1 tag forward with torch jit script 1 run model class foo torch autograd function jit script in script fn c jit script compile qualified name ast rcb get default args obj runtimeerror unknown builtin op aten finfo here are some suggestions aten find the original call is bar clamp bar min finfo float32 eps here
steps to reproduce the behavior 1 use example from docs help torch rfft 2 test torch rfft on pytorch version and version return same segfaults info 3 test torch fft with cpu and gpu everything is fine x torch randn 5 5 rfft x cuda 2 shape size 5 3 2 rfft x 2 shape segmentation fault core dumped
python import torch torch jit script class foo object def init self value torch tensor self value value def getitem self item torch tensor updated value self item return foo updated jit script def bar v foo index tensor return v index if name main a tensor 0 1 2 3 4 5 slice index 0 2 5 b foo a b slice b slice index this one works print b slice print bar this one does not work with jit script
steps to reproduce the behavior include this in a jit script python torch jit script def smt pred confs child offsets maxval argmax confs max 0 idx child argmax offsets 0 the indexing results in exception
steps to reproduce the behavior 1 create virtual environment python m venv xxx and activate it 1 install pytorch as prescribed pip install url 1 install torchvision as prescribed pip install torchvision 1 start python interactive console python followed by command import torchvision the result is below python version v version 6ec5cf24b7 oct 20 2018 13 35 33 msc v 1900 64 bit amd64 on win32 type help copyright credits or license for more information import torchvision traceback most recent call last file stdin line in module file c work ml xxx lib site packages init py line in module from import models file c work ml xxx lib site packages models init py line 11 in module from import detection file c work ml xxx lib site packages models detection init py line in module from faster rcnn c work ml lib site packages models detection faster rcnn py 7 from ops misc as misc nn ops ops init boxes nms box iou ops boxes 2 importerror dll load failed the specified could not be found
steps to reproduce the behavior 1 we can reuse the test case at url l115 l127 and only change cpp auto data torch jit pickle float value tensor table to cpp auto data torch jit pickle float value 2 it would be better if we can test with more complex cases for example cpp test of list of tensors c10 list torch tensor list vector torch tensor tensor table list push back rand 2 3 push back rand 3 2 auto data jit pickle table c10 ivalue deserialized jit unpickle data size or cpp elements dict string dict string 1x1 2x1 c10 impl genericlist inputs static cast c10 impl genericlist impl deprecateduntypedlist dict string idict1 idict1 insert key1 ones 1 idict1 insert key2 ones 2 dict string idict2 idict2 insert key3 rand 3 3 idict2 insert key4 rand 4 4 icomplex icomplex push back idict1 icomplex push back idict2 ivalue tensora ones 1 ivalue tensorb zeros 1 inputs icomplex inputs tensora inputs tensorb vector char pickle ivalue deserialized unpickle size
steps to reproduce the behavior 1 1 1
steps to reproduce the behavior invoke operator on torch nn sequential
inside a torch jit script python for h in range height for w in range width while len p stack text 588 new node new op outputs 0 node if n outputssize 1 else new op outputs node 589 for b in n blocks 590 new block node addblock attributeerror tuple object has no attribute i printed op outputs and it is it is empty
steps to reproduce the behavior run this script python torch jit script def smt pred confs child child sizes group offsets threshold obj height width b a type list tensor list tensor list tensor list int tensor int int int tuple size child sizes 0 1 ch child 0 1 for sg in range size pass text runtimeerror isint internal assert failed at pytorch aten src aten core ivalue h 187 please report a bug to pytorch the above operation failed in interpreter with the following stack trace for sg in range size here even if i change it to python for sg in range size pass i get the same assertion about isint
add something like this to test c10d py python def test demonstrate pytest problem self 10 0 run python test run test py v pt i c10d and get c10d py processgroupglootest demonstrate pytest problem passed 30 now run python run py v i c10d and get as expected traceback most recent call last file home justin anaconda3 envs torch lib python version multiprocessing process line 297 in bootstrap self file home justin anaconda3 envs torch lib version multiprocessing process line 99 in self target self args kwargs file home justin pytorch common distributed line 140 in getattr id split 2 file home justin pytorch common distributed line 103 in wrapper fn 743 demonstrate pytest problem 10 0
print torch version class dummymodel nn module def init self super init self embedd nn embeddingbag 500 12 def forward self x user user self embedd x user return user a dummymodel batch size 10 from torch onnx import operatorexporttypes q np random randint 0 7 size batch size 5 astype np int64 onnx torch export a torch from numpy q model onnx input names inp output names out dynamic axes inp 0 batch size out 0 batch verbose false opset version 9 import onnx model load model print checker check model rep backend prepare device cpu 100 q np random randint 0 7 5 astype np int64 a rep run q print a out shape version cpu none 10 12
steps to reproduce the behavior run this code to reproduce in a c console tauto t1 torch rand 2 2 tauto t2 torch rand 2 2 tt1 t1 to torch kcuda tt2 t2 to torch kcuda tauto t3 cat t1 t2 tcout t3 you will observe a c memory exception in static inline tensor cat tensorlist tensors int64 t dim around globalatendispatch
python import torch class somemodel torch jit scriptmodule def init self super somemodel self init torch jit script method def forward self type dict str torch tensor zeros out zeros 5 set the value of an element out 2 5 wrap the tensor in a dict and return return output out changing this to out clone fixes it if name main model somemodel tensor 0 0 0 0 print model output
run the model separately in a thread per device config
steps to reproduce the behavior 1 on macos install pytorch using sudo pip3 install torch or pip3 install torch user 2 open a prompt and run python3 import torch torch fft randn 3 12 12 2 2 you ll get runtimeerror fft aten not compiled with mkl support
steps to reproduce the behavior i have a jit script that accepts some lists python torch jit script def smt pred confs child group offsets threshold obj height width b a type list tensor list list list int int tensor tensor int int tuple tensor when exporting it to onnx i get the error runtimeerror tracer cannot get value trace for type genericlist the below value could not be materialized as a constant 1 2 3 4 5
steps to reproduce the behavior python torch jit script def smt pred confs child threshold obj height width a type tuple tensor list list int tensor tensor int int int tuple tensor results in runtimeerror smt pred expected a value of type tuple for argument confs but instead found type tuple but if i change to list and pass list confs instead it works so this is an issue specific to in python2
libtorch version cuda10 win10 vs2015 win64 steps to reproduce the behavior please refer to the test code url open gpu z to inspect the gpu memory
below we have two processes the learner process passes an lstm s state dict to the actor process via a queue python import os from torch import nn from torch multiprocessing import queue process set start method from time import sleep from copy deepcopy def actor queue print f actor started on pid os getpid while true if not queue empty get print actor stepped sleep 01 def learner print f learner started on pid os getpid net nn lstm 1 1 cuda while true if not full put deepcopy net state dict print learner stepped sleep 01 def run 1 processes dict a process target args l target args for p in processes values p start for p in processes values p join if name main set start method spawn run when run the and will each loop a few times an then the will hang output will be something like started on pid 1193 started on pid 1192 stepped stepped
steps to reproduce the behavior the attached project feeds randomly generated data into the jit the sequence length is different each time 1 use a linux machine or edit memory use code to work with your os 1 unzip package torch v version must be accessible to cmake 1 compile and run main cpp through cmake 1 observe how memory usage increases rapidly with each iteration 0 version gb 1gb 2 version gb 3 version gb
minimal example python import torch torch manual seed 1234 mat a torch rand 65536 8 64 cuda mat b torch rand 65536 64 8 cuda mat a half mat a half b half b half res bmm a b res bmm print res 65534 0 print res 65534 0 print 80 print 65535 0 65535 0 assert allclose float atol 1e 1 in my case the output is tensor version version version version device cuda tensor device cuda dtype float16 tensor device tensor device dtype float16 traceback most recent call last file test py line 20 in module assert allclose float atol 1e 1 assertionerror note that the incorrect entries were not always zero in all my tests
steps to reproduce the behavior 1 use any dumped tensor from url 2 load and save data in uint8 then try to load it back import torch data torch load e15 s1 08 pt torch save data type torch uint8 e15 s1 08 test pt data load e15 s1 08 test pt 3 traceback traceback most recent call last file ipython input 12 line 1 in module runfile documents workspace loadissue loadtest py wdir documents workspace loadissue file appdata local continuum anaconda3 envs p36 dev lib site packages spyder kernels customize spydercustomize py line 827 in runfile execfile filename namespace file appdata local continuum anaconda3 envs p36 dev lib site packages spyder kernels customize spydercustomize py line 110 in execfile exec compile f read filename exec namespace file documents workspace loadissue loadtest py line 18 module e15 s1 08 test pt appdata local continuum anaconda3 envs p36 dev lib site packages serialization 386 return f map location pickle module pickle args appdata local continuum anaconda3 envs p36 dev lib site packages serialization 559 raise runtimeerror is a zip archive did you mean to use jit format f name runtimeerror test is a zip archive did you mean to use jit
steps to reproduce the behavior python t torch tensor range 5 mask np array false true true false true print t mask astype np bool print t mask astype np uint8 output bash tensor 0 1 1 0 1 tensor 1 2 4
steps to reproduce the behavior 1 url
import torch y torch randn 4 5 pred torch randn 4 5 weights torch rand 4 crit nn bcewithlogitsloss weight weights crit pred y leads to runtimeerror traceback most recent call last ipython input 14 5fdd39d2ae8b in module 4 weights rand 5 crit nn bcewithlogitsloss weight weights 6 crit pred y runtimeerror the size of tensor a 5 must match the size of tensor b at non singleton dimension 1 same when calling f binary cross entropy with logits directlt
on ubuntu install the following packages python3 python3 venv create a virtual environment by running python3 m venv venv venv bin pip install torch tensorboard bin python c from torch utils tensorboard import summarywriter warnings about tf using old numpy apis elided traceback most recent call last file string line 1 in module file mnt c users elis linux home edit book code lib python version site packages torch utils tensorboard init py line 6 in module from writer import filewriter summarywriter noqa f401 file mnt c users elis linux home edit book code lib python version site packages torch utils tensorboard writer py line 18 in module from convert np import make np file mnt c users elis linux home edit book code lib python version site packages utils convert np py line 12 in module from caffe2 import workspace mnt users elis linux home edit book code lib version site caffe2 workspace py 15 past builtins basestring importerror no named past running bin pip install future fixes the problem
steps to reproduce the behavior 1 build simple cnn using torch nn sequentialimpl at this point model forward sometensor works fine 2 save the model using torch save network somepath model pt 3 load the model using torch jit script module read path tried also torch jit load path 4 run inference with std vector jit ivalue inputs inputs push back sometensor tensor output forward inputs totensor
steps to reproduce the behavior 1 use a simple gan model with sn in both the discriminator and generator 2 train this model save images while training 3 reset weights apply init on the model 4 train this model again save images while training my init function def init weights m if hasattr m reset parameters m reset parameters if isinstance m nn convtranspose2d or isinstance nn conv2d weight data normal version version if bias is not none bias data fill 0 elif isinstance nn batchnorm2d weight data normal version version bias data fill 0 elif isinstance nn linear weight normal if bias is not none fill 0
steps to reproduce the behavior 1 unpack the attached archive ctc bug zip 1 cd ctc bug 1 python bug py
steps to reproduce the behavior here is a minimal working example python import torch torch manual seed 0 w torch tensor version e 01 version e 01 version e 02 version e 01 03 03 02 03 04 17 print torch multinomial w 10 replacement false
1 run main py from the mnist example on master pytorch examples repository
1 git clone url cudasync 2 cd cudasync 3 omp num threads 1 python cudasync py produces trace file
steps to reproduce the behavior 1 git clone url embedding 2 cd embedding 3 python simpleembed py requires pytorch version perfetto trace url s use wasd navigation code url file simpleembed py
steps to reproduce the behavior import numpy as np import torch a torch floattensor version 2 version version b np zeros 4 print a 0 tensor 1 0 0 1 dtype torch uint8 this is fine and works as expected but it fails here b a 0 1 b should be 1 print actual result b actual result array this works as intended np zeros 4 a numpy print array
here are my codes they work fine in pytorch version import torch b0 torch tensor version requires grad true a torch tensor 1 0 0 b torch zeros 3 requires grad true c ones 3 requires grad true bb b 1 bb a 0 min bb a 0 c a d sum bb d backward
steps to reproduce the behavior python import torch if name main t torch tensor 1 2 3 dtype torch float64 pipenv run pylint test py test py 4 8 e1102 torch tensor is not callable not callable
steps to reproduce the behavior console python setup py build in file included from nt c scratch sciteam stewart1 spack stage spack stage fagxk3 spack src c10 util typeid h 24 0 k from nt c scratch sciteam stewart1 spack stage stage fagxk3 src c10 core defaultdtype cpp 1 k nt c scratch sciteam stewart1 fagxk3 src c10 util half h k nt c scratch sciteam stewart1 fagxk3 src c10 util half h 106 56 k was not declared in this scope const uint32 t sign w uint32 util half h 138 72 was not declared in this scope int32 t nonsign 8 int32 half 197 56 was not declared in this scope const uint32 t sign w uint32 file included from typeid 24 0 from core defaultdtype cpp 1 fp32 value float 308 56 was not declared this scope const t sign w 319 81 return sign 16 shl1 w uint16 0x7e00 nonsign 4 generating python data parallel model py gmake 2 cmakefiles dir core defaultdtype cpp o error 1 gmake 1 cmakefiles dir all error 2 gmake waiting for unfinished jobs
steps to reproduce the behavior 1 build a nn module on cpu 1 trace and save the scriptmodule in a file 1 load the file with map location gpu python module torch jit trace module model forward torch rand 1 200 200 torch jit save module test torchscript cpu pt script torch jit load test torchscript cpu pt map location device cuda 0 input tensor rand 200 200 to device cuda 0 runtimeerror expected device cuda 0 and dtype float but got device cpu and dtype float input tensor rand runtimeerror input type variable cpufloattype and weight type variable cudafloattype should be the same script input tensor
steps to reproduce the behavior console python s setup py no user cfg build checking for mkl intel lp64 mkl intel thread mkl core iomp5 pthread m library mkl intel lp64 not found checking for intel thread core iomp5 pthread m library not found checking for lp64 thread core guide pthread m library lp64 not found checking for thread core guide pthread m library not found sequential sequential iomp5 iomp5 guide guide cmake error at cmake modules findmkl cmake 370 message please specify location
install pytorch version and run it on a multi gpu machine python import torch torch manual seed 1234 device torch device cuda a torch randn 2 3 3 device device b randn 2 3 5 cpu version works fine solution cpu solve b cpu a cpu print solution solution gpu solve b a the gpu solution seems to exist on the print gpu using the crashes 1 print doing anything with the will crash resulting in following error traceback most recent call last file solve py line 18 in module 1 runtimeerror cuda error invalid function additionally it seems that devices of inputs have also been corrupted and using them crashes as well
steps to reproduce the behavior 1 download libtorch cpu version windows 2 cmake build
steps to reproduce the behavior module scripted from python as in tutoriel import torchvision import torch model torchvision models resnet18 example torch rand 1 3 224 224 my torchscript module torch jit trace model example torch jit save my torchscript module sciptedmodule pt loaded and ran in c in separate thread include script h include h void runmodel at tensor jit script module int main ttorch nogradguard no guard ttorch jit script m load sciptedmodule pt tm eval tat tensor testtensor rand 1 3 224 224 at kfloat ttesttensor testtensor div testtensor norm tfor int i 0 i 10000 i t tstd thread newthread runmodel testtensor m t tnewthread join t void runmodel at tensor script m ttorch nogradguard no guard tat tensor out m forward totensor detach memoryincrease url
steps to reproduce the behavior 1 create nupy float tensor and pack using to dlpack 2 create and initialize torch nn embedding tensor 3 unpack nupy float tensor and set it to the pytorch weight data code all the code is in this google colab notebook url for convenience the important parts are copied below import cupy import torch from torch utils dlpack import to dlpack from torch utils dlpack import from nn as nn sampl cupy random uniform low 1 high 1 size 512 sampl will show float32 float64 values emb size emb dimension 512 u embeddings nn embedding emb size emb dimension sparse true cuda initrange version dimension u embeddings weight data uniform initrange initrange u embeddings weight data will show float32 float64 values u embeddings weight data utils from sampl todlpack will show float16 numbers 0 0 will show float16 numbers if i pack and unpack back cupy tensor there is no change dx sampl todlpack cx2 cupy fromdlpack dx print cx2 display float64 float32 for convenience here is a google colab notebook with all this code url
i tried to install pytorch following the instructions on the website pip install torch version cpu torchvision version cpu f url and got the error error could not find a version that satisfies the requirement torch version cpu from versions post1 post2 error no matching distribution found for torch cpu i tried to use linux wheel directly pip install url and got error torch cp37 cp37m manylinux1 x86 64 whl is not a supported wheel on this platform i have also tried installing other versions of pytorch with same luck i have repeated same steps changing pytorch to and and updating wheels to corresponding name in url
i m currently using the data science vm provided by azure to run the python i used clean new env in anaconda for installing pytorch and all library dependencies and also tb nightly as instructed in here url i tried to inspect if my code could use the tensorboard using simple line of codes like import torch from torch utils tensorboard import summarywriter but i got this warning and then critical message here image url
steps to reproduce the behavior import onnx import caffe2 python onnx backend import os import glob numpy as np from onnx numpy helper model paths model onnx load mask rcnn r 50 fpn 1x test data dir test data set 0 prepare the backend rep caffe2 python backend prepare model
steps to reproduce the behavior create a file test py with following contents py import torch import argparse from torch import distributed as dist parser argparse argumentparser parser add argument local rank type int args parser parse args torch distributed init process group nccl local rank args local rank device torch device local rank if 0 element false else element true def broadcast scalar scalar src 0 device cpu scalar tensor tensor scalar to device with no grad tensor dist broadcast tensor src return item broadcast element src 0 run it with following command python u m distributed launch nproc per node 2 test py this has been tested on 2 gpus
steps to reproduce the behavior 2 in torch longtensor 0 5 2 1 2 is true
conda create name test env python version conda activate test env conda install pytorch version cuda90 c pytorch conda list in python when you run torch version cuda it also lists cuda 10 the following new packages will be installed blas version mkl cffi 0 cuda90 0 pytorch cudatoolkit 0 intel openmp 243 libgfortran ng hdf63c60 0 mkl 243 mkl fft mkl random py36hd81dba3 ninja numpy py36h7e9f1db numpy base py36hde5b4d6 pycparser py36 pytorch py cuda cudnn proceed y n n
torch eye 5 dtype torch bool device torch device cpu traceback most recent call last file stdin line 1 in module runtimeerror eye not implemented for bool torch eye 5 dtype bool device device cuda tensor true false false false false true true true cuda 0
steps to reproduce the behavior python import torch x torch tensor 1 dtype torch float32 requires grad true device cpu y x 2 y backward x torch tensor 1 dtype float32 requires grad true device cuda y x 2 y backward not happy because shape size 1 and not size sum backward this would work instead cuda visible devices 0 python bug py traceback most recent call last file bug2 py line 11 in module backward file private home rcadene conda envs pytorch version lib python version site packages tensor py line 118 in autograd self gradient retain graph create graph file private home rcadene conda envs pytorch version lib python version site packages autograd init py line 93 in allow unreachable true allow unreachable flag runtimeerror element 0 of tensors does not require grad and does not have a grad fn
steps to reproduce the behavior 1 generate the following random matrices a torch randn 20 device torch device cuda b torch randn 20 2 device torch device cuda 2 then a b must be the same as a b but it is not the case minimal example a randn 20 cuda b randn 20 2 cuda print equal returns false
this code snippet demonstrates the unexpected behavior a torch cuda floattensor version requires grad b torch cuda floattensor version requires grad loss a b grad a grad b torch autograd loss a b outputs torch cuda floattensor version create graph true print backward print prints none uh oh however when loss is changed to purely unary op loss sin it works as expected cuda floattensor version requires sin autograd outputs create graph true print backward print prints gradient
steps to reproduce the behavior c set model to correct device using namespace std chrono auto start high resolution clock now model to tens device std cout duration cast microseconds high resolution clock now start count us for to std endl 1414us for 1523us for modified as a workaround c set model correct device using namespace std chrono auto start high resolution clock now auto deviceindex tens device is cpu 1 tens index if currentdevice deviceindex model tens currentdevice deviceindex cout duration cast microseconds high resolution clock now start count us for endl 0us 0us
to reproduce run the following code and read the printouts in the console python import torch from timeit import timeit def timing test from torch nn functional import conv2d test img torch ones 10 12 100 100 w1 create w w2 w1 1 1 print torch equal equal w1 w2 n 100 with no grad t1 timeit conv2d test img w1 globals locals number n n t2 timeit conv2d test img w2 globals locals number n print time t1 print time w2 t2 print factor t1 t2 norm norm norm norm dtype dtype dtype dtype device device device device shape shape shape shape def create w return tensor version e 03 version e 02 version e 02 version e 02 02 01 01 03 03 03 01 04 01 04 04 41 41 41 42 41 42 42 timing
steps to reproduce the behavior import time import torch from torch distributions multivariate normal import multivariatenormal mu torch floattensor 2 4 sigma torch floattensor 5 0 0 2 mu gpu mu cuda sigma gpu sigma cuda num runs 1000 t cpu t gpu 0 0 for in range num runs st time perf counter m1 multivariatenormal mu sigma t cpu time perf counter st cuda synchronize st time perf counter m2 multivariatenormal gpu cuda synchronize t perf counter st print f cpu taken cpu s print f taken s output on my machine taken version s taken version s
steps to reproduce the behavior 1 use the torch utils tensorboard summarywriter 1 move the model and input data images to the gpu cuda 0 1 save graph with writer add graph model input to model images 1 open tensorboard and look at device placement my implementation is simply code of tutorial plus tensorboard related code url sphx glr beginner blitz cifar10 tutorial py
steps to reproduce the behavior 1 paste the below code into a py file and run it note the newemptytensorop and conv2d classes are from the maskrcnn benchmark package my full repro is a highly modified version of that codebase if conv2d is replaced with torch nn conv2d in testmodule it will run successfully import torch class newemptytensorop torch autograd function staticmethod def forward ctx x new shape ctx shape x shape return x new empty new shape staticmethod def backward ctx grad ctx return newemptytensorop apply grad none class conv2d torch nn def forward self x if numel 0 return super self forward get output output i 2 p di k 1 1 d 1 for i p di k d in zip 2 self padding self dilation kernel size stride output 0 weight 0 output return newemptytensorop apply class testmodule nn module def init c k super testmodule init conv c k kernel size 3 stride bias false forward conv randn 32 3 32 32 cuda m testmodule 3 5 cuda m jit script m y m
steps to reproduce the behavior 1 save a traced jit module in pytorch version dev 2 attempt to delete the created debug folder 3 fails to read model 4 create an empty debug model pkl file 5 model successfully loads
create dockerfile which installs miniconda creates a python version environment and conda install cmake numpy pyyaml scipy ipython mkl mkl include cython typing libboost magma cuda100 ninja pillow as instructed by the from source steps
steps to reproduce the behavior 1 train a model using the multi head attention encoder only 2 construct vector x x1 x2 and xx x3 x1 where x1 x2 and x3 are two inputs 3 calculate y transformer x and yy transformer xx
steps to reproduce the behavior 1 run the following code python import torch import numpy as np select elements according to flag flag1 torch tensor 0 1 0 1 0 flag2 np array 0 1 values torch arange len flag1 selected1 values flag1 selected2 values flag2 selected3 values numpy flag2 print selected1 tensor 3 print selected2 tensor print selected3 3
steps to reproduce the behavior import torch import torchvision model torchvision models mobilenet v2 num classes 2 random example torch rand size 4 3 224 224 random labels torch longtensor 0 1 0 1 output model random example loss function torch nn nllloss loss loss function output random labels loss backward print completed i am receiving a segmentation fault 11 when i run this code if i use a very small tensor like rand size 4 3 32 32 i am not getting this error also believe that version doesn t have this bug
steps to reproduce the behavior 1 initialize a scheduler with t 0 1 t mult 2 1 loop through using a for loop first printing the lr then stepping scheduler optimizer t 0 1 t mult 2 for i in range 9 print i print scheduler get lr scheduler step 0 version version 2 version 3 version 4 5 6 7 8
import torch x torch rand 5 5 x to device
steps to reproduce the behavior install python daemon which is the implementation of pep 3143 run the following script to reproduce error python import sys daemon torch as th print before th cuda device count with daemon daemoncontext stdout sys stdout stderr sys stderr chroot directory none working directory print prev idx th c cuda getdevice ouput sh python test daemon py before 2 thcudacheck fail file opt conda conda bld pytorch work torch csrc cuda module cpp line 52 error 3 initialization error traceback most recent call last file test py line 28 in module print prev idx th c cuda getdevice runtimeerror runtime error 3 initialization at opt conda conda bld pytorch work torch csrc module cpp 52
run this code python x torch tensor 16 0 requires grad true y x 2 tensor 8 0 grad fn divbackward0 z x sqrt 1 tensor 5 1 grad fn sqrtbackward calculate dy dx dz dx dydx torch autograd grad y sum x retain graph true 0 tensor version version dzdx torch autograd z sum retain graph true 0 version inf define w w0 w1 y0 z1 w torch where y z 5 fn swherebackward expected dw dx where dydx dzdx version dwdx autograd w sum retain graph true is actually inf print where communicates gradients correctly equal expected dw dx dwdx
steps to reproduce the behavior 1 import torch 1 a torch linspace 10000 version 10000 1 a mean 1 a cuda mean a sum numel torch linspace 10000 version 10000 mean tensor version cuda mean tensor version device cuda 0 sum numel tensor
python import os torch f s torch bytestorage from file f true os path getsize f t torch bytetensor new s so far so good t t view 1 2 loads entire file into memory for no reason t is pinned loads entire file into memory for even less reason
steps to reproduce the behavior 1 git clone url 2 add model half and img half in detect py 3 python3 detect py bash python3 detect py namespace cfg cfg yolov3 spp cfg conf thres version data data coco data fourcc mp4v images data samples img size 416 nms thres version output output weights weights yolov3 spp weights using cpu image 1 2 samples bus jpg traceback most recent call last file system volumes users glennjocher pycharmprojects yolov3 detect py line 145 in module output opt output file system volumes users glennjocher pycharmprojects yolov3 line 73 in pred model img file users glennjocher anaconda envs lib python version site packages torch nn modules module line 493 in call result self forward input kwargs file system volumes users glennjocher pycharmprojects models line 181 forward x module x anaconda envs lib python version site packages torch nn modules module 493 call result self forward input kwargs anaconda envs lib python site packages torch nn modules container 92 forward input input anaconda envs lib python site packages torch nn modules 493 call result self kwargs conv 338 self padding dilation groups runtimeerror thnn conv2d not supported on cputype for half
steps to reproduce the behavior 1 build and execute on ppc64le platform with use qnnpack off 2 observe failure of qnnpack tests ok that s not much detail for a reproduce but basically you can just look at the test test quantized py file in the pytorch tree notice that it skips the qnnpack tests if is windows is specified but does not do so for is ppc fix is simply to skip these tests for ppc case also note ppc defined in test common utils py in fact i ll submit a pr with this fix
steps to reproduce the behavior 1 model torchvision models segmentation deeplabv3 resnet101 pretrained true 2 model eval 3 example torch rand 1 3 224 224 4 torch jit get trace graph model example
steps to reproduce the behavior 1 do as follows a torch arange 10 random shuffle a
python import os os environ cuda visible devices 0 import torch from time import time a torch empty 24 32 40 48 dtype torch float32 to cuda b torch empty 64 32 40 48 dtype float32 to cuda c empty 40 80 24 dtype float32 to cuda d empty 40 24 16 dtype float32 to st time for in range 1000 c matmul d print time st st for in range 1000 einsum ibnd jbnd ijbn a b print st a 24 32 48 float16 b 64 32 48 float16 c 80 float16 d 16 float16 for in range 1000 matmul c d print for in range 1000 einsum ibnd jbnd ijbn a b print steps reproduce the behavior just run it
import torch from torch utils import data x data concatdataset range 10 range 10 x 100 traceback most recent call last file stdin line 1 in module file home mueda code python rc doc venv lib python version site packages torch utils data dataset py line 78 in getitem raise valueerror absolute value of index should not exceed dataset length valueerror absolute value of index should not exceed dataset length x 100 traceback most recent call last file stdin line 1 in module file home mueda code python rc doc venv lib python version site packages torch utils data dataset py line 85 in getitem return self datasets idx sample idx indexerror list index out of range
import torch a torch rand 2 32 200 requires grad true cuda batchnorm torch nn batchnorm1d 32 cuda batchnorm a at which point the error will occur running batchnorm a again outputs a tensor resulting in desired behavior
steps to reproduce the behavior python f 1 native python input t torch tensor f torch input prior torch distributions exponential version prior cdf t prior cdf f prior log prob t log prob f tensor version tensor version tensor version torch distributions normal 5 2 cdf t cdf log prob log prob distributions uniform 0 2 attributeerror traceback most recent call last ipython input 56 e6a2d5d8fcb4 in module 3 4 5 opt anaconda anaconda3 envs bnelearn lib python site packages distributions uniform py in self value 71 if self validate args 72 self validate sample value 73 lb value ge self low type as low 74 ub value lt high type as low 75 return lb mul ub high low attributeerror float object has no attribute ge
image url the script code torch jit script method def forward self w in c in mask sequence labeling model parameters w in torch longtensor required the rnn unit c in torch longtensor required the number of characters mask torch bytetensor required the mask for character level input w emb self word embed w c emb self char embed c emb self drop cat emb 2 out rnn mask unsqueeze 2 expand as out out out masked select view 1 rnn outdim return
steps to reproduce the behavior 1 call flatten or torch flatten on a 0 dim tensor
class simplemodule nn module def init self size 784 10 super init self weight nn parameter torch tensor size self logits self weight if size 0 784 else weight version nn init xavier normal weight def forward x x x return x works mod simplemodule size 785 10 torch jit trace mod torch randn 10 10 doesn t work mod simplemodule 784 torch jit trace mod randn
import torch def f z return torch ones 2 z 2 z sum torch set default tensor type torch cuda floattensor jf jit trace f tensor 1 z tensor 1 requires grad true y jf print autograd grad y 0 tensor 1 requires grad true y f print autograd grad y 0 gives 6 2
steps to reproduce the behavior python in 1 import torch in 2 a torch rand 1 4 8 8 in 3 b torch rand 1 5 9 9 in 4 torch stack a b dim 1 python traceback runtimeerror traceback most recent call last ipython input 4 module stack a b dim runtimeerror invalid argument 0 sizes of tensors must match except dimension got 4 and 5 dimension 2 at opt conda conda bld pytorch work aten src th generic thtensormoremath cpp 1307
python in 1 import torch in 2 def f d return d z torch tensor 1 2 in 3 torch set default tensor type torch cuda floattensor in 4 jit f jit trace f z tensor 1 home npradhan miniconda3 bin ipython 2 tracerwarning tensor results are registered as constants the trace you can safely ignore this warning if you use this function to create tensors out of constant variables that would be the same every time you call this function any other case this might cause the trace to be incorrect grad fn correctly computed without jit 5 f z 1 requires grad true out 5 0 grad fn powbackward0 no grad fn computed with jit and cuda tensors 6 z requires true out 6 0 expected output with cpu tensors 7 device cpu requires true out 7 0 device cpu fn powbackward0 e g the code above with and cuda tensors returned does not have a and will throw an exception when backward is called is not an issue if function takes arguments or a list of directly
import torch x torch zeros 5 0 y torch repeat interleave x repeats 3 dim 1 assert y shape 5 0 indexerror select index 1 out of range for tensor of size 0 at dimension 0
steps to reproduce the behavior import torch import time import torch nn as nn print cudnn version torch backends cudnn version conv nn conv2d 128 128 3 3 dilation 1 1 padding 1 1 cuda half torch backends cudnn benchmark true input randn 128 168 64 device cuda half out conv input go rand like out cuda synchronize backends cudnn benchmark true s time time out conv input detach print before bp cuda memory alloc cached format memory allocated memory cached out backward go print after bp memory alloc cached format allocated cached synchronize e time print e s 100
steps to reproduce the behavior 1 run pip3 install torch nightly f url user
steps to reproduce the behavior i was using the compiler backend tutorial repo here url if you modify their test py to put the graph in a nested scope modifying this def foo a b c a mul b a c mul c c mul return to torch jit script def foo compiled b if size 0 b size 0 mul return the graph fuser can t fuse aten ops any more root volume pytorch compiler tutorial pythonpath build python test py default ir graph 1 float 1 float 2 int prim constant value 0 test py 20 13 3 int aten size 1 2 test py 20 6 4 int aten size 1 2 20 19 5 bool aten eq 3 4 20 6 float prim if 5 3 block0 float 21 9 4 22 9 7 4 23 9 7 block1 return default version took version ms transformed ir graph 2 int prim constant value 0 35 13 3 35 6 35 19 5 bool eq 35 6 prim if 5 block0 36 9 37 7 38 7 block1 return compiled version took version ms
steps to reproduce the behavior 1 in a jupyter notebook define a cell which declares a network and executes the train test cycle 2 execute the cell multiple times 3 a cuda out of memory error is thrown at some point
steps to reproduce the behavior python from torch import nn import torch import numpy as np class test nn module def init self super test self init self a nn parameter torch sparse coo tensor np array 0 1 np array 0 1 np array version version size 2 2 dtype torch float32 requires grad false m test m load state dict m state dict
in 1 import torch in 2 a torch rand 3 4 in 3 id a id a storage out 3 in 4 b a view 2 6 5 id b id b storage out 5 you can see that the of storage and b storage are not the same this issue is both reproducible from windows and linux but pytorch version version the of and are the same
code to reproduce the behavior python import torch from torchvision import transforms height 3 width 4 resize 2 tensor3 torch rand 3 height width tensor1 torch zeros 1 height width tensor1 torch rand 1 height width imagetotensor transforms totensor tensortoimage transforms topilimage train transform transforms compose randomresizedcrop resize scale version version totensor tensor4 cat tensor3 tensor1 0 image4 tensortoimage tensor4 transformed image4 train transform image4 print tensor4 print transformed image4 output tensor version version tensor 0 0 0
python import torch import torchvision import psutil model torchvision models alexnet pretrained false cuda x torch rand 1 3 224 224 cuda for i in range 10000 with torch autograd profiler profile use cuda true model x if i 1000 0 print iteration memory format i psutil virtual memory text iteration 0 memory svmem total available percent version used free active inactive buffers cached shared slab iteration 1000 memory svmem total available percent version used free active inactive buffers cached shared slab iteration 2000 svmem total available percent version used free active inactive buffers cached shared slab 3000 svmem total available percent version used free active inactive buffers cached shared slab 4000 5000 6000 7000 8000 9000
please use below code snippet to reproduce the error class mobilenet nn module def init self super mobilenet self init self mobile models mobilenet v2 pretrained true in features self mobile classifier 1 in features out features 100 mobile classifier 1 nn linear in features in out out softmax nn softmax dim 1 def forward x x mobile x return softmax x train transform transforms compose transforms resize 256 transforms centercrop 224 transforms totensor normalize mean version version version std version train dataset torchvision datasets cifar100 root path train true download true transform train transform loader torch utils data dataloader dataset shuffle true batch size 4 model mobilenet optimzer torch optim adam model parameters criterion nn crossentropyloss reduction sum i image labels next enumerate loader out model image loss criterion labels loss backward
this is the minimum reproducible example i could come up with python x torch randn 1 4 4 4 x x transpose 0 1 for i in range 10 note results are often different on each run or on cpu outputs nan print x triu sum note that the issue does not seem to occur when the transpose is omitted if size 0 1 if the tensor has more or fewer dimensions
python import torch a torch rand 500 2 2 a version a a transpose 1 2 w torch symeig fast version s cuda w torch symeig slow version s
the bug can be easily reproduced if the t mult parameter of scheduler is not set properly i e is 1 or not an instance of int causing python to raise the error at line 686 where t mul is used instead of t mult the following line will raise error and cause bug scheduler optim lr scheduler optimizer t 0 100 mult version because version is not an instance of int
steps to reproduce the behavior run the code sample and observe the values of z1 and z2 they are different but users tend to think they are the same better add an assertion if user use scatter on z2
1 find a multi gpu machine 2 run a python interpreter with cuda launch blocking 1 python the bug will occur without setting the environment variable too but it will just hang instead of erroring 3 run the following python import torch torch empty 1 device cuda 0 storage fill 1 version torch cuda floatstorage of size torch cuda set device empty device 0 storage fill traceback most recent call last file stdin line in module runtimeerror parallel for failed an illegal memory access was encountered
import torch device torch device cuda 0 dtype torch double x torch rand 25 2 device device dtype dtype x requires grad true def test grads x return cdist x sum autograd gradcheck test grads output runtimeerror traceback most recent call last ipython input 19 in module 9 return cdist sum 10 11 autograd gradcheck test grads mnt xarfuse uid c3e61ad0 ns autograd gradcheck py in gradcheck func inputs eps atol rtol raise exception check sparse nnz nondet tol 287 if not allclose a n rtol atol 288 return fail test jacobian mismatch for output d with respect to input d 289 numerical s analytical s i j n a 290 291 if not reentrant mnt xarfuse uid c3e61ad0 ns autograd py in fail msg 225 def fail msg 226 if raise exception 227 raise runtimeerror msg 228 return false 229 runtimeerror jacobian mismatch for output 0 with respect to input 0 numerical tensor version version version version dtype float64 analytical tensor float64 cpu cpu detach clone cpu cpu requires grad true grads output true notebook cdist issue ipynb txt url
steps to reproduce the behavior in the mnist code in the beginning of main function add std vector long vect 1 2 3 4 torch tensor tmp torch tensor vect and build the code in windows through microsoft visual studio 2019
here i compare the distributions sampled by the torch multinomial on cuda vs cpu tensors the sampling is working correctly on cpu i ve noticed this bug only for sampling without replacement python import torch import torch nn functional as f import scipy stats import numpy as np m 10 n 10000 replace false
i used this url try it on linux then try it on windows it s about 2 5 times slower
import torch from torch autograd import function class testfunction function staticmethod def forward ctx x w ctx save for backward x w y torch einsum ab ab a x w return y staticmethod def backward ctx grad x w ctx saved tensors grad torch einsum a ab ab grad grad einsum a return class testfunction2 function staticmethod def forward save for backward y einsum a return y clone staticmethod def backward saved tensors return ones 1 1 ones 1 1 requires testfunction apply z sum z print z ones ones requires testfunction2 apply z sum print
python import torch from torch utils checkpoint import checkpoint def f x w return torch einsum ab ab ab x w def g x w return torch einsum ab a x w def h return einsum a clone function f works ones 1 1 ones 1 1 requires grad y checkpoint f z y sum z backward print y z grad function g fails ones ones requires grad y checkpoint g z sum backward print grad function h works requires h sum backward print returns tensor fn tensor fn sumbackward0 tensor tensor fn asstridedbackward fn sumbackward0 none sumbackward0
import time import torch import numpy as np a torch rand 40 100 256 256 b np ones 40 100 256 256 c a cpu t1 time time torch save a 0 open torch1 p wb t2 time print t2 t1 a cuda torch save 0 open torch2 p wb t3 print t3 t2 np save open numpy1 p wb c 0 t4 print t4 t3 np save open numpy2 p wb b 0 t5 print t5 t4
1 i used code from here url 2 this is how its done in example style calculated before loop url 3 this is how it cause problems i call style to device only once before loop url 4 this is how it works fine calling to device on each iteration url
import torch import torchvision import torchvision transforms as transforms print hello world def main transform transforms totensor trainset torchvision datasets mnist root data train true download true transform transform trainloader torch utils data dataloader trainset batch size 64 shuffle true num workers 4 for i data in enumerate trainloader pass if name main main the output hellow world hellow world hellow world hellow
steps to reproduce the behavior 1 foillow steps to build with rocm support from here option 4 until step 7 url 1 attempt compile with pytorch rocm arch gfx900 use rocm 1 use lmdb 1 use opencv max jobs 8 python3 setup py bdist wheel
steps to reproduce the behavior code to reproduce the linking errors include opencv2 opencv hpp include boost filesystem hpp int main int argc char argv std vector cv string images cv glob home madrogue images png images for auto image images cv mat temp cv imread image imread grayscale pyrdown temp temp boost filesystem path p image imwrite home madrogue reduced p filename string temp return 0 code to reproduce the general errors include torch torch h include iostream int main torch tensor tensor torch rand 2 3 std cout tensor std endl
steps to reproduce the behavior go into libtorch include caffe2 utils open math h it is including non existent headers like include caffe2 utils math broadcast h include caffe2 utils math elementwise h include caffe2 utils math reduce h transpose which causes my legacy code to fail to compile
steps to reproduce the behavior 1 clone pytorch 2 checkout v version 3 build libtorch with cmake make 4 look at torchconfigversion cmake shell git clone url cd pytorch git checkout v version git submodule update init recursive mkdir build cd build cmake dbuilding with torch libs on dbuild binary false dbuild caffe2 ops true dbuild python false dbuild shared libs on test true torch on dcaffe2 static link cuda false dcmake build type release dcmake cxx flags dcmake c flags dcmake exe linker flags shared linker flags dinstall test true dnccl external true donnx ml false donnx namespace onnx torch dthd so version 1 duse cuda duse distributed duse fbgemm duse ffmpeg leveldb lmdb mkldnn nccl nnpack numpy opencv qnnpack rocm system eigen install off system nccl tensorrt prefix path usr local make j8 cat torchconfigversion cmake
1 download script pth files 2 run script
python import torch jit as jit jit script def test assert 1 1 return 1 print test graph output graph 2 string prim constant value exception 0 int prim constant value 1 bool aten eq 0 0 prim if block0 block1 prim raiseexception 2 return 0
steps to reproduce the behavior c include iostream include torch torch h int main int argc char argv float data 3 8 1 1 3 3 2 2 4 4 1 1 auto m torch nn batchnorm torch nn batchnormoptions 2 m weight from blob data 0 0 2 m bias from blob data 0 m running mean from blob data 0 4 running var from blob 6 auto test input std cout input test input std cout weight weight std cout bias bias std cout running mean running mean var var feature mean test input slice feature var test slice forward forward forward pure forward returns for both forwards a value of 3
steps to reproduce the behavior 1 just create a dummy dataset that sleeps forever when loading 2 launch dataloader with multi workers and pin memory true timeout some number 3 add exception handler to handle the timeout and in there kill the workers
steps to reproduce the behavior python import torch concat list concat list append torch ones 6500 1024 512 dtype torch uint8 concat list append torch ones 4500 1024 512 dtype uint8 ccat cat concat list output segmentation fault core dumped
steps to reproduce the behavior 1 import torch error collecting tests composition test autodiffcomposition py tests composition test autodiffcomposition py 18 in module import torch c users appveyor appdata roaming python python37 site packages torch init py 79 in module from torch c import e runtimeerror generic type cannot initialize type tensorprotodatatype an object with that name is already defined
code sample python import torch from torch import nn import numpy as np import onnx onnxruntime as rt shape 2 16 96 96 def generate model net nn prelu 16 model name only relu onnx dummy input torch randn shape torch onnx export net dummy input model name input names input output names output model onnx load name return def forward inputs sess rt inferencesession serializetostring outputs x name for x in sess get outputs res dict zip outputs sess run outputs inputs return res forward generate np random rand shape astype np float32 error runtimeerror method run failed due to onnxruntimeerror 1 general error onnxruntime src onnxruntime core providers cpu math element wise ops h 341 void onnxruntime broadcastiterator init int64 t int64 t axis 1 axis largest was false attempting to broadcast an axis by a dimension other than 1 16 by 96
steps to reproduce the behavior run test numba integration with numba version running test numba integration 2019 06 01 01 10 version test active device main testnumbaintegration as cuda array tensor device must match active numba context ok test array adaptor main testnumbaintegration torch cuda array adaptor exposes tensor data to cuda fail conversion errors main testnumbaintegration properly detects array interface for tensor tensor variants ok cuda interface main testnumbaintegration torch exposes interface for tensors ok from interface torch as and torch supports the protocol ok from active device as device must match active context fail from lifetime as obj grabs a reference to obj so that the lifetime of obj exceeds the fail adaptor adaptor exposes data to traceback most recent call last file integration py line 123 in arange 10 dt numpy assertionerror typeerror not raised fail from must match context traceback most recent call last file integration py line 345 in ary 1 assertionerror runtimeerror not raised ran 7 tests in version s failed failures 2 traceback most recent call last file run new py line 434 in module file run new py line 426 raise runtimeerror message runtimeerror failed
any use of tensor contiguous will produce this when linted with mypy
exactly the same as url from source and i have my anaconda3 installed which conda local scratch bowenc anaconda3 bin conda
run the code below on version to reproduce the behavior python import torch class model torch nn module def init self super init self rnn torch nn lstm 300 1024 1 batch first true bidirectional true def forward self x self rnn flatten parameters return rnn x n t hidden dim model torch nn dataparallel model to cuda with no grad x model rand 2 4 300
steps to reproduce the behavior 1 python setup py develop cmake on master
gist url that demonstrates the issue
steps to reproduce the behavior execute following script import torch hight 100 width torch manual seed 0 w torch floattensor hight width normal 0 1 wv w view hight width 1 wtw wv wv print wtw sum print w norm 2 2 w sum cuda wv view hight width 1 wtw print wtw sum print norm 2 2 sum cpu norm nvidia smi
steps to reproduce the behavior 1 initialize optimizer optimizer adam filter lambda p p requires grad model parameters args lr 1 initialize scheduler scheduler reducelronplateau optimizer patience 1 factor version verbose true mode max 1 add parameter group to the optimizer add param group params unfreezed params lr lr raise error when the learning rate should be changed
x l2 norm x 1 cosine torch matmul x x transpose 0 1 sine torch sqrt version torch pow cosine 2 def l2 norm input axis 1 norm torch norm input 2 axis true output div input return output
python import torch from torch import nn m nn conv2d 1 1 1 1 padding padding mode circular x torch rand 5 5 print m x shape
python import torch bn torch nn batchnorm2d 3 bn track running stats false bn torch rand 1 3 2 2 bn running mean tensor version version version
a torch arange 10 mask a 4 a mask 1 1 a tensor 0 1 2 3 4 5 6 7 8 9
steps to reproduce the behavior python import torch import numpy as np a torch tensor 1 2 3 4 5 6 b a numpy copy print a 1 2 3 4 5 6 print b 1 2 3 4 5 6 subtract first column from all columns a 0 np newaxis or unsqueeze 1 b b 0 np newaxis print 0 2 3 0 5 6 unexpected result bug print this is expected result in my opinion
contents of rng test sh python python eof import torch torch save torch cuda get rng state cuda rng state tch torch save get rng state state tch eof python eof import cuda pre load cuda tch pre load tch set pre set pre cur get cur get print tensors differ in positions out of format ne cur sum nelement print cpu tensors differ in positions out of format ne cur sum nelement eof test sh tensors differ in 400 positions out of cpu tensors differ in 0 positions out 5048
steps to reproduce the behavior 1 check out the branch in pr url 2 run the unit test python test test jit py testscript test torchscript multi head attn 3 optional check the rel error by printout
steps to reproduce the behavior python import torch from torch nn import layernorm linear from torch jit import scriptmodule script method class test scriptmodule def init self dim super init self layer norm layernorm dim self projection linear dim dim script method def forward self inputs return layer norm inputs projection inputs if name main m test 512 input tensor torch randn 10 11 512 output tensor m input tensor output tensor sum backward
steps to reproduce the behavior i follow offical steps to clone the lastest code branch master last commit author jongsoo park jongsoo fb com configure environment variables export no cuda 1 do not need gpu here export build shared libs off this is instructed here url export build test false i set this b c test binary is not needed here command to build the library mkdir build cd python tools libtorch py ensure that dependencies are installed conda install numpy ninja pyyaml mkl mkl include setuptools cmake cffi typing
def cholesky speed test device cpu assert device in cpu cuda np random seed 123 n rep 10000 dim 16 batches 10 a np random normal 0 1 batches dim dim cov np matmul a a swapaxes 1 2 pt cov torch tensor cov astype np float32 device device l torch cholesky pt cov torch cuda nvtx range push choleskydecomposition start time time time for i in range n rep torch cuda nvtx range push iter format i cholesky pt out l cuda nvtx range pop duration time start print duration 3f s on format duration nvtx pop steps to reproduce the behavior 1 execute the above function for cpu and 2 we observe the following times on a 1080ti duration version s on version s on cpu 3 investigating nvidia nsight logs image url shows that cholesky is allocating and freeing memory constantly
steps to reproduce the behavior 1 compile on any machine with modest resources and when the bundled nccl is built rather than an existing one used
steps to reproduce the behavior 1 followed instructions on url 1 1
steps to reproduce the behavior python class multibox torch jit scriptmodule constants loc layers def init self super multibox self init self loc layers nn modulelist for i in range 4 self loc layers append nn conv2d 64 4 kernel size 1 torch jit script method def forward x return x results in this error file c python36 lib site packages torch jit init py line 1232 in getattr return module getattr attr file c python36 lib site packages torch n modules module py line 539 in getattr type name name attributeerror constmodulelist object has no attribute append
steps to reproduce the behavior 1 make sure you are on commit 2 use the following script on gpu to reproduce the oom error message import torch import torch nn as nn d model 512 nhead 16 bptt 10 batch size 15 device torch device cuda norm nn layernorm d model to device self attn nn multiheadattention d model nhead to device src seq torch rand bptt batch size d model for in range src norm src seq output self attn src
steps to reproduce the behavior 1 in user code import optimizer and define a function that takes parameters in the same form with correct type annotation and just wraps some optimizer construction 2 check it with mypy for example from typing import union iterable dict import torch from torch optim import adam optimizer def default optimizer params union iterable torch tensor iterable dict return adam params
steps to reproduce the behavior python import torch from concurrent futures import threadpoolexecutor dummy data and network input data torch arange 10 dtype torch float32 net torch nn sequential nn linear 10 1 with threadpoolexecutor 2 as ex with no grad no grad is working assert net input data grad fn is none should fail because of the not assert list ex map net input data 0 grad fn is not none no is working assert list ex map no net input 0 fn none working assert fn none can calculate the gradient not
download the latest package here url
steps to reproduce the behavior import torch torch nn functional dropout torch tensor to cuda floating point exception core dumped
import torch a torch arange 30 dtype torch float view 5 6 cuda ind0 torch arange 0 a size 0 step 2 go randn a ind0 size cuda a index put ind0 go accumulate true cuda synchronize used to work now it does not note that forward operation with ind0 on the cpu still works but index put breaks
steps to reproduce the behavior import time import torch shape 128 128 count 640 tensors torch randint 255 shape byte pin memory for i in range count for i in range 3 start time time tensors cuda item cuda non blocking true for item in tensors torch cuda synchronize print took time start 1000
1 construct torch optim lr scheduler cosineannealinglr with max step 1e9 2 scheduler step x for large x repro in this collab notebook url
steps to reproduce the behavior 1 create a binomial distribution with a big max count e g b torch distributions binomial binomial max count 2000 probs version 1 try to take a big sample b sample sample shape torch size 10000 10000 1 laugh when pytorch tells you to buy 745gb of ram just so you can perform this operation
run this short repro example python import torch as th def f return th ones 3 th ones 3 class mod th jit scriptmodule def init self super init self fn jit trace f tuple jit script method def forward self x1 x2 self fn return cat x1 x2 dim 1 fails return cat x1 x2 dim 1 succeeds mod mod the module will fail to construct unless the first cat call is replaced w the second
steps to reproduce the behavior 1 define a model n 8 dim 10 class somemodel nn module def init self super somemodel self init self embedding nn embedding n dim self seq nn sequential embedding nn linear dim 1 sigmoid def forward indices return seq indices model somemodel 2 export input torch longtensor 2 torch onnx export model input foo onnx 3 check foo onnx and notice it s malformed
steps to reproduce the behavior python import torch utils data as d from scipy sparse import csr matrix import numpy as np import torch row np array 0 3 0 7 col np array 0 3 1 9 data np array 4 5 7 9 using csr matrix as can be row indexed sparse csr matrix data row col shape 8 10 class dataset d dataset def init self sparse self data sparse def len self return self shape 0 def getitem index convert it to coo so to get the atributes to create a tensor index tocoo i torch longtensor vstack row col v torch floattensor floattensor i v size shape return d dataset loader utils dataloader d batch size 2 num workers 2 for i in loader print i runtimeerror traceback most recent call last file users efelix miniconda3 envs release version lib python version site packages utils utils worker py line 99 in worker loop samples collate fn dataset for in batch indices file users efelix miniconda3 envs release version lib python version site packages collate py line 41 in default collate storage batch storage new shared numel runtimeerror tensors do not have storage
steps to reproduce the behavior bash cd pytorch test custom operator change save path of the model like model save in test custom ops py to current folder python3 test custom ops py generates a something pt file mkdir build cd build cmake dcmake prifix path path to libtorch make test custom ops something pt
steps to reproduce the behavior python import torch torch jit script def test li 1 2 3 4 5 6 7 8 9 10 11 12 return torch tensor li gives the following error runtimeerror input list to torch tensor must be of ints floats or bools got int int int int jit script def test li 1 2 3 4 5 6 7 8 9 10 11 12 return tensor li here
steps to reproduce the behavior 1 git submodule update init recursive 2 python setup py build 3 get error bash 94 linking cxx executable bin caffe2 benchmark usr bin ld lib libpthreadpool a threadpool pthreads c o in function pthreadpool create threadpool pthreads c text 0x520 multiple definition of pthreadpool create lib libcaffe2 a pthreadpool impl cc o pthreadpool impl cc text 0x140 first defined here usr bin ld lib libpthreadpool a threadpool pthreads c o in function get threads count threadpool pthreads c text 0x670 multiple definition of get threads count lib libcaffe2 a impl cc o impl cc text 0x120 first defined here usr bin ld libpthreadpool in function compute 1d 0x680 multiple definition of compute 1d libcaffe2 0x50 first defined here usr ld libpthreadpool in function destroy 0x17d0 multiple definition of destroy libcaffe2 0x1f0 first defined here collect2 error returned 1 exit status make 2 caffe2 torch c10d test cmakefiles processgroupglootest dir build make 119 processgroupglootest error 1 make 1 cmakefiles makefile2 10591 caffe2 torch c10d test cmakefiles processgroupglootest dir all error 2 make waiting for unfinished jobs
steps to reproduce the behavior import torch a torch tensor 1 2 13 4 8 14 creating a mask for those elements of a that are greater than 10 b a 10 print b is b print b is creating mask for those elements of i e 13 14 that are greater than version c version print c is c print c is here the bug torch tensor 17 dtype dtype torch tensor 17 17 no error reported when running this code
import torch from torch nn utils import spectral norm from torch import nn a torch randn 3 3 m nn linear 3 3 m a tensor version version version version grad fn addmmbackward m weight data zero m a tensor grad fn addmmbackward spectral norm linear in features out features bias true a tensor nan nan nan nan grad fn addmmbackward
steps to reproduce the behavior import torch a torch randint low 1 high 10 size 2 3 print a b torch randint 2 3 dtype torch uint8 print b a 0 b 0 print a
here i follow the new convention putting the lr scheduler step at the end of each iteration see the new documents and 7889 which is probably root of this issue code python version import torch net torch nn conv2d 1 1 1 optimizer torch optim sgd net parameters lr version lr scheduler torch optim lr scheduler exponentiallr optimizer gamma version for i in range 5 print i scheduler get optimizer param groups 0 step output 0 version 1 2 3 4 we got inconsistant values two values are same in first line but different in following lines by decay factor gamma
steps to reproduce the behavior 1 install torch version with pip traceback most recent call last file stdin line 1 in module file anaconda3 envs torch lib python version site packages torch init py line 79 in module from torch c import importerror dlopen anaconda3 envs lib python version site packages c cpython 36m darwin so 9 library not loaded usr local opt libomp lib libomp dylib referenced from anaconda3 envs lib python version site packages libshm dylib reason image not found
code import torch model torch nn linear 1 1 optim torch optim sgd model parameters lr 1 l torch optim lr scheduler cosineannealinglr optim 3 for in range 10 print l last epoch l get lr 0 l step output of pytorch version 1 version 0 version version 2 3 4 5 6 7 8 output of pytorch 0 2 3 4 5 6 7 8 9
follow 1st tutorial url sphx glr beginner blitz tensor tutorial py the error occurs when specifying the dtype x torch zeros 5 3 dtype torch long steps to reproduce the behavior 1 install nvidia driver 2 run the docker image nvidia cuda version cudnn7 devel 3 install conda inside image 4 use conda to install pytorch conda install pytorch torchvision cudatoolkit version c pytorch 5 run python and follow aforementioned tutorial
steps to reproduce the behavior number of 2 s in the following example is 63 python torch ones 2 2 2 dtype torch uint8 output python tensor size dtype torch uint8 another related issue python torch ones dtype uint8 these are 62 s output python runtimeerror not enough memory you tried to allocate 0gb buy new ram at opt conda conda bld pytorch work aten src th thgeneral cpp 201 when they re 63 s the output changes to runtimeerror invalid memory size maybe an overflow at opt conda conda bld pytorch work aten src th thgeneral cpp 188
steps to reproduce the behavior 1 pipenv install torch torchvision 2 from torch utils data import dataset traceback most recent call last file users kaspersapala documents airly new pollution forecast datasets init py line 3 in module from torch utils data import dataset file users kaspersapala local share virtualenvs new pollution forecast bsetkf9e lib python version site packages torch init py line 79 in module from c import importerror dlopen users kaspersapala local share virtualenvs new pollution forecast bsetkf9e lib python version site packages c cpython 37m darwin so 9 library not loaded usr local opt libomp lib libomp dylib referenced from users kaspersapala local share virtualenvs new pollution forecast bsetkf9e lib python version site packages libshm dylib reason image not found
steps to reproduce the behavior in test test nn py run this with test backward true and dtype torch float self test embeddingbag false sum true backward backward dtype dtype run a number of times and it will occasionally fail with the third parameter sparse set to false we don t see failures
steps to reproduce the behavior import torch nn as nn nn logsoftmax dim 1 repr output logsoftmax expected logsoftmax dim 1
here s simple 2d 1x1 convolution one element of input is version while the rest are zeros weight tensor is all ones however result on cpu is all zeros python import torch inc 4 outc 16 x torch zeros 1 inc 1 1 x 0 3 0 0 version print x x weight torch ones outc inc 2 1 y1 torch nn functional conv2d weight groups 2 print y1 y1 y2 nn functional conv2d cuda weight cuda groups 2 cpu print y2 y2 i get the following output tensor 0 y1 tensor y2 tensor
import torch test without view x torch tensor version version requires grad true print f x shape x shape x sum backward print f grad grad test with view view torch tensor version version requires grad true view 2 1 1 print f shape shape sum backward print f is none is none output torch size 2 1 1 tensor size 2 none is none true
steps to reproduce the behavior skeleton 0 import redis 0 import time 0 value torch tensor 0 start time time 1 redis cache redis strictredis host localhost port 6379 db redis cache 2 cache set pickle dumps value pickle dumps hidden cell 3 cache return get pickle dumps value if return is not none logger info hit for took ms format value time start return pickle loads return 4 get dumps if is not none logger info hit for took ms format start loads miss logging would happen after set is called example log 2019 04 25 14 04 00 344 id 1 info encoder hit for tensor 2 12 12 12 12 3 took version ms 2019 04 25 14 04 00 347 id 1 info encoder miss for tensor 2 3 took version ms the weird thing is the hit happened before the miss so it looks like something unreliable with serialisation 2019 25 14 00 303 id 1 encoder tensor 2 3 version 2019 25 14 00 312 id encoder miss version
steps to reproduce the behavior import torch import open3d a two line script with the above statements crashes every time for me reversing the order of the imports fixes problem i m using open3d version version and pytorch version version post2
steps to reproduce the behavior import torch loss torch nn mseloss a torch randn 100 1 b torch randn 100 loss a b tensor version loss a b reshape 1 1 tensor version
import torch from torch import tensor t tensor 1 2 ttr t transpose 0 1 print f t is t print f ttr is ttr print 20 0 0 5 print f is f ttr is the transposed version was updated as expected 20 tensor 10 20 the transposed version was updated as expected 20 add tensor 2 2 the transposed version was updated as expected set 1 2 note that the transposed version was not updated 1 5 5 versions were as expected 10 10 versions were 12 22 12 22 versions were 12 22
steps to reproduce the behavior bash git clone recursive url cd pytorch mkdir build cd build cmake dbuild custom protobuf off dcmake install prefix path to libtorch dbuild torch on dbuild shared libs on dbuild python off make j nproc make install
use the gist url what it does 1 downloads trained weights 18mb 2 creates input tensor normal random 3 computes convolution with trained weights takes 3 secs 5 computes convolution with randomly initialized weights takes version sec
steps to reproduce the behavior python3 setup py install
simple test python import torch as th def make zeros x return th zeros like x x th zeros 3 func th jit trace make zeros x print func device 3 cuda 0 print func device 3 cuda 1 print func device 1 run the script above on a machine with 2 gpus comment out the last 2 lines for a single gpu machine
just run the official example code python import torch import torchvision an instance of your model model torchvision models resnet18 an example input you would normally provide to your model s forward method example torch rand 1 3 224 224 use torch jit trace to generate a torch jit scriptmodule via tracing traced script module jit trace model example traced script module save resnet18 pt
steps to reproduce the behavior 1 compile and run the attached example change mnist parallel cpp txt to mnist parallel cpp mnist parallel cpp txt url cmakelists txt url
steps to reproduce the behavior 1 create a simple model with nn rnn module 1 export this model to onnx using torch onnx export 1 check the activations attribute for the case of the string as an example string will be tanh where ideally it should be tanh
steps to reproduce the behavior python import torch nn as nn import torch jit as jit class somescriptmodule jit scriptmodule def init self super init self linear nn linear 16 16 self conv2d nn conv2d 3 8 3 self conv3d conv3d 3 8 3 gru gru 16 16 lstm lstm for m in modules print m type m if isinstance m linear print f is linear continue if isinstance conv2d print f is conv2d continue if isinstance conv3d print f is conv3d continue if isinstance gru f is gru continue lstm lstm somescriptmodule python test py somescriptmodule weakscriptmoduleproxy weakscriptmoduleproxy weakscriptmoduleproxy class main somescriptmodule weakscriptmoduleproxy class torch jit class torch modules rnn modules rnn
steps to reproduce the behavior 1 conda create n test load cuda python version conda activate test load cuda 1 conda install pytorch nightly cudatoolkit version c pytorch 1 ld debug libs python c import torch torch rand 1 device cuda 2 grep libcudart 32577 find library libcudart so version 0 searching 32577 trying file usr local cuda version lib64 libcudart so 32577 calling init usr local lib64 libcudart so 32577 calling fini usr local lib64 so 0 if there is no available in the loader path pytorch does indeed load the right one 33717 find library 0 searching 33717 trying file private home beauby miniconda2 envs test load lib python site packages torch lib 33717 trying file private home beauby miniconda2 envs test lib python site packages torch lib 33717 calling init private home beauby miniconda2 envs site packages calling fini private home beauby miniconda2 envs site packages 0
steps to reproduce the behavior 1 define a model class somemodel nn module def init self super somemodel self init dim 5 n 4 10 6 self emb nn embedding n dim self lin1 nn linear dim 1 seq nn sequential emb lin1 def forward input return seq input model somemodel 2 run export dummy input torch tensor 2 dtype torch long dummy input torch onnx export model dummy model onnx verbose true 3 notice an empty file created on disk hasn t been serialized i ran the above steps in a jupyter notebook i ran later the same steps in python program and noticed this being printed to std err libprotobuf error pytorch third party protobuf src google protobuf message lite cc 289 exceeded maximum protobuf size of 2gb so we know what s going on
steps to reproduce the behavior 1 use cuda backed tensor 2 std vector torch tensor in tensor 3 auto test torch stack in 4 experience crash
steps to reproduce the behavior import torch x torch rand 10 none none print torch nn instancenorm1d 10 x print torch nn groupnorm 10 10 x print nn batchnorm1d x
steps to reproduce the behavior 1 define a model class somemodel nn module def init self super somemodel self init dim 5 self emb nn embedding 10 dim self lin1 nn linear dim 1 seq nn sequential emb lin1 def forward input return seq input model somemodel 2 run export dummy input torch tensor 2 dtype torch long dummy input torch onnx export model dummy model onnx verbose true fails with redacted vendor local lib python version site packages torch onnx utils pyc in export args f export params verbose training names output names operator type type example outputs propagate 230 defer weight type is not exporttypes protobuf file 231 if params 232 proto map graph params onnx opset version defer weight operator type 233 else 234 proto map graph opset version false operator runtimeerror csrc jit cpp 296 encodeblock assertion b inputs size num initializers failed
on a machine with at least two gpus python import os os environ cuda launch blocking 1 import torch sz 65 for i in range 2 arr torch rand sz sz 2 1 2 dtype torch float32 device i get the crash try torch irfft arr 2 signal sizes sz except runtimeerror as e print str i raise e should print 1 indicating the failure on the 2nd gpu followed by a stack trace python 12 get the crash 13 try 14 irfft arr signal sizes 15 except runtimeerror as e 16 print str i runtimeerror cufft error cufft exec failed
steps to reproduce the behavior w torch zeros 1 3 v w w norm g w norm v requires grad true g requires grad true torch weight norm v g matmul torch randn 3 1 backward v grad tensor nan nan nan g grad tensor nan i m encountering s during backprop during training of a network with weight normalization from this seemingly related thread it sounds like the advice is to add an eta to the norm but in this case the is generated in pytorch s c implementation and i don t see an obvious way to do this
code to reproduce the behavior import torch import torch nn as nn emb nn embedding 10 20 cuda x torch zeros 5 1 long 10 x x cuda y emb x z torch zeros 10 cuda runtimeerror traceback most recent call last ipython input 1 in module 8 y emb 9 10 z zeros cuda runtimeerror error device side assert triggered
steps to reproduce the behavior 1 create several streams 1 assign work to be done in each stream e g fourier transforms 1 call torch cuda syncrhonize at the very end 1 run watch n nvidia smi to see gpu utilization time execution to compare explicitly serial code python import numpy as np import torch n gpus torch cuda device count streams torch cuda stream device i for i in range n gpus x tensor np random rand 100 2048 2048 astype np float32 xs x i for i in range n gpus xgs start timing here for s in enumerate streams with cuda stream s for range 100 xg rfft xs 2 xgs append xg indent below run explicitly serial synchronize
steps to reproduce the behavior 1 the easiest way to repro this issue is by updating one of the existing test points in the file torch nn modules batchnorm py change lines 62 65 from this if self momentum is none exponential average factor version else exponential average factor self momentum to following ternary op exponential average factor version if self momentum is none else self momentum 2 run test point in test test jit py python jit py testjitgeneratedmodule nn batchnorm2d 2d simple average 3 will fail even though functionally two code pieces are functionally same
steps to reproduce the behavior 1 create a demo model and export it on gpu import torch class batchnormmodel torch jit scriptmodule def init self super batchnormmodel self init optimize false self bn torch nn batchnorm1d 10 torch jit script method def forward self x return bn x model batchnormmodel model eval model cuda save tmp bn gpu pt 2 try to load the and execute on cpu include script h include memory int main std shared ptr jit script module module jit load tmp bn gpu pt module to kcpu std vector ivalue inputs inputs emplace back randn 6 10 auto output module forward inputs totensor error terminate std runtime error expected tensor to have cpu backend but got tensor with cuda backend while checking arguments for batch norm cpu checkbackend at aten src aten tensorutils cpp 202
steps to reproduce the behavior try to compile a c extension on windows without setting cxx
steps to reproduce the behavior 1 download latest windows nightly 2 try converting a tensor from blob as torch kcuda
steps to reproduce the behavior 1 run the following code with pytorch installed with pip import torch from kymatio import scattering2d scattering scattering2d j 2 shape 32 32 x torch randn 1 1 32 32 sx scattering x print sx size
run the code below to reproduce the bug it s pretty self explanatory import torch import torch nn functional as f x torch tensor 0 2 2 0 0 1 2 0 w torch tensor 1 1 1 3 3 x1 x 2 using only the last column from x containing w1 w using only the last column from w containing 3 result should be 3 print f conv2d x1 w1 none padding stride tensor wrong print f conv2d x1 cuda w1 cuda none padding stride tensor device cuda as expected
1 git clone recursive url 2 python setupy py bdist wheel 3 pip install torch version a0 b80a4fa cp37 cp37m linux x86 64 whl error bash in 1 import torch importerror traceback most recent call last ipython input 1 eb42ca6e4af3 in module 1 import torch data frameworks pytorch lib python version site packages torch init py in module 77 del dl flags 78 79 from c import 80 81 all name for name in dir c importerror libmklml intel so cannot open shared object file no such file or directory
steps to reproduce the behavior 1 set up env variable master addr master port save the following code as main py python import torch distributed as dist import torch as t import argparse def main parser argparse argumentparser parser add argument rank type int help the rank of proc args parser parse args dist init process group nccl rank args rank world size 2 tmp t randn 5 cuda 2 tensor t ones 5 cuda dist all gather tmp tensor print tmp if name main main 2 run the code with python py 0 and python py 1 btw when i execute this code manually in ipython i found all gather quickly go through but it stuck when trying to print tensor
minimal example below which works on cpu single gpu but throws an error on two or more gpus import torch import torch nn as nn model nn embeddingbag 10 3 mode sum input torch longtensor 1 2 4 5 4 3 2 9 offsets torch longtensor 0 4 device device cuda 0 if cuda is available else device cpu if cuda device count 1 model nn dataparallel model model to result input offsets print result
steps to reproduce the behavior import torch import numpy as np from pil import image import torchvision transforms as trfs i image open vault camvid labels labels 0001tp p png np unique i array 4 5 8 10 12 14 16 17 19 21 22 24 26 27 30 dtype uint8 t trfs compose trfs totensor ii t i torch unique ii tensor version version version version
steps to reproduce the behavior 1 compile any cuda extension 2 cuobjdump list elf tmp torch extensions my ext my ext so it shows something like my ext 1 sm 30 cubin i e cuda arch version when my card has version and i had compiled pytorch with torch cuda arch list version i noticed because ldg wasn t supported
steps to reproduce the behavior i have compiled a minimal cpu and gpu gist that should reproduce this issue cpu url gpu url the cpu gist uses the memory profile package so that will need to be installed with pip
python import torch def mult1 x return x prod dim 1 prod dim 1 class mult torch autograd function staticmethod def forward ctx x y mult1 x ctx save for backward y return y staticmethod def backward ctx grad output y ctx saved tensors return grad output none none mult2 mult apply def check gradgrad repeated gy torch autograd grad 0 create graph true ggy 1 torch autograd grad gy 0 0 0 retain graph true gy autograd create graph true ggy 2 gy retain graph true print ggy 1 ggy 2 ones 2 4 4 requires check gradgrad repeated mult1 check gradgrad repeated mult2 the output is tensor tensor tensor tensor
python import torch from torch import nn device torch device cuda rnn nn gru input size 256 hidden size 128 num layers 2 batch first false dropout version bidirectional true rnn eval rnn rnn to device with torch no grad traced jit trace rand 50 10 256 dtype float32 to device params for k v in traced named parameters params k v jit save traced traced pt jit load pt for k v in named parameters diff max abs params k v item if diff 0 print diff out weight hh l0 version bias ih l0 version bias hh l0 version weight ih l0 reverse weight hh reverse bias ih reverse bias hh reverse weight ih l1 l1 l1 l1
steps to reproduce the behavior 1 create pytorch model import torch import torch nn as nn import numpy as np from torch autograd import variable class pytorchmodel nn module def init self super pytorchmodel self init self bn nn batchnorm2d 1 momentum version def forward self x x bn x return x pytorch model pytorchmodel pytorch model eval data np random uniform 0 1 size 1 224 224 variable torch tensor data 2 convert it to onnx out onnx export pytorch model onnx export params true 3 load onnx caffe2 python backend as caffe2 backend load attribute name momentum f version type float
steps to reproduce the behavior python import numpy as np import torch evals torch logspace 4 3 100 dtype torch double cov torch diag evals print logdet cov print sum log svd cov 1 print log prod svd cov 1 print np linalg slogdet 1
steps to reproduce the behavior 1 build libtorch with caffe2 statically 2 try to use find package torch config
steps to reproduce the behavior 1 create sample app that loads a model in libtorch 2 have the cmakelists find package torch config and link the app to torch libraries 3 when compiling notice undefined references code c include torch script h int main std shared ptr torch jit script module model jit load model path cmake add executable test main cpp find package config required target link libraries test libraries
steps to reproduce the behavior 1 use reflection pad 2d with an image that is 3x width than height runtimeerror argument 4 padding size should be less than the corresponding input dimension but got padding 46 46 at dimension 3 of input 1 3 128 36
steps to reproduce the behavior git clone recursive url virtualenv p python3 pytorch virtualenv source pytorch virtualenv bin activate python3 m pip install future leveldb numpy protobuf pydot python gflags pyyaml scikit image setuptools six hypothesis typing tqdm python3 m pip install verbose pytorch python3 c import pydoc pydoc locate torch nn modules conv conv1d deactivate output traceback most recent call last file usr lib python version pydoc py line 347 in safeimport module import path file home xxxxxxxxxx desktop pytorch virtualenv lib python version site packages torch init py line 79 in module from torch c import importerror libiomp5 so cannot open shared object file no such file or directory during handling of the above exception another exception occurred traceback most recent call last string line 1 in module usr lib python version pydoc py line 1588 in locate nextmodule safeimport join parts n 1 forceload usr lib version py 362 safeimport raise errorduringimport path sys exc info errorduringimport problem torch importerror libiomp5 so cannot open shared object no such or directory
i use the code below python import torch import torchvision resnet torchvision models resnet18 true resnet eval traced net torch jit trace resnet torch randn 3 3 224 224 traced net eval def check inp out1 resnet inp out2 traced net inp return torch sum out1 out2 for i in range 5 print check randn 1 3 224 224 for i in range 5 print check randn 3 output tensor 1000 tensor 1000 tensor 1000 tensor 1000 2009 2066 2119 2049 2023
steps to reproduce the behavior 1 clone the code in the gist at url via git clone url catbug 2 run cd catbug python3 setup py build develop 3 run python3 run py the relevant point in backtrace is at frame 4 torchloops cpython 37m darwin so pybind11 cpp function dispatcher self args in kwargs in at pybind11 h 691 688 t 689 t pyerr setstring pyexc systemerror exception escaped from default exception translator 690 t return nullptr 691 t 692 693 auto append note if missing header is suspected std string msg 694 if msg find std std string npos
shape 1000 1000 for i in range 10000 if i 9990 print tr ones shape fill i mean t tr ones shape fill i cuda mean produces tensor version t tensor 9991 device cuda 0 tensor version t tensor version device cuda 0 version t 9993 device cuda 0 9994 device 0 9995 9996 9996 9998 9999
steps to reproduce the behavior import torch w torch randn 2 1024 3 3 torch norm w p fro dim 2 3
import torch from torch distributions import relaxedbernoulli torch manual seed 2 dist relaxedbernoulli temperature torch tensor version logits tensor version sample dist sample print sample 8e format sample print log prob version f format dist log prob gives the following output version e 00 log prob nan
python def f x return x jit fn torch jit trace f torch tensor 0 dtype torch uint8 jit fn torch tensor 0 dtype uint8 tensor 1 dtype uint8 jit fn tensor 0 0 dtype uint8 runtimeerror output with shape 1 doesn t match the broadcast shape 2 compute shape at users soumith mc3build conda bld pytorch work aten src aten native tensoriterator cpp 534 frame c10 error error c10 sourcelocation std 1 basic string char std 1 char traits char std allocator char const 64 in libc10 dylib frame at tensoriterator compute shape 1568 in libcaffe2 dylib frame 2 at tensoriterator builder build 39 in libcaffe2 dylib frame 3 at tensoriterator binary op const const 434 in libcaffe2 dylib 4 native sub out const c10 scalar 718 0x11bfad4ae libcaffe2 5 native sub c10 scalar 35 0x11bfadc73 6 typedefault sub scalar 232 7 autograd variabletype sub scalar 1254 libtorch 8 std function func anonymous namespace 492 allocator anonymous namespace 492 int vector ivalue allocator ivalue operator vector ivalue allocator ivalue 163 libtorch 9 interpreterstateimpl runimpl vector 455 libtorch
steps to reproduce the behavior 1 copy the code snippet into reproduce py and run python reproduce py the code snippet to reproduce the error python usr bin python coding utf 8 import argparse import gc import os import time torch torch distributed as dist torch nn functional as f from torch multiprocessing process from utils data dataloader from nn parallel distributeddataparallel dataparallel from utils data distributed distributedsampler def show gpu memory device none if device is none device cuda current device print
1 i am using a charrnn model saved using torch jit trace code is available here url 2 trace model is then loaded into this script and mixing up with script functions python import torch import string debug true device cpu if not torch cuda is available else cuda traced generator torch jit load charrnn model pt device jit script def post processing output output dist output squeeze div version exp prob multinomial output dist 1 0 return prob jit script def seq loop inputs hidden prediction seq length int out i 0 while i prediction seq length hidden traced generator inputs hidden inputs post processing out append inputs i 1 return out save seq loop pytorch issue pt 3 executing above will throw indexerror map base at
steps to reproduce the behavior 1 torch backends cudnn deterministic true random seed 1 torch manual seed 1 torch cuda manual seed all 1 np random seed 2 define a module as nn lstm input size 256 hidden size 256 num layers 3 dropout version bidirectional true 3 training with the defined module multiple times
python import torch segfaults v torch randn 1000 1 m torch randn 1000 1000 cuda solve torch gesv v m results in 1 14965 segmentation fault core dumped python gesv bug py
import torch as t y t tensor 1 1 10 10 mask y ge 5 source t tensor 999 y clone y clone masked scatter mask source the intentional error equal clone false but it should remain the same
run the code above on single gpu
see attached code snippet steps to reproduce the behavior usr local cuda bin nvprof profile from start off python cudagetdevice py output usr local cuda bin nvprof profile from start off python cudagetdevice py nvprof is profiling process command python cudagetdevice py warning profiling results might be incorrect with current version of nvcc compiler used to compile cuda app compile with nvcc compiler version or later version to get correct profiling results ignore this warning if code is already compiled with the recommended nvcc version profiling application python cudagetdevice py result type time time calls avg min max name gpu activities us 1 us us us sgemm nt vec 1 zn2at4cuda75 global n 51 tmpxft 11 copy compute 75 cpp1 ii global n 51 tmpxft 11 copy compute 75 cpp1 ii 6tensorerks6 eulrfrkfe ffjli1eli2eli1eeevns0 6detail10tensorinfoit0 t2 eensf it1 sh eesh t api calls s 2 ms s cudalaunchkernel 11 3 cudasetdevice 2 cudagetlasterror
1 install anaconda and eclipse 2 install pytorch using conda install pytorch cpu torchvision cpu c pytorch 3 copy and paste code on eclipse ide import torch import numpy as np a torch tensor np array 1 test torch torch log a add a a error undefined variable from import log
python import torch torch jit script def test ones like x return torch ones like x dtype torch int64 test ones like zeros 4 5 run with pytorch jit 0 python ones like test py works fine pytorch jit 1 python test py gives error runtimeerror arguments for call are not valid for operator aten tensor self tensor keyword argument dtype unknown for operator aten tensor self int dtype int layout device device tensor argument layout not provided jit script def x return x dtype int64 here for call at script def return int64 here
steps to reproduce the behavior import torch import torch nn as nn import onnx import onnx tf class model nn module def forward self x x nn functional upsample x scale factor 2 mode bilinear align corners false return x model model dummy input torch arange 1 5 view 1 1 2 2 float torch onnx export model dummy input dummy onnx load dummy tf tf backend prepare error runtimeerror upsample without nearest or bilinear is not supported in tensorflow
pytorch in 80 a torch triu torch ones 5 5 in 81 a out 81 tensor 1 1 1 1 0 0 0 0 in 82 a min dim out 82 tensor tensor 4 4 4 4
execute the following command with mnist dataset python resnet50 trainer py train data mnist train lmdb num gpus 4 batch size 64 num channels 1
run this script python import threading import torch class mymodule torch jit scriptmodule instantiating this outside the main thread causes a deadlock def init self super mymodule self init torch jit script method def forward self action torch tensor return ones 100 100 action def run print creating scriptmodule module mymodule print done without deadlock module tensor 0 print ran scriptmodule thread threading thread target run thread start join steps to reproduce the behavior 1 run the above script 2 observe deadlock lldb backtrace at url points at a gil acquisition issue
steps to reproduce the behavior 1 uninstall all cuda versions nvidia drivers 2 reinstall cuda version cudnn version nccl version 3 make a fresh conda environment 4 git clone recursive url 5 python setup py install end of the error message is as follows 44 linking cxx executable bin c10 intrusive ptr test 44 built target c10 intrusive ptr test 44 linking cxx static library lib libprotoc a 44 built target libprotoc linking cxx static library lib libgloo cuda a built target gloo cuda makefile 140 recipe for target all failed output of build log url
steps to reproduce the behavior dist torch distributions binomial logits torch tensor version dist sample tensor 1 dist log prob dist sample tensor inf
steps to reproduce the behavior 1 taking a pretrained pytorch nn e g unet trace it and save the script module 2 load the script module n times using libtorch and c interface producing n module instance 3 convert everything to use gpu setting any flags that might affect determinism setdeterministiccudnn true and setbenchmarkcudnn false 4 using openmp to do forward computation in a multithread environment with n max threads and each thread using its own module instance 5 repeat several times compare the result
python import torch def new tensor tensor p tensor p tensor p p 500 torch rand 5000 100 cuda copy clone new new copy print different elements copy nonzero size 0
cpu torch longtensor 2 3 0 3 3 1 3 1 1 cpu argmax dim 1 tensor 4 cuda torch cuda longtensor 2 0 cuda argmax dim tensor 4 device cuda 0 when i did the same on another machine pytorch version version cpu torch longtensor 2 0 cpu argmax dim tensor 4 torch longtensor 2 argmax dim tensor device
i m unsure how to create a minimal example with working data python class packedsequences torch tensor staticmethod def new cls tensors args kwargs flat torch cat tensors return super new cls flat args kwargs def init self tensors self lengths len t for t in tensors def collate seq batch batch packedsequences batch assert type batch packedsequences return dataset none dataloader dataloader dataset collate fn collate seq dataloader 0 type 0 torch tensor
import torch import torch nn as nn from torch multiprocessing import pool set start method try set start method spawn except runtimeerror pass class dummy def init self device self device device self layer nn linear 100 100 to self device share memory removing share memory doesn t have any effects def run layer torch rand 1000 100 to def run steps agent for k in range 100 agent run n gpus 2 agents dummy cuda d k for k in range n gpus this hangs pool pool n gpus pool map run steps agents if instead i use threads everything works this works from multiprocessing dummy import as dthreadpool dthreadpool n gpus map steps agents
steps to reproduce the behavior 1 download this url by 20 version mib sample matrix 2 run code sample below with matrix npy in working directory import numpy as np import torch torch set printoptions precision 16 np set printoptions precision 16 testj np load matrix npy t testj torch from numpy testj testphi np matmul testj t t testphi torch matmul t error abs testphi testphi data numpy max error abs from numpy max print matrix print print print version s version s version type s type s type type dtype dtype dtype dtype max absolute difference as f error max absolute difference as f error
import torch s 10 x torch rand s float y torch zeros s float y x float assignment works correctly print y tolist y torch zeros s dtype long long x assignment from long tensor to float tensor silently fails print tolist
for i in range 0 25 x th tensor 2 15 i 2 3 4 half print x 0 tensor 32768 dtype torch float16 tensor 32768 dtype torch float16 tensor 32768 dtype torch float16 32768 dtype torch float16 32752 32752 32752 32752 32736 steps to reproduce the behavior 1 run code above on latest pytorch branch released to pip
steps to reproduce the behavior 1 followed guide posted here url from source 2 used conda environment with magma cuda80 3 failed when setup py install was run
import torch torch tensor 3 torch tensor 0
steps to reproduce the behavior import numpy as np import torch import torch nn as nn import torch nn functional as f from torch tensor from collections ordereddict class maskedlinear nn linear t same as linear except has a configurable mask on the weights tdef init self in features out features bias true t tsuper init in features out features bias t tself register buffer mask ones out in tdef forward self input t treturn f linear input self mask self weight bias if name main trng np random randomstate 14 tnin 3 thidden size 4 tnout 5 tinput bins 2 1 2 tnet maskedlinear nin hidden size relu maskedlinear hidden size nout tmodel sequential net td ordereddict 0 weight tensor version version version version 0 bias tensor 0 mask tensor 1 1 0 1 2 weight 2 tmodel load state dict d tmodel eval tk tinp trng rand nin astype np float32 requires grad true tloss model inp tl loss k tl backward tprint grad inp grad tassert inp grad and inp
python print torch log softmax doc none python print torch nn functional log softmax doc correctly prints documentation
import numpy as np import torch outputs np random rand 16 1 256 256 outputs np hstack outputs version outputs targets np random randint 2 size 16 256 256 seed 0 torch backends cudnn deterministic true torch backends cudnn benchmark false for reduction in none sum mean print reduction for i in range 10 torch manual seed seed random seed t targets t from numpy from numpy targets t targets t cuda 0 cuda 0 loss fn nn crossentropyloss reduction reduction loss fn loss fn cuda 0 loss fn detach cpu numpy print i sum sum mean mean sum mean
install torch and navigate to site packages torch init pyi e g search for c10 nullopt in it
import torch a torch floattensor 1 1 1 2 2 2 3 3 3 b torch floattensor 4 4 4 5 5 5 6 6 6 torch cross a 0 b 0 tensor 0 0 cross a b dim 1 tensor cross a b dim tensor 3 6 cross tensor dim 2
steps to reproduce the behavior torch zeros 2 3 3 flip 1
steps to reproduce the behavior pyt c users tharindu conda install pytorch torchvision cudatoolkit version c pytorch solving environment done warning a newer version of conda exists current version version latest please update conda by running conda update n base c defaults
python print good torch randn 5 5 5 max 1 print terrible torch randn 5 10 max 1 print not as good torch randn 500 max 1 print old behavior gold standard tuple torch randn max 1 tuple 10 tuple 500 gives good return types values tensor version version version version indices tensor 4 2 4 2 2 2 0 4 3 3 0 4 0 terrible return types not as good return types values tensor old behavior gold standard tensor 0 3 3
bash git clone git github com pytorch pytorch git cd pytorch git submodule update init recursive conda install numpy pyyaml mkl mkl include setuptools cmake cffi typing export cmake prefix path conda prefix dirname which conda export no cuda 1 python setup py install
python import torch x torch randn 4 tensor version version version version x 0 x 1 x 1 0 print tensor torch randn 4 4 assert not 0 1 all 0 1 assert not all
steps to reproduce the behavior python import numpy as np import torch x np array xt torch from numpy x xt tensor dtype torch float64 x np array for i in range 10 xt torch from numpy x traceback most recent call last file stdin line 1 in module runtimeerror trying to resize storage that is not resizable at users administrator nightlies pytorch version wheel build dirs wheel version pytorch aten src th thstoragefunctions cpp 70
steps to reproduce the behavior 1 create a model with a dropout module in pytorch 2 export the model using onnx 3 export the model as protobuf files using the caffe2 mobile exporter 4 load model and try to execute it in caffe2 using workspace predictor you should see something as following error blobistensortype blob cpu blob is not a cpu tensor blobnumber
steps to reproduce the behavior 1 compile for macos version with cuda as detailed in contributing i exported cudnn library and cudnn include dir as well 1 run python test run test py i get the following error clang bundle undefined dynamic lookup l users hameerabbasi anaconda3 envs pytorch lib arch x86 64 l users hameerabbasi anaconda3 envs pytorch lib arch x86 64 arch x86 64 build temp macosx version x86 64 version cuda extension o build temp macosx version cuda extension kernel o build temp macosx cuda extension kernel2 o l usr local lib64 lcudart o build lib macosx torch test cpp extension cpython 37m darwin so ld warning directory not found for option l usr local lib64 ld library not found for lcudart whereas cudart definitely exists echo home usr local ls home lib grep libcudart libcudart dylib libcudart dylib libcudart static a
the minimum to code to reproduce is import torch import torch nn as nn device cpu dtype torch double rnn nn gru 10 20 num layers 2 to device dtype input torch randn 5 6 10 device device dtype dtype requires grad true output rnn input other observations are a the above code works for cuda b the above code works for float c the above code works if following is used for input input randn 3 3 10 requires grad true
not working cuda longtensor torch cuda longtensor 10 random 2 63 2 63 traceback most recent call last file stdin line 1 in module runtimeerror overflow when unpacking long not working cuda inttensor all random numbers identical torch cuda inttensor 10 random 2 31 2 31 tensor device 0 dtype torch int32 not working cpu longtensor torch longtensor 10 random 63 63 traceback most recent call last file stdin line 1 in module runtimeerror overflow when unpacking long working cpu inttensor inttensor 10 31 31 tensor dtype int32
for example consider the following minimal non working example which implements the custom function y factor sin x python import torch import numpy as np class mysin torch autograd function staticmethod def forward ctx input factor 1 args input detach numpy res factor np sin args ctx save for backward input ctx factor return torch from numpy res staticmethod def backward ctx grad output args saved tensors 0 detach numpy jacobian np diag np cos args grad input torch from grad output t jacobian return grad none my sin mysin apply calling it with passed positional or not at all works fine python x autograd variable tensor version requires true out my sin x 6 out backward print x 6 cos version tensor version version however passing it as a keyword argument results in an error python autograd variable tensor requires true out my 6 out backward typeerror traceback most recent call last ipython 60 in module 1 autograd variable tensor requires true 2 my 6 3 4 typeerror apply takes no keyword arguments
python3 import torch from timeit import timeit some defaults number 48000 n 256 torch set grad enabled false print pytorch version torch version print mkl torch backends mkl is available print iterations number print threads get num threads size n a rand 256 test for performance kwargs globals globals number number multinomial a 1 timeit multinomial a 1 kwargs
python3 import torch from timeit import timeit some defaults number 24000 n 1024 torch set grad enabled false print pytorch version torch version print mkl torch backends mkl is available print iterations number print threads get num threads size n create arguments a rand 3 n b rand 3 n c rand d zeros 3 addmv a b c out d d1 zeros 3 addmv a b c out d1 addmv a 2 b 2 c out d1 2 addmv 2 out d1 test for numerical equality assert equal d test for performance kwargs globals globals number number timeit d kwargs total timeit kwargs total s slice s s s kwargs total broken total
steps to reproduce the behavior git clone recursive url cd pytorch set vs150comntools c program files x86 microsoft visual studio 2017 enterprise vc auxiliary build set cmake generator visual studio 15 2017 win64 set distutils use sdk 1 call vs150comntools vcvarsall bat x64 vcvars ver version python setup py install building wheel torch version a0 23e1c55 building version version a0 23e1c55 ninja error aten src aten code template py needed by aten src aten cpubytetype cpp missing and no known rule to make it traceback most recent call last file setup py line 720 in module build deps file setup py line 279 in build deps build dir file e pytorch tools pytorch libs line 235 in caffe2 cwd dir env my env file c users nerothos appdata local programs python python37 32 lib subprocess line 347 in check call raise calledprocesserror retcode cmd subprocess calledprocesserror command cmake target install config release j 7 returned non zero exit status 1
simply let me configure it just doing cmake from build subdirectory
steps to reproduce the behavior 1 conda create n pytorch master python version 2 source activate pytorch master 3 conda install pytorch nightly c pytorch conda install nightly c solving environment done warning a newer version of conda exists current version version latest please update by running update n base c defaults
steps to reproduce the behavior 1 run the attached script might need to install tqdm i reproduce the problem using the following script python import os os environ setdefault omp num threads 1 os environ setdefault mkl num threads 1 import torch torch set num threads 1 import numpy as np import multiprocessing from multiprocessing pool threadpool from tqdm tqdm pool threadpool multiprocessing cpu count 2 test tensor torch zeros 16 1024 1024 conv torch nn conv2d 16 16 4 2 print version version def run with no grad conv test tensor return for out in tqdm pool imap run range 10000 total 10000 pass pool close join fails on nightly preview version python conv segfault py version 12 1198 10000 00 23 02 53 it s 10749 segmentation fault core dumped python conv segfault py also on python segfault py 18 1850 10000 00 37 02 49 it s 10908 segmentation fault core dumped segfault py but works correctly on which doesn t have mkldnn i 100 1000 1000 04 47 00 00 it s
steps to reproduce the behavior import numpy as np import torch t torch floattensor np nan t clamp 10 10 out 26 tensor nan t cuda clamp 10 10 out 25 tensor device cuda 0
steps to reproduce the behavior 1 import torch 2 x torch tensor 1 2 3 4 3 x resize 1
torch cholesky torch ones 2 2 runtimeerror torch cholesky torch ones 1 2 2 runtimeerror cholesky ones device cuda runtimeerror cholesky ones 1 device cuda tensor 1 0 1 nan device cuda 0
what if i want to define a field as a property to provide a clear way to override it in class that inherits from it python import torch nn as nn class testmodule nn module def init self super init self l1 nn linear 1 2 property def l2 self return linear 2 3 test module testmodule list test module children output linear in features 1 out features 2 bias true there is no l2
minimal example c api include torch torch h int main for int i 0 i i auto x torch ones 1 torch requires grad true auto y x x y backward c10 nullopt true true
steps to reproduce the behavior python for i in range 10000 for j in torch ones 600 30000 device cuda multinomial 1000 if j size j unique size print error
test 1 if the following is 0 the rng sucks torch floattensor int 1e8 uniform eq 0 sum test 2 if the following is inf the rng sucks torch floattensor int 1e8 uniform log sum
in 1 import torch in 2 x torch randn 10 8 requires grad in 3 y x x sum 1 0 x sum 1 0 guaranteed to be all false in 4 z y sum 5 z backward floating point exception core dumped
steps to reproduce the behavior import torch def make normal batch batch size channels seqlen samples channels seqlen m torch distributions multivariatenormal torch zeros samples scale tril torch eye samples data m sample batch size data data reshape batch size channels seqlen return data make normal 10 200 120 this may use up all ram
steps to reproduce the behavior 1 import torch 2 import pathlib 3 f pathlib path models pth tar 4 params torch load f then typeerror invalid file posixpath models pth tar it operates correctly as below torch serialization py 365 line under the condition of sys version info 0 3 and isinstance f pathlib path f open rb open rb
import numpy as np import torch x np load x npy avg np np average x axis 1 returned true x th torch tensor avg th torch mean th dim 1 assert th numpy all assert avg avg numpy all this fails alread none none different abs numpy print different max
steps to reproduce the behavior run the following code sp mat torch sparse floattensor torch longtensor 0 0 1 0 1 2 torch floattensor 1 2 3 torch size 3 3 mat nn parameter ones 3 res sparse mm sp mat mat t print res res sum backward this will work when changing t to
k torch ones 1 1 1 1 requires grad true expand 2 i torch ones print torch nn functional conv2d i k print torch nn functional conv2d i k contiguous give 0 in the first and in the second case the requires grad is to print the grad fn pointing to mkldnn
code below python import torch import torch nn as nn torch cuda manual seed all 0 torch manual seed 0 def gradient penalty netd x functional gradient calculation output netd x gradients autograd grad outputs output inputs x grad outputs x new ones output size create graph true retain graph true 0 mean return gradients net nn linear 4 1 cuda multigpu net nn dataparallel net 0 1 ones 2 4 requires grad true cuda print single gpu functional net zero grad loss gradient penalty loss backward print loss loss item print p for p in parameters if p is not none print multi gpu functional multigpu zero gradient penalty multigpu backward item p for in parameters if is not none multi gpu inline multigpu zero output compute inline autograd outputs inputs outputs new ones size create graph true retain graph mean backward item for in parameters if is not none br for a single gpu calling penalty function single functional version tensor version version version device cuda br calling function multi tensor device br multi calling autograd inline not inside a function inline tensor device tensor device br
x norm adj torch tensor 1 0 0 1 0 1 0 1 2 to sparse print right print torch sparse sum x dim 2 print wrong print torch sparse sum x dim
python version packaged by conda forge default nov 21 2018 03 09 43 gcc version on linux import caffe2 python onnx backend as backend warning root this caffe2 python run does not have gpu support will run in cpu only mode import torch traceback most recent call last file stdin line 1 in module file home xxxx local lib python version site packages torch init py line 80 in module from torch c import importerror home xxxx local lib version site packages torch lib libcaffe2 gpu so undefined symbol when running the below packaged by conda forge default nov 21 2018 03 09 43 gcc on linux from caffe2 import onnx from onnx backend as backend no error was observed during importing but the wrong onnx module is imported this way it seems pytorch and caffe2 not playing nice
cpu rounding torch tensor version version version version round tensor 2 2 4 4 gpu rounding torch tensor cuda round tensor 2 3 4 5 device uda 0
steps to reproduce the behavior using the example on url torch nn maxunpool1d import torch nn as nn pool nn maxpool1d 2 stride 2 return indices true unpool maxunpool1d 2 stride 2 example showcasing the use of output size input torch tensor 1 3 4 5 6 7 8 9 output indices pool input unpool output indices output size input size
steps to reproduce the behavior 1 download the windows libtorch nightly binaries url 2 unzip files 3 unzipped files are just libtorch lib cuda dlls dll
steps to reproduce the behavior python import torch from torch import nn torch backends cudnn deterministic true x torch randn 1 1 16 16 to cuda half conv nn conv2d 1 1 3 bias false to cuda half print conv x shape python traceback most recent call last file main py line 9 in module print conv x shape file usr local lib python version dist packages nn modules module py line 492 in call result self forward input kwargs file usr local lib python version dist packages nn modules conv py line 320 in forward self padding self dilation self groups runtimeerror cudnn error cudnn status bad param
import time import torch n 1024 batch size 256 ntrials 1000 x torch randn batch size n start time perf counter x flip 1 for in range ntrials end time perf counter print flip time cpu s format end start reverse index torch arange n 1 1 1 start perf counter x reverse index for in range ntrials end perf counter print advanced indexing cpu s format end start x to cuda reverse index reverse index to cuda torch cuda synchronize flip for in range ntrials cuda synchronize print flip s format for in range synchronize print advanced indexing s format cpu version advanced indexing cpu version version advanced indexing version
steps to reproduce the behavior install stable non cuda torch i e url python import torch import torch nn as nn a torch tensor 1 2 3 b tensor 1 2 3 nn mseloss a b tensor version
run the code below to reproduce import torch class havesequential torch jit scriptmodule def init self super init self someseq torch nn sequential torch nn conv2d 1 20 5 nn relu nn conv2d 20 64 5 relu jit script method def forward self x return self someseq x hs havesequential hs save test ptn the error messages are below traceback most recent call last file test py line 18 in module hs save test ptn runtimeerror could not export python function call python value remove calls to python functions before export jit script method def forward x return someseq x here
import torch batch size 256 256 transform parameters torch cuda floattensor 1 0 0 0 1 0 transform parameters torch stack transform parameters batch size contiguous resampling grids torch nn functional affine grid transform parameters size batch size 1 2 2 print resampling grids crashes with the following error traceback most recent call last file bug py line 5 in module resampling grids nn functional affine grid batch 1 2 2 file home aosokin local software anaconda3 envs pytorch lib python version site packages nn functional py line 2615 in affine grid return vision affine grid generator theta file home aosokin local software anaconda3 envs pytorch lib python version site packages nn functions vision py line 10 in generator ret cudnn generator theta n c h w runtimeerror cudnn error cudnn status execution failed if i set to 256 256 or do operation on a cpu everything works fine behavior is very similar to the inverse bug 13276 but with a different function and a different error message
steps to reproduce the behavior import torch t torch tensor 0 optimizer torch optim sgd t lr 1 lr sched torch optim lr scheduler reducelronplateau optimizer verbose true patience 3 print first step all good loss tensor 1 print f loss loss print f id loss is hex id id best is hex id lr sched best sched step best1 sched best item print f best1 best1 second step failure 1 this is equivalent to best 1 which is bad f hex hex step best2 item best2 best2 third mitigation tensor 3 new tensor best3 item best3 best3 result check assert best1 best2 best3 on no got worse output first all good version second failure 2 version third mitigation 3 version assertionerror traceback most recent call last ipython input 60 in module 29 30 result check 31 assert on no got worse assertionerror on no got worse
steps to reproduce the behavior 1 create a random half precision matrix 2 multiply a random half precision vector by it 3 do the same as above for 32 bit floats 4 notice the difference
steps to reproduce the behavior the following snipped python x torch tensor version version requires grad true n torch tensor version version y x n y torch where n 0 torch zeros like y y sum backward print print x grad results in tensor grad fn swherebackward tensor nan
steps to reproduce the behavior code fragments define a hook def myhook m grad input grad output name none print name print for grad in grad input if is not none print size else print none for in output if is not none size else hook up for idx m in enumerate model named modules if isinstance m 1 torch nn linear logger info t registering backward hook format m 0 h 1 register backward hook partial myhook name 0 build a model with linear nn linear 64 10 run with batch size 128 and get linear 128 10 128 64 64 10 128 10
steps to reproduce the behavior 1 import torch 2 torch jit load not a real file import torch torch jit load not a real file traceback most recent call last file stdin line 1 in module file home liam virtualenvs py35 lib python version site packages jit init py line 131 in load c import ir module module lookup f map location runtimeerror enforce fail at inline container cc 130 pytorchstreamreader failed opening archive frame 0 std function std string operator const 0x11 0x7f1edc5befe1 in home liam virtualenvs py35 lib python version site packages lib libc10 so frame 1 c10 throwenforcenotmet char const int char const std string const void 0x49 in home liam virtualenvs py35 lib python version site packages libc10 so frame 2 jit pytorchstreamreader valid char 0xe5 home liam virtualenvs py35 python version site packages libcaffe2 so frame 3 pytorchstreamreader pytorchstreamreader std string istream 0x459 libcaffe2 so 4 import ir module function shared ptr script vector string allocator c10 optional c10 device 0x50 libtorch 1 5 unknown function 0x3a56c1 libtorch 6 unknown function 0x116fac libtorch omitting frames 9 0x5406df 11 13 16 0x46cfa0 17 0x4cf2bd 19 libc start main 0xf0 x86 64 linux gnu libc 6
here s a small c program compiled with latest c distribution from pytorch home page include torch torch h include iostream int main auto x torch arange 1 4 torch kint std cout x x std endl auto y zeros like x std cout y y std endl eq y cout endl this returns dani dfalbel system product name torch2 example app build example app 1 2 3 variable cpuinttype 3 0 0 0 variable cpuinttype 3 1 1 variable cpuinttype 3
steps to reproduce the behavior 1 install linuxbrew and anaconda on ubuntu version 2 install gcc 7 cmake and other building tools from linuxbrew 3 conda install numpy pyyaml mkl mkl include setuptools cmake cffi typing add lapack support for the gpu if needed conda install c pytorch magma cuda92 or magma cuda80 magma cuda91 depending on your cuda version 4 export cc cxx and cuda home correctly then run git clone and python setup py to build 5 fix all issues on compilation process including move magma headers to include path manually replace g 7 with this wrapper script url where realg 7 is real g remove i usr include from command line manually once nvcc fails repeat several times to fix all compilation errors manually 6 the installation process succeeded try it
python import torch from torch import nn from torch nn import functional as f python def print max diff x y print x y abs max python def have fun x w z linear f linear x permute 0 2 1 w permute 0 2 1 z conv f f conv1d w unsqueeze 2 layer nn conv1d 2 1 bias false sd layer state dict sd weight w unsqueeze layer load state dict sd z conv layer print z linear print conv conv max diff linear max diff python torch rand 1 3 rand have fun tensor version version version version tensor tensor grad fn squeezebackward1 tensor 0 grad fn maxbackward1 0 have fun inverse grad fn squeezebackward1 grad fn maxbackward1 have fun inverse clone squeezebackward1 maxbackward1 t squeezebackward1 maxbackward1 t clone
run the following in terminal git clone url cd fcn in the wild fcn pretrain model then start python and run the following commands import torch torch load vgg16 from caffe pth this returns traceback most recent call last file stdin line 1 in module file opt conda lib python version site packages torch serialization py line 367 in load return load f map location pickle module file opt conda lib python version site packages torch serialization py line 528 load magic number pickle module f pickle unpicklingerror invalid key
steps to reproduce the behavior 1 create a neural net with batch norm 2 send in an input vector with a batch during train and one without a batch during eval
test indexing torch tensor 1 2 3 4 5 6 print test indexing 7 0 this gives the message indexerror index 7 is out of bounds for dimension 0 with size 2 print test indexing 0 7 this gives the error indexerror index 7 is out of bounds for dimension 0 with size 3
good torch sparse floattensor 2 3 tensor indices tensor size 2 0 values tensor size 0 size 2 3 nnz 0 layout torch sparse coo bad torch sparse floattensor 2 3 tensor 3 good a torch sparse floattensor a new indices size 0 values nnz layout coo bad a new
try to compile the following code cpp struct m torch nn module m out does not compile auto out std make shared m compiles ok std stringstream ss torch save out ss
python test py import os import sys import gc import logging time torch torch distributed as dist from torch distributed get rank get world size from mpi4py mpi comm mpi comm world size comm get size rank comm get rank print rank size os environ cuda visible devices str os environ master addr version os environ master port 23333 environ world str str dist init process group backend gloo print initialize gloo successfully pid format getpid torch backends cudnn benchmark true if name main batch 16 feat dim 2048 pid getpid prev mem 0 tensor list floattensor batch feat dim for in range world values floattensor batch feat dim for idx in range 10000 if idx 20 0 and 0 cur mem int open proc s statm pid r read split 1 version 256 add mem cur mem prev prev cur print train iterations s added s m idx add dist all gather tensor list tensor list tensor values steps to reproduce the behavior bash mpirun n 4 python test py result train iterations 2340 added version m train iterations 2360 added version m train iterations 2380 added m 2400 2420 2440 2460 2480 2500 2520 2540
running the following script import torch import torch distributions as dist import torch multiprocessing as mp torch set default tensor type cuda floattensor n 10 def model d1 dist normal zeros 3 1 v1 d1 rsample no error when replace rsample by sample d2 dist normal v1 2 v2 d2 rsample return d1 v1 d2 v2 def worker q e for i in range n sample zeros 1 ones 1 no error when remove this line sample model q put sample e wait e clear if name main ctx mp get context spawn q ctx queue e ctx event p ctx process target worker args q p start for i in range n print iter format i get print set p join
steps to reproduce the behavior 1 build some sparse tensor in the following a has shape 1000 1000 and layout sparse coo 2 build some tensor in the following x has shape 1000 3 observe einsum breaking when doing einsum ij j i a x observe einsum being fine with einsum ij j i a to dense x runtimeerror sparse tensors do not have strides
install pytorch and run the following code import torch import torch nn functional as f f conv2d torch ones 1 1 3 3 torch ones 1 1 5 3 traceback most recent call last file stdin line in module runtimeerror invalid memory size maybe an overflow at opt conda conda bld pytorch cpu work aten src th thgeneral cpp 188 f conv2d ones 3 ones 5 5 traceback most recent call last file stdin line in module runtimeerror std exception
steps to reproduce the behavior if you have a perfect uniform vector and you apply log softmax to it and backprop the marginal then the gradients should be 0 for example a torch ones 2 300 requires grad true float p torch softmax a dim 1 log x p sum x backward a grad sum 0 but it is not the case if you use log softmax torch ones 2 300 requires grad true float p torch log softmax dim 1 x p sum x backward grad sum tensor version e 05 granted gradients are small but for optimizers like adam especially at initialization no gradient means 0 update but with larger learning rate small gradient can provide large update does anyone know why there is any gradient at all from function also behaves correctly when matrix is small for example if you do ones 2 100 etc then is fine
steps to reproduce the behavior python import torch s0 torch cuda current stream s1 torch cuda stream device 1 with torch cuda stream s1 cuda sleep print s0 query prints false print s1 query prints true
python import numpy as np import torch from torch import nn d in 25 d out 64 k 7 b 2 l 10 conv nn conv1d d in d out k stride 2 padding 0 pad nn constantpad1d 2 3 0 np random seed 1034 x np random random b l in x torch as tensor x transpose 1 2 x pad w np random k in out w w astype float32 b out w torch as tensor permute 1 0 float b as tensor float conv weight nn parameter conv bias parameter out1 conv float detach numpy w1 weight detach numpy out2 double detach numpy w2 weight detach out3 float w3 weight print w1 print allclose w1 print w1 w2 print allclose w2 w2 w3 allclose w3 out1 out2 allclose out1 out2 atol 1e 6 out2 out3 out3 atol 1e 6 result true true w3 true out1 false out3 true some notes 1 the type for the bias doesn t seem to matter and match the result for a keras convolution layer with the same weights
here is the full c program i am running include torch script h include stdio h include cuda h include cuda runtime h using namespace at int main int argc const char argv const unsigned int data 4 0 1 2 3 const unsigned int n 4 size t size sizeof unsigned n unsigned cuda pointer cudamalloc void cuda pointer size cudamemcpy pointer data size cudamemcpyhosttodevice auto gpu tensor torch at kint tensorfromblob pointer n auto cpu tensor gpu tensor totype cpu kint std cout data after the round trip auto cpu a cpu tensor accessor 1 for i 0 i n i std cout a std cout cudafree presence or absence of this cudafree call does not change the segfault on exit
python import torch print torch fmod torch tensor cpu 2 1 print torch fmod tensor cuda 2 0
steps to reproduce the behavior python import torch from torch import nn import os torch manual seed 12345 class foo nn module def init self super foo self init self bar nn linear 3 4 def forward self x return bar x if xxxx in os environ foo foo x torch randn 2 3 print x
steps to reproduce the behavior 1 run the code snippet below python import torch device torch device cuda generator torch manual seed 123 x torch zeros 10 device device x uniform version version generator generator
steps to reproduce the behavior 1 download version release or latest nightly windows libtorch binaries from pytorch org 2 extract files 3 check libtorch include aten cuda cudaconfig h version stable or libtorch lib include aten cuda cudaconfig h latest nightly 4 observe define at cudnn enabled 0 5 compile the following test program it will print no cudnn c include iostream include torch torch h int main if torch cuda cudnn is available std cerr no cudnn std endl return 1 return 0
steps to reproduce the behavior 1 create batchnorm layer on gpu 1 apply it on cpu this segfaults torch nn batchnorm1d 1 cuda torch rand 5 1 segmentation fault core dumped
minimal example to reproduce import torch import time class bugmodule torch nn module def init self num mod torch nn module init self self modlist torch nn modulelist nn linear 1000 50 for in range num mod def forward self x out modlist 0 x return out model2 bugmodule 2 model200 bugmodule 200 model2 model2 cuda model200 model200 cuda model2 dataparallel model200 dataparallel times times out floattensor 50 1000 out floattensor 50 1000 for i in range 200 t time time floattensor 50 1000 times append time t for i in range 200 t floattensor times append t print model 2 takes sec format sum version print model 200 takes sec format sum version
steps to reproduce the behavior seems to require numpy version error disappears under numpy version 1 a torch randn 1 3 byte 2 2 np any a in 20 a torch randn 1 3 byte 2 in 21 a any works fine out 21 tensor 1 dtype torch uint8 in 22 np any fails typeerror traceback most recent call last ipython input 22 in module np any usr local lib python version dist packages numpy core fromnumeric py axis out keepdims 2011 2012 2013 return wrapreduction np logical or axis none out keepdims keepdims 2014 2015 usr local lib python version dist packages numpy core fromnumeric py wrapreduction obj ufunc method axis dtype out kwargs 79 return reduction axis dtype dtype passkwargs 80 else 81 return reduction passkwargs 82 83 return ufunc reduce obj passkwargs typeerror missing required positional arguments dim
steps to reproduce the behavior 1 download the official reinforcement learning tutorial python file url 2 set num episodes to a large value e g 5000 to see the increasing memory consumption 3 set device to cpu i had only cpu available but maybe the same happens with gpu
steps to reproduce the behavior just run the code below import torch import time import matplotlib pyplot as plt class rankseparable torch nn module def init self channels kernel size 3 super init self conv1 torch nn conv2d channels channels kernel size kernel size 1 padding kernel size 1 2 0 bias true stride 1 self conv2 torch nn conv2d channels 1 padding 0 2 bias true stride def forward self in tensor output conv1 in tensor output conv2 output return output if name main cuda set device 0 num 256 batch rand 256 256 512 batch batch cuda separable rankseparable num 3 separable separable cuda separable eval times num runs 2000 skip we will just skip the first execution because it is usually slower with no grad avg time 0 for i in range num runs start time time forward batch end cuda empty cache this just increases the execution if i skip elapsed end start 1000 avg elapsed times append elapsed avg runs skip print avg ms runs format plt plot times plt show
steps to reproduce the behavior c include torch torch h you can play with cuda memory using to torch device torch kcuda int main auto model nn linear 4096 4096 auto optimizer optim adam model parameters version auto loss model forward zeros 1 4096 sum loss backward optimizer step optimizer zero grad save optimizer tmp pt while true load tmp pt 1 run this snippet with conda pytorch version or latest libtorch zip 1 you will see oom or memory increasing in top 1 i also tested model loading but it did not leak the memory
python python version default jun 28 2018 13 15 42 gcc version anaconda inc on linux type help copyright credits or license for more information import torch x torch randn 2 1 x pin memory tensor version version x torch randn 0 x pin memory tensor torch randn 0 0 pin memory tensor size 0 randn 1 pin memory tensor size 1 1 size 5 size 5 50 50 50 traceback most recent call last file stdin line in module runtimeerror trying to resize storage that is not resizable at home qbx2 pytorch aten src th thstoragefunctions cpp 70 2 traceback most recent call last file stdin line in module runtimeerror trying to resize storage that is not resizable at home qbx2 pytorch aten src th thstoragefunctions cpp 70 2 2
python torch jit script def test return 1 0 print test it outputs python test jit py
python import torch torch jit script def test tensor return tensor cpu
import torch torch save torch zeros 2 5 dtype torch int8 sample pt load sample pt it can only be reproduce in ms windows environment my windows version is version my python version is version v 6ec5cf24b7 oct 20 2018 13 35 33 msc v 1900 64 bit amd64 steps to reproduce the behavior 1 run above code in ms windows 506 data type size location 507 storage deserialized objects root key 508 if view metadata is not none runtimeerror invalid memory size maybe an overflow at aten src th thgeneral cpp 188
on servers with 2 gpus under pytorch version steps to reproduce the behavior 1 use the code in below import torch nn as nn import torch import torch nn functional as f device torch device cuda 0 class nn4 nn module def init self super nn4 self init self fc1 linear 8 4 self fc21 linear 4 1 def forward x x f selu fc1 x x1 sigmoid fc21 x return not none return x1 none def test nn4 images randn 4 8 to device fimages randn 4 8 to device d nn4 to d dataparallel d d zero grad loss images 0 mean fimages 0 mean print loss loss loss backward print aaa list named parameters print aaa 0 print aaa 1 grad d2 d2 zero grad d2 d2 images mean fimages mean backward aaa2 list named parameters aaa2 aaa2 1 grad then run the code with cuda visible devices python dp test py in console under pytorch version i get tensor version cuda fn subbackward0 module fc1 weight none tensor version cuda fn subbackward0 fc1 weight tensor however under pytorch i get tensor module weight e 02 weight
load the cmakelists txt along with the mnist cpp and download mnist py files in a folder and start a project in eclipse ide for c c version 2018 09 version in project properties c c build tool chain editor set cmake builder gnu make and select mingw gcc then in project properties general preprocessor include paths macros etc providers select cmake export compile commands parser shared and move it up as it is explained url then you can compile the mnist project without any error but when you run it get terminated exit value 390 a exe some address i tried to debug this code to find out the problem but i cannot see debug screen instead i get a page containing no source available for main at view disassembly configure when this editor is shown preferences running debug mode to end results same error
import torch from torch utils data import dataset weightedrandomsampler dataloader from tqdm import tqdm class dummydataset dataset def init self n samples 100 self n samples n samples def getitem self item return item def len self return n samples def main dataset dummydataset 20000 w torch rand len dataset abs version dataloader dataloader sampler weightedrandomsampler w 65536 num workers 4 pin memory true batch size 10 drop last true for in tqdm dataloader total len pass if name main main
this tar gz file contains numpy arrays and a script to reproduce this issue pytorch issue15655 tar gz url 1 wget url 2 tar xvf pytorch issue15655 tar gz 3 cd pytorch issue15655 4 python3 repro py repro py contains python import torch from torch nn import functional as f import numpy as np a b np load a npy np load b npy a b torch tensor cuda torch tensor b cuda sce1 f binary cross entropy sigmoid reduction sum sce2 f binary cross entropy with logits reduction sum print sce1 sce1 print sce2 sce2 print diff sce1 sce2
steps to reproduce the behavior model torch nn dataparallel model device ids 1 it assigns memory on gpu 1 with torch cuda device 1 model load state dict state here you can see the memory leak on gpu 0
steps to reproduce the behavior python import torch x torch ones 20 30 400 dtype torch uint8 device cpu x prod tensor 1 x torch ones 20 30 400 dtype uint8 device cuda x prod tensor 0 device cuda 0 the results on small tensors are correct python ones 2 3 4 dtype uint8 device cuda prod tensor 1 cuda 0
steps to reproduce the behavior 1 on ubuntu version x64 download and install anaconda 2 create an environment and install pytorch there conda install c pytorch pytorch 3 follow the instructions to try running this code url 4 get to the make sh part 5 get a importerror torch utils ffi is deprecated please use cpp extensions instead error
here is example code import torch import torch nn as nn from torch autograd import variable class computefunction nn module def init self super computefunction self init def forward self x return x 2 func computefunction class computegrads nn module def init self super computegrads init def forward x a func x input grads torch autograd grad outputs abs a sum inputs retain graph true 0 return input grads func grad computegrads dummy input variable floattensor 2 requires grad true func grad eval onnx export dummy input test onnx verbose true
steps to reproduce the behavior with python version pytorch version init process group sometimes hangs and never returns
steps to reproduce the behavior 1 install torch nightly 1 run code below python import torch import numpy as np def increment a a a set torch ones like a raises runtimeerror no such behavior before copy torch ones like return inp arange 10 np testing assert allclose inp arange 10 increment inp np testing assert allclose inp arange 10 1 increment jit jit trace increment test new one fn arange 10 np testing assert allclose jit testing assert allclose 1 error mismatch version x array 0 2 3 4 5 6 7 8 9 y array 2 3 4 5 6 7 8 9
steps to reproduce the behavior 1 download cmake files url 2 use cmake version to build
this script python import torch torch jit script def test device str torch ones 1 2 3 to device test cpu run with pytorch jit 0 python jittest py works as expected and pytorch jit 1 python jittest py gives error traceback most recent call last file jittest py line 4 in module def test device str file anaconda3 lib python version site packages torch jit init py line 691 in script script compile mod ast rcb get default args fn runtimeerror arguments for call are not valid for operator aten to tensor self tensor other bool non blocking default bool copy default tensor expected a value of type tensor for argument other but found string def test device str ones 1 2 3 to here for operator aten to self int dtype bool non blocking default bool copy expected a value of type int argument dtype but found string def str ones 1 2 3 here operator aten self int dtype non blocking copy argument dtype not provided ones 2 3 here operator aten self int layout non blocking copy expected at most 0 arguments but found positional arguments here call at
steps to reproduce the behavior python3 import torch version torch tensor 1 2 3 tensor 2 4 8
steps to reproduce the behavior code examples for cuda and cpu file paths in tracebacks are shortened import torch on cuda x torch randn 1 1 2 2 device cuda torch nn conv2d 1 2 3 to cuda x traceback most recent call last file stdin line 1 in module file lib python version site packages torch nn modules module py line 489 in call result self forward input kwargs file lib python version site packages nn modules conv py line 320 in forward self padding self dilation self groups runtimeerror cudnn error cudnn status bad param equivalent code on cpu x randn 2 nn conv2d 3 x traceback most recent call last stdin line module lib python version site packages modules module py 489 call result forward input kwargs lib python version site packages modules conv py 320 forward padding dilation groups runtimeerror std exception this behavior is not limited to conv2d it also applies to some other e g conv1d
steps to reproduce the behavior 1 scripts build android sh dbuild binary on
steps to reproduce the behavior 1 use resnet 18 script module from url l5882 l5983 1 model torch nn dataparallel model 1 get the following error traceback most recent call last file train py line 459 in module main file train py line 333 in main train train loader model criterion optimizer epoch file py line 394 in output model input file usr local lib python version dist packages torch nn modules module py line 489 in call result self forward input kwargs usr local lib python version dist packages torch nn parallel data parallel 142 forward replicas self replicate self module self device ids len inputs usr local lib python version dist packages torch nn parallel data parallel 147 replicate return replicate device ids usr local lib python version dist packages replicate 31 replica parameters replica parameters copy attributeerror orderedparameterdict object has no attribute copy if i firstly run dataparallel for a then trace it although the code runs the loss doesn t decrease
import torch from torch import nn autograd m nn conv2d 2 3 3 x torch rand 1 2 4 4 requires grad true y m x g autograd grad y sum x create graph true print g requires grad prints false for v version prints true for v version
run any cuda test case to see a mountain of warnings pytest test test nn py v k variable sequence cuda return inspect getargspec func args scratch rzou pt sort packing test common utils py 181 deprecationwarning inspect getargspec is deprecated use inspect signature or inspect getfullargspec return getargspec func args scratch rzou pt sort packing common utils py 181 deprecationwarning getargspec is deprecated use signature or getfullargspec return func args scratch rzou pt sort packing common utils py 181 deprecationwarning is deprecated use signature or getfullargspec return func args scratch rzou pt sort packing common utils 181 deprecationwarning is deprecated use signature or getfullargspec deprecate
python import torch a torch randn 5 5 requires grad true b torch randn 5 requires grad true solve torch gesv b unsqueeze 1 a 0 squeeze 1 works solve sum backward works solve2 gesv b a 0 works solve2 sum backward doesn t work python traceback most recent call last file gesv bug py line 10 in module solve2 sum backward doesn t work file home jrg365 anaconda3 lib python version site packages tensor py line 102 in backward autograd self gradient retain graph create graph file home jrg365 anaconda3 lib python version site packages autograd init py line 90 in allow unreachable true allow unreachable flag runtimeerror function gesvbackward returned an invalid gradient at index 0 got 5 1 but expected shape compatible with
steps to reproduce the behavior import torch import torch nn as nn a torch randn 8 5 30 a lengths torch randint low 1 high a shape 1 size len a lengths sort lengths descending true b randn 16 5 30 b lengths randint low 1 high b shape 1 size len b sort descending true lstm nn lstm 30 25 batch first true def feed rnn x tensor sorted tensor tensor x nn utils rnn pack padded sequence x sorted batch first true x hidden states lstm pad packed sequence returns tuple of sequences and sorted utils rnn pad packed sequence batch first return func jit trace feed rnn check inputs this results in runtimeerror the size of tensor 8 must match the size of 16 at non singleton dimension 0 error graphs differed across invocations tgraph diff t t graph input t t 2 device prim constant value cpu 3 int prim constant value 4 4 bool prim constant value 0 5 bool prim constant value 0 aten to 2 3 4 5 7 bool input batch sizes aten pack padded sequence input 7 10 int scope lstm 11 int 16 scope 11 int 8 scope
build pytorch master from source for ppc64le and run python m unittest test torch testtorch test std dim v test never exits until system memory is exhausted or ulimit for user is reached it will either cause the whole server to hang or the application to sigsegv or sigill
b x is a torch tensor with shape 8 3 299 299 which read from an image mol is the model load from inception v3 i have set the momentum as 0 in inception v3 model struct url python class basicconv2d nn module def init self in channels out channels kwargs super basicconv2d self init self conv nn conv2d in channels out channels bias false kwargs self bn nn batchnorm2d out eps version momentum 0 def forward x x conv x bn return f relu inplace true then i calculate the mean and var python conv mol conv2d 1a 3x3 conv b dim shape m sum 0 sum 1 sum 1 dim 0 dim 2 dim 3 view 1 1 var m 2 sum 2 3 view version tmp m torch sqrt var tmp tmp mol conv2d 1a 3x3 bn weight view mol conv2d 1a 3x3 bn bias view 1a 3x3 print tmp mean std the result is that while momentum
steps to reproduce the behavior in 1 import torch in 2 import torch nn functional as f in 3 dx torch tensor 1 0 1 2 0 2 1 0 in 4 dx dx version unsqueeze 0 expand 8 unsqueeze 5 inputs torch randn 8 5 5 6 f conv2d inputs dx groups 8
steps to reproduce the behavior 1 run python oo or write a full script if you d like 1 import torch you should receive a stack trace that looks something like this traceback most recent call last file stdin line 1 in module file usr local lib python version dist packages torch init py line 263 in module from functional import file usr local lib python version dist packages torch functional py line 2 in module import torch nn functional as f file usr local lib python version dist packages nn init py line 1 in module from modules import usr local lib version dist packages nn modules init py 2 from linear linear bilinear nn modules linear 5 from functional as f 369 if false fractional max pool2d jit internal 141 boolean dispatch raise runtimeerror only one function can have a docstring runtimeerror only one function can have a docstring
torch ones 2028 1 dtype torch long device cuda triu 2 tensor 0 0 1 1 1 device cuda 0 torch ones 2028 dtype torch long device cpu triu 2 tensor 0 ones 2028 dtype long device cuda tril 2 tensor cuda ones 2028 dtype long cpu tril 2 tensor
steps to reproduce the behavior 1 run pytorch in a lambda with following whl in the requirements txt pillow version pyyaml version url torchvision version 2 load optional model and predict an image this error should arise error in cpuinfo failed to parse the list of present procesors in sys devices system cpu present and you will also get a timeout from the lambda regardless of how long timeout that is chosen process exited before completing request no stack trace available i only receive error cpuinfo failed to parse list of present procesors sys devices system cpu present and a timeout error process exited before completing request
steps to reproduce the behavior 1 build pytorch python setup py install or python setup py build develop 2 run the following code import torch model torch nn conv1d 1 2 5 bias false model parameters weight torch ones 2 1 5 for i in range 5 tmodel parameters weight 1 0 i 2 input torch ones 15 out model input print out
steps to reproduce the behavior python import torch import torchvision resnet torchvision models resnet18 sample image torch randn 1 3 224 224 resnet jit torch jit trace resnet sample image features resnet jit sample image print features
steps to reproduce the behavior import numpy as np import torch import torch nn as nn import torch distributions as dist x torch tensor version 2 3 np nan y tensor version 2 3 4 k nn parameter version randn 1 d dist normal loc k x scale 1 log prob d log prob y print log prob tensor version nan grad fn subbackward loss log prob 1 mean print loss tensor grad fn negbackward loss backward print k grad nan
cmake d use mkldnn on same problem occurs when using setup py for pytorch
steps to reproduce the behavior just run code snippit try some of the different commented out lines to see what is broken try the same with pytorch version import torch mu torch ones 1 requires grad true x torch randn 1 loss 0 for in range 3 x detach new calc torch exp mu x copy new calc loss x 2 sum broken loss mul 2 broken loss tensor 2 sum broken 0 tensor 2 sum works 0 randn 1 works randn 1 works exp works backward traceback most recent call last file home johan alvis env lib python version site packages ipython core interactiveshell py line 3267 in run code exec code obj self user global ns self user ns file ipython input cdfe91fca4b8 line 20 in module backward file home johan alvis env lib python version site packages tensor py line 102 in backward autograd backward self gradient retain graph create graph file home johan alvis env lib python version site packages autograd init py line 90 allow unreachable true allow unreachable flag runtimeerror one of the variables needed for gradient computation has been modified by an inplace operation
code sample as below python import torch import time import torch nn as nn d 3 m nn conv2d 256 256 3 1 padding d dilation d bias false m cuda total version for in range 100 i torch rand 1 256 80 45 cuda s time time r m i torch cuda synchronize e time total e s print version version print total 100 result version d 1 2 3
change the torchvision resnet s basic block to this def forward self x residual x out self conv1 x out f dropout out training true out self relu self conv2 f dropout training true if downsample is not none residual downsample x residual relu return this works as expected the only difference are the new lines def forward residual conv1 f dropout training true relu conv2 f dropout training true if downsample is not none downsample relu return
steps to reproduce the behavior 1 set cuda id 0 or any device and seq len 200 in the following code
steps to reproduce the behavior in 1 import torch in 2 import numpy as np in 3 torch set default tensor type torch cuda floattensor in 4 torch as tensor np random randn 4 device out 4 device type cuda index 0 5 as tensor randn 4 device cpu device out 5 type cpu
steps to reproduce the behavior bash git clone recurse submodules single branch b v version url export use fbgemm on python setup py install
steps to reproduce the behavior 1 build pytorch from source in development mode using python setup py build develop 1 run python setup py rebuild libtorch python setup py rebuild libtorch building wheel torch version a0 usage setup py global opts cmd1 cmd1 opts cmd2 cmd2 opts or help cmd1 cmd2 or help commands or cmd help error invalid command rebuild libtorch
py import torch import torch nn as nn class alexcifarnet nn module def init self super alexcifarnet self init self features nn sequential conv2d 3 64 kernel size 5 stride 1 padding 2 relu inplace true maxpool2d kernel size 3 stride 2 padding 1 localresponsenorm 4 alpha version version beta version k 1 conv2d 64 64 kernel size 5 stride 1 padding 2 relu inplace true localresponsenorm 4 alpha version beta k maxpool2d kernel size 3 stride 2 padding self classifier sequential linear 4096 384 relu inplace true linear 384 192 relu inplace true linear 192 10 def forward x x features x x view 0 4096 classifier return net alexcifarnet cuda torch jit trace net torch randn 3 32 32 cuda
steps to reproduce the behavior spin up an ubuntu with gpu instance like ec2 p2 or g3 1 install cuda 10 cudnn version nccl version 2 anaconda 2 conda create n pytorch p27 python version 3 conda install pytorch version py cuda cudnn 1 torchvision cuda100 c pytorch 4 pip install u onnx or example used to replicate url error illegal instruction core dumped
steps to reproduce the behavior spin up an ubuntu with gpu instance like ec2 p2 or g3 1 install cuda 10 cudnn version nccl version 2 anaconda 2 conda create n pytorch p27 python version 3 conda install pytorch version py cuda cudnn 1 torchvision cuda100 c pytorch 4 pip install u onnx or example used to replicate url error illegal instruction core dumped
steps to reproduce the behavior spin up an ubuntu with gpu instance like ec2 p2 or g3 1 install cuda 10 cudnn version nccl version 2 anaconda 2 conda create n pytorch p27 python version 3 conda install pytorch version py cuda cudnn 1 torchvision cuda100 c pytorch 4 pip install u onnx or example used to replicate url error illegal instruction core dumped
steps to reproduce the behavior 1 copy python code with resnet18 in url 2 using trace to save the model in resnet pt 3 copy cpp load model in url 4 run cmake gui to configure env
py import torch x torch tensor 2 def f1 x return x x jit f1 torch jit trace f1 print f1 tensor 2 tensor 2 print jit tensor 2 assert jit ok def f2 return f2 torch trace f2 print f2 print assert fails
steps to reproduce the behavior import torch import numpy as np create a torch int tensor from numpy a np np asarray 0 1 1 0 0 a torch from numpy a np create torch float tensor directly b floattensor 0 1 1 perform ge on and b print ge version output tensor dtype uint8 print ge b version output tensor dtype uint8
steps to reproduce the behavior 1 edit the complex registration test and replace url l286 with self assertequal torch empty 2 2 dtype torch complex64 size torch size 2 2 run the test macosx deployment target version cc clang cxx clang python run test py i cpp extensions the test will fail
from future import print function import torch import torch nn as nn class batchnormmodel nn module def init self super batchnormmodel self init self bn nn batchnorm2d 3 def forward self x return bn x x torch rand 14 3 5 7 model batchnormmodel traced model torch jit trace model x traced forward graph traced model get method forward graph print traced forward graph the graph input float 14 3 5 7 weight float 3 bias float running mean float running var 5 long 6 long prim constant value 1 scope batchnormmodel batchnorm2d bn 7 int prim constant value 1 scope batchnorm2d bn 8 long aten add 5 6 7 scope batchnorm2d 25 bool prim constant value 1 scope 26 prim constant value version 27 1e 05 28 bool 1 29 14 aten batch norm input weight bias running mean running var 25 26 27 28 return 29
steps to reproduce the behavior 1 go to the torch nn url docs page in chrome safari or firefox 1 try to scroll or interact with the page eg to go docs for a specific class from the table of contents a few seconds after load a chrome trace shows time is split between layout and scripting a significant chunk of scripting time is spent in katex math rendering img width 314 alt chrome performance summary src url
steps to reproduce the behavior create a random weights array in numpy and transpose it create a parameter with it assign to conv weights run it fail import torch import numpy y numpy random rand 1 416 416 2 astype float64 y numpy transpose y 0 3 1 2 filters random rand 3 3 2 16 astype float64 filterx transpose filters 3 2 0 1 x torch nn conv2d 16 stride 1 padding 0 dilation groups bias false x weight torch nn parameter torch from filterx l x from y l l detach x weight nn parameter from filterx astype float32 t from astype float32 t t detach print t shape print l shape print abs max result 16 414 414 16 414 414 version success import import random rand 416 416 float64 transpose 0 filters rand float64 filterx filters nn conv2d stride padding dilation groups bias false weight parameter detach weight array tolist float32 float32 detach print shape shape abs max result version e 06
steps to reproduce the behavior
steps to reproduce the behavior import torch as th kernel shape 64 128 6 6 small memory kernel th nn conv2d 128 64 6 1 3 cuda after this 525mib from nvidia smi kernel shape 64 128 7 7 bug memory kernel th nn conv2d 128 64 7 1 3 cuda after this 527mib x th randn 1 768 1024 cuda 911mib y small memory x 1117mib del y import gc gc collect cuda empty cache 917mib here it goes y bug memory x 19925mib empty cache 1109mib
steps to reproduce the behavior 1 use a torch utils data dataloader 2 emit namedtuples from your dataset as samples 3 observe that they come from the dataloader as lists required changes to current code torch utils data dataloader py 243 def pin memory batch batch if isinstance batch torch tensor return batch pin memory elif isinstance string classes return elif isinstance container abcs mapping return type k pin memory sample for k sample in items elif is namedtuple return type pin memory sample for sample in elif isinstance container abcs sequence type for in else where is namedtuple is a heuristic to detect named tuples i think namedtuple is a generic enough object for to support it
steps to reproduce the behavior 1 save a traced model i used this for mnist url 2 try the execute a forward pass with the loaded model c cv mat image image cv imread imagepath cv load image grayscale std ifstream in modelpath std ios base binary if in good tstd cerr loading failed std endl else tstd cout binary file read success std endl deserialize the scriptmodule from a file using torch jit load shared ptr torch jit script module module torch jit load in cout module loaded endl vector int64 t sizes 1 1 image rows cols at tensoroptions options at scalartype byte at tensor tensor torch from blob data at intlist sizes options tensor tensor totype kfloat cout executing forward endl auto fwd module forward cout forward done result totensor got result which leads to console output c src sample app build debug example app exe model pt c temp mnistsamples img 1 jpg binary file read success loaded executing c src sample app build debug
steps to reproduce the behavior 1 mkdir build 1 cd build 1 cmake options url 1 make
path usr lib ccache path python3 setup py bdist wheel sudo pip3 install dist whl i sometimes use gcc g 7 by specifying cc cxx and use debug 1
steps to reproduce the behavior 1 mkdir build 1 cd build 1 cmake options url 1 make j1
steps to reproduce the behavior mkdir build cd build cmake d use lite proto on d onnx use lite proto on make j12
operator constructor template typename t class context class yoloop final public operator context public use operator context functions yoloop const operatordef operator def workspace ws context def ws anchor mask this template getrepeatedargument int anchor mask anchors operatorbase getrepeatedargument int anchors numclass operatorbase getsingleargument int numclass 80 std cout yolo num classes this numclass std endl std cout anchors this anchors std endl example of running operation caffe2 deviceoption deviceoptioncpu deviceoptioncpu set device type proto cpu caffe2 operatordef op caffe2 createoperatordef yolo myyolo vector string inputyolo idx str vector string out idx str tx idx str ty idx str tw th det conf class prob tmp deviceoptioncpu caffe2 addargument numclass 60 op vector int 10 13 16 30 33 23 30 61 62 45 59 119 116 90 156 198 373 326 addargument op
steps to reproduce the behavior 1 install nvidia driver 410 and cuda 10 1 git clone recursive url 1 torch cuda arch list version python setup py install
reproduced in this gist url
steps to reproduce the behavior git clone recursive url cd pytorch python setup py install
steps to reproduce the behavior import torch base torch randint 0 2 128 100 type torch longtensor cuda print torch argmin base dim 1 produce wrong answer print argmin base cpu dim 1 produce correct answer
steps to reproduce the behavior import torch from torch import nn x torch rand 1 1 188 621 cuda half conv1 nn conv2d 1 64 kernel size 1 bias false cuda half conv2 nn conv2d 64 64 kernel size 3 stride 2 padding bias false cuda half loss conv2 conv1 x loss sum backward floating point exception
steps to reproduce the behavior in my case i initially converted a pre trained pytorch model to onnx with torch onnx export but i believe this warning should still appear when working with any onnx model 1 convert pytorch model to onnx with torch export torch model example input export params true 1 load with url load 1 prepare the caffe2 backend caffe2 python backend prepare device cuda 0 sample code python prepare backend print preparing backend prep t0 time time prepared caffe2 python prepare device cuda 0 print prepared in seconds format time time prep t0 run the caffe2 print running inference fwd t0 outputs prepared run img arr astype np float32 0 print foward pass seconds format fwd t0 outputs preparing cuda operators do not support 64 bit doubles please use arr astype np float32 or np int32 for ints blob 0 type float64 prepared in version seconds running inference foward pass version seconds
steps to reproduce the behavior python in 1 import torch in 2 import pickle in 3 with open tmp a wb as f pickle dump torch float32 f typeerror traceback most recent call last ipython input 3 in module 1 with open tmp a wb as f 2 pickle dump torch float32 f 3 anaconda3 envs tmp lib python version copyreg py reduce ex self proto 63 else 64 if base is self class 65 raise typeerror can t pickle s objects base name 66 state base self 67 args self class base state typeerror can t int objects
steps to reproduce the behavior auto v1 at normal torch zeros 23 32 std cout v1 type tostring std endl prints variable cpufloattype auto v2 at randint 100 45 2 std cout v2 type tstring std endl prints cpufloattype
steps to reproduce the behavior executing this script url
run the following code snippet py import torch nn as nn class custommodule nn module def init self super init property def property a self return self property b m custommodule print m property a
steps to reproduce the behavior import torch weight torch nn parameter torch rand 512 3 512 cuda half bias torch nn parameter rand 512 3 cuda half x nn functional linear rand 32 512 cuda half weight bias loss x sum loss thcudacheck fail file pytorch aten src thc generated thctensormathcomparet cuh line 69 error 77 an illegal memory access was encountered traceback most recent call last file stdin line 1 in module file private home myleott conda envs fairseq fp16 lib python version site packages tensor py line 66 in repr return tensor str str self file private home myleott conda envs fairseq fp16 lib python version site packages tensor str py line 275 in str tensor self indent private home myleott conda envs fairseq fp16 lib python version site packages py 193 in formatter formatter get summarized data self if summarize else self private home myleott conda envs fairseq fp16 lib python version site packages py 84 init nonzero finite vals masked select view isfinite view view ne 0 functional 271 isfinite return abs inf runtimeerror cuda runtime error 77 an illegal memory access was encountered at pytorch aten src thc generated thctensormathcomparet cuh 69
follow the tutorial here url steps to reproduce the behavior 1 converting a torch model via tracing url converting to torch script via tracing 2 serializing the model url step 2 serializing your script module to a file 3 loading the script module in c url step 3 loading your script module in c
steps to reproduce the behavior python import torch math import torch nn functional as f logits torch tensor 0 120 target torch tensor 0 1 passes assert math isfinite f binary cross entropy with logits logits target item pos weight tensor 1 1 fails assert math isfinite f binary cross entropy with logits target pos weight pos weight item note that for moderate inputs 10 instead of 120 this works as expected
steps to reproduce the behavior create conda environment bash conda create n pytorch deadlock c conda forge conda forge numpy pytorch pytorch nightly cpu version py version cpu 0 source activate pytorch deadlock create a demo py file to demonstrate the problem python import os import time import torch def check indices torch longtensor 0 1 1 2 0 2 values torch floattensor 3 4 5 tensor torch sparse coo tensor indices values size 2 4 def main check note this line is required to reproduce behavior pid os fork if pid print f starting check pid pid check print f done time sleep 10 else print f starting print f done time sleep 10 if name main main run demo py python demo py starting 0 starting 85604 done 85604 the forked process never gets past the step
steps to reproduce the behavior going through this tutorial url
steps to reproduce the behavior range expects 1 argument but got 2 torch jit script method def inference self line tensor type torch tensor torch tensor hidden self init hidden todo question how do you initialize output below is needed to delcare the type of output to be tensor output torch zeros 0 for i in range 1 line size 0 here output hidden self line i hidden return
steps to reproduce the behavior using the example code and the exported alexnet onnx file run the following sample import onnx import caffe2 python onnx backend as backend import numpy as np model onnx load alexnet rep backend prepare model device cuda or cpu outputs rep run np random randn 10 3 224 224 astype np float32 print outputs 0
use mkldnn 1 python3 setup py build ldd build lib libmkldnn so
steps to reproduce the behavior 1 install pytorch from source 2 follow guide to export onnx model from here url
py torch ones 2 1 62 2 sum 63 dim 63 torch ones 2 1 63 2 sum 64 dim traceback most recent call last file stdin line 1 in module runtimeerror bitset set argument out of range
steps to reproduce the behavior python import numpy as np import torch print torch from numpy np empty 0 20 shape print torch from numpy np empty 20 0 shape the first print statement prints 0 20 as expected the second statement throws an exception runtimeerror trying to resize storage that is not resizable at aten src th thstoragefunctions cpp 70
with torch set grad enabled false pred1 model x with torch set grad enabled true pred2 model x print nn functional l1 loss y pred1 nn functional l1 loss pred1 y nn functional l1 loss y pred2 nn functional l1 loss pred2 y output tensor version device cuda 0 tensor version device cuda 0 tensor version device cuda 0 grad fn sumbackward0 tensor version device cuda 0 grad fn l1lossbackward
python import torch from torch nn utils rnn import pad sequence pack padded sequence a torch ones 25 300 b torch ones 22 300 b a pad sequence b a pack padded sequence b a 22 25 31906 abort core dumped ipython pad pack padded 25 22 it works
the model i am passing is a pretrained dgan generator with cpu weights from the following repo dgan url
run the following snippet from torch utils data import dataset dataloader from pil import image from torchvision import transforms import os class dataiter dataset def init self path path to data self data for cls in os listdir path for img in os listdir os path join cls self data append join cls img def len self return len def getitem idx with image open idx as img img convert rgb return transforms functional to tensor train dataiter train loader dataloader train batch size 300 shuffle true drop last true pin memory false num workers 18 for i item in enumerate train loader if i 200 0 print i
import torch import time def exec x y torch nn functional pad x pad 47 48 47 48 mode replicate torch cuda synchronize tic time time y sum backward torch cuda synchronize return time tic x rand 4 2048 1 1 requires grad true cuda print fp32 format exec x print fp16 format exec half my output fp32 version fp16 version
steps to reproduce the behavior 1 run the imagnet example for the examples repo in pytorch with dataparallel these error messages were found in the dmesg log version nvidia 0000 0a version amd vi event logged io page fault domain 0x000f address flags 0x0020 version nvidia 0000 0a version amd vi event logged io page fault domain 0x000f address flags 0x0020 nvidia 0000 0a amd vi event logged io page fault domain 0x000f address flags 0x0020 nvidia 0000 0a amd vi event logged io page fault domain 0x000f address flags 0x0020 device device device device
steps to reproduce the behavior import torch a torch tensor 0 1 2 requires grad true l torch log a a 0 sum l backward print a grad tensor nan version version grad data zero tensor 0 0 l torch log sum l backward print grad tensor version version
import torch x torch randn 3 requires grad true def f inp return x inp sum tf torch jit trace f torch randn 1 f randn 1 expected output tensor version grad fn sumbackward0 result requires grad tf randn 1 got output tensor version result does not require grad
steps to reproduce the behavior 1 install anaconda with python version and cuda version on ubuntu version 2 create a new environment 3 check that python version is still 4 install pytorch with conda install pytorch nightly cuda92 c pytorch 5 check the python now in my case it is now
steps to reproduce the behavior 1 gist with cpp setup py and test py file here url 2 python setup py install contains extra compile args for debug g 0o 3 python test py
steps to reproduce the behavior created a gist here url change the filepaths starting with work case to run the error starting terminate called after throwing an instance of c10 error what enforce fail at operator h 791 unsupported type of tensor nullptr uninitialized error from operator input 3 input 0 output 10 name type gather device option device type 0 device id 0 aborted core dumped
steps to reproduce the behavior 1 run the following code snippet import gc import torch import torch nn as nn from torchvision import models def foo model models resnet101 model eval a b none none target layer model layer4 1 conv3 def forward hook module input output nonlocal a a output clone def backward hook module grad input grad output nonlocal b b grad output 0 clone target layer register forward hook forward hook target layer register backward backward image torch randn 1 3 224 224 model image def main for in range 10 foo gc collect cnt 0 for obj in gc get objects try if torch is tensor obj or hasattr obj data and is tensor obj data cnt 1 except pass print cnt cnt if name main main
mwe to reproduce the behavior import torch torch jit script def fun a treturn a none if name main ta torch tensor 0 tfun a error message traceback most recent call last file ttt py line 11 in module fun a file usr local lib python version dist packages torch nn modules module py line 477 in call result self forward input kwargs runtimeerror schema not found for node file bug report node 4 dynamic prim none input types candidates were jit script def fun treturn none here
minimal failing example with error messages attached import torch torch jit frontend notsupportederror unsupported binary operator bitand torch jit script def fun1 a b treturn a b runtimeerror expected a boolean expression for condition but found tensor to use a tensor in boolean expression explicitly cast it with bool here torch jit script def fun1 b treturn b runtimeerror expected boolean expression for condition but found tensor to use tensor in boolean expression explicitly cast it with bool jit script def fun2 treturn and here script def fun2 treturn and if name main ta bytetensor 0 tb bytetensor 1 tfun1 tfun2
steps to reproduce the behavior dummy input torch tensor torch randn 10 3 299 299 cuda inception model models inception v3 pretrained true cuda inception model inception model eval torch jit trace model dummy input tracerwarning output nr 1 of the traced function does not match the corresponding output of the python function detailed error not within tolerance rtol 1e 05 atol 1e 05 at input 0 735 version vs version and 9999 other locations version check trace example inputs func executor options module check tolerance
steps to reproduce the behavior 1 call pack padded sequence specifying all kwargs but no args
steps to reproduce the behavior run the code import torch ignore idx 1 print pytorch version format torch version xe torch nn crossentropyloss ignore index ignore idx reduction none input torch randn 3 5 requires grad true print input format input
steps to reproduce the behavior import torch import torch nn functional as f import onnxruntime as rt class upsample torch nn module def forward self x return f interpolate x scale factor 2 mode bilinear align corners false m upsample v torch randn 1 3 128 128 dtype float32 requires grad false onnx export m v test onnx sess rt inferencesession test onnx onnxruntime errors on 13 sess rt inferencesession test onnx miniconda3 envs fat ml lib python version site packages onnxruntime capi session py in init self path or bytes sess options 26 27 if isinstance path or bytes str 28 self sess load model path or bytes 29 elif isinstance path or bytes 30 self read runtimeerror lotuserror 1 general error exception during initialization data ubuntu vstsagent work 39 s cmake onnxruntime core providers cpu tensor upsample h 43 upsamplebase upsamplemode upsamplebase stringtoupsamplemode const string mode attribute is bilinear it can only be nearest default linear
steps to reproduce the behavior install pytorch from source as per below steps cd desktop git clone recursive url cd desktop pytorch set vs150comntools c program files x86 microsoft visual studio 2017 community vc auxiliary build set cmake generator visual studio 15 2017 win64 set distutils use sdk 1 set prebuild command vs140comntools vc vcvarsall bat prebuild command args x64 call vs150comntools vcvarsall bat x64 vcvars ver version python setup py install error message as below c users username desktop pytorch build install vcxproj default target 1 c users username desktop pytorch build all build vcxproj default target 3 c users username caffe2 algorithmstest vcxproj default target 4 users username caffe2 caffe2 gpu vcxproj default target 22 custombuild third party eigen eigen src core arch cuda half h 212 error more than one instance of overloaded function hadd matches the argument list caffe2 gpu
steps to reproduce the behavior run the following script import torch x torch ones 3 3 requires grad true i torch longtensor 0 1 2 0 1 2 v torch floattensor 1 1 a sparse floattensor i v 3 3 y matmul a x transpose 0 loss y mean loss backward
steps to reproduce the behavior 1 clone this repo url 1 download ljspeech url and set the path in params py 1 install librosa and tqdm 1 python train py
steps to reproduce the behavior 1 follow the instructions at url 1 run the compiled program on the traced torchvision resnet18 or alexnet model haven t tested other models
steps to reproduce the behavior img width 704 alt screen shot 2018 10 07 at 2 58 28 am src url
steps to reproduce the behavior 1 apply dropout 1d 2d 3d on a fp16 input either cpu or cuda x torch ones 1 1 3 3 half print f dropout2d x works on v version print f dropout2d x cuda works on v version
steps to reproduce the behavior import torch a torch randn 1 2048 8 11 11 cuda conv torch nn conv3d 2048 512 3 1 1 stride 1 cuda out conv a b torch randn 2048 8 12 12 cuda
steps to reproduce the behavior 1 run a neural network that has interpolation up sampling under fp16 note the slowness 2 convert the values to floats run the same interpolation then convert back to half note that it s less slow 3 network still suffers from overhead of converting from half to float
steps to reproduce the behavior 1 let theta be the identical affine matrix 2 warp affine with affine grid and grid sample 3 display the image python import torch import matplotlib pyplot as plt img plt imread lena jpeg img img 110 120 110 120 img reshape 1 10 10 3 tensor torch from numpy tensor tensor permute 0 3 1 2 theta torch tensor 1 0 0 0 theta theta view 2 3 grid torch nn functional affine grid size out nn functional sample float float out out permute 2 data numpy out reshape 10 10 plt imshow astype int plt show
python m unittest q test autograd testautograd test ctc loss v
providing the following code to reproduce the error import torch class mymodules torch jit scriptmodule def init self n m super mymodules self init self weight torch nn parameter torch rand n m jit script method def forward self input tensor if bool input sum 0 output weight mv input else output weight input return output my script module mymodules 200 200 test rand 200 output my script module test print my script module graph print scripted model size my module save model pt new scripted model jit load model pt crash happens here new scripted test print steps to reproduce the behavior 1 run
steps to reproduce the behavior import torch a torch tensor 1 2 a tensor 1 2 a cuda illegal instruction core dumped
steps to reproduce the behavior the following c code has the problem auto ten torch autograd make variable at zeros 20 20 at kcuda for int i 0 i 10 i torch serialize outputarchive oa oa write tensor ten save to file oa std string cuda std to string i the size of produced files are version k cuda0 28k cuda1 104k cuda2 404k cuda3 version m cuda4 version m cuda5 26m cuda6 101m cuda7 401m cuda8 version g cuda9
steps to reproduce the behavior 1 import torch 2 torch tensor 0 cuda
steps to reproduce the behavior python torch multinomial torch floattensor 0 1 0 0 3 replacement false tensor 1 0 this seems undesired because replacement false implies to me that i should expect my outputs to all be different my understanding is that this was discussed in a recent issue about the gpu kernel for multinomial not matching the cpu here url
run the following line torch tensor float inf cuda min result tensor device cuda 0
steps to reproduce the behavior three commands on command line git clone recursive url cd pytorch no cuda 1 use cuda 0 cc clang cxx clang python3 setup py install stack trace for build output in full below in additional context additional context snipped 40 built target onnx 40 linking cxx shared library lib libcaffe2 dylib ld warning directory not found for option l users micheleenharris documents bin github pytorch mask rcnn samples pytorch torch lib tmp install lib duplicate symbol zn2at6native13pixel shuffleerkns 6tensorex in cmakefiles caffe2 dir aten src aten native pixelshuffle 2 cpp o cmakefiles caffe2 dir aten src aten native pixelshuffle cpp o ld 1 duplicate symbol for architecture x86 64 clang error linker command failed with exit code 1 use v to see invocation make 2 lib libcaffe2 dylib error 1 make caffe2 cmakefiles caffe2 dir all error 2 make waiting for unfinished jobs 40 built target python copy files make all error 2 failed to run bash tools build pytorch libs sh use nnpack libshm thd
steps to reproduce the behavior 1 compile pytorch with cudnn version 2 update to cudnn version 3 experience runtimeerror cudnn version mismatch pytorch was compiled against 7201 but linked against 7300
import torch x torch randn 3 4 print x true false true print x numpy true false true with output import torch x torch randn 3 4 false tensor version version version version numpy false array dtype float32
add qbtn with icon property
steps to reproduce the behavior 1 go to url 2 click on any q select component except use input ones 3 options menu does not show
steps to reproduce the behavior 1 create a boot file that writes something on the store in ssr mode with prefetch 2 when rendering the page the value will be wiped out
steps to reproduce the behavior 1 open the codepen on ios safari 2 click on the second line in the editor 3 click toolbar bullet icon 4 first line is turned into a bullet point not second line
steps to reproduce the behavior 1 define qtable with separator as cell 2 body slot define tr and td 3 set q td tag with auto width 4 check cells with auto width does not display cell border
click in the add button
steps to reproduce the behavior n a
steps to reproduce the behavior 1 go to url in firefox 2 click on any qselect
steps to reproduce the behavior 1 scroll beyond index 100 2 too many jumping will occur 3 watch the console that each index of image will automatically increase
steps to reproduce the behavior 1 scroll down and remember the first item number on the screen 2 click on item 3 click go back 4 see that the first item number is greater then previous
steps to reproduce the behavior 1 open official documentation with iphone safari 2 find the qdialog component 3 scroll down 4 find the
steps to reproduce the behavior set toggle to true it won t give you the true value if the type is array
steps to reproduce the behavior 1 click on favorite icon 2 toast twice
implement dialog with containerized qlayout like explained in the docs
steps to reproduce the behavior 1 set your viewport to smartphone dimensions 2 create a page that has enough content for it to have a scroll area enough to trigger the offset of the reveal prop of a qheader qfooter 3 scroll through the content till qheader qfooter reveals trigger hiding qheader qfooter 4 within scrolled content click trough an element that displays a qdialog qpopupproxy 5 qheader qfooter should reveal when qdialog qpopupproxy is fired causing layout behave strange like flickering on hide of qdialog qpopupproxy and causing layout break with ios top and bottom padding
steps to reproduce the behavior 1 pull the splitter to 20 or 80 ratio 2 observe first snap 3 pull the splitter to 20 or 80 ratio 4 observe no snap
steps to reproduce the behavior 1 go to js fiddle 2 look at different and missing icons
steps to reproduce the behavior 1 configure the fontawesome iconset in quasar conf js 2 copy the code from fiddle into your local 3 load the code and you ll see a artifact in first input and popup won t work 4 in second input you ll see it works as expected
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 click on open dialog 2 click on the qselect inside the dialog so that the options pop up opens 3 press kbd esc kbd 4 qselect pop up closes and dialog is dismissed at same time
steps to reproduce the behavior 1 add a context menu to a div element 2 add a div make it a child to the div you add in step 1 add context menu 3 right click child div two context menu appear at the same time overlapped
go to q menu quasar version documentation and see section of basic idea for content inside q menu there are two toggles that don t update its visible state
steps to reproduce the behavior 1 create a carousel with a slide 2 add a css class that overrides background position or size 3 see they don t take effect 4 view source to observe the background properties are inline on the slide instead of in class
steps to reproduce the behavior 1 click on the qfield dialog opens 2 click on close or otherwise dismiss the dialog 3 qfield no longer shows focused appearance yet the active element appears to be focusable div inside field 4 click on show dialog button dialog opens 5 click on close or otherwise dismiss 6 button no longer shows focused state but this is a bit weirder than field since active element after closes is set to div tabindex 1 class q focus helper div element inside button and that element cannot be focused due to tabindex so even if qdialog did reset focus calling focus that would do nothing
steps to reproduce the behavior 1 focus on the text input and tab to the first date 2 press kbd enter kbd and notice the menu popups up 3 close menu and tab again to second date field 4 press kbd enter kbd and notice you can t see menu 5 if you check dev tools you can see qmenu renders offscreen
steps to reproduce the behavior 1 rename a quasar component in pascalcase this component is not registered error in the browser image url
steps to reproduce the behavior 1 quasar create test project 2 select all default options 3 edit eslintrc js add the following at the beginning of the file js console log process env node env console log these console log are there so that output is not overwritten by quasar console log 4 run quasar dev or quasar build or yarn lint 5 undefined is outputted in
n a at this point working on it
steps to reproduce the behavior the issue is that this command is failing on your quasar css file less render src cfg options callback
see the codepen play around with the commented lines
1 pick a date from the calendar 2 clear the field via the clearable icon 3 pick another date from the calendar 4 model is changed but input field is blank this happens only first time after clearing
steps to reproduce the behavior 1 install quasar cli npm install g quasar cli 2 create an application quasar create cypress test 3 accept all defaults 4 use npm instead of yarn 5 change into the cypress test directory cd cypress test 6 install the testing harness quasar ext add testing 7 select cypress e2e testing 8 select extra scripts in your package json 9 run tests test e2e 10 this locks up on linux
steps to reproduce the behavior 1 add the login json file in assets mock folder 2 add the devserver proxy config to quasar conf js file 3 add a button in your app code to call your api login i call it through axios 4 run quasar dev and press the login button
select a date and time the clear tip does not appear
steps to reproduce the behavior 1 go to url design 2 click on the first qselect with standard label 3 press tab 4 the next qselect visually get the focus but didn t open his dropdown
steps to reproduce the behavior 1 define a global variable in src electron main process global something something 2 require electron remote getglobal variable in render process require electron remote getglobal something 3 got undefined
steps to reproduce the behavior 1 go to docs design overview url example design overview example 2 add row class to the select components container 3 see error
steps to reproduce the behavior on native ios build of a quasar app 1 create a qdialog with a list of inputs 1 click on the last input 1 start typing i believe the main precondition is that the input is in some way covered by native keyboard
1 pass the wrong value to type property 2 see that there s no prop validation error
steps to reproduce the behavior 1 go to url 2 drag the slider 3 notice the labels text is not readable when the label is white
please see code
steps to reproduce the behavior 1 enable cordova suport for a quasar app 2 add cordova plugin ionic webview or cordova plugin wkwebview engine cordova plugin 2 run the app 3 rotate the device from portrait to landscape 4 rotate the device from landscape to portrait 5 see error it may take several rotates before issue appears
1 open documentation link above custom ad hoc locale section 2 select current date e g august 19 3 notice the week day august 19 should be monday lun but it displays as thursday jue
steps to reproduce the behavior 1 load the index vue route with f5 or refresh
steps to reproduce the behavior 1 npm install g quasar cli 2 quasar create q cordova dev b v version select yarn install at end 3 quasar mode a cordova 4 cd src cordova cordova platform add browser 5 cd quasar dev m t ios t browser compare by then doing cd src run browser which works but doesn t have any hot reloading etc
view the toolbars in the docs in any version of ie url
use font awesome 5 with quasar
steps to reproduce the behavior 1 create an app extension 2 create a store in the app extension 3 import cookies or sessionsstorage using import cookies from quasar actions js of the store 4 try using the cookies plugin cookies remove token 5 that may remember this is intermittent result in above error
steps to reproduce the behavior 1 go to url using ie or edge 2 click on open dialog button 3 focus the input field or write smth there 4 scrollbar appears
steps to reproduce the behavior 1 open url 2 look at img src in the browser dev tools 3 you will find src assets sad svg
steps to reproduce the behavior as described above
1 in above codepen enter any value in the qinput and end with hyphen there is a trigger to open qinput when hyphen is pressed 2 qinput will open and value typed in qinput will disappear
steps to reproduce the behavior 1 create a qselect 2 change the props to use a json propertie 3 select 1 option the value change and the log is showed in console 4 select 1 option again value doesn t change input fire doesnt emited
steps to reproduce the behavior 1 submit the form
steps to reproduce the behavior 1 click on the qsplitter separator button to close a right pane sets splitter model to 100
steps to reproduce the behavior 1 go to codepen link 2 resize browser window for small window size because of sm grid config 3 as result only name field not rendering but action field is being rendered in place of name while in my project action buttons are not rendering in action field but other fields are rendering
1 unpack the attached iehost zip this is a basic application that was generated by the wtl app wizard only the url was changed to open url 2 generate a quasar app enable ie support in the assistant 3 add in index template html in head section meta http equiv x ua compatible content ie edge 4 start quasar dev 5 start iehost release iehost exe it will open url 6 notice that page is empty only a small scrollbar is shown in top right corner
steps to reproduce the behavior 1 go to the codepen 2 see the text baseline in the 2 buttons is aligned 3 click on either open button 4 see text baseline in buttons in qdialog is not aligned
steps to reproduce the behavior 1 make sure your window is below 1300px or narrower or 580px or shorter 2 go to url 3 click on any of the color selection boxes like primary 4 the box will rapidly alternate between sizes states
steps to reproduce the behavior 1 open the fiddle in safari 3 click inside the editor 2 type 3 paragraphs of text 3 select the last paragraph 4 click ordered list tool 5 notice that first paragraph becomes an ordered list
steps to reproduce the behavior 1 mouse the cursor over the drawer to make the overlay open icons will move 1px to left 2 move cursor out of drawer icons will move 1px to right
assuming use of chrome and resolution 100 you see no arrows 110 no arrows 125 arrows shrink failed 150 no arrows shrink worked 175 no shrink worked 200 this one is normal
steps to reproduce the behavior 1 build an app with quasar build m cordova t ios 2 open the project in xcode 3 from xcode run it on an iphone device 4 make some ui logic or logging changes 5 rebuild the app with quasar build m cordova t ios skip pkg 6 in xcode stop the app and run it again 7 observe that ui logic or logging changes don t appear in app
steps to reproduce the behavior 1 run quasar build 2 run quasar serve 3 go to localhost 4000 4 see 404 page not found
steps to reproduce the behavior open console panel to see the logs 1 select another option in the first select box 2 uncomment second qselect in html editor and repeat step1
steps to reproduce the behavior 1 define context menus inside a v for and assign them a ref 2 determine the menu component inside a loop 3 call show event on menu component 4 menu does not appear it appears when right clicking on the item though
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 setup for android emulator as per quasar docs instructions 2 then issue the command quasar dev m android dns server version or whatever your local dns server is
open codepen example click show dialog simple div
steps to reproduce the behavior 1 just look very east to notice
steps to reproduce the behavior 1 enter select field 2 type a value 3 select a value 4 see that the value entered will not be deleted
steps to reproduce the behavior 1 create an app extension with that component 2 create a test app 3 install the component into the test app 4 now invoke the ext using quasar ext invoke my ext 5 issue should occur js node 15287 referenceerror proper is not defined extension js 78 renderfolders projects quasar app lib extension extension js 78 36 next tick js 77 process internaltickcallback internal process next tick 77 7 node 15287 unhandled promise rejection this error originated either by throwing inside of an async function without a catch block or by rejecting a promise which was not handled with catch rejection id 1 node 15287 dep0018 deprecationwarning unhandled promise rejections are deprecated in future promise rejections that are not handled will terminate node process with a non zero exit code
steps to reproduce the behavior 1 open the above link in firefox i m using version 2 try swiping left on a odd numbered item no route should work fine 3 try swiping left on an even numbered items with route drag seems to get interrupted if you release the mouse button then the drag continues without mouse button pressed
on android o 8 x p 9 x and q 10 x on emulator visit url filtering and autocomplete on an android device either with google chrome or with firefox preview different rendering engine than chrome webview and go to the filter example section type in oo to filter for google and facebook but no filtering is being performed type in oo trailing whitespace the filter gets applied but correctly finds no matches for oo press backspace delete backwards to delete the whitespace the filter executes correctly by filtering out all but google facebook on android m 6 x android l 5 pressing backspace does not apply don t know about n this backspace issue could be caused by autocorrect feature of keyboard apparently whenever autocorrect kicks in it won t trigger at least after pressing backspace
steps to reproduce the behavior 1 go to platform on quasar docs 2 go to your platform section 4 see error
steps to reproduce the behavior 1 create a boot file e g oauth index js 2 add const ipcrenderer require electron 3 call ipcrenderer send exampleevent test message i am wrapping this call to ipcrenderer in quasar s platform detection like so if platform is electron ipcrenderer send exampleevent test message
open the example and the error should apear in the console
steps to reproduce the behavior 1 create empty project with quasar version quasar cli version quasar create choosing default options 2 go in project directory and run quasar dev
steps to reproduce the behavior 1 load the codepen 2 open the chrome inspection 3 simulate a mobile device 4 reload the window 5 focus qselect
steps to reproduce the behavior 1 go to url 2 click on the qinput and hopefully receive a menu from the browser for autofill 3 choose your auto fill value probably an address 4 notice a value auto filed into the qselect s input and label out of place and it does not match since its not an object like stateoptions list
console log localstorage creates this in the browser console install install install ref arguments caller length 1 name install prototype constructor proto functionlocation localstorage js 18d6 5 scopes scopes 3 proto object
steps to reproduce the behavior 1 click the first badge the notify does not trigger 2 click the second badge notify trigger
steps to reproduce the behavior 1 enter select field 2 type space 3 leave select field
steps to reproduce the behavior 1 set a validation rule for minimum and or maximum value on a qinput of type number 2 trigger the validation rule by clicking at least twice in quick succession on one of the increment decrement arrows 3 triggering the validation rule results in an error icon appearing and displacing increment decrement arrows to left 3 hover over same arrow that was clicked in step 2 with mouse 4 value starts incrementing decrementing by itself automatically
any custom component qdialog envoking using custom props this q dialog component customdialogcomponent root this root customprops anyprop prop
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 build a simple app with a q dialog persistent true 2 open it in your browser and press the escape button on the keyboard or tap the backdrop and see that it won t close correct 2 open it on android emulator or on a device 3 press back button and notice how it closes
steps to reproduce the behavior 1 download the myqdrawer zip 2 drop it into a new quasar project 3 open the page on desktop view 4 see error
steps to reproduce the behavior 1 go to jsfiddle link 2 paste text you find there or input your own 3 keep on tyiping digits 4 see browser freezing
steps to reproduce the behavior 1 go to overlay trigger example docs url overlay trigger 2 observe that it describes the component to use as a stateless function component
div classname app accordion card accordion toggle as card header eventkey 0 click me accordion toggle accordion collapse eventkey 0 card body hello i m the body card body collapse div
1 make carousel with 2 items 2 sliding to first item when second item is current
steps to reproduce the behavior 1 click the dropdown button 2 click the word one in the dropdown menu 3 click dropdown button again observe radio next to one appears checked 4 click radio button next to two in dropdown menu 5 button a third time
steps to reproduce the behavior note the and visibilityvalue are made up because they are not the issue i can see that my handler the changes value visibilityvalue but menu doesn t correspond to that 1 add following component setup dropdown button onclick toggle button dropdown menu show visibilityvalue dropdown item item dropdown item menu 2 press toggle button menu opens up 3 select item closes itself 4 press toggle button again doesn t open up anymore
steps to reproduce the behavior 1 use the tabs component in a react application 2 view the nav element of the resulting html
steps to reproduce the behavior 1 using typescript create a dropdownitem whose eventkey is not a string type e x any typed object 2 compile 3 see a compilation error
create a dropdown component with your own specified toggle and menu components create a label with an id that you d like to assign to the dropdownmenu set the aria labelledby attribute of the dropdownmenu component to your label s id inspect the resulting root div of dropdownmenu it will be assigned id of dropdowntoggle component rather than label or it will be an empty string if no id was given to toggle
steps to reproduce the behavior 1 use typescript 2 put this email react createref htmlinputelement and form control ref this email type email placeholder email somewhere in your code 3 try to compile 4 see compilation error
steps to reproduce the behavior 1 create a component which returns a navitem 2 use it inside a nav inside a tab container 3 see error that the tab is not functional
1 go to url on mobile or tablet or other touch device 2 try swiping on the demo slides
steps to reproduce the behavior 1 open the code in code sandbox see link below 2 activate the console view in code sandbox 2 click on the first submit button html section version when clicked a log entry is being produced using following command console log events event currenttarget event target event currenttarget event target 3 you should see a log entry with a false value and both values being displayed one is form other button this is expected behavior events false form novalidate class form button name submit type submit class btn btn primary value submit button 4 now click last react bootstrap 5 you should see a log entry with true value and both values being same i e form element this is not expected behavior events true novalidate class novalidate class
steps to reproduce the behavior 1 set browser to device view with width less than 580 px 2 browse to url 3 click toggle button
steps to reproduce the behavior take two identical links one as nav link and one as link nav link key home href activeclassname active navitem home navitem nav link key home to activeclassname active navitem home navitem nav selection closes the collapsed menu as expected but reloads the entire page by design which is not desired loads the correct component according to its route definition but collapsed menu does not close on selection
steps to reproduce the behavior 1 create a dropdownitem whose eventkey is not a string type e x number 2 create set up an onselect handler and attach it to the dropdown item 3 in the handler log the typeof received eventkey note typeof is string rather than type of original value passed to eventkey prop
steps to reproduce the behavior 1 visit code sandbox example below 4 observe plain text inputs aren t scaling as expected
steps to reproduce the behavior in the codesandbox you can see the error emitted by react beautiful dnd if you replace the row with a div error goes away so my assumption is ref is not passed through
steps to reproduce the behavior add form text muted
steps to reproduce the behavior 1 create a file test tsx like this typescript import as react from react import button from react bootstrap export default button onclick event alert hello string event 2 run tsc jsx react noemit strict components test tsx 3 see error
url steps to reproduce the behavior 1 add an empty string in the usedrag hook of item type 2 try to drag the item
live reproduction url steps to reproduce the behavior 1 drag glass to drag a box here
steps to reproduce the behavior 1 install react dnd touch backend 2 set touchbackend as backend of dndprovider 3 set options enablemouseevents true enablekeyboardevents true as options of dndprovider 4 run app and start dragging with mouse 5 see error
url check logs when dragging banana box steps to reproduce the behavior 1 go to url 2 start dragging banana 3 check scroll logs 4 see that collect of different drop area were called
url steps to reproduce the behavior 1 open your console 2 go to url 3 mention that source props contains hocprop since in source js is wrapped in an hoc url called slot 4 drag block a or block b in the bigger drop zone to the right called a 5 mention that the log for drop item is missing property hocprop
code url steps to reproduce the behavior 1 start dragging the element create some examples 2 look that the drag preview contains some following elements 3 try move it again from any other position to see how preview changes
demon url steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 open the copy or move hooks example at url 2 drag any of the boxes everywhere 3 the alert will always say you moved boxname into boxname
url steps to reproduce the behavior 1 drag drop a todo it ll work as expected 2 drag drop any subsequent todo and the bug will appear
here is a reproduction of my problem but in my app the drag doesn t work at all live reproduction url steps to reproduce the behavior 1 drag a tab 2 drop it on a drop target 3 try dragging a tab again 4 no console error but impossible to drag again any of the tabs
steps to reproduce the behavior 1 use react dnd version in package json 2 meteor build
1 set a title in an avatar component 2 set a custom avatarstyle property with a user defined backgroundcolor value
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior example bash snack url steps 1 go to 2 click on 3 scroll down to 4 see error
create a pricingcard like this pricingcard pricingstyle commonstyles textprimary fontsize 18
use jest with enzyme mount on any component using rne buttons button imported into component as follows import button from react native elements
snack url steps 1 run code presented in snack on your device emulator because snack web don t display warnings see this issue url 2 after view will be rendered you will see a warning warning failed prop type invalid prop inputcomponent supplied to input
example bash snack url steps 1 see the theme with buttonstyle with backgroundcolor 2 see the type outline prop passed to button 3 see the button is not an outline button 4 comment out the backgroundcolor line in theme button is now an outline
url note that it just fails on ios it works correctly on android swapping image for imagebackground directly also works
follow example given on site input placeholder input with shaking effect shake true
i tried deleting node modules and run npm install again same error so i m not sure what the conditions are that triggers it just that it never runs on my end software version react native elements version react native version npm or yarn version
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior to reproduce 1 add the following to your theme js input containerstyle margintop 16 2 attempt to modify margintop on a searchbar with platform android
example url steps 1 click on button 2 see the overlay
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior url make an input assign the prop textcontenttype with value telephonenumber watch as it doesn t work when you use text field and instead you just get alpha keyboard instead of number pad
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior example
put the slider into a component and change set the track like so slider value this state slidervalue onvaluechange this handleslidervaluechanged trackstyle styles track minimumtracktintcolor color with styles track height 16 borderradius 10 i ll create a snack and add it here when i have time i just wanted to report the issue before i forge
using the example from the website url example import button from react native elements import icon from react native vector icons fontawesome button icon icon name arrow right size 15 color white title button with icon component here is how it looks like image url in my app image url it used to look different note the padding image url any idea what has changed
1 create a react native project with react native vector icons version version and react native elements v version and 2 try to run the project example
themeprovider with flatlist and listitem and yes i am using keyextractor in flatlist software version react native elements version react native version yarn version
i couldn t figure out how to reproduce this bug with a snack expo because i have no idea how to use it with rne beta and rnvi therefore i did it with react native init example bash react native init rnebug cd rnebug npm install save react native elements beta react native vector icons link now change app js to reflect the following js import component from import stylesheet view from import listitem from elements export default class app extends component render return view style styles container listitem title bug checkmark name square o view const styles stylesheet create container flex 1 justifycontent center backgroundcolor f5fcff
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior example input containerstyle globalstyles inputcontainer placeholder please enter your password label password value this state password autocapitalize none securetextentry this state secure righticon icon name this state secureicon type font awesome color 000 size 20 onpress this togglereveal onchangetext text setstate password text steps 1 set up as above 2 type something in field 3 press icon 4 press icon again
button button title save raised loadingright this state saving rounded true buttonstyle registerstylesheet button onpress this register function register this setstate saving this state saving constructor register register bind state saving false
use searchbar with platform ios on android
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior steps 1 add listitem to flatlist 2 use any of the switch props for listitem 3 open flatlist 4 see warning
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior click on snack link to see reproduced issue described above url
1 create a new rn project react native init rnebug 2 install react native elements npm install save react native elements beta react native vector icons link 3 replace the code in app js with the following import component from import stylesheet view from import listitem from elements export default class app extends component render return view style styles container listitem righttitle hello view const styles stylesheet create container flex 1 justifycontent center backgroundcolor f5fcff 4 run your app and see the bug
i m using the typescript template of react native setup with react native navigation using yarn workspaces lerna added testing using ts jest react native testing library after encountered an error with jest that was fixed by adding babel core version bridge 0 1 clone the sample repository url this is a stripped down repository without yarn workspaces lerna it s also only using react test renderer for snapshot testing it contains a hello component that renders an input component from rne the test for this component is just a snapshot test 2 yarn install 3 yarn jest
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior example jsx searchbar value hey platform android
example javascript avatar size large rounded title employee user name split 0 charat 0 employee user name split 1 charat 0 source employee user avatar some url undefined uri employee user avatar placeholderstyle backgroundcolor blue
upgrade from version beta5 to version beta7 and voila now all your listitem components will have an ugly black background when pressed you can hold the press to further illustrate the issue
i had trouble recreating the bug on snack due to an expo font error but here is the code that works on my device import as react from react import flatlist from react native import constants from expo import avatar from react native elements export default class app extends component constructor super this state parishes name st therese location kansas city mo date march 11 2019 name st mary s location ellis ks date may 5 2019 render return flatlist keyextractor this keyextractor data this state parishes renderitem this renderitem renderitem item return avatar size 75 rounded source uri url onpress console log works activeopacity version keyextractor item index return index tostring
javascript scrolltotop this flatlist scrolltoindex index 0 animated true this flatlist is undefined render return overlay isvisible showsortdialog height auto onbackdroppress this setstate showsortdialog false flatlist ref ref this flatlist ref overlay
steps 1 add a react native elements to app 2 add any icon with name from here url 3 refresh the app
run the below example on iphone xr simulator or actual device example jsx import react from react import stylesheet text view from react native import header from react native elements export default class app extends component render return header centercomponent text hey view style styles container text open up app js to start working on your app text view const styles stylesheet create container flex 1 backgroundcolor fff alignitems center justifycontent center
i don t know how to display warnings in snacks but the warnings should get thrown here url
try to use an ant design icon
example bash steps 1 setup react native project with typescript 2 add react native elements version beta7 3 use a custom component for listitem 4 see error
npm install save react native elements beta npm install save react native vector icons
steps 1 clone this repository rnw github url git clone url cd rnw github 2 change to branch rne button issue git checkout rne button issue 3 install package dependencies yarn 4 run yarn android make sure you have connected device img src url width 200 5 run yarn web img src url width 250
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior
relevant part of code javascript button title icon name minus type font awesome button title reset button title icon name plus type font awesome button title add icon name plus type font awesome url
note warning will not appear on tap to play url have an icon or an array of icons as the caption prop for the tile component on version version example ionicons name ios star size 18 style color ffd700
codesnippet below example codesnippet snack const existaddress propsobj console log propsobj addresses return view style height screen height 65 button icon icon name address card size 25 color colors horecablue title add new address titlestyle fontweight 700 color colors horecablue fontsize 20 padding 10 buttonstyle backgroundcolor white bordercolor colors horecablue borderwidth 1 borderradius 5 flatlist data propsobj addresses renderitem item index view style flexdirection row checkbox title null checkedicon check square o uncheckedicon square o checked propsobj checked onpress updatecheckbox card title view style backgroundcolor colors horecablue padding 10 flexdirection column text style color white fontsize 18 hello text text color white fontsize 12 bye text view marginbottom 10 happy card keyextractor x i i itemseparatorcomponent divider backgroundcolor blue styles footer touchableopacity onpress onnexttocheckout client fff textalign center fontsize 20 paddingbottom 20 next touchableopacity
bash snack url steps 1 open the snack 2 long press the input field at the top
render this js listitem title something subtitle another thing righttitle screen shot 2018 08 27 at 11 53 17 am url software version react native elements version react native version npm or yarn yarn
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior url
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior i have created a snack at url
url it was partially touched here url but i did not find any resolution
the source code search js url to preview the bug scan the following qr code with expo image url steps 1 go to the second navigation tab on bottom 2 type in something in search bar 3 try click on clear icon 4 see error
try to use the overlay component on beta 5 in this manner overlay isvisible true text my text text overlay
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior i tried to reproduce this bug on snack but it doesn t happen on snack i ve just created a new react native app with react native init and installed react native elements that s all i ve done and the error is happening my code bash import react component from import view stylesheet from native import rating from elements export default class app extends component render return view rating imagesize 20 readonly startingvalue version style styles rating view const styles stylesheet create rating alignself center
use overlay component and tap overlay background
example bash import react from react import stylesheet view from react native import input from react native elements export default class app extends component constructor super this state server undefined email undefined render return view style styles container input onchangetext server this setstate server value this state server autocapitalize none input onchangetext email this setstate email value state email autocapitalize none view const styles stylesheet create container flex 1 alignitems center justifycontent center
listitem title enable inventory switch switch value this state ison onvaluechange value this setstate ison value containerstyle styles listitem titlestyle styles listtitletext subtitlestyle styles listsubtitletext
1 link a custom font with multiple weights 2 use the button component and set the fontfamily of the titlestyle to the font
i couldn t recreate it on snack because i couldn t install next version on snack but here s a simple example javascript export default class app extends component constructor props super props this state value render return view searchbar value this state value button title abc onpress this setstate value abc view bash snack unable to install next version on snack steps 1 type in the search bar clear button appears 2 click clear button 3 click abc button 4 search bar text changes but clear doesn t appear
snack url steps 1 go to the snack provided here url 2 tap to play 3 move the slider 1 value to more than 50 4 you ll see the 2nd slider s wrongly displayed
steps 1 add a forminput and any other element to a screen button checkbox forminput etc 2 launch the app on an android device 3 click on the forminput and watch the keyboard open 4 click on any other element and watch the keyboard close as opposed to interacting with element and closing keyboard if not a text field
please note cancel will alert but won t clear text in expo however it won t alert on my iphone bash snack url steps 1 click search bar 2 input some text 3 click cancel 4 see error 5 click search bar 6 click clear icon 7 see error
url typescript code export default function basicmergemapobs action observable action observable any return action pipe filter val action throw new error we stop here map val type we finish catcherror of type my new error test it standard we finish event getscheduler run helpers const expectobservable cold helpers const source cold e e type test status new expectobservable basicmergemapobs source tobe t t type my new error function getscheduler return testscheduler actual expected expect actual tomatchobject expected
repl or repo link url
js import of from from rxjs import switchmap tap from rxjs operators of pipe switchmap from 1 2 3 pipe switchmap 4 5 6 pipe tap number console log number subscribe as a result we get the following console output 4 5 6 4 5 6 4 5 6
here i show you a minimal repo where i am just using one operator map operator and the bundle size is big url js import observable from rxjs internal observable import map from rxjs operators let x observable create x pipe map v v
this code ts import defer empty of race throwerror from rxjs import delay from rxjs operators race defer console log subscribed to 1 return of 1 pipe delay 100 defer console log subscribed to empty return empty defer console log subscribed to 3 return of 3 pipe delay 300 subscribe complete console log won error won with error will output subscribed to 1 empty won 3 and this code ts race 1 return of pipe delay 100 error throwerror new error kaboom 3 pipe 300 subscribe complete won with will output with
url const source new replaysubject 1 const obj content array 1 2 3 4 5 6 7 8 9 source next obj source subscribe x if x console log 1 x x content array reverse source subscribe if console log 2 the content array get reversed in console log 2 image url
url ts import defer from rxjs const example defer type of example is observable any but should be observable never
url const mockinput document createelement input document body appendchild mockinput mockinput value test mockinput dispatchevent new keyboardevent keyup key y const search fromevent keyup pipe tap e console log event target1 e target here i see input debouncetime 1000 tap e console log event target2 e target here i see null map event event target target value search subscribe dispatchevent new keyboardevent keyup key y
repl or repo link you can use url to create one to attach here js ajax createxhr function return new xmlhttprequest url url crossdomain true withcredentials false method put body x subscribe result console log result
repl or repo link you can use url to create one to attach here i ve tried with the createxhr property both set and unset js ajax createxhr function return new xmlhttprequest url url crossdomain true withcredentials false method put body x subscribe result console log result
repl or repo link url the key part is here js forkjoin obsmap values subscribe x console log x this makes the console log statement log an array that contains a single observable with the last value of the iterable however if i plug iterable url into array from it works as i d expect it js forkjoin array from obsmap values subscribe x console log x
ts forkjoin promise resolve hello subscribe result console log result
repl or repo link you can use url to create one to attach here js import of zip interval merge behaviorsubject from rxjs import map publish refcount tap from rxjs operators const source new behaviorsubject 1 pipe map x console log map called x return x 1 const s source pipe publish refcount s subscribe next x console log 1 s subscribe next console log 2 source next 2 source next 3
repl or repo link url ts import animationframescheduler from rxjs animationframescheduler flush
repl or repo link you can use url to create one to attach here url js import subject from rxjs import map from rxjs operators const subject new subject const obj a 1 b 1 subject asobservable subscribe foo async function foo value await wait 0 console log value will be a 2 b 2 twice function next obj obj a 2 obj b 2 next function wait ms return new promise resolve settimeout resolve ms
repl or repo link url
stackblitz link url ts import subject from rxjs const subject new subject pipe subject next
js const fromevent rxjs const button document getelementbyid btn fromevent button click subscribe console log clicked clicked is never printed html body class body div class block button id btn click button div script src url script script src js scripts js script body
repl or repo link js import fromevent timer empty from rxjs import debouncetime map switchmap from rxjs operators const input document getelementbyid example for every keyup map to current input value const example fromevent input keyup pipe map i i currenttarget value wait 5s between keyups to emit current value throw away all other values const debouncedinput example pipe debouncetime 500 switchmap empty log values const subscribe debouncedinput subscribe val console log debounced input val
js type of filterednumber is observable any const filterednumber of 5 pipe filter num any true reproduction with possible solution url
repl or repo link url js const source of 1 2 3 4 5 pipe sharereplay 1 source subscribe val console log value received is val result value received is 5
repl or repo link url the version url branch errors when running npm run start when the version url branch works
url git clone url cd rxjs bug npm install jest
install angular and npm current versions ng new test npm install ng serve host version output will show the error on the missing
repl or repo link url
url how sharereplay refcount true works js this source interval 1000 pipe sharereplay refcount true buffersize 1 const sub1 this source subscribe x console log sub 1 x settimeout sub1 unsubscribe 3000 settimeout const sub2 this source subscribe x console log sub 2 x 6000 sub 1 will get three values and unsubscribe after another 3 seconds sub 2 will subscribe again the result will be 1 0 2 after 3 seconds 2 0 same code with publishreplay refcount js this source interval 1000 pipe publishreplay refcount will get three values and unsubscribe after another 3 seconds get the last n values specified in publishreplay and subscribe to interval again the result be 0 after 3 seconds
url ts import replaysubject from rxjs const ready new replaysubject ready next 1 ready complete ready next 2 subscribe x console log x
1 download rxjs from github as a zip file 2 extract it 3 run npm run info in the uncompressed folder
v version from url js require config baseurl paths mymodue foo umd js build with v version from npm rxjs rxjs umd min v version requirejs mymodue rxjs mymodue rxjs window window mymodue init js triggered by click event const map mergemap tap catcherror operators func1 pipe mergemap return func2 pipe tap will go here both tap map mergemap all not works tap will not go here subscribe data no data emit err no err catched no complete emit
sadly i can t provide a stackblitz due to corporate firewall issues but i managed to reproduce the problem here url using rxjs playground github io i m posting the same code here js var largeperiod roughly 26 days in milliseconds rx observable interval largeperiod subscribe val console log val
npm install verbose rxjs version npm info it worked if it ends with ok npm verb cli data larry nvm v version bin node npm verb cli home larry nvm v version bin verb cli install verb cli verbose rxjs version info using next 0 info using node v session http fetch get 200 url 20ms from cache timing stage loadcurrenttree completed in 139ms timing stage loadidealtree clonecurrenttree completed in 1ms timing stage loadidealtree loadshrinkwrap completed in 979ms timing stage loadidealtree loadalldepsintoidealtree completed in 2233ms loadidealtree 3886ms generateactionstotake 654ms correctmkdir home larry locks correctmkdir not flight initializing lock using home larry locks staging lock for data code mattermost mattermost webapp node modules staging audit compress 142ms info audit submitting payload of audit submit 909ms http fetch post 200 url 909ms audit body 0ms extract rxjs sill extract rxjs extracted to data code mattermost mattermost webapp node modules staging f0d3d488 5136ms
an example of both scenarios is shown in the testing changes in 4446
repl or repo link url mergescan acc v index index will be always undefined null
repl or repo link url js import of zip from rxjs import map from rxjs operators const source1 zip of hello of world nothing is happen source1 subscribe x console log source 1 x const source2 zip of hello world it works as expected source2 subscribe x console log source 2 x
test code html doctype html html lang en head meta charset utf 8 title variable leaked title style app margin 2em padding 1em font family roboto mono source code pro monospace font weight 500 font size version rem line height version style head body div id app div script document a object keys window script script src url script document b object keys window document c document d a foreach x c x true b foreach x if c x d push function leaked fragment console log leaked leaked reduce p c p appendchild createtextnode p appendchild createelement br return p fragment self app appendchild fragment d createdocumentfragment body html
repl or repo link url it is my first time use this
repl or repo link url
js const a of 1 2 3 const b of a b c const res a pipe combinelatest b a b expecttype observable number string
repl or repo link url js rxjs ajax ajax url url method get responsetype json crossdomain true subscribe res console log res
repl or repo link url js const buffertime rxjs operators const testscheduler rxjs testing const scheduler new testscheduler actual expected console log json stringify actual null 4 console log json stringify expected null 4 scheduler run helpers const hot expectobservable helpers e1 hot a b c assume x a b c expected 2s x stream e1 pipe buffertime 2000 expectobservable stream tobe expected
url const generatids scheduler interval 1000 scheduler pipe map x x 10 take 3 tap console log const scheduler new testscheduler actual expected expect actual toequal expected describe generatids it testscheduler flush works if i use expectobservable const expected a const expectedstatemap a 4 scheduler expectobservable of 4 tobe expected expectedstatemap flush it instant flush doesn t works with testscheduler flush let cumulativearray generatids subscribe value cumulativearray push value expect cumulativearray length toequal 3 it instant works with virtualtimescheduler let cumulativearray sched new virtualtimescheduler generatids sched subscribe value push value sched expect length toequal 3
stackoverflow link url js return of this getroothref pipe pipearguments distinctuntilchanged
repl or repo link you can use url to create one to attach here stackoverflow post url stackblitz angular service code url stackblitz frontend html that corresponds with problem code url stackblitz angular component return order pipe switchmap result this db list productsperorder result key snapshotchanges pipe map res res map c key c key take 1 map result result map this db object incoming order details key snapshotchanges pipe distinctuntilchanged action object assign action action payload val subscribe items console log items subscribe call to console shows the objects correctly mergemap results results tap console log console logs tap log subscriber subscriber subscriber subscriber
repl or repo link url the statefulcomponent
repl or repo link url js import ajax from rxjs ajax ajax get url whilst request is pending send machine to sleep when machine is woken request is aborted but observable did not error
version e stack is undefined url version e stack is defined url my guess is that url is what broke the traces
repl or repo link url ts import of from rxjs import switchmap from rxjs operators const obj1 foo bar const obj2 bar foo const source of false pipe switchmap status status of obj1 of obj2 source subscribe x console log x
js rx range 0 nan subscribe console log
url js const o of 0 1 2 let o2 o pipe startwith null o2 is of type observable number and there is no error with strictfunctiontypes there is a type error
repl or repo link url
js const pipes pipe debouncetime 500 delay 100 const obs timer 0 1000 pipe take 5 obs pipe pipes subscribe res console log res typing for res is lost
rest parameters overload like below show also exists in static pipe function js pipe a b c d e f g h i op1 operatorfunction t a op2 operatorfunction a b op3 operatorfunction b c op4 operatorfunction c d op5 d e op6 e f op7 f g op8 g h op9 h i operations any any observable
the following throws a typeerror js const delay require delay const observable require rxjs const obs new observable async observer observer next foo await delay 500 observer next bar observer complete obs subscribe however if the subscribe function is not async it works as expected js const observable require rxjs obs new observable next foo next bar complete obs subscribe when using zen url and an async function it also works js delay require zen new async foo await 500 bar complete subscribe
ts import timer from from rxjs import concatmap tap from rxjs operators function wait ms return new promise res settimeout res poop ms timer 10 pipe concatmap from wait 20 pipe concatmap console log here return wait 20 pipe tap x console log x subscribe x console log x
running js const subject of obsof concat obsconcat defer require rxjs const finalize mergemap tap takeuntil require rxjs operators const subject new subject obsof null pipe mergemap obsconcat defer console log side effect 1 return obsof 1 defer console log side effect 2 return obsof 2 defer this should never be run console log side effect 3 return 3 finalize console log finalized pipe takeuntil subject tap i if i 2 stop subscribing when 2 is emitted next subscribe i next i e error e complete outputs sh side effect 1 next 1 complete finalized 3 as you can see the 3 line is displayed even after the outer observable has no subscription left
repl or repo link url ts import of from rxjs import startwith from rxjs operators import rxjs rx const ob2 of 1 startwith expect error got one argument of type foo is not assignable to parameter of type number schedulerlike foo const ob 1 pipe startwith expected error but got none foo or if we don t get an error we should at least get a union expecttype observable number string but got actual type observable ob
take a simple ajax request like below js this does not send the cookie ajax url test method post body data crossdomain true withcredentials true headers enctype multipart form data this sends the cookie ajax url test method post body data crossdomain true withcredentials true
simple stackblitz example with the same dependencies but there i cannot reproduce the issue url code snippets from our project js return this userservice user pipe if this tap is removed no events are fired from the switchmap operator below tap return switchmap user this getzoneinformationofuser user id productroles js observable forkjoin this translateservice get translation1 translateservice get translation2 pipe if tap is removed no events are fired from the switchmap operator below tap return switchmap title text const ref modal open confirmdialogcomponent data title text return ref afterclosed subscribe result if result confirm confirmupdate
url js const tick interval 100 pipe take 15 tick pipe buffer interval 1000 subscribe x console log x
repl or repo link url as you can see using a trailing coma js const combined combinelatest timerone timertwo timerthree please note that coma which causes the type error causes the combinelatest to be detected with a resultselector which of course doesn t exist here image url
i dont know how to do stackblitz with jest tests you can take the following code and run jest test or yarn test js it do some testing const testscheduler new testscheduler actual expected expect actual toequal expected testscheduler run helpers const cold expectobservable helpers const tick timer 0 1000 testscheduler pipe take 18 share const now tick bla cold a b blu bla pipe withlatestfrom now map b n b output blu expected a b expectobservable output tobe expected
url js const donotunsubscribe source observable any return new observable any subscriber const sourcesub source subscribe subscriber return unsubscribe testscheduler run cold expectsubscriptions const source cold b const unsub cold u expsourcesub source pipe donotunsubscribe takeuntil unsub subscribe expectsubscriptions subscriptions tobe expsourcesub the test fails actual subscribedframe 0 unsubscribedframe 4 expected subscribedframe 0 unsubscribedframe 7 which means that is unsubscribed from at unsub even though this should be blocked by the operator
see this test url l135 for first ts expectobservable e1 pipe first x x s d tobe expected
html doctype html html lang zh cn head meta charset utf 8 meta http equiv x ua compatible content ie edge meta name viewport content width device width initial scale 1 meta name renderer content webkit title rxjs test title head body h rxjs test h script src url script script src url script var st new set st add foo try var arr array from st console log arr alert arr catch ex alert ex body html
url url js test 1 let test1 t1 interval 200 pipe take 10 this happens only once as the interval is unsubscribed from after first matches tap test1 first delay 900 map test1 subscribe v console log v test 2 let test2 t2 interval 200 pipe take 10 this happens many times because find does not unsubscribe on match tap test2 find true delay 900 map test2 subscribe v console log v
see url or use this code typescript import replaysubject from rxjs const rs1 new replaysubject string 0 const rs2 new replaysubject string 0 number positive infinity settimeout rs1 next rs1 1 item rs1 next 2 item rs2 next rs2 1 item rs2 next 2 item 500 settimeout subscribe rs1next console info rs1next subscribe rs2next console info rs2next 1000
url js expectobservable cold x tobe x expectobservable cold y tobe y const expectation expectobservable cold z tobe bind null q flush causes the check z vs q not to be checked at all expectation
observable of subscribe nextvalue console log i expect next to be called with undefined error console log unlikely erro here console log completed observe that the only line output by the code is completed the callback for the next value is never called
ts import observable subscribable never from rxjs function foo input subscribable number foo never
js import subject from rxjs import mapto from rxjs operators const subject new subject pipe mapto bar subscribe console log subject next foo incorrectly returns foo const subject1 new pipe mapto bar subject1 subscribe console log subject1 next foo correctly returns bar
cd docs app npm run test
repl or repo link you can use url to create one to attach here n a because there s no a public websocket server i can use for this working js import serverconfig from shared utils dataaccessors serverconfig import catcherror map merge from rxjs operators import of from rxjs import websocket from rxjs websocket const listentowebsocket const websocket protocol v1 url serverconfig locations service return pipe merge of null pipe map type join channel request channelname environment lol map action next action catcherror error console error error return listentowebsocket listentowebsocket subscribe console log not working js serverconfig shared utils dataaccessors catcherror map rxjs operators const listentowebsocket const protocol v1 url locations service return pipe catcherror error console return t t next type join channel request channelname environment lol2 t subscribe console log
repl or repo link url click the button and look at the console logs this is not the same in the property accessor for emittederror and error handling function
repl or repo link no source available
try to create behaviorsubject without any arguments in typescript js let subject new behaviorsubject
url typescript const piped new subject string pipe map el1 el1 piped subscribe value console log got value value piped as subject string next banana output got value banana new subject string pipe asobservable not allowed
js const test1 of test pipe publish const test2 of test pipe take 1 publish const test3 from test pipe publish test1 connect test2 connect test3 connect control case settimeout function of test pipe subscribe console log control onnext this gets printed once null console log control oncomplete this gets printed 1000 test1 settimeout function test1 subscribe console log emit null console log complete of takeuntil subscribe onnext did not emit so this should get printed but it does not null oncomplete this does get printed but should have been preceded by the single emission the source 1000 test2 settimeout function test2 subscribe emit null complete takeuntil onnext did not emit so should get but does not oncomplete should get but does 1000 test3 settimeout function test3 complete takeuntil onnext did so oncomplete 1000
stackblitz url ts const myspecialtimer new observable next complete let count 1 const rinse settimeout next count if count 15 return rinse complete 500 rinse return console log done pipe take 5 subscribe console log
repl or repo link url
1 create two bundles referencing rxjs version one exposing an observable another subscribing to it and using its own operators 2 try to subscribe
js rx of foo pipe switchmap rx of undefined pipe tap console log not working mergemap boom boom catcherror err rx throwerror error not catched subscribe data console log data err console log error err output not working error typeerror you provided undefined where a stream was expected you can provide an observable promise array or iterable
repl or repo link url js const of ajax ajax operators catcherror debouncetime map switchmap rxjs const server endpoint url const deletpost id ajax delete server endpoint posts id pipe map id catcherror of null position a rxjs fromevent document getelementbyid input input pipe debouncetime 500 switchmap e deletpost e target value trim catcherror of null position b subscribe console log input a number less than 100 it will successfully dispatch a delete request then input a number greater than 100 it will response 404 then whatever you switchmap will not work any more no request will be dispatched
ts const connectable of 1 2 3 4 pipe multicast new subject number connectable subscribe connectable connect the type error occurs on the last line when calling the connect method ts ts property connect does not exist on type observable number because the pipe function expects to return an observable type but operator is actually returning a connectableobservable with additional methods
repl or repo link url js const assert require assert const from require rxjs const microstates require microstates default let ms microstates from hello world from ms subscribe next assert next 0 should have an array with one item
after installing rxjs version and rxjs compat version navigate to node modules rxjs internal symbol observable d ts and node modules types node index d ts the ide will indicate the error line readonly observable symbol ts all declarations of observable must have identical modifiers property symbolconstructor observable symbol
steps to reproduce the behavior 1 enable plugin git 2 run commands mkdir gitcompletiontest cd gitcompletiontest git init touch somethingweird exe git add git commit m commit msg now create some branches to autocomplete from checkout b feature someeasyone checkout b feature ohmyzshissmart checkout b feature harderone 3 now try to switch to feature ohmyzshissmart using partial branch name and autocompletion write checkout zsh and hit tab for autocompletion it will complete command ohmyzshissmart which will not work
1 run the command print z foo and observe the result 2 the command above will inject foo on a new line leaving the cursor at end which is expected behavior 3 try to run same command like bin zsh c print z foo nothing happens it is equivalent of pressing enter on an empty line 4 try to run same command print z foo from within a script file like bin zsh print z same as nr 3 nothing happens
input the above curl command manually
1 create a directory 2 create 2 files in the directory test cert sh and test a sh 3 type in test sh and move the cursor after the underscore so that the cursor is flashing on dot 4 press tab to activate autocomplete 5 see that an h is added after cursor
steps to reproduce the behavior 1 enable plugin tmux 2 create one or multiple tmux sessions 3 detach from session 4 attach to session ta tab 5 see error
1 enable plugin gitfast 2 go to a directory that is a git repository with more than one local branch 3 type git switch including the space at the end and press kbd tab kbd
1 set this prompt prompt fg cyan reset color d f t fg cyan reset color 2 go to a really deep directory something that takes up most of your terminal width 3 type out a long command that wraps to a lower line and run it 4 up arrow to the previous command and then use left arrow until it jumps to the next line 5 continue left arrow until it jumps another line
steps to reproduce the behavior 1 start a new session in tmux 2 within tmux run vim 3 type ls and hit enter
1 have zsh running with the af magic theme 2 activate a python virtual environment 3 it should display immediately
1 start putty and connect to the linux system with a normal user debian 8 9 or 10 2 start a root shell sudo i tmux 3 subdivide the window vertically with ctrl b 4 start the command line input and use the auto complete function
1 create a new git branch testbranch 2 make a one line change in one of the files commit 3 checkout master change the same file with different text commit 4 git merge testbranch git training dotnet friedrich master git merge testbranch conflict add add merge conflict in dotnet friedrich foo auto merging dotnet friedrich foo automatic merge failed fix conflicts and then commit the result training dotnet friedrich master no indication we are in merging state
1 add an alias to gitconfig file alias clean local branches git branch egrep v master xargs git branch d 2 open terminal and type git cl 3 press tab key
1 enable plugin git 2 move into a git project folder example we have branch demo test 3 type command git checkout demo then press tab
1 enable plugin powerlevel10k powerlevel10k 2 set powerlevel9k prompt on newline true 3 type a command 4 press tab tab to autocomplete command autocompletion menu 5 see error
on ubuntu try to activate the command not found plugin and type an unknown command like hahahaha in my example
1 enable debian plugin in zshrc 2 source zshrc 3 receive parse error
1 apply the config export zsh home oh my zsh zsh theme spaceship spaceship prompt order dir git venv exec time line sep battery jobs char spaceship venv symbol spaceship venv color yellow prompt separate line true plugins git sudo colorize zsh autosuggestions syntax highlighting git extras virtualenvwrapper django heroku jira source oh my sh 2 cd some chars to match multiple folders 3 press tab
steps to reproduce the behavior 1 open terminal 2 zsh enter entering into zsh 3 run command vi file 1 txt 4 see error zsh no matches found file 1 txt
steps to reproduce the behavior 1 install oh my zsh using the homepage curl command 2 select y when asked to make zsh the default shell 3 see error
steps to reproduce the behavior 1 enable plugin sf 2 enable plugin zsh syntax highlighting 3 write sf in the root of a symfony project
1 have zsh installed and as the default terminal 2 have nvm installed correctly and setup in zshrc 3 run nvm in terminal should work 4 run bin zsh c nvm should fail
1 install for user1 2 switch to user2 3 oh my zsh refused to install and if i manually set up zshrc it says that i need to take ownership of user1 s home directory
set zsh as the default the few following settings in zshrc sourced at time of events source home zsh bundle bin antigen zsh antigen use oh my zsh antigen bundle git antigen theme agnoster launch terminal use default preferences and basic profile set font to roboto mono for powerline observe appearance
1 use cmd or powershell 2 log in a server with ssh 3 the bug should be obvious
enable plugin django say i have a project profile project remote on github that s created on another machine and i have django installed on my local machine if i clone the remote project
1 install homebrew usr bin ruby e curl fssl url 2 install zsh homebrew install zsh 3 install oh my zsh sh c curl fssl url 4 tried to change thing sin zshrc vim zshrc
steps to reproduce the behavior 1 enable plugin 2 run command or try to complete command etc 3 see error
1 setup youtube broadcasting in the admin settings 2 go to any channel and broadcast your camera
1 write a message in the channel 2 click reply in thread button on above the message 3 write and submit something 4 click threaded reply so that the right panel is opened 5 in the right panel on threaded reply message click three dots settings menu menu contains two jump to message links
1 call rooms upload method api with a filename for example 2 txt russian characters in there
1 update rocketchat server deployed via snap from version to version 2 log in as a regular user that doesn t have the preview public channel permission join a public channel look at the top of the channel s chat area for the banner message you must join to view messages in this channel 3 confirm that joining and sending messages in does not make banner message disappear
1 or sign up with new account and try to login but all channels are invisible
1 goto admin 2 activate direct reply 3 configure a working email address mailbox imap 4 set the option delete intercepted emails to false 5 save the settings 6 send any email to the previously configured email address 7 check the configured imap mailbox via email client
send the valid emoji url url in a message
1 start otr conversation 2 enter message 3 no green key icon
1 start rocket chat with using root url url 2 upload a file such as test jpg 3 try to download the file
do an event like join a channel and immediately lose connection reconnect
1 go to marketplace 2 click show marketplace apps 3 click on a free app and then click the free button to install it
1 go to marketplace 2 click on a free app 3 click the free button to install it
1 go to directory channels 2 check number of users 3 go to channel 4 check info
1 follow this post url 2 i have also tried using the curl as mentioned in the examples curl h x auth token token h x user id userid h content type application json myurl rocketchat api v1 rooms creatediscussion d prid general t name discussion name but getting an html response instead of an actual json response doctype html html head meta name referrer content origin when crossorigin script eslint disable use strict function var debounce function debounce func wait immediate
1 configure oauth service with role mapping 2 login with oauth service and a new user 3 the new user has role from oauth mapping user role
1 type a message in a thread reply 2 try to edit it 3 message edits in the main channel instead of thread
1 go to settings general utf8 utf8 names validation 2 set it to something without uppercase letters 0 9a z 3 try to mention existing user with uppercase character such as alice
1 go to administration layout custom scripts 2 paste code to move another page and redirect to rocket chat page
1 paste long text in the message field and hit send button 2 answer yes to send as attachment request 3 fill file name and description 4 download file it is encrypted
1 create a guest user and invite them to a channel make sure that allow anonymous read is not globally enabled and that the guest group does not have the preview c room permission 2 the guest user should see the you must join to view messages in this channel banner
1 run rocketchat commit 5827ff3 2 check any existing incoming webhook messages i have mine sent from gitea a github like git server with support for push commit web hooks it has worked well up to the above mentioned commit 3 update rocketchat to any commit after that one
1 set a channel moderator leader 2 start a thread 3 open the thread
1 go to channel 2 click upper right three dot more menu 3 open mentions 4 select message you where mentioned in 5 try to jump to that message
1 choose a pdf file 2 upload
1 any chat room direct message 2 paste this img src x onerror alert 1 aaa img 3 enter
1 add two users foo and bar 2 start typing f for foo 3 press enter
1 update to rocketchat version
mongodb writes pid file but needs more time to really startup mai 05 03 00 41 rocket rocketchat server rocketchat mongo 685 2019 05 05t03 00 version 0200 i control initandlisten mongodb starting pid 788 port 27017 dbpath var snap rocketchat server common 64 bit host rocket mai 05 03 01 19 rocket rocketchat server mongo 685 2019 05 05t03 01 version 0200 i repl rssync transition to primary complete database writes are now permitted rc s snap startup script startrocketchat url waits only for pid but not if a connection could made up resulting in startup log txt url
1 make a user talk to 10k other users apis are useful for this 2 access the web client
1 open any image in firefox version for me 2 open rocket in a new tab in the same browser open a chat room 3 drag the image from 1 into the tab from 2 aim for the message list
1 configure ldap and enable tls encryption for it 2 click test connection button
1 post to api v1 login get userid and token 2 mongodb persisted the hash of that token for ever in users userid services resume logintokens
1 upgrade to version
1 go to profile my account preferences 2 set view mode to compact
make sure keep per message editing history is set to true image url 1 right click on a message and click reply in thread 2 send a message 3 edit the message 4 close the thread 5 go about your day 6 come back to the thread later and notice your is showing up twice
1 disable role display
1 upgrade an existing non enabled rocket chat server using a non enabled mongodb oplog 2 bring up the node 3 an error status will be reported in stdout see below
1 setup new server with ad ldap auth 2 login with an ad ldap user 3 restore mongodb on top of the newly created one mongorestore drop d rocketchat dump dir
1 administration accounts 2 enable allow anonymous read and allow anonymous write 3 open private window and go to any channel 4 click on or talk as anonymous
1 go to settings enable allow message bad words filtering 2 add some keywords as string cho meo or ch m 3 click save changes bad words url 4 go to channel and enter enter one of cho meo ch m
1 get an mp3 or wav file 2 make sure you can upload it as an attachment the normal way through rocket chat correct mime types allowed in file uploads 3 try uploading the same file but through the following command using the api curl url f file test mp3 f msg this should work h x auth token token h x user id user id
1 login to instance 2 expect to find search field next to channel 3 it is missing img width 324 alt screen shot 2019 04 26 at 11 21 57 am src url
1 go to any channel 2 open users list 3 type a query and press enter or just press enter without any query
1 click my accounts personal access token 2 create a new token 3 close dialog
1 deploy latest docker develop image 2 create an incoming webhook integration set a custom avatar in place of the default 3 trigger the webhook 4 see that the custom avatar is being ignored
set language settings to any of the germans select any user account and select user info
1 create incoming webhook without script 2 send message to incoming webhook with the following body attachments color d63232 fallback alerting my alert fields short true title some value value version ts parse full 3 send the same body with quotes around the numeric value of value and you see it working
1 go to rocketchat 2 start conversation and type something 3 upload button is hidden after sending message 4 refresh page app to see and use again
1 set the clock format to 24h 2 start a thread discussion 3 observe the timestamp
1 click on description of threads 2 or click on replies button for thread
1 go to search 2 write your search request username name first 3 characters etc 3 get bugged random results
1 have someone send a message with a large or slow loading image
1 open up a thread 2 send gif there or find any that s already there 3 open preview of it
1 use desktop client 2 start jitsi call 3 don t refresh just change rooms
1 send a message to another user 2 star and unstar that image 3 watch it flicker like crazy each time you do it
1 set the user data field map to the value cn name givenname sn anotherdomain com email 2 log in as a newly created unsynchronised ldap user e g user with an ldap cn field name of joe givenname of joe sn of bloggs 3 attempt to log in as newly created joe user 4 login fails 5 view the debug logs see below
1 create docker compose yml 1 run docker compose up 2 start setup wizard 3 on second page click on server type dropdown
login to a room with users that have roles assigned to them such as owner
1 create a channel 2 type a non english characters in input box for the channel doesn t work
1 click 3 dots on channel top right 2 click discussions
1 update to latest docker develop 33729fe 2 go to administation integrations 3 will not be able to edit any of them you also cannot add incoming webhooks
1 go to direct message with user 2 click on user info 3 click on view all members button
1 make a test html page with the javascript presented to you on livechat installation page of the admin console 2 open that page with a browser such as internet explorer and chrome 3 enjoy
1 start internet explorer 11 2 browse to rocket chat instance 3 error page is not loading
1 create room s 2 assign ordinary users as leader 3 notice that they now float above the messages window
go on admin panel after rc migration
1 create new user with role guest 2 login to rocket chat 3 auto join default channel with all members and internal information for not guest
1 ask someone nicely to start a discussion 2 ask them to write something in another language 3 join the discussion 3 click the toggle original translated option from the message actions
1 update to latest develop docker image 849c9d1 2 go to administration apps 3 see the broken list 4 attempt to install an app will get 404 error 5 if imgur or giphy apps are installed try a search no results found will be returned try cat there should be results
deploy via normal helm chart oplog is not enabled
1 join a new room 2 go to notification preferences 3 check sound under desktop
1 have enough private conversations that the list overflows the viewport 2 receive a private message disregarding the popup
1 send a private message 2 anticipate it showing on the next line below 3 observe it showing up several lines above
1 go to custom emoji tab in administration 2 click on the add button to create new custom emoji 3 if aliase is set equal to name then it show success message
1 go to adminpanel import slack 2 select sack coporate export zip file 3 wait for rocket chat importer to process the file 4 see that all users all messages but only public channels are importable
1 open a dm with any user 2 click the user info option 3 click the view all members button
1 add a custom emoji containing a period in either the name or the alias 2 react to a message with the recently created custom emoji 3 refresh the page
1 embed rocketchat in a first domain for example url 2 if you want authenticated request across cors you have to go to url administration general rest api enable cors and in cors origin write url like in image cors problem 1 url 3 till now all good 4 now embed rocketchat in a second domain for example 5 again if you want authenticated request across you have to go to administration general rest api enable and origin write but we dont want deny access so we add our second domain at the end like image problem 2
1 type hello in the message box
1 select a message to be pinned or unpinned if already pinned 2 click on three dots in the message open the message actions menu 3 click on pin message or unpin
1 choose a random message 2 click on three dots in the messge open the message actions menu 3 click on star message
1 set up rocket chat behind a router and configure port redirection 2 try to send files to someone else 3 upload stays at 0
import hipchat file get error
1 set show setup wizard to pending 2 log out 3 go to your server url 4 profit
1 go to add user in channel 2 add a user to channel 3 again search his name in the list
1 press shift and to get to 2 keep shift pressed and press three times to get 3 then press shift enter
use a server that has marked selected as the markdown parser and has gfm tables enabled admin messages markdown markdown parser marked markdown marked gm true marked tables true
1 open live chat for any user 2 see tabbar
1 go to the official rocket chat server on url or run your own server on beta 2 try to send voice message
1 go to any user user 2 click on three dots on the top right and then press otr 3 go to any user user 4 deny otr 5 see modal message on your info
1 post a message with all 2 check outgoing email and see that not all users will receive an email
the home page content should be rendered with variables storing the text in different languages same as other text are translated of sidebar for example
i have tried curl url tokenfromvisitor no department information curl url no room nor department information
1 open a new livechat conversation on the sidebar 2 forward the conversation to another livechat agent 3 open forwarded conversation as that livechat agent 4 click on visitor info icon edit 5 change the name field and click save
1 go to rocket cat user 2 click on three dots on the top right and then press otr 3 go to another user 4 start otr 5 stop otr and see modal message
create a new visitor bash curl x post d visitor name myname token mytoken url get a new room id bash curl x get url send messages to this new room bash curl x post d token mytoken rid myroom msg hello url close room via web interface or api send repeatdly times a new message to closed room
run npm install
1 enter any room 2 push the microphone to record sound 3 send it it fails and circle keeps spinning
1 activedirectory add to each commonname field 2 rocketchat set cn in field name in ldap synch 3 rocketchat check that username is ugly now
1 be the admin of a server 2 click on triple dots in sidebar administration 3 go to permissions tab
1 login with a customoauth provider and you will find that you can remain logged in to the server forever unless you purposefully logout this includes when the client app in our case android is closed and reopened on the device basically the call to isauthenticated always comes back true unless you have purposefully logged out at some point
1 open url base channel general layout embedded
1 go to left navbar and click on create a new thread 2 enter relevant info 3 try adding the username to invite users section
1 enable webdav integration 2 add url instead of url 3 have a total crash
1 open the page on a mobile browser 2 try to scroll the content
1 turn on all messages globally in admin 2 hide counters is off on individual channel group 3 badge still shows up
1 administration ldap base dn 2 set to ou users ou projects dc example dc com and then execute synchronization now 3 check server log and see that users imported reports users in users ou projects ou 2 imported 4 set to more projects dc example dc com and then execute synchronization now 5 check server log and see that imported reports in projects 2 imported
1 go to administration import slack import start importing 2 attempt to upload zip file containing raw backup of slack channels via latest slack export template 3 import is read successfully by client with options to select deselect channels users 4 import is run but fails only a handful of entries in 20 40 entries in with generic error message an error occurred while running the
1 post this link url
1 configure administration push settings untitled url 2 configure gcm api key and gcm project id 3 restart rocket chat server
1 install on ubuntu version 2 load in chrome and configure the admin user etc 3 open the site on another machine or browser or even an incognito window
1 click administration custom sounds 2 on right bar click on sign and add a custom sound 3 add relevant info
1 send direct message to user 2 user receives push notification with title undefined in push notifications settings there is a show channel group username in notification turned on gateway is enabled and its url is url
1 create webhook with script with false syntax 2 update webhook with correct script
1 enable push notifications for mobile in settings 1 press button send a test push to my user see the error in the screenshot above
1 type an emoji in any thread on the web app 2 view the thread in the android app
1 go to any channel or your dm and add disambiguation url this is test 1 2 then add any other url like knrt10 url this is test 2 3 just change step 1 message data enter this disambiguation url this is test something 4 just change step 2 message data enter knrt10 is test bla bla bla 5 now for last time enter new message knrt10 i wanted new message
1 a channel 2 send a link possibly just spotify or spotify albums 3 click on the title of the embed
1 add a few p and h1 tags to the privacy policy or terms of service layouts content 2 open the privacy policy or terms of service links form the login page
1 setup saml auth according to url 2 login using saml 3 logout using saml
1 run the curl command from command shell
1 click forgotten password link enter email address 2 check email inbox click on link in password reset email 3 redirect to prompt please enter your new password below 4 any text entered in the password field and submitted will produce the error modal saying error changing this issue was previously described here url
1 install a self hosted instance 2 do not configure an smtp server 3 add an admin user with a valid email address
1 import large hipchat history with attachments using the workaround proposed in url issuecomment 2 import everything
open livechat page for department x when x isn t online livechat window appears user fills in their data livechat will be forwarded to department y
1 resend verification email 2 get error error trying to send email message failed 3 tcpdump shows the bad from header and the dkim error that causes
1 administration oauth 2 create custom oauth 3 set username field lastname firstname uid
1 set the above settings 2 perform repeated api calls to the users getavatar end point eg users getavatar username homer carter 3 after a number of attempts see a 400 appear with error type error too many requests
1 open rocket chat on desktop 2 log out if you are logged in 3 notice that there is no button to log back in 4 you have to poke around quite a bit e g by searching the server for a channel before you can find somewhere to login it doesn t even show channels to select from on the side make poking around easier you have know search for a channel in the search bar
0 set up some trigger runonce disabled 1 go to the web page with embedded livechat widget 2 start conversation 3 finish conversation
1 upload slack zip on the import page 2 messages are processed and some are imported 3 after a while the server connection times out a few times possibly overloaded 4 navigate back to the slack import page to check the progress
1 go to rocket chat admin panel 2 adjust default number calls to the rate limiter 3 use the attached jmeter test to create api requests rocketchat zip url
1 create channel with the same name as it is in slack 2 post message in slack channel 3 message not appearing in rocket chat
1 update to a recent version of develop tag on docker 2 if you have custom sounds check them on the list in administration custom sounds they should show up and play properly when clicking on play button 3 go to my account preferences sound and try to pick any of the custom sounds you will not see anything but the default chime default and door default sounds
1 create a user called foo 2 go to a channel and mention foo
1 upload a big file 70mb to a channel 2 rocketchat crashes 3 rocketchat restart does not help
1 enable markdown marked in messages 2 enter thumbsup in a channel 3 emojis is only half the size it is withoud markdown enabled
1 write x y and send the message
1 deploy a brand new instance of rocketchat for me it was docker compose 2 go to the rocketchat instance url 3 create first admin via setup wizard 4 get the too many requests error at step 4 of setup wizart
user enters text and sends the message user deletes message message does not delete from the screen of other users
1 in chanel click on someones login for detailed info 2 scroll up in message history 3 banner of chat leader will hide cross sign recently opened icon in detailed info about user
1 open a channel 2 click the at the bottom right 3 click video message 4 click the recording button
1 start rocket chat on home network 2 take your computer to mcdonalds for lunch 3 connect to mcdonalds wifi 4 watch rocketchat window process ms connect network authentication
see manage own integrations manage own integrations permission
1 in a self hosted environment send a message to a user with a custom app 2 check received notification
1 enable message retention policy and set a maximum age 2 attach a file to a message 3 let message file get older than maximum age policy 2 let policy activate and run 3 click on files list and see the files still exist
1 upload file as message url 2 change file but keep file name and location the same 3 reupload file as message url 4 reuploaded is not changed is still from step 1
1 as admin allow all file types for upload 2 uploading file txt and downloading it works fine 3 uploading file without extension download does not work logs complain about unhandled promise rejection
1 set a root url with a subpath 2 create a cluster with several instances of rocket chat
1 select slackbridge in the administration menu 2 type the name of the channel into slackbridge out channels and select it 3 click save changes 4 reboot rocketchat server 5 send message from slack on the channel 6 send message from rocket on channel
1 open group or channel 2 upload file of this size
sudo snap refresh rocketchat server candidate
1 configure 2 livechat agents 2 login with agent 1 and finish 5 chats 3 login with agent 1 and agent 2 4 start new chats 5 all new chats will be routed to agent 2 until it reaches 5 chats number of routed to 1
1 go to a channel with a pin pointing to an old message i e it is not displayed 1 open the pinned message right menu 2 click on the pin options menu with options unpin message jump to message permalink 3 click on the option permalink in unpin both words are capitalized but in jump to just the former rigor p
create a inetegration four your own user enabled true name optional mypersionalintegration post to channel username
1 enable e2e encryption 2 create have users a and b 3 login with a click in header message to save e2e password and logout 4 login with b and logout without clicking on header message 5 login with a
1 identify an existing user in your rocketchat install 2 change their avatar in active directory ldap 3 go to administration ldap sync import 4 click execute synchronization now
log into rocket chat instance with any version of the rocket chat mobile app
1 post any link containing the html meta name fragment content 2 wait for the embed to show 3 not meta tags are shown
1 admin panel layout custom css colors content color c2ffc0
1 creation a webhook without or with a script enabled 2 send a message with attachment that contain the author name field through the webhook 3 verifying the result on the channel where webhook post message
1 in any chat type without quotes and hit enter
1 enable crowd authentication 2 allow users to change their username under accounts 3 login via your crowd username 4 change your username to something else 5 when logging in with your new rocketchat username you will be redirected to the fallback login but not login via crowd 6 on sync your rocketchat will be reset again to the crowd
1 try to register as a new user 2 click on register a new account
1 go to url for example 2 turn the use real name setting on again for example 3 click on save changes 4 a green confirmation appears that the setting is saved 5 close the admin panel without refreshing 6 open the admin panel again from overflow menu in left sidebar 7 check if setting is still true 8 refresh
1 click on mail messages 2 try to add yourself under to users 3 not possible
1 receive an email notification from rocket chat 2 view the full list of email headers for that notification 3 there is no auto submitted header in the email
visitor send a lot messages
1 hard because you need to have crowd server 2 you may temporary throw exception as in url l159 for example in 3rd iteration of users foreach for debugging
call meteor method meteor call sendinvitationmethod availemail gmail com function x y console log y y is always an empty list despite the email being valid the email is sent out i have not set an smtp server though it might or might not work with that configured
1 release a point release for the actual major version e g version 1 release a point release for an older major version e g version but not for the actual major 72 x
1 start with a rocketchat server running v version 2 have a user on the pidgin client with purple rocketchat log into chat 3 have a second user log into chat through their web browser create a public channel and send message out into that channel check to see if the user on pidgin saw that message show up as direct message 4 update the rocketchat server to version and repeat steps two and three
1 just as description
run chrome v71 or above and try to start a video call
hover over a message reaction the reaction must be from someone else than you or query a message with a reaction via the api
1 have rocket chat running behind a corporate proxy 2 setup smtp to some external server 3 send test e mail
1 go to url 2 click mac app store graphic in the desktop apps section
1 go to page with live chat with registerguest called when no agents are online 2 click on the widget
1 go to administration 2 click on file upload 3 fill in ptk and or xjdf in accepted media types 4 click on save changes 5 try to resend a file with one of these extensions
go to url example url
0 make sure you have at least one message containing the string remote server failed 1 enable global search admin settings search default provider tick true next to global search 2 in any channel click on the search icon make sure global is ticked 3 type remote server i in the box for me no results are returned 4 type remote server failed i in the box and results are returned
1 send image or gif 2 minimize media by clicking on the small black triangle 3 add any reaction
1 go to administration integrations new integration incoming webhook integration 2 check preview it should include the avatar of your rocket cat user 3 go to field emoji optional and enter the example emoji ghost press tab to update the page 4 check preview the avatar picture just vanished
1 open a channel with unread messages
1 press search 2 enter sergey into input box 3 sergey aleksandr does not appear in user list 4 press directory 5 go to users tab 6 enter sergey and he is among other users in the list
send or receive message with url containing a query string
1 go to admin panel and then to the mailer 2 fill form fields 3 click send email button
1 have messages that are unread 2 hit mark as read
1 start a live chat 2 end a live chat 3 4 profit
1 in the accounts section of the server admin console change the number of days for login expiration in days to 1 2 save the changes and then restart rocketchat server service 3 log into server with desktop rockechat client version version and check it in 24 hours to see if it s still logged into server 4 in accounts section of admin console change number of days for login expiration days to 90 5 save changes but do not restart rocketchat service 6 log into with desktop rockechat client version version and check it 24 hours to see if it s still logged into repeat similar steps with forget user session on window close setting i think you don t need wait 24 hours for this test but do try quitting desktop rocketchat client and reopening see if user is still logged chat note some our users lock their workstations at night while others actually log out their workstations each night both cases users reported having log back their desktop rocketchat clients next morning when they returned work
call api v1 users info username username1 fields userrooms 1 and be authenticated as username2
1 set your profile to german 2 react on a message 3 move the mouse over the reaction
1 checkout develop branch 2 build 3 start with old config used for version version
1 build rc version rc 0 2 start 3 fails to connect to db
1 activate pre registration form 2 open website with livechat in anonymous mode
1 install fresh ubuntu version 2 follow dev guide here url installs require use of sudo install python 27 install git install meteor cd to repo s local dir as normal user git clone repo to local dir meteor npm start 3 meteor npm start hangs at starting email intercepter
1 toggle hide counter in room 1 2 go to other room 3 wait for message in room 1
1 change the user name on the cas server and in rocketchat 2 user tries log in via cas
1 update to rocketchat version develop commit 2 try to send a message
1 update to version 2 receive a message
use the smartphone in portrait and in landscape position
1 setup new rc instance 2 create public broadcast channel 3 go to admin ui 4 select channel in question and turn read only channel from true to false 5 try to switch it back again
1 import users csv 2 users receive email and are prompted to login without a password 3 user clicks login then has to use password reset function to set the initial password
run the code in a hubot script
open rocketchat in chrome browser in android
1 open any chat in rocket chat and try to send a message consisting of blockquote followed by a single line code block something like this quote code 2 send this message
1 try to change a user s e mail address e g from lower case domain tld to lower case domain tld
1 update develop to latest version develop commit 2 go to administration 3 click on custom sounds or apps
1 go to my account slide to notifications 2 change any of tree field press save button 3 after reloading press at 3 vertical dot
1 go to url 2 find desktop apps 3 click windows 4 click direct download
1 go though the csv import the flat zip file has only users nothing else
1 refresh reload screen 2 profile picture loaded 3 after a while broken picture icon shown 4 error 400 expiredtoken
1 go to any rocket chat channel page on the web client 2 press shift escape
1 open this file url 2 search for text search channels 3 you won t find it
this is my test curl h x auth token h x user id xxxxxxxxxxxxxxxxxxx h content type application json url d channel general attachments title horizontal text buttons with url button alignment horizontal actions type button text book flights url url is webview false type button text cancel travel request is webview false
1 go to administration oauth 2 click on refresh oauth services 3 log out from rc 4 saml login is missing no cache or refresh or browser android client problem 5 restart rocket chat 6 saml login is offered again
1 configure a password policy 2 as an administrator manually add a new user 3 attempt to set that user s password using the automatic password generation feature
1 create a channel 2 enter channel 3 create one message 4 delete channel 5 re create channel 6 enter 7 attempt to add user s
1 create a channel 2 delete that channel 3 re create it 4 attempt to enter
1 go to a channel with a channel moderator 2 click the member s list icon 3 search for the username of the channel moderator if he s offline set the dropdown to all users 4 click vertical ellipsis 5 notice set as moderator option when user s already moderator
1 make sure webdav integration enabled is set to true 2 go to your user preferences
1 open a link to web site 2 click view source
1 deploy a server with a signed certificate 2 create a reverse proxy that only allows clients with a valid client certificate to authenticate and access the rocketchat endpoint 3 create valid client certificate for client 4 convert the client certificate into pkcs12 file 5 import the pkcs12 file into the android store ensuring it is trusted 6 ensure chain for server is trusted on android 7 attempt to connect to endpoint through rocketchat app
1 open any room 2 upload a file 3 copy the link address of uploaded file paste it into message box and send it 4 click in the new message s link
1 go to admin ui message 2 now set allow message bad words filtering to true add bad words to the blacklist to test example 3 save configuration 4 go any channel and send a message with the content test example
1 go to administration apps 2 go to an app that needs to be updated 3 click update
log into rocketchat server goto general and see the error
see description
1 enable e2e for a direct message channel 2 assemble an otr session 3 try to send a message 4 feel disappointment
1 administration layout use real name is true 2 remote user not you sends you first direct message 3 his or her username is displayed in left pane
1 go to admin ui accounts default preferences 2 set hide usernames to true 3 click save 4 set it back to false 5 notice how you can not click save again
1 have deleted users in hipchat 2 create export 3 import into rocket chat
1 open any conversation 2 click on the more and then mail messages img width 261 alt screen shot 2018 10 18 at 6 25 06 pm src url 3 select some messages you want to mail
i have reproduced this by including a link in a rocket chat app attachment using the following code you can login to the server here url username login also in the open rocket chat server when you type in something like 53 and it attaches the github links attachment has a trailing as well as anything after it before a space
1 go to a channel and click in the top right corner 2 select keyboard shortcuts 3 panel is displayed with keyboard shortcuts in a small font size
1 enter the following string in chat
path a 1 enter the chat with one or many members 2 click on filename to download any file posted by any user 3 click save in the modal dialog path b 1 enter the chat with one or many members 2 click on filename to download any file posted by any user 3 click cancel in the modal dialog
1 logout of rocketchat 2 clear browser cache 3 login to rocketchat 4 do not enter e2e password 4 go to users e2e password reset page the option to reset is greyed out
1 open url graphiql in firefox version
1 embed chat in iframe with layout embedded 2 give the command go to iframe url to go to another chat inside the iframe in path specify the path to the new room and pass layout embedded parameter 3 in new room we see display of top navbar 4 if you go room that was opened first panel is not displayed
for example it will only show the middle one if you enter the text below d d d
1 paste a linkedin post link in any chat in rocket chat 2 link segments is converted to emoji
1 administration permissions new role 2 role testers with scrope rooms save 3 choose a room 4 type in a user other than myself in the add user field and click the add button 5
1 click the download button next to uploaded file name 2 rename the file 3 click save
1 got to user directory 2 search for users that start with a or for example
1 run an outdated client 2 start up the client to get the update available dialog 3 accept the update and install it 4 on restart observe the update available dialog appearing again
1 go to search bar 2 search for private channel
1 go to a channel 2 mention a user that is not in this channel
just going to the url shows me nothing but blank page
1 login as user a in one browser 2 login as user b in another browser 3 open a direct channel between users a and b 4 user a initiates an otr session to user b 5 b accepts the otr session
1 go to account preferences 2 set new message notification to something other than chime default 3 go to channel notifications preferences 4 chime not in sound dropdown default uses the account preference defined sound
1 post a message 2 select edit and don t change anything 3 hit return key only
1 visitor opens a new room 2 server goes down 3 visitor disconnects 4 server goes up again
1 install version 2 verify e2e is disabled in the settings 3 open any page and see the end to end encryption bar
1 open rocket chat client shrink it down and put it in the bottom right of the screen 2 add it to your login items so it starts automatically when you log in 3 restart your computer and log in
1 login with ldap user 2 check ldap debug log
dm someone while they are away and they receive an email that does not look complete
1 add outgoing integration to some fake service simple express app in node for example 2 in fake service set http response status to 400 also setup some request logger url 3 trigger webhook somehow 4 wait some time and check that rocketchat retries query to service 5 set status in fake service to 200 in order stop re requests
1 write a message 2 reply quote to message 3 edit the reply quote to the message 4 edit the reply quote to the message again
1 add emoji in admin panel 2 post emoji in message
1 connect to realtime api log in subscribe to stream notify user 2 add user to a room 3 remove user from a room
1 user a gets disconnected and logs in again 2 user a sends a message to any user b 3 the sent message is greyed out for user a b receives message ordinarily 4 now if b sends message to he can see b is typing and he gets new notification but there are no new messages visible for in chat window 5 refreshing browser cache or relogin solves this bug
1 post a message in an encrypted channel 2 delete this message
1 click on the blue e2e info bar and enter your password
1 enter e2e password to decode your key
1 use url to subscribe stream notify user 2 user b send direct message to user a 3 got multiple events except message
1 create dummy user 2 try to create another user with other email address but same username
1 type some text into the text field
1 send a message with this values in any client foobar all here 2 the message won t highlight all and here on the web client 3 the ios client will highlight it means the mentions object are being created
1 update to version version rc 1 2 click on my account 3 make any change optional 4 click on save changes
1 receive a chat message 2 read the chat message 3 minimize rocketchat window
1 open channel 1 and open the search message for that channel 2 search for term1 any term that has a lot of results 3 open channel 2 and open the search message for that channel 4 search for term2 any term different from term 1 that has a result in 1 5 click on jump on the result term2 in now you will see with results term1 as the message ui adopts current state of as stored
1 change on profile localization from en eg to de or fr log out log in again 2 go to a channel room and select prune messages
1 go to a channel 2 username 3 does not add the username to channel if not already a member
open ios app and try to upload picture within a channel
1 open the administration panel 2 go to apps option 3 open the administration menu again and you ll see an x in the same line as administration 4 tap on it
1 write a message in a channels rooms or direct messages 2 wait one day and do not write any new message 3 after 1 day and 31 minutes you can see older messages 4 if i write a new message and wait 30 minutes older messages were deleted
1 open a group 2 click on members icon 3 enter search pattern
1 post a link in chat inside a formatted code block eg url 2 wait long enough to convince yourself a link preview is not going to appear 3 press up to edit the message and then press enter to edit the message despite making no changes 4 a link preview will appear
1 use layout embedded in direct messages url e g rocketchatserver direct user layout embedded 2 use jitsi meet as video conference 2 from any user invite other user for video conference 3 click to join shows up in another user messages 4 click the button click to join it doesn t work
someone sends any message to private group
1 go to some private channel and open menu aka more 2 click on livestream setting 3 input youtube livestream url 4 click save
1 create a channel 2 add some users 3 delete the channel 4 recreate it with the same channel name 5 try to join the channel again or try to change some settings
1 create a broadcast channel 2 add all users from the server to this channel via the api v1 api channels addall 3 all users added can read write on a write protected channel
1 login using the rest api curl url d username user ldappass pass ldap true ldapoptions h content type application json
1 moving window over desktop 2 error window are displayed 3
1 admin owner create a private room and add a user to the room 2 user try to access the private room in which user was added 3 admin owner kick out the user from the room 4 refresh page now a blank start of conversation page will be displayed
1 open prune panel
1 create a new channel room with name testa 2 remove the name from admin panel 3 create another channel room with the same name testa 4 open the channel and there was no input box it is always loading
1 launch version client receive prompt for update 2 click on install update 3 when the update ready to install dialog appears click install now 4 walk through installer steps at end check launch rocketchat option 5 receive prompt for update verify in about rocket chat dialog that version is still installed
1 paste or type a url in a chat that contains a string corresponding to an emoji code for example url or url
1 enter develop branch of rocket chat 2 run build bash script
1 create a setup with minimal two instances of rocket chat 2 set https proxy as environment variable for internet access behind corporate proxy 3 set no proxy as environment variable for in cluster communication
1 create a new integration which uses a script the script has to include some quotation marks 2 get all integrations via api v1 integrations list 3 verify the structure of the return json
1 have lots and lots of users in your server 2 open your server
1 have cas provide attributes such as first name tony last name test full name tony test username tony test com email tony test com 2 have an attribute map in rocket chat such as email email name full username first last 3 attempt to login in with a user that does not already exist
1 try to delete user user is last owner of some rooms 2 error message error user is last owner
localize your environment in french 1 meteor reset 2 test mode true meteor 3 in another shell meteor npm run chimp test
1 go to apps menu 2 select one app in list 3 click install button or 1 go to apps menu 2 click button 3 insert app url from rc marketplace 4 click install button or 1 go to apps menu 2 download app from rc market place 3 click button 4 browse and select downloaded app 5 install
1 start docker with environment root url url 2 create public private groups 3 show sidebar
1 go to register a new account 2 attempt to read the text for the field labels
1 start rocketchat with environment root url url 2 login and post any message in general channel 3 select permalink for the message 4 paste the permalink
1 go to my data section of account preferences 2 click download my data or export my data 3 at your data file will be generated a link to download it will be sent to your email address when ready click send
create room write message delete room recreate with the same name
1 install docker and docker image above 061
1 make sure all notification are enabled for a particular channel 2 make sure you will receive push notifications close all desktop session and the mobile app 3 on that channel make someone send a message with you mentioned in it 4 you receive multiple notifications for the same message
1 make a room read only 2 enable allow reacting 3 attempt to react to a message
enable push notificationsrestart the rocket chat server regular restart or restart when upgrade the server application
1 use logo svg 2 check logo in sidebar 3 check logo above login form on smartphone
1 user a click start confidential conversation 2 user b waits until the window with confirmation closes 3 user a can no longer start a confidential conversation with user b
1 login via test acc and type direct message to real acc image url 2 login via real acc and read direct message from test acc image url
1 use rc normally respond to and read notifications 2 note that the unread count on the app icon does not ever seem to get cleared
make a get request to the endpoint
make any query to the im members endpoint with a roomid
1 go to channel 2 click on menu of the channel 3 select prune messages 4 enter dates 5 check the checkbox in front of only remove the attached files keep messages 6 click on prune
just send options request to api v1 login
1 wait for new messages in any of the rocket chat channels 2 the rocket chat icon in the macos dock shows a little red 1 correctly 3 the new rocket chat status bar widget also shows new message count 1 correctly 4 open rocket chat app and read new message 5 app now shows no unread messages correctly 6 status bar now shows 0 correctly 7 icon in macos dock still 1 incorrectly
i just have to wait a while and the red unread bubble will not go away again
1 upload a small image
1 configure required fields for ldap authentication 2 test configuration with test connection button 3 see the success connection success notification ok 4 then try to login with an actual user with correct credentials
1 get a new message see that in the dock the application icon has a badge number of unread messages 2 read the message 3 check and see that the unread badge number is still there
1 just create basic app like any from url 2 npm add any package 3 import it in app ts 4 rc apps package 5 install in rocketchat administration panel
1 click in chat message input 2 press page down key
don t know how to reproduce
1 create hipchat backup of a large instance 2 decrypt tar gz 3 import large export as hipchat tar gz
1 when someone sends me message unread counts increases 2 now read that message 3 unread count badge remains there as 1 in bottom dock
1 get a message after you started the desktop application 2 read all the unread messages 3 look into your app drawer
1 create a webhook 2 post data to webhook
1 myaccount 2 desktop notifications for all messages 3 save changes
1 go to a chat room 2 click on members list 3 click on start video call
1 create a gitlab webhook 2 copy paste the integration url in a rocket chat room 3 click on the link
1 click on visitor info of live chat room 2 click on forward 3 select a department from forward to department dropdown 4 click on forward you ll see error on server console
1 web interface public channel 3 dots prune messages 2 user to delete 3 optional set time 4 prune screen url
1 go to administration 2 click on video conference and activate or deactivate jitsi 3 close the settings 4 open the video conference settings again
1 enable livechat 2 create an html file and copy the javascript code before the body tag 3 configured an online agent to attend the livechat requests 4 accessing from a mobile device in vertical position the livechat enabled html and chat window is too small
1 update to version from version
1 click the icon in the text box select add files from computer 2 select a file and click open 3 in the upload file page in rocketchat click on send
1 installed ubuntu and rockchat with snap install 2 check systemd log
1 enable 2fa 2 log in
1 make a acc or login to url 2 refresh page may or may not load history
1 send a message to a channel with all offline users who therefore should receive notifications 2 see that the latter have received no push notification despite the message being delivered without any problems
1 upgrade to version 2 type in private channel where hubot lives hubot help
not sure how this bug started happening to me
1 ensure that a custom logo image has been uploaded 2 ensure the image is showing in the content section for footer as in a href home img src assets logo a image url no other css customizations have been made and it has been working ok until the latest commit
1 create account via adim or oauth without email 2 log in newly created account 3 upload profile avatar pic 4 cant save updated avatar image without completing email
take a screenshot of an image that is less than 200 pixels high e g just 100 pixels high paste the image into a chat note that the image is resized in the chat to be 200 pixels high
1 go to url in zapier to set up integration 2 enter chat url for example url 3 redirects to this page with authorize button url 4 click on authorize button
1 create notification channel using slack in grafana and send notification 2 check for errors in rocket chat logs
1 sync new user from ldap e g alice 2 bob searches for alice and writes her a new message
login with current ad credentials for any user
1 type in dieser umgebung sollte die formatierung f tex ausgeschaltet werden aber das wird sie nicht inline multiline code test string means in this environment tex formatting should t be applied but it is
1 create a private channel with name x 2 create another private channel with name x
1 go to any conversation or channel 2 click on search messages 3 type something without clicking on the searchbox
1 drag image file pixels 300dpi rgb version mb in chat osx or firefox browser 2 download file from chat
1 ensure the real names property is set to true and that the contacts are showing with real names 2 try to send a direct message to a contact 3 their name will change to the user name 4 verify that the real name setting under layout user interface is still true
make multiple rest calls to user update with a username set
1 as admin user go to administration users add user 2 fill the form using a already used email address 3 click save
1 under administration livechat routing set routing method to guest pool 2 when a request comes up click on take it button its redirected to incorrect url
1 copy backup to server 2 execute snap run rocketchat server restoredb var snap rocketchat server common backup tgz 3 confirm with y enter
don t know how to reproduce it
1 create a room using the web app with yourself as owner 2 start up linux app go to room
1 join room 2 write message like lennart grunau how are you 3 send message
1 go to administration layout user interface allow special characters in room names set to true 2 create a channel and use spaces in the name 3 open the channel chat and click on the info icon in the top right corner observe name and click edit
run version the incoming webook js is rc tfs webhook js gz url incoming webhook and the incoming json from tfs looks like tfs webhook response json gz url github made me gzip the files
1 upgrade to version from version
1 add rocket chat to your connected accounts in zapier url 2 create a new zap that used rocket chat either as a trigger or action 3 try to activate your new zap it fails see screenshot below
1 install with docker sh docker run name db d mongo version smallfiles docker run name rocketchat link db d p 3000 3000 rocket chat 2 in my setup rocket chat is behind a nginx which is configured like this nginx server listen 80 listen 80 server name rocketchat locati it access log path to rocketchat nginx access log main error log path to rocketchat nginx error log location proxy pass url proxy http version version proxy set header upgrade http upgrade proxy set header connection upgrade set header host http host set header x real ip remote addr x forward for add x forwarded for x forward proto http true redirect off 3 allow unregistered users to read channels 4 wait a few hours
1 start new live chat on the site and write first message 2 operator clicks on new live chat from incoming livechats section 3 message appeared with user message and take it button 4 click button to accept new live chat error 404 appears instead of chat room
1 open safari version stable version right now 2 go connect to open rocket chat 3 open public channel ios beta 4 scroll until you see a video attachment 5 browser will crash
1 user 1 open the rocketchat desktop app and enter to the public channel public for instance 2 user 1 click on the members list icon you will see user 1 3 user 2 open the rocketchat desktop app and enter to public channel public
1 open a channel containing a room leader and messages enough to vertical scrolling be present 2 scroll up revealing the room leader bar 3 place the cursor over the any button at header e g room info and wait for its tooltip
1 change markdown from original to markdown in the markdown menu attempt to do a mention or set a room announcement
1 change privacy settings in notifications and set show message in notification to false 2 send any message 3 text message is shown in notification box
1 create a new channel or join a channel you are not part of yet 3 receive messages from the other users inside that new channel 4 notice the counter api is not updating logging out the channel counter api response displays the unreads and unreadsfrom as null 5 send a message reply into this new 6 now you have participated in count is now displaying as normal
1 go to admin panel 2 go to users 3 find user you want to edit 4 edit user 5 in username field change username to new one 6 save 7 exception occure
1 try sign in with cas new user on system
1 write a link markdown in channel subject like link url 2 save 3 the link is good on channel subject but not on channel information pannel
1 start a new livechat 2 when an agent starts typing the typing indicator doesn t appear in the livechat widget interface
1 deployed rocket chat version rc 1 for the first time 2 enabled prometheus set true at webui settings 3 deleted rocket chat version rc 1 for the first time i left mongodb alive 4 deployed rocket chat version rc 1 for the second time 5 checked prometheus webui settings prometheus was enabled but the prometheus metrics were not available my workaround disable via webui settings 2 enable via webui settings 3 now exporter is started and metrics are available
1 upload any png with transparent background elements as avatar
1 go to user my account 2 click on profile 3 change username field 4 click save changes
1 download the tar file from rocketchat 2 use tar command to unzip it to local var www rocket chat 3 change current path to var www rocket chat bundle programs server 4 run npm install command to install dependencies successfully 5 change current folder var www rocket chat bundle 6 set following variable node env production port 3000 root url url mongo url mongodb localhost 27017 rocketchat mongo oplog url mongodb localhost 27017 local 7 run node main js start rocketchat server
1 switch to marked 2 type 3 look at the text emoticon rather than emoji
1 in a fresh install open the setup wizard 2 input a username that doesn t match the utf8 names validation settings suggested
1 go to input text 2 type a lot 7 lines
1 create a user with an symbol in the username 2 change any user property in the profile page but the save button stays disabled
1 open any room 2 upload a blank file or binary file with random content containing the png extension by drag and drop or via button 3 click send in modal window 4 wait for upload progress
1 enable in settings assets enable svg favicon 2 apply and refresh all clients
1 go to a channel private group or direct message 2 click on the star for favorites
1 enable add user to any p room permissions for admin 1 create a private room test as a regular user 2 login from rocket chat js sdk as an admin user driver login username admin password pass 3 perform driver joinroom test
1 click veiw toogle server list
1 try to generate a zip file of your data as a user
1 create a channel or enter an existing private channel you are the owner of 2 upload some files probably optional 3 see no list files icon on the top right noclip url 4 remove ownership of the channel from your user or enter channel as non owner user 5 see paper clip icon on top right clip url
go to administration click on users
1 docker run e root url url rocketchat rocket chat latest 2 rocketchat 1 site url url 3 open 4 popup you are accessing rocketchat via and not do you want to update the site click yes 5 docker kill rocketchat container 6 docker run e root rocket chat latest
1 log in to rocketchat 2 click on my account 3 scroll to the bottom of the page 4 click either download my data or export my data
1 install rocket chat the normal way tarball 2 run version 3 have sometimes breakdowns on your clients logins
async try const driver new builder forbrowser chrome build await driver get url await driver findelement by css nonexistent catch e console log e stack
1 open in ie html page with window showmodaldialog in javascript for this page 2 fire event to call this function e g button click 3 switch to modal window 4 find any webelement and call isdisplayed method for it
include the gem in a project that requires a recent rubyzip and run bundle install
when i try to open microsoft edge using microsoftwebdriver with selenium jar v version alpha 2 and passing path of where it has to save edge driver logs webdriver edge logfile the driver doesn t run or selenium jar is unable to open microsoftwebdriver detailed steps to reproduce the behavior
js var driver new builder forbrowser firefox build driver get url driver wait until elementlocated by js return document getelementbyid tsf then function form tform findelement by js return this getelementsbyname q 0 typeerror this throws a type error regardless of the contents of the second by js what is the expected behavior should this in this case be linked to the webelement as i assumed here if you can tell me what expected behavior is i can see if i can make a pr would it then be ok if webelement would provide a executescript method as seems to be most straightforward solution
go to url e g and click on view source the linked line is not related to by
detailed steps to reproduce the behavior java location location new location version version version chromedriver driver new chromedriver driver setlocation location then opening a page with this script javascript navigator geolocation getcurrentposition position position coords latitude version true correct position coords longitude true correct position coords altitude false it s null
from selenium webdriver import firefox firefoxprofile big prof path path to large profile dir profile firefoxprofile profile directory big prof path driver firefox executable path driver bin firefox profile detailed steps to reproduce the behavior the above py ff se hello world is not particularly important rather it is the large directory as an init input i cannot nail down an exact threshold for large 500mb seems to be enough much of the time and 1gb always is failure takes quite a while and in run up to it python process memory consumption balloons e g a 600mb dir as input results in nearly 16 gb of memory usage prior error this happens without any addons if you just load up on cookies and browser cache that is sufficient enabling python logging results in vast outputs looks like whole might be getting logged as base 64 or some such geckolog empty not a shock as ff never gets going
detailed steps to reproduce the behavior 1 make a webdriver instance 2 catch the web driver exception 3 try closing the window it will be null
create a new ie session and use the action sequence to move the mouse relative to an element when the script is executed in the browser an example selenium response is state success sessionid c89af058 149e 4b4a b215 hcode value nan ind nan ind class org openqa selenium remote response status 0
1 have an element located by findby locator findby css classname webelement element 2 check invisibilityofelement void fun webdriver driver new chromedriver try new webdriverwait driver duration ofseconds 5 until expectedconditions invisibilityof element catch timeoutexception ex
the same scenario as in test script section below clone repository install dependencies start e2e tests
detailed steps to reproduce the behavior code url output repro url
detailed steps to reproduce the behavior navigate to saiglobal com and open infostore section from the login dropdown value
list webelement txtbefore somewebelement findelements by xpath preceding sibling text detailed steps to reproduce the behavior
run the below test script using dotnet test in visual studio code
detailed steps to reproduce the behavior case1 1 we open up a pop up window with an empty field 2 we set a value in the empty field with activates the clear button in the pop up 3 we press clear button value entered in field is cleared but button itself remains active while it should again be disabled case2 1 we open up a pop window with several items in it that can be selected 2 select check box for one of items which makes ok button pop window become active 3 press ok to confirm selection and close window as a result selection is acknowledged and user is redirected to another page however does not close only ok appears as disabled 4 as result from step 3 repeat selection from step 2 and again press ok which this time closes
detailed steps to reproduce the behavior 1 search an input type file webelement 2 use remotewebdriver with localfiledetector 3 create a two lined string with valid paths to two separate files 3 use sendkeys method on webelement to upload multiple files
detailed steps to reproduce the behavior in ruby rb puts pid process pid in shell confirm no tcp sockets are open from the ruby process sh lsof p pid back in ruby rb require selenium webdriver def new driver driver options selenium webdriver chrome options new driver capabilities selenium webdriver remote capabilities chrome loggingprefs performance all selenium webdriver for chrome listener event name args puts heard event name args options driver options desired capabilities capabilities end 10 times new quit and back in the shell sh lsof p pid the output will vary format and clarity depending on host system for example on mac os this will produce lines like ruby 20725 brian 9u ipv4 0t0 tcp localhost 58481 localhost 9516 close wait on amazon linux it s more cryptic 14866 ec2 user 413u sock 0 8 0t0 can t identify protocol
start a fx with a profile with some extensions
object ret javascriptexecutor driver executescript return parsefloat version e 23
run the test script in windows 10 in ie browser for specified versions
past the below code as a test case in you will see that the response body is never printed if you will set a break point in realwebsocket 211 you will see that there is always a timeoutexception when trying to perform devtools operation inside consumer accept test public void devtools send enable optional empty optional empty optional empty devtools addlistener loadingfinished new consumer loadingfinished override public void accept loadingfinished loadingfinished responsebody responsebody devtools send getresponsebody getrequestid system out println responsebody getbody chromedriver get appserver whereis js skins lightgray content min css
add the following unit test in url test public void string range 1234 65533 new new stringreader range assertthat getlowestephemeralport isequalto 1234 assertthat gethighestephemeralport isequalto 65533
open some page where drag and drop is recorded drawing tool reduce window size scrollbar have to be present execute movebyoffset action
use the attached script and sample html file to execute this line of code t t input sendkeys openqa selenium keys control in chrome we get the expected output ctrl 32 in internet explorer the output is just 32
here is groovy code which is working returns browser logs with chrome 71 but returns nothing with chrome 75 groovy chromeoptions options new chromeoptions addarguments headless no sandbox disable extensions loggingpreferences logprefs new loggingpreferences logprefs enable logtype browser level all options setcapability capabilitytype logging prefs logprefs driver new chromedriver options driver get endpoints tagged page url logentries logs driver manage logs get logtype browser for logentry entry logs log info entry message
try to get log types driver manage logs availablelogtypes or browser logs directly driver manage getlog logtype browser
public class testchrome public static void main string args system setproperty webdriver chrome driver c whatever chromedriver exe webdriver driver new chromedriver driver get url driver findelementbyname link to button that triggers cert pop up click system out println this code won t execute or any other
1 start new project 2 save project 3 make any sort of edit add echo command 4 attempt to save
detailed steps to reproduce the behavior 1 create selenium hub on one machine 2 create vm on another machine to run browsers in set networking to nat make sure to tell your virtualisation env listen selenium node port and send it vm 3 try register browser in vm selenium hub and set host ip address of vm s host machine address this could even be changed registrationhost or whatever if it is going be implemented
run the following code use chromedriver 75 in the same dir and have chrome 75 installed const chrome require selenium webdriver chrome const builder logging require selenium webdriver const options new chrome options const logprefs new logging preferences logprefs setlevel logging type performance logging level all perflogconf enablenetwork true enablepage true options setperfloggingprefs perflogconf options setloggingprefs logprefs service new servicebuilder loggingto chromedriver log enableverboselogging build setdefaultservice service driver new builder forbrowser setchromeoptions build driver get url
detailed steps to reproduce the behavior
detailed steps to reproduce the behavior
recycle 1 start the selenium jar in standalone mode 2 provide chrome extension in the chromeoptions 3 run the test on chrome 74
detailed steps to reproduce the behavior 1 prepare script that loggs into app does some stuff and logout 2 run the script for the first time 3 check result script should log in test sth and logout without any issues 4 re run the same test 5 bug appears after driver get login page url im already logged in
see test script
1 upgrade selenium webdriver from version to version 2 try running your examples
go to 6pm com filter any product for example hover accessories and click on oval select any input field in filters section f e webelement searchinput driver findelement by xpath input contains placeholder search color select parent section element webelement parentsec searchinput findelement by xpath ancestor section
detailed steps to reproduce the behavior
instantiating the driver using the persistent client profile selenium webdriver firefox profile new client selenium webdriver remote http persistent new browser watir browser new firefox profile profile http client client produces the error 12 from var lib gems version gems watir version lib watir browser rb 46 in initialize 11 from var lib gems version gems selenium webdriver version lib selenium webdriver rb 88 in for 10 from var common driver rb 54 in for 9 from var firefox driver rb 33 in new 8 firefox driver 33 7 marionette 44 initialize 6 remote bridge 102 create session 5 remote bridge 167 execute 4 remote http common 64 call 3 http default 82 request 2 persistent 54 response for 1 default 71 net persistent net 706 start wrong number of arguments given 0 expected 1 argumenterror
detailed steps to reproduce the behavior
run firefox in a docker container locally and try and instantiate a selenium driver for the remote browser with a socks proxy set in ruby my code tried to set the socks proxy so i can route traffic through tor but it is not necessary to actually run tor to reproduce this error
raise and catch in python
detailed steps to reproduce the behavior
run any tests multiple times over and over again on windows with js bindings sorry
just add above code in gebconfig groovy while setting up firefox driver
given two simple html pages parent html html doctype html lang en head meta charset utf 8 title parent title head body iframe src clickme iframe body and clickme doctype lang en head meta charset utf 8 title click me title head body div onclick var new window window open new window document location href url broken div body detailed steps to reproduce the behavior
detailed steps to reproduce the behavior
import time from selenium import webdriver from selenium webdriver chrome options import options options options add argument headless runs chrome in headless mode add argument start maximized driver webdriver chrome chrome executable path path to driver url url driver get url time sleep 3 file open index html w file write driver page source quit code source testing zip url detailed steps to reproduce the behavior
please use below test script to reproduce
1 download openjdk version and set up environment variables 2 make sure java environment is correctly setup by executing any java program 3 create a new selenium maven project in windows 10 operating system 4 add below dependency for selenium in valid maven pom xml dependency groupid org seleniumhq selenium groupid artifactid selenium java artifactid version version version scope test scope dependency 5 clean install the maven project actual jars are not downloaded user gets below errors in console error error reading c users userid m2 epository org seleniumhq api api jar zip end header not found error error reading c users userid m2 epository org seleniumhq remote driver remote driver jar zip end header not found
here is a short html with an example to reproduce the issue url html body form style display flex flex direction column display contents overflow y auto input type text name first name form body html here is the code to reproduce uses python selenium bindings from selenium import webdriver driver webdriver chrome driver get url driver switch to frame self driver find element by name result find element by name first is enabled returns true find element by first is displayed returns false however if either display contents or overflow y auto removed from the form style then the statement returns true and i can send click or send key actions find element by first send keys hello throws
1 create safari driver instance 2 open url 3 find an element 4 execute getlocation command
use a script elementfinder sendkeys somevalue and execute it on browser stack in firefox
detailed steps to reproduce the behavior
use firefoxoptions with socks proxy configured for example firefoxoptions options new firefoxoptions t t tprofile profile t tpageloadstrategy pageloadstrategy eager t browserexecutable tproxy new proxy tkind proxykind manual thttpproxy version 8118 tsslproxy version 8118 tsocksproxy version 1080
detailed steps to reproduce the behavior 1 download this solution url that has a simple test that tries to instantiate a chromedriver 2 try to run testmethod1 on mac it doesn t work and we get error test method tests unittest1 testmethod1 threw exception openqa selenium
require selenium webdriver require capybara dsl capybara register driver selenium do app profile selenium webdriver firefox profile new proxy selenium webdriver proxy new http localhost 8080 ssl localhost 8080 profile proxy proxy options webdriver firefox options new profile capybara driver new app browser firefox options options end capybara current driver
1 download my issues repo and go to this issue dir shell git clone git github com dsmontoya issues git cd issues selenium socks version 2 run the selenium containers shell docker compose up 3 source the env vars shell source env 4 run the socks version file or build it by yourself shell socks version
set the logfile property of the instance to a path with spaces
alternatively use rbenv or any other ruby management tool rvm install version which ruby home abhchand rvm rubies ruby version bin ruby gem install selenium webdriver fetching rubyzip version gem fetching childprocess version gem fetching selenium webdriver gem fetching ffi successfully installed rubyzip building native extensions this could take a while successfully installed ffi successfully installed childprocess successfully installed selenium webdriver parsing documentation for rubyzip installing ri documentation for rubyzip parsing documentation for ffi installing ri documentation for ffi parsing childprocess before reporting this could you check that the file you re documenting has proper syntax home abhchand rvm rubies bin c lib childprocess tools generator rb rdoc is not a full parser and will fail when fed invalid programs the internal error was nomethoderror undefined method nil nilclass error while executing nomethoderror undefined method nil nilclass
detailed steps to reproduce the behavior create a firefoxdriver as below system setproperty browser logfile path to my log file log return new firefoxdriver firefoxoptions after running the test and having the firefoxdriver write output to the file given above org apache commons io fileutils forcedelete new file path to my log
type into any input field that has only a change event listener attached to it and then shift focus to another field
run a test against a remote endpoint that has valid ssl
detailed steps to reproduce the behavior
run the following script from selenium import webdriver from time import sleep driver webdriver chrome can be firefox as well driver get url name field driver find element by id algolia doc search print name field get property value name field send keys hello print name field get property value sleep 1 clear print get property value driver close run the script it will type hello into the search bar pause and then send the clear command search bar will remain filled
any command that will result in a 405 method not found error i did this by running an ie webdriver and directly sending requests to it for example post session 1fa97acb bd6e 4886 8719 execute
run the test script below this example seems to be reflective of the issue i m running into when prompted for input rather the entering a string press ctrl c to send the sigint during input statement on my machine this raises an eoferror
1 run grid java dselenium logger level all jar selenium server standalone version jar role hub 2 create session with body capabilities alwaysmatch platformname android platformversion version devicename pixel 2 browsername chrome firstmatch desiredcapabilities platformname android platformversion version devicename pixel 2 browsername chrome
detailed steps to reproduce the behavior 1 clone url 2 perform npm install 3 start the docker containers using docker compose up 4 run grunt builddocker
detailed steps to reproduce the behavior i am trying to create a firefox profile and so downloads go to a specified folder and there is no prompt asking to specify download location but the setting in the profile gets overriden when driver is created below is the code snippet used firefoxoptions options new firefoxoptions t t tfirefoxprofile firefoxprofile new firefoxprofile t t tfirefoxprofile setpreference browser download folderlist 2 tfirefoxprofile setpreference browser download manager showwhenstarting false tfirefoxprofile setpreference browser download dir getdownloadpath setpreference browser helperapps neverask openfile text csv application x msexcel application excel application x excel application vnd ms excel image png image jpeg text html text plain msword xml vnd openxmlformats officedocument spreadsheetml sheet helperapps neverask savetodisk text csv x msexcel excel x vnd ms image png image jpeg html plain msword xml vnd openxmlformats officedocument spreadsheetml sheet helperapps alwaysask force false manager alertonexeopen false manager focuswhenstarting false manager usewindow showalertoncomplete closewhendone true toptions setprofile firefoxprofile toptions addcapabilities capabilities firefoxdriver firefox new firefoxdriver options tocapabilities
detailed steps to reproduce the behavior
1 enable safaridriver usr bin safaridriver enable 2 start selenium standalone server selenium standalone start 3 initiate new session with safari technology preview curl d capabilities alwaysmatch browsername safari technology preview firstmatch desiredcapabilities browsername safari technology preview url
detailed steps to reproduce the behavior image url
tdb i will ask for a minimal reproduction set from our devs please close this ticket until we provide this information if that s your policy at this point my main contribution plan was to first share the finding and the workaround that we found desiredcapabilities native events default enable persistent hovering false detailed steps to reproduce the behavior tbd
detailed steps to reproduce the behavior in chrome 71 windows 10 1 open url url 2 use clear text command post session session id element element id clear
just in chrome for win10 open selenium and create a project then click the button of saving it will pop up a window the save format in the lower right corner is just txt when the opened project it will not be found even if you select all files and find it will reminder error migrating project and unknown file was received
use action click multiplr times anywhere with same object note found this issue for c selenium version only
this behavior is reproducible with our custom webdriver server implementation node js the server is configured with https and valid corporate ssl certificates the webdriver test runs on a development machine detailed steps to reproduce the behavior given the set up above when launching test 1 sendrequest function in module node modules selenium webdriver http index js is first called to create a new session 2 response on data and response on end for request are fired and correctly processed 3 however right after request on error is fired too with e code econnreset 4 a delayed re request scheduled using settimeout this will cause that command to run twice and to create two sessions custom webdriver server same applies other commands
1 create a wayback server with pywb 2 open a webpage from selenium with the archive 3 try to click on the load earlier button via xpath
detailed steps to reproduce the behavior
any selenium script with a generic open command such as open url
the same issue is described at url
1 trigger an action which opens a new window which is the second window 2 switch to it and close it with selenium api 3 try to switch back the the previous window this will generate a nosuchwindowexception although the window still exists on desktop
detailed steps to reproduce the behavior
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error connect to either of two private shadowsocks servers outside china while in china one in europe one in the us the connection fails with the error message fail detect internet connection unable resolve host www google com no address associated with and rest is off screen default shadowsocks server version also fails connect
steps to reproduce the behavior 1 go to go to the add button on the top right corner of the screen 2 click on scan qr code 3 see error
steps to reproduce the behavior 1 go to the add button on the top right corner of the screen 2 click on scan qr code 3 see error
steps to reproduce the behavior 1 go to manual settings to add my private ss server email me if you need it to reproduce 2 click save and start the connection 3 click testing test https handshake 4 it will take ages then show connection failed today with version it says internet unavailable
enable the proxy with any profile and confirm the socks5 proxy port set in settings page is accessible from another machine in the same network
steps to reproduce the behavior 1 go to google play 2 click on one app whatever you want 3 press install 4 it shows download pending app will never be downloaded
steps to reproduce the behavior 1 connetc a server under wifi or mobile data 4g 2 switch network to mobile data 4g or wifi 3 some site maybe failed to resolve and open such as twitter baidu com 4 on ss server we can see dns packet sent to new network s dns server such as version or china mobile s version 5 you can switch different wifi with different dns config and see dns packets sent the new network s server on ss
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 go to global setting 2 click on start on boot 3 reboot the phone 4 the vpn service did not run automatically
steps to reproduce the behavior 1 follow url how to use transproxy mode 2 start usb or wifi thther 3 your pc won t get a ipv4 address and ipv6 is unable to use too
steps to reproduce the behavior 1 click to connect it connects normmaly and i can visit websites via the proxy 2 wait some time not entering sleep mode 3 suddenly it disconnects and i can t access twitter in china
steps to reproduce the behavior 1 set the vpn route to custom rules 2 import a custom acl url like this url so mtalk google com is in bypass mode 3 close wifi use data connection 4 enable the vpn for google services 5 in adb shell or termux run netstat ntp grep 5228 with root privilege it is shown that libss local so is directly connected to mtalk google com 5228 not through ss server 5 wait for 20 minutes and dial 426 in dialer to open gcm view you can see the connections is teared down every 600s close err fin time 600
steps to reproduce the behavior 1 export profiles to profiles json 2 import profiles from profiles json
steps to reproduce the behavior 1 turn off dns forwarding 2 url 3 showing opendns as the isp
steps to reproduce the behavior 1 click connect button airplane icon 2 click test server 3 keep testing but no packets sent or received 4 show internet unavailable and test failed
steps to reproduce the behavior 1 create a profile with an apostrophe in the profile name 2 press share and export to clipboard 3 import from clipboard on the same device or another 4 the profile name will be truncated after first occurrence of an apostrophe
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 go to profile config apps vpn mode turn on on turn on bypass mode select wechat 2 click on back 3 click links or figures wechat 4 present web pages or figures slow and the notification bar of shadowsocks indicates that there are some download link traffics via vpn
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 go to recently apps 2 click on trash bin 3 application stops
steps to reproduce the behavior 1 turn on the dns forwarding 2 tap connect
steps to reproduce the behavior 1 click start button 2 show error ou need to call create at least once to create the si
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior
fully setup shasowsocksx ng switch to global mode open chrome and go to www google com
steps to reproduce the behavior
setup a server configuration with kcptun as a plugin here is an example generated ss local config json plugin plugins kcptun local address version server
steps to reproduce the behavior
steps to reproduce the behavior
steps to reproduce the behavior
1 run python3 sqlmap py url and usage codes 2 see error unable to connect to url
1 run sqlmap v 6 u target which sets cookie 2 see that sqlmap does not send cookie header and server repeatedly sends set cookie
1 run sqlmap tamper base64encode proxy url r sql1 fingerprint 2 no error message but tamper script does not run
running through tor i get this issue 13 23 34 debug ssl connection error occurred sslerror ssl sslv3 alert handshake failure sslv3 alert handshake failure ssl c 1076 13 23 35 debug ssl connection error occurred sslerror sslv3 alert handshake failure sslv3 alert handshake failure c 1076 13 23 36 debug connection error occurred oserror error 13 23 37 debug connection occurred oserror 38 sslerror c 1076 10 38 critical can t establish
1 opt sqlmap sqlmap py u url passwords
1 run python sqlmap py u url risk 1 2 see the use date in the database
1 run sqlmap u url batch random agent level 3 risk 3 2 all ok 3 run sqlmap r request file batch random agent level 3 risk where request file is post path par value http version host host user agent mozilla version macintosh intel mac os x version rv version gecko firefox accept accept language it it it q en us q en q accept encoding gzip deflate referer url content type application json charset utf 8 content length 156 dnt 1 connection close cookie jsessionid 4 error critical connection timed out to the target url sqlmap is going to retry the request s
cat eof jq fromstream inputs n l1 key l2 key l2 value 0 eof and cat eof jq fromstream inputs n l1 key l2 key l2 value eof will both output l1 value but if i omit the last meaningless 0 or then it does not work cat jq fromstream inputs n l1 value will output nothing
jq stream c eof status 200 message ok eof result status 200 message ok message but when convert it back to json it will lose the first property status jq fromstream inputs eof status 200 message ok eof result ok where is the property if i insert something ahead then it works jq fromstream inputs 200 result
create image with jq start docker container which run script which use jq curlbin curlopts x get appurl v1 actuator info jq reports error jq commandline json processor version version usage options filter file 23 failed writing body
echo test 7z key value jq test 7z key
just run the script
bash echo idgvu jq rr base64d xxd p c64 echo idgvu base64 d xxd p c64 echo idgvu base64 d hexdump c 57 43 2c 2f 68 70 6f 20 9c 1a cd 80 32 b1 40 29 wc hpo 2 a4 a3 3e 5f 0e b9 7e 0e 58 01 22 a7 e8 9d 19 55 x u echo idgvu jq rr base64d hexdump c 57 43 2c 2f 68 70 6f 20 ef bf bd 1a cd 80 32 ef wc hpo 2 bf bd 40 29 ef bf bd ef bf bd 3e 5f 0e 7e 0e 58 01 22 19 55 0a x u
url input a b c jq length 1 as array length array length debug output debug 1 4 the value of array length is 1 instead of the expected 4
using the example from the wiki tz europe rome jq linux64 cn now strflocaltime y m dt h m s z 2019 05 28t17 10 54 cet tz europe rome date y m dt h m s z 2019 05 28t17 10 54 cest date reports correctly cest as the timezone taking dst into account jq does not
provide a minimal test case to reproduce the behavior if the input is large either attach it as a file or create a gist url and link to it here image url
json echo list file a a jq slurpfile content echo b b c c list file content list file a a start of my nested array what i not expected b b c c echo list file jq
1 download a windows nightly 2 jq n test halt error 1 sh nightly win64 jq version jq version 94 gaaf200f nightly win64 jq exe n test halt error 1 wrong extra error error test
see url advancedfeatures also jq n builtins grep find does not show any line
jq version map values tonumber tostring fish food account 1234 fish food account 1234 jq version map values tonumber tostring fish food account 1234 fish food
jq n range 365 5970 03 01t01 02 03z strptime y m dt h m sz mktime 86400 strftime y m dt h m sz 1970 01 01t00 00 00z 12 13t00 00 00z 11 25t00 00 00z 11 05t00 00 00z 10 17t00 09 28t00 09 09t00 jq jv c 324 jv array get assertion jv get kind j jv kind array failed program received signal sigabrt aborted in raise from lib64 libc so 6 0 in raise from lib64 libc so 6 1 in abort from lib64 libc so 6 2 in assert fail base from lib64 libc so 6 3 assert fail 4 array get j idx idx entry 0 at src c 333 5 jv2tm a tm tm entry 0x7fffffffdce0 at src builtin c 1400 f strftime jq optimized out a b at src builtin c 1524 7 jq next at src execute 853 8 process value flags optimized out dumpopts 645 main 179 9 main argc optimized out argv optimized out main 654
check the readme file
ansible myhost o m raw u mylogin a ls ll var www db backups jq c error displayed parse error invalid numeric literal at line 1 column 18
this should raise a normal error instead it returns null echo jq try a b catch null as selected if selected length 2 then selected 0 else normal error error end exact same code except with halt error instead of raises halt echo jq try a b catch null as selected if length 2 then 0 else halt halt end
go to appveyor and look at the test logs these contain lines like this testsuite summary for jq version 51 g9a0d5be total 1 pass 0 skip 0 xfail 0 fail 1 xpass 0 error see test suite log url text log url test page
catalyst cli zane cat package json jq e catalyst version check ignore echo null 1 but cat package json jq e catalyst version check ignore sh echo null 0
echo test jq match e offset 1 length 1 string e captures offset 1 length 1 string e name null echo test jq match e s offset length string captures offset length string name null
create the file named
sh echo abc abc null xyz null xyz null jq recurse abc xyz
invoke jq with no arguments in a mintty terminal
1 clone the repository 1 run git tag list sort authordate and note the list of tags you can confirm that the one at the bottom is most recent with git log command e g git log version rc2 1 build project 1 run jq version and note that it doesn t match most recent tag another method is clone project run git tag list sort authordate and get most recent tag check it out with checkout e g checkout version rc2 now run describe tags match jq which is what is used by script that updates version h you will probably see jq rc1 14 g46d1ce2 instead of rc2
jq colors 1 30 0 31 0 32 0 33 0 34 1 35 1 36 jq cn a true b false 123 null a true b false 123 null img width 685 alt not all red src url
the following produces a syntax error bash echo hi 1 jq as root root hi jq error syntax error unexpected expecting format or qqstring start unix shell quoting issues at top level line 1 as root root hi jq 1 compile error but it works if you omit the square brackets bash echo hi 1 jq as
in my example i am pulling data from a child object into the parent object this works just fine for the a match c case below but fails for a inner match b possibly a documentation issue in that case how do i recursively match bug or is my code pulling into an object that gets removed code jq walk if type object and has match then else end json input inner b 1 c 2 output the c is brought out to c but inner b is not brought out into inner b 1 2 2
tz america new york jq n 2018 08 31t00 00 00z fromdate todate
steps to reproduce the behavior 1 configure storybook with a dark theme 2 click on about storybook in the top left dropdown
steps to reproduce the behavior js storyof test module add error react useeffect return null
steps to reproduce the behavior 1 open a story in storybook 2 add the url parameter full 1 3 observe story is displayed in fullscreen mode 4 in config ts add the following js addparameters toptions t tistoolshown false t 5 open a story in storybook 6 add the url parameter full 1 7 observe story is
url go to the button and toggle the disabled knob on and off our design system is thankfully open source so you can try this out locally too url clone the above repo and run yarn yarn build full yarn storybook to install all dependencies and run storybook try to disable that button same as on that url above now i did a bisect on this was able to nail down the commit that introduces this bug which is storybook upgrade release candidate version note updating version does not fix this either so if you go commit prior yarn install force you ll notice that everything fixes itself i believe is pretty much a smoking gun be fair maybe i m doing something isn t supported in newer versions of storybook too
steps to reproduce the behavior 1 build storybook with docs 2 load storybook 4 see canvas tab is loaded
steps to reproduce the behavior 1 create a component with proptypes 2 add stories for it 3 when viewing it locally it works fine 4 after running yarn build storybook and viewing the static app the props section has the above issues
steps to reproduce the behavior 1 have a react component with a decorator 2 view the story in storybook 3 click on the docs tab 4 see no description for component or proptypes 5 remove decorator 6 see descriptions in storybook docs tab
1 create a basic component with a documented proptype 2 create a story to demonstrate the component 3 verify the description column is not populated
steps to reproduce the behavior 1 clone url 2 yarn 3 yarn storybook
have an enum type an or separated list of strings in flow note that the description doesn t show up as the possible options described in the flow types
steps to reproduce the behavior npm update
steps to reproduce the behavior 1 compose story 2 start storybook 3 go to docs tab
steps to reproduce the behavior 1 create an application using vue cli 1 initalize storybook with 1 add storybook addon docs yarn add storybook addon docs version dev 1 register addon in addons js register addon docs presets in presets js adjust config js to load mdx files add simple mdx file import story meta from storybook docs blocks meta title story name test template div hello world div story 7 start 8 click on test story and go to tab 9 see the error
steps to reproduce the behavior 1 configure storybook to use the dark theme 2 create a story using mdx and use backticks to create a code tag for example 3 view story
steps to reproduce the behavior 1 add a new file button stories js 2 add a storydescription to the first story see code snippets below for an example 3 take a look at this in storybook in the docs view
steps to reproduce the behavior 1 create a story with only disabled buttons 2 observe the a11y addon not recognizing violations with buttons that clearly contain violations
steps to reproduce the behavior 1 using the provided code snippet launch storybook app and navigate to the module part 2 the listed modules only display g clef c major common time
steps to reproduce the behavior git clone git github com manuel bieh ui git git checkout chores storybook version yarn start go to this file and change the default export to the one annotated with fails url the proxied object i use to create title strings can be found here url l11
steps to reproduce the behavior 1 clone git github com usetid tid git 2 go to ui folder 3 build story book with yarn storybook 4 make change in any ui component 5 let storybook rebuild 6 redo from step 4 until it crashes
run storiesof to csf codemod on code like this import react from react import storiesof from storybook react import action from storybook addon actions import withknobs text from storybook addon knobs labeledinput index storiesof molecules module adddecorator withknobs add labeledinput return labeledinput label text label label value text value onchange action onchange placeholder text placeholder placeholder
steps to reproduce the behavior 1 create a component stories mdx file 2 output a story name default preview component preview story 3 go to docspage for that component 4 click code button to bring up code preview 5 see wrong indentation for code preview
steps to reproduce the behavior 1 create a new story set its name to te st like so storiesof te st minimal example storiesof te st module add vanilla button my button button 3 open the story in canvas view notice how nothing gets highlighted in the source code 4 open the story in docs view notice how it will say no code available
uncomment the commented lines in this code snippet import react from react import text from storybook addon knobs import formatsentence from import packagename from constants stories const componentsubtitle formatsentence packagename lib elements format sentence const parameters componentsubtitle export const basic const sentence text sentence this is a ue000test ue001 sentence return formatsentence export default title elements formatsentence component parameters
steps to reproduce the behavior 1 setup a new empty cra project with storybook 2 install dependencies using pnpm install 3 run pnpm run build storybook 4 see error
jsx preview withsource none h1 hello world h2 preview
steps to reproduce the behavior 1 load a context driven story 2 change contexts note the component does not change 3 change stories note the story reflects the new context 4 change to original component previous story is now correct
steps to reproduce the behavior 1 refresh the storybook browser window 2 load a story that does not use the context add on note the toolbar icon is missing 3 load a story that uses add on note toolbar icon is loaded 4 load a story that does not toolbar icon persists 5 reload browser toolbar icon is missing
steps to reproduce the behavior 1 create a div with position fixed 2 display it on the docs page
steps to reproduce the behavior 1 install storybook by npx p storybook cli sb init type react native 2 go to project root and prompt react native run ios 3 rebuild bundle with packager by refresh app 4 npm run storybook 5 prompt localhost 7007 on the browser url bar
steps to reproduce the behavior 1 create note
boilerplate of code url
steps to reproduce the behavior 1 create new react native project 2 npx p storybook cli sb init type react native 3 npm run storybook
1 check out this commit url 2 start storybook 3 note source never loads
steps to reproduce the behavior 1 create a project using the vue cli 2 integrate storyshots 3 create a storyshots test js file with the contents import initstoryshots from storybook addon storyshots import shallowmount from vue test utils initstoryshots renderer shallowmount 4 expected the snapshot file to include shallow components 5 actual snapshot includes deep components note confirmed by passing a renderer that throws an error e g import initstoryshots from storybook addon storyshots initstoryshots renderer throw new error oopsie
steps to reproduce the behavior 1 yarn add storybook addon actions version rc 0 storybook addon backgrounds version rc 0 storybook addon info version rc 0 storybook addon knobs version rc 0 links notes options viewport addons components react ui save 2 yarn start s public
steps to reproduce the behavior 1 create a new react native project with react native init awesomeproject version react native next 2 install storybook and save update a story 3 see warning no refresh
steps to reproduce the behavior hover over an icon in docs mode using docs page
steps to reproduce the behavior 1 ng new test app 2 npx p storybook cli next sb init 3 in stories welcome stories ts use appcomponent instead of welcome as the component 4 launch storybook
steps to reproduce the behavior 1 react native run ios scheme storybook start simulator and set storybook env 2 start storybook 3 see initial story in app all good 4 go to url 5 change story 6 app is blank there might be a small flicker of the story changed to
steps to reproduce the behavior 1 create two stories each with a canvas animation keeping the fps under 60 2 load storybook and switch between the two stories 3 observe the fps dropping more and more as each switch happens it drops under value that you d see for any story after a hard refresh
steps to reproduce the behavior 1 clone the repo url 2 cd into the folder 3 change branch git checkout bug storybook server not working 4 run npm run storybook 5 in another terminal run npm start 6 in another terminal run react native android 7 stories are visible in emulator put not on browser
steps to reproduce the behavior 1 clone this repo url 1 install dependencies with yarn 1 run yarn storybook
steps to reproduce the behavior 1 clone url 2 run npm ci and npm start 3 open storybook in a browser 4 see error in console
steps to reproduce the behavior 1 follow the steps to setup docs for angular found here url 2 go to a story 3 click on docs tab 4 view component preview 5 go to different component story 6 see that the preview doesn change but the markdown does
1 create a story with the js before the story is returned js import storiesof from storybook html import dist semantic min css import dist semantic min js import frontpage from frontpage html storiesof page frontpage module add standard function init ui dropdown dropdown on hover console log ran function document addeventlistener domcontentloaded init return frontpage or more complex example using a mutation observer js storiesof page module add standard function pagescript console log page has changed document addeventlistener domcontentloaded function pagescript const callback mutationslist for let i 0 len mutationslist length i len i if mutationslist i type childlist pagescript break const observer new mutationobserver callback const config childlist true subtree false observer observe document getelementbyid root config false return
steps to reproduce the behavior 1 log a single value 2 see an array being logged
steps to reproduce the behavior 1 create skipped test and todos 2 re generate json results as usual jest test lists skipped tests and todo separately in its summary 3 look at the tests panel
steps to reproduce the behavior 1 fork url 2 run yarn storybook
steps to reproduce the behavior 1 create an expo init project 2 follow steps from url export conditionally in app js as the guide suggests 3 run yarn storybook in one terminal tab and yarn ios in another use ios simulator from xcode 4 try changing story in the web storybook it does not update the story shown web page only one simulator
steps to reproduce the behavior import addonapi from storybook addons addonapi register test storybookapi tstorybookapi on kind story console log kind returns the story id e g components action button t tconsole log story returns undefined t
steps to reproduce the behavior 1 run jest with the storyshots add on enabled and the ci flag 2 tests will fail because the snapshots are not in expected location so are being considered new
1 edit etc hosts to have a custom domain sudo nano etc hosts change version localhost to version localhost storybookis cool write out close 2 in package json set storybook script to storybook start storybook p 6006 h storybookis cool 3 yarn storybook 4 see issue 5 to fix use start p 6006 h www storybookis cool note added www
steps to reproduce the behavior 1 build new project using create react app 2 init storybook 3 add storyshots addon 4 try to import storybook addon contexts react to the config js 5 run npm run test 6 see error
steps to reproduce the behavior 1 create a basic project 2 add newest storybook and storybook addon centered
steps to reproduce 1 install storybook npx p storybook cli sb init type angular 2 run storybook npm run storybook 4 see error can t resolve all parameters for appcomponent object object
tried js storiesof foobar module addparameters options istoolshown false shownav false showpanel false isfullscreen true but it did not change anything
create a story with metadata in the title such as components examplecomponent and then look at the story info pane
steps to reproduce the behavior 1 use below code along with a markdown file within story 1 navigate to story 1 open docs page 1 view error
steps to reproduce the behavior 1 open a story that has any knobs configurated 2 change for example a boolean to true en preview these changes by opening canvas in a new tab 3 close the canvas tab en set the boolean back to false 4 open canvas in a new tab again and see no changes
using version beta 18 steps to reproduce the behavior 1 in storybook config js call configure more than once such that each call would load different stories 2 yarn build storybook 3 cd storybook static http server 4 head to url
1 go to addons on the initial story loaded 2 click on notes 3 see error typeerror cannot read property of selection of null
steps to reproduce the behavior 1 create the following select knob ts const mysweetselect select myselect ones 1 twos 2 2 threes 3 3 3 1 2 notice with v version beta 19 there is a type error for the option values as the select option value can only be one of url l7 it looks like since v version you upgrade to typescript yay but this value restriction causes a breaking change i wasn t sure to put this as a feature or bug but since it broke my current usage i decided to label it as a bug also considering it is allowable have arrays as values per latest docs url select
create a select knob with option values that are arrays set the default to an option that is not the first option
steps to reproduce the behavior 1 install create react app with typescript 2 install storybook 3 create storybook config tsx
steps to reproduce the behavior 1 use an azerty keyboard 2 press the key using shift
steps to reproduce the behavior 1 git clone git github com silencerweb storybook build bug git 2 cd storybook build bug npm install 3 npm run build 4 open folder public and check storybook size
steps to reproduce the behavior 1 create components and stories for them 2 load them into storybook everything works fine 3 export the components with their stories files to bit dev 4 install the components from bit dev to another project 5 load them into storybook see the code snippet 6 components are loaded one by one and only last component is shown 7 in console when verbose is checked version setstories is run for each component not once for all version storymissing is thrown for all except last one 18 message arrived at manager storymissing undefined
steps to reproduce the behavior 1 create component with changedetecorref as dependency 2 try to write story for the component
1 go to on device story book 2 open navigator tab 3 click on a story
steps to reproduce the behavior 1 set up component with redux store 2 set up redux devtools extension in browser and code 3 extension panel in browser unable to connect
check the minimal setup to reproduce url
steps to reproduce the behavior 1 go to any specific framework folders under examples 2 yarn storybook 3 white page with an error on console invariant violation minified react error 130 visit url for the full message or use the non minified dev environment for full errors and additional helpful warnings at url at a url at gr url at p v xi ii va qa
steps to reproduce the behavior 1 install storybook angular package with the latest devkit installed 2 note the peer dependency warning
steps to reproduce the behavior 1 run storybook 0 navigate to story 0 click on notes 0 get white text on white ish background
steps to reproduce the behavior 1 navigate to story that is written within stories ts file 1 select canvas tab 1 component renders properly 1 select docs tab see error select canvas tab see error
create vue project with ts support via vue cli 3 storybook via vue cli plugin storybook ts conversion and config must be done by hand vue jsx tsx typings url create theme ts import create from storybook theming export default create base light brandtitle my storybook npx tsc
steps to reproduce the behavior 1 adding storybook to existing react app which uses emotion 2 set up webpack config js in storybook folder with code snippet below set up tsconfig json with subsequent code snippet 3 npm run storybook
steps to reproduce the behavior 1 yarn add d storybook addon contexts version alpha 36 storybook addon viewport version alpha 36 storybook addon notes version alpha 36 then configure them 2 launch sb 3 click notes tab 4 click canvas tab repo url demo url
steps to reproduce the behavior 1 create new vue cli3 project storybook 2 install markdown loader html loader configure webpack 3 add storybook notes 4 create a markdown with any code block with lang defined 5 start storybook server and it should crash
steps to reproduce the behavior 1 click in search input in storybook sidebar 2 type letters in the search input 3 hit the enter return key 4 notice that your app did a hard refresh
steps to reproduce the behavior 1 configure a story using the code snippet below 1 change a property using the knob add on change the first label to error 1 click second tab in preview pane 1 notice tab content does not change click tab content notice tab switches example leverages angular material but i came across this via proprietary components as well
steps to reproduce the behavior 1 git clone url 2 cd react hot starter 3 git checkout storyshots macro 4 npm run storybook note react hot starter is based on create react app 2
steps to reproduce the behavior 1 create a project with create react library or create react app 2 init storybook in project 3 create a component for test 4 install packages
1 install react transition group in your project 2 create a component inside a csstransition 3 create a stories for this component
steps to reproduce the behavior 1 enable docs technical preview 2 setup storyshots 3 create an based mdx story 4 run jest
steps to reproduce the behavior 1 npm i storybook react types storybook react storybook addon actions 2 then follow the doc from url 3 run start storybook 4 click sidebar more menu icon button 5 see error
run the story file code below
steps to reproduce the behavior 1 initiate any action on storybook 5 cors error appears in console
steps to reproduce the behavior 1 install create react app 2 install storybook
steps to reproduce the behavior 1 visit storybook homepage on localhost 2 warning appears in console log
steps to reproduce the behavior 1 import function that export from commonjs file 2 render component in the story file
steps to reproduce the behavior 1 install storybook version 2 start storybook
1 using version alpha 29 add a story as simple as the following javascript import story meta from storybook addon docs blocks meta title test story name testing div test div story 2 fire up storybook 3 change the name of the to anything other than the current name 4 verify in ui that for testing still exists
steps to reproduce the behavior 1 open a component that uses addon centered 2 use the or magnifying glass in storybook 3 component will disappear
steps to reproduce the behavior 1 install packages see below on versions npm install save dev storybook react native storybook addon knobs version rc 0 storybook addon ondevice knobs 2 add import storybook addon ondevice knobs register to project root rn addons js 3 add the code shown above to project root stories index js 4 try to run the app 5 see error
steps to reproduce the behavior 1 create an angular component 2 create an angular module which declares and exports the component and additionally imports other required modules from angular 3 create a story with a decorator to provide the module 4 start storybook and select the story error is shown on screen and in console
steps to reproduce the behavior 1 upgrade to version alpha 27 2 view a component s info 3 scroll down to the bottom fo the info pane and see that the proptypes table is cut off you may need to reduce size of your browser window get a scrollbar
steps to reproduce the behavior 1 create new angular repo 2 initialize storybook 3 follow install and configuration instructions for addon docs url heading h dxj05fphntrh 4 run storybook and go to docs tab i created a simple app with with mdx configured per the instructions and seeing same error url
i used this knob directly on my component defaultvalue options default value first 1 second 2 third 3 1 display check the knob did not render in the addon panel and the story display threw this error typeerror object is not a function at webpackhotupdate src stories checkboxgroup stories js index stories webpack imported module 2 default add readme content checkboxgroup stories js 29 at client api js 114 at wrapper index js 179 at make decorator 17 make decorator 29 client api 112 client api 114 jsxdecorator index 98 client api 112 114 since it also mentions the readme addon it might be a problem with combination of both which is weird because all other knobs work perfectly
steps to reproduce the behavior 1 followed instructions on medium post on updating to 4 url and to 5 url 2 installed updated versions 3 run storybook 4 see error typeerror decorated is not a function at client api js 120 at withsubscriptiontracking client api js 150 at client api js 118 at storyfn story store js 357 rendermain render 65 rendermain start 205 storystore renderui start 231 storystore emit index 180 story store 239
steps to reproduce the behavior output context in production build
repo url branch feature v8 problematic line url l24 steps to reproduce the behavior 1 clone repo at branch feature v8 2 start storybook with yarn run build yarn run storybook 3 see error in almost every story
steps to reproduce the behavior add any story with initial state using withstate from dump247 storybook state
launch storybook 5 in ie 11
steps to reproduce the behavior 1 follow the above mentioned steps 2 run the storybook project npm run storybook 3 see error open the console se below error warning received true for a non boolean attribute loading if you want to write it to dom pass a string instead loading true or loading value tostring in div created by context consumer in styled div created by sidebaritem in sidebaritem in div created by context consumer styled div unknown unknown created by context consumer styled component sidebar simplebar simplebar simplebar simplebar unknown context consumer styled component scrollarea scrollarea scrollarea sidebar nav nav sidebar sidebar managerconsumer default default layout nav nav layout layout withtheme layout unknown resizedetector childwrapper resizedetector resizedetector manager themeprovider manager manager location querylocation querylocation root locationprovider root helmetprovider root root
steps to reproduce the behavior 1 update to version 2 run start storybook s 3 see error
steps to reproduce the behavior 1 create a typescript project 2 yarn add storybook addon actions which will transitively give you storybook api 3 tsc b
steps to reproduce the behavior 1 update the following packages diff storybook addon storyshots version storybook addon storyshots version storybook react version storybook react version
steps to reproduce the behavior 1 install and enable the notes addon following the default readme instructions url 2 run storybook 3 open the console 4 see error
steps to reproduce the behavior 1 update angular to version version using cli tool 2 update storybook and all related addons to version 3 the addon a11y should be imported in the addons js 4 run storybook 5 none of components are displayed on canvas 6 in the console an unhandled error is displayed related to zone js
steps to reproduce the behavior 1 fresh install of angular 8 2 fresh install of storybook angular following the guide at url 3 create config js file see below 4 npm run storybook 5 errors
i prepared a repo containing a story wich works with storybook version but doesn t with version url url checkout repository run npm ci run npm run storybook uncheck isactive knob observe isactive is not changing in mocked service checkout storybook version branch run npm ci npm storybook uncheck isactive knob isactive is changing in booth service and prop
steps to reproduce the behavior 1 add multiple addons 2 shrink the window until the addons panel is narrower than the addons list 3 see error
steps to reproduce the behavior 1 install a basic storybook example on a windows machine 2 run the command node inspect node modules bin storybook start p 9001 to try and debug your storybook application
steps to reproduce the behavior 1 ng new some repo create application false 2 ng generate library sample lib 3 yarn add storybook cli 4 yarn sb init 5 create sample lib component scss file and add it to samplelibcomponent s styleurls 6 create foo scss and import it from sample lib component scss 7 create a new story for samplelibcomponent 8 yarn storybook repro url
steps to reproduce the behavior 1 go to the notes tab 2 click on document components in markdown
steps to reproduce the behavior 1 add a story as described above
steps to reproduce the behavior 1 create new angular 8 app 2 initialise storybook inside the app 3 run storybook 4 see error
steps to reproduce the behavior i don t know what exactly is causing this but any ideas about how can debug the issue will be appreciated
steps to reproduce the behavior 1 take a valid storybook project 2 enable yarn pnp on the project by adding this to package json installconfig pnp true 3 run yarn add storybook channels emotion core emotion styled emotion theming to kind of fix this first bug url 4 storybook start
steps to reproduce the behavior 1 setup react native story book and test 2 add storybook addon storyshots 3 setup storyshots test ts as per readme 4 run yarn test
1 take a valid storybook project 2 enable yarn pnp on the project by adding this to package json installconfig pnp true 3 storybook start
steps to reproduce the behavior 1 react native init storybookexample 2 npx p storybook cli sb init 3 react native start projectroot storybook 4 react native run ios simulator iphone 8
steps to reproduce the behavior 1 setup background addon 2 past example code with addonapi import into storybook config js
theme with crash js import create from storybook theming const blue 0063ba const grey e6e6e6 const white ffffff export default create base light colorprimary blue colorsecondary blue ui appbg linear gradient to bottom grey white appcontentbg white appbordercolor blue appborderradius 0 theme without crash js import create from storybook theming const 0063ba grey e6e6e6 white ffffff export default create base light colorprimary colorsecondary ui appbg appcontentbg appbordercolor appborderradius 0
1 using vue 2 register add on import storybook addon notes register 3 add a notes key to story options 4 open storybook
terminal 1 run storybook react native init storytest cd storytest npx p storybook cli sb init type react native please choose a version of storybook react native from this list version vi storybook babelrc presets module metro react native babel preset yarn run terminal 2 run app cat app js export default from run ios simulator iphone x null is not an object evaluating selection kind getstory index js 364 27 selectstoryevent index js 378 33 foreach code 0 handleevent index js 192 26 onmessage index 97 24 dispatchevent event target 172 43 unknown websocket 257 27 emit eventemitter 190 12 callfunction messagequeue 366 47 unknown messagequeue 106 26 guard messagequeue 314 10 messagequeue 105 17 code 0
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
create a new angular application using angular cli and try to install storybook angular ng new test storybook cd test storybook npm install storybook angular save dev npm warn deprecated core js version core js version is no longer maintained please upgrade to core js 3 or at least to actual version of core js 2 babel version 0 but none is installed you must install peer dependencies yourself npm warn babel plugin transform unicode regex requires a peer of babel 0 but none is installed you must install peer dependencies yourself npm err path c users user git test ode modules array prototype flat err code enoent err errno 4058 err syscall rename enoent enoent no such file or directory rename c users user git test ode modules array prototype flat c users user git ode modules array prototype flat delete enoent this is related to not being able find a file a complete log of this run can be found in c users user appdata roaming pm cache logs 2019 05 16t19 55 34 727z debug log
1 install addon docs alpha 8 1 show case a component with a ul list in the docs tab 1 it s padding left will be too big
steps to reproduce the behavior 1 npm install g create react library 2 create react library s t default test 3 cd test 4 npx p storybook cli next sb init
steps to reproduce the behavior 1 go to a story in storybook 2 change properties using knobs 3 click on open canvas in new tab image url 4 component loads in a new tab with default values
steps to reproduce the behavior 1 clone the storybook design system url project 2 go to sb config js and import themes from storybook theming 2 set options theme themes dark to show the dark theme 3 comment out above and refresh it shows dark theme but should go back to light and when i set it manually themes light it does not refresh either
steps to reproduce the behavior 1 create a markdown note for a story 2 put a code block in it using a language for which highlighting is not loaded in storybook i used twig when discovering the bug 3 use the dark theme for your storybook 4 go to the notes panel to see these notes
steps to reproduce the behavior 1 set webpack s config js module exports async config config devserver before app mycustommiddleware app 2 run script start storybook
steps to reproduce the behavior 1 install storybook react and storybook addon docs to version version alpha 4 2 add the following configuration storybook config js js import load from storybook react load require context stories true stories js module load require context stories true stories mdx module preset js module exports addon docs common preset webpack config const path require path const createcompiler require addon docs mdx compiler plugin const babelrc path resolve dirname babelrc module exports async config console log config rules rules push test mdx use loader babel loader options configfile babelrc loader mdx loader options compilers createcompiler return addons import addon docs register babelrc json presets babel preset react 3 add a file let s say button with the following content button import story from blocks import button from react demo export const componentmeta title button hello welcome to the future of story name hello hello story 4 run and navigate to that documentation
steps to reproduce the behavior 1 go to url 2 click on story 2 in the sidebar 3 iframe content blinks from the full page load can also check network logs to verify resources within the iframe being reloaded see gifs below
steps to reproduce the behavior 1 import debug into one of your stories 2 navigate to that story within storybook 3 see error in the browser console
steps to reproduce the behavior 1 go to storybook next branch view the default story url or the about page url 2 see that scroll bars render strangely on in the default storybook ui and notice you cannot scroll on about page
steps to reproduce the behavior project setup src components component1 component1 vue component1 story js sass utils utils1 scss utils2 scss helpers scss my components are vue single file components i have also some webpack custom settings like aliases and the global loader of the helpers scss so i don t have to include it in every component 2 run npm run storybook 3 see the error error in src components error error vue vue type style index 0 id lang scoped true node modules css loader node modules loader lib loaders stylepostloader js node modules sass loader lib js node modules lib options src type style index 0 id lang scoped true module build failed from sass lib js background color colorrednewsletterbtn undefined variable colorrednewsletterbtn in users cojok sites checkout src line 23 column 23 type style index 0 id lang scoped true style css loaders stylepostloader sass options type index 0 id lang scoped true 2 14 316 21 1 42 3 22 19 321 stories sync stories storybook config multi storybook core dist server common polyfills storybook core dist server preview globals config webpack hot middleware client reload
steps to reproduce the behavior 1 set up storybook for angular 2 install and configure addon docs 3 create mdx
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 try to use store window store when creating a story 2 serve storybook 3 see context is wrong
steps to reproduce the behavior 1 create storybook 2 install addon docs by using the manual configuration described here url 3 create mdx story with story tag import story from storybook components export const componentmeta title mdx button hello docs welcome to the future of storybook story name with text template div class button button div
steps to reproduce the behavior 1 go to url 2 click on the notes card
steps to reproduce the behavior 1 vue create storybook vue test 2 manually select preset preferences version select babel and linter formatter version linter config basic version select dedicated config files 3 cd storybook vue test 4 npx p storybook cli sb init 5 yarn storybook works as expected 6 add file vue test register js and copy content from documentation writing addons 7 import file in test addons js import register
steps to reproduce the behavior same steps as seen in previous ticket url
steps to reproduce the behavior 1 apply a custom theme with a dark base 2 run build storybook 3 open storybook static index html in the browser 4 see that the theme is not applied
see code snippet
on vue project storiesof chart module add root story with select works storiesof chart series module add nested story with select does not work
steps to reproduce the behavior 1 setup a storybook with at least one story and no additional panels 2 using the same screen open the dev tools
to reproduce the behavior create a story using knobs adding a period and or square bracket s to the label of the first knob import react from react import storiesof from storybook react import text from storybook addon knobs cont mystory const knobone text knob one knob one or use label knob one const knobtwo text two two return p knobone knobtwo p storiesof sample module add my story mystory
steps to reproduce the behavior 1 install cra npx create react app storybook typescript eject typescript and cd storybook typescript eject 2 install storybook npx p storybook cli sb init 3 verity it works npm run 4 eject npm run eject press y to confirm 5 change config replace loadstories with javascript function loadstories automatically import all story js files that end with stories tsx const req require context src true stories tsx req keys foreach filename req filename 6 rename story file to stories index stories tsx 7 verify that it doesn t recognize jsx tag npm run
this minimal story code should repro javascript import storiesof from storybook html import withknobs button from storybook addon knobs storiesof button bugs module adddecorator withknobs add rerender const input document createelement input button focus input input ownerdocument defaultview focus focus return when you click the focus button knob the doesn t actually get on closer inspection you can see that this is because the story re renders and the that gets is destroyed
steps to reproduce the behavior 1 create a babel config with corejs version 3 proposals true 2 use latest babel preset env v version 3 build and start storybook 4 see errors like module not found error can t resolve core js modules web dom collections iterator in module not found error can t resolve core js modules es array concat in
1 start storybook 2 open chrome devtool 3 prop type errors displayed on chrome devtool
steps to reproduce the behavior 1 set up the project to have notes addon 2 create a md file which contains 3 use that md file for a story 4 see the result note panel show 39 instead of
install rn storybook example try adding linkto to button onpress to navigate to sub stories
steps to reproduce the behavior 1 go to storybook cra 2 shrink the bottom panel as small as it will go 3 open chrome dev tools 4 close chrome dev tools 5 panel top remains where it moved to after chrome dev tools opened 1 go to storybook cra 2 shrink the bottom panel as small as it will go 3 shrink entire web browser height 4 expand entire web browser height 5 panel top remains where it was in relation the top of window immediately after shrinking
steps to reproduce the behavior 1 clone the repository url 2 do yarn yarn start on the cloned repo 3 click on the changelog story of welcome and observe that browser gets hung for sometime and slows down storybooks changelog story has changelog of across 1500 lines and it is happening due to inclusion of witha11y decorator in config js on removing below 2 lines from config js fixes issue import witha11y from storybook addon a11y adddecorator witha11y this issue was not happening in sb version it started happening in sb version
1 create a react angular component with default value and write a story for it 2 when you delete all context from the knobs input in storybook the value in the component will be null instead of the default value and this is because default values only works with undefined and not null
1 clone repo 2 npm install 3 npm run storybook
steps to reproduce the behavior 1 go to about your storybook after upgrading to version and you might get the above message it s very possible that after version is released that this won t be visible any longer
steps to reproduce the behavior 1 install lolex url 2 in storybook config js create frozen time e g install createclock new date 2018 10 13 3 try to load some stories 4 nothing happens
steps to reproduce the behavior 1 install v version alpha 29 2 create multiple stories using storybook polymer 3 run storybook 4 load storybook in browser first shown story is fine 5 switch to another story in the side bar menu 6 second story displays but so does no preview alert
in a react native project set ondeviceui false in call to getstorybookui
stept to reproduce 1 add the following fake story js import react from react import storiesof from storybook react import boolean as bool text from storybook addon knobs const x div x div storiesof x module add x return name checkbox meta submitting bool meta submitting false pristine bool meta pristine true error text meta error 2 see no pristine error appears however no errors get printed note comething is potentially be magical and in some setup it won t be magical i e working as expected
set any combinations of brandtitle brandurl brandimage of defined undefined null on theme object
import files from storybook addon knobs const groupid configuration const logourl files logo null groupid logourl doesnot show in configuration tab see screenshot
sadly i don t have a reproducible project so far can t share our internal storybook and i need to get the same result for a smaller example so far every version of 4 x y seemed to run fine and so far every version of 5 x y seemed to have this problem e g v version worked while v version alpha 0 v or v alpha 27 suffer from the problems mentioned above interestingly the problem doesn t seem to be storyshot itself or puppeteer i created a custom puppeteer test runner with the same results and also upgraded and downgraded puppteteer locally by default we currently use puppeteer as a fixed is latest 4th right alpha 0 was newest 5th my gut feeling currently is that this bug occurs because of changes in underlying webpack config this happens for production development builds
steps to reproduce the behavior 1 delete node modules and package lock json 2 run npm install 3 run storybook 4 storybook starts but then immediately becomes a blank page console shows errors with treebeard
steps to reproduce the behavior 1 npx create react app my app 2 cd my app 3 npx p storybook cli sb init 4 install addon info addon 5 import flow typed button 6 add story as shown above 7 npm run storybook
steps to reproduce the behavior 1 clone repository at url 2 apply the patch from attached file remove txt in the extension 3 run npm i 4 run npm run jest 5 see error i personally use intellij idea built in jest runner which is more visual screenshot come from it migrate to v5 patch txt url
steps to reproduce the behavior 1 clone this repo react native elements storybook url 2 run yarn storybook everything works fine 3 run yarn build storybook 4 serve npx serve npx installed 78 in version s serving local url 5 open localhost 5000 in the browser image url
1 create a temporary folder and navigate to it 2 npx create react app my react app cd my react app npx p storybook cli sb init 3 yarn storybook 4 press a the addon panel toggles 5 press s the sidebar toggles 6 press f to enter full screen mode 7 press a the sidebar toggles 8 a again the addon panel toggles 9 f to reset into full screen mode again 10 s addon panel 11 s sidebar
steps to reproduce the behavior 1 create new project with expo init projectname 2 cd into the directory 3 run getstorybook 4 see error
steps to reproduce the behavior 1 run storybook 1 edit a story 1 watch that story drop to the bottom of the tree
steps to reproduce the behavior 1 create a new story 2 create a markdown file with some content 3 import markdown file in your story 4 see error
steps to reproduce the behavior 1 go to url 2 click on show toolbox 3 see error
steps to reproduce the behavior 1 edit cra kitchensink button story to use action click depth 1 1 go to cra kitchensink button story 1 open chrome profiler and begin recording click on the button in the story stop recording narrow down window to the click event handling see that at bottomish of call stack stringify is taking 200ms also note that entire event object has been logged action addon
steps to reproduce the behavior 1 go to the link below offical storybook site with old structured url url 2 see that the story is selected and also the url have changed to new url structure but story view shows no preview error 3 refresh page and it ll load page with new because it was replaced and story view will load
steps to reproduce the behavior 1 install the addon yarn add d storybook addon viewport 2 register it in addons js import storybook addon viewport register 3 create a story import react from react import storiesof from storybook react import actiondialog from index storiesof actiondialog module add default actiondialog dialog content actiondialog 4 run storybook
here are my npm scripts storybook html cross env node path styles components start storybook s vendor p 9005 c storybook html storybook vue cross env node path styles components start p 9006 c vue react cross env node path styles components start p 9007 c react when i run react in termial i get this cross env node path styles components start p 9007 c react info vue v version
steps to reproduce the behavior see above
run the code snippet below
attempts 1 import the global styles within each component results styles are applied but multiple global scss styles is repeated story x times 2 followed directions here for custom webpack config url results it appears this only tells storybook to read the scss doesn t actually set up a global file that is applied to all stories 3 one place recommend creating a decorator for storybook and apply the global css that way result would not work for what i m trying to do multiple styles mixins variables etc this only works for small css changes 4 in config under storybook require libs storybook scss within the loadstories function result nothing 5 tried importing within index ts result nothing 6 tried adding via angular json file result nothing
steps to reproduce the behavior 1 find any story for a class specified component that uses knobs here s one in the examples in this repo url 2 goto its component definition here s the one referred to in the above example url 3 in its component decorator add following component metadata object changedetection changedetectionstrategy onpush 4 run or refresh storybook 5 try to manipulate input for above story and notice that is unresponsive
steps to reproduce the behavior 1 clone scaffold repo url 2 yarn to install deps 3 yarn storybook to spin up storybook 4 visit url in browser and note the runtime error
steps to reproduce the behavior 1 create a react component that takes a string prop 2 use prop types to ensure a string type 3 use date knob like this jsx component date date date new version
steps to reproduce the behavior 1 go to url 2 resize your browser until the addons area moves behind your preview area 3 see the result
steps to reproduce the behavior 1 import table from storybook components
install storybook 5 in a project that uses emotion 9
steps to reproduce the behavior 1 update all of the values for colors in a theme to black 2 the selected text remains ffffff no matter what
steps to reproduce the behavior 1 create a service 2 create an alias for that service 3 use that service in your component importing via the alias 4 apply the component in storybook
create a story with a textinput with the prop autofocus true navigate to story in the react native ui see keyboard continually open and close until preview mode is selected
steps to reproduce the behavior 1 run yarn storybook where storybook is defined as storybook start p 7007 yarn start projectroot storybook 2 run react native run ios
steps to reproduce the behavior 1 create a story with the code snippets 2 run it
steps to reproduce the behavior 1 go to url 3 scroll down to prop types 4 see error
module exports function config config module rules push test stories jsx loaders require resolve storybook addon storysource loader enforce pre return defaultconfig addons js import storybook addon actions register import storybook addon links register import storybook addon knobs register import smart knobs storysource register folder structure src components stories index js
run react native init test cd test npx p storybook cli sb init npm run storybook
steps to reproduce the behavior 1 create a new repo using cra 2 init storybook and backgrounds addons 3 import css file with body background color white 4 backgrounds doesn t work anymore
steps to reproduce the behavior 1 clone the repo to the local machine 2 run official storybook 3 visit addons knobs withknobs tweaks static values story 4 change the name knob as 2019 03 08t07 27 version z 5 see transformation and errors in action
steps to reproduce the behavior 1 pull down a brand new copy of the project 2 run yarn install 3 run yarn bootstrap reset core 4 run yarn dev 5 see errors
1 start a brand new create react app 2 initialize storybook and add storybook addon backgrounds as per readme 3 run normal build see that backgrounds work 4 run static build see that the page crashes the ui flashes for a second before going all white 5 run static build without import storybook addon backgrounds register in addons js see that it now works but without backgrounds
steps to reproduce the behavior 1 start storybook 2 wait for it to open 3 blank screen with error typeerror iframe contentdocument is null
sh git clone git github com elie222 elie tech git cd elie tech git checkout storybook yarn storybook
steps to reproduce the behavior adding multiple colour selection knobs to a story in such a way that they appear close enough to each other in the controls tab is enough
steps to reproduce the behavior 1 create file named build stories js in project stories 2 add import fs from fs in it 3 yarn storybook error in stories build stories js module not found error can t resolve fs in project build js 24 0 20 sync js storybook config multi node modules storybook core dist server common polyfills node modules storybook core dist server preview globals config webpack hot middleware client reload true
see code snippet
steps to reproduce the behavior 1 build the storybook app statically using npx serve build script to sever static file locally 2 see the first story 3 refresh or share the link to others 4 see
steps to reproduce the behavior 1 try to log an action with a cycled argument with circular references
steps to reproduce the behavior 1 have a story used with styled component inject global css using createglobalstyle decoratively in a component
1 create a storybook with more options than the the height of the screen can fit 2 open storybook and see the error some of them will be hidden hence not selectable
steps to reproduce the behavior 1 load storybook 1 inspect the search box 1 no label or aria label attribute is set alternatively run an automated accessibility checker such as lighthouse in the chrome developer tools to see it picked up
steps to reproduce the behavior 1 run cra example note panelposition right is set in the options 2 open path story button with text 3 switch addons panel to the bottom mode 4 open path story button with some emoji 5 addons panel position is reset to the right mode
steps to reproduce the behavior 1 npm install save dev storybook addon viewport 2 import storybook addon viewport register inside
steps to reproduce the behavior 1 set up project 2 create a component with passing and failing and or inconsistent rules one rule must be common among at least 2 of the 3 tabs 3 open the common rule 4 switch between tabs and notice that the rule remains open
steps to reproduce the behavior 1 go to any page with ie11 2 you ll see the issue right away 3 even more present on pages with custom themes
steps to reproduce the behavior just go to this example storybook built in react go to the knobs tab and edit the optional text url when you start doing a mix of typing and erasing text some of your text disappears or previously written text is suddenly added this storybook was the first example given for storybook version found on main storybook website url
use this config js js import addparameters configure from storybook polymer import storybook addon console import create from storybook theming const req require context packages true stories js function loadstories req keys foreach filename req filename addparameters options panelposition right theme create base light fontbase proxima nova arial sans serif fontcode monospace brandimage logo png configure loadstories module
steps to reproduce the behavior 1 be on rn version 2 use storybook 4 x 2 see warning
steps to reproduce the behavior 1 have actions a11y and knobs installed and configured 2 click on a story 3 select the a11y tab 3 select another story 4 see that the selected tab is now actions
steps to reproduce the behavior 1 create a story with the following code import as react from react import storiesof from storybook react import imagefile from header background png const image src imagefile alt my image storiesof header module add with an image img src image src alt alt 2 run storybook
go to url and you will see that the page is not loaded correctly now refresh the page you will see the correct result
steps to reproduce the behavior 1 create empty vue project vue create project name 2 add storybooks plugin vue add vue cli plugin storybook 3 run npm run storybook serve 4 see error uncaught typeerror 0 core withcsscontext is not a function at object node modules storybook addon actions dist components actionlogger index js
bug reproduction url temporary fix url
steps to reproduce the behavior 1 create a new empty directory 2 create the html kitchensink with npx p storybook cli sb init type html 3 add addon backgrounds with npm i d storybook addon backgrounds 4 add import to config js url configuration import storybook addon backgrounds register 5 add backgrounds to stories index stories js js import storiesof from storybook html storiesof demo module addparameters name transparent value transparent default true name facebook value 3b5998 add heading h1 hello world h1 6 start the 7 untick the show addons in dropdown or press hotkey a
steps to reproduce the behavior 1 npm run build storybook 2 start a web server in the output directory eg npx serve 3 open the storybook in a web browser so that the first story opens 4 duplicate tab 5 in new tab story will not load and instead say no preview
steps to reproduce the behavior 1 install storybook addon knobs 2 create a component jsx import as react from react type props buttontext string color string export default props props button style color props color buttontext button 3 create a story jsx import as react from react import storiesof from storybook import withknobs text from storybook addon knobs button button const stories storiesof module stories adddecorator withknobs stories add with text return buttontext text label hello world stories add with text color return buttontext label hello world red 4 run on development and you see the panel run on production and the panel is gone
steps to reproduce the behavior 1 add addon google analytics 1 select another story after page loaded
steps to reproduce the behavior 1 open any component with a text knob 2 change the text knob to a string that is more than a couple characters long maybe write your name
steps to reproduce the behavior 1 set up project 2 add a11y and backgrounds 3 render component and switch background color to a color that would fail a11y 4 re run accessibility tests 5 notice that tests results do not change
steps to reproduce the behavior 1 this is the default url url border 2px 20dashed 20silver borderradius 10 padding 10px 2 change the knob values e g knob styles borderradius 100 and knob color rgba 208 2 27 1 url border 2px 20dashed 20silver borderradius 100 padding 10px 2 remove the last part of url knob styles
steps to reproduce the behavior 1 go to storybook website url 2a click on made for html link on the right side of the page on larger screens 2b click on made for svelte link the right side of page larger screens 3a link points to url url 3b link points to url 4 see error 404 yikes this is embarassing try double checking or going back
steps to reproduce the behavior 1 set up project 2 add knobs addon 3 set up configuration with knob categories
steps to reproduce the behavior 1 create a babel config js file in the root directory 2 create a babelrc file with overriding behavior in storybook 3 start storybook 4 see at the configuration specified in the root babel config js is used
steps to reproduce the behavior 1 go to terminal 2 run npm install babel cli babel core save dev 3 choose yes to do you want to manually choose a storybook project type install 4 select angular 5 does not install storybook starter project
steps to reproduce the behavior 1 go to url 2 click on stories in description welcome component 3 app will be redirect to url and you see broken markup
1 go to url 2 click on search input 3 type trump or any unrelated string 4 stories whose titles don t match the string are showing up 5 also text highlight from sb4 and less for matching text is missing
1 create a react 15 app 2 import create from storybook theming in storybook config js
steps to reproduce the behavior 1 go to a story that dispatches actions 2 cause the action to be dispatched the action shows up in the actions panel 3 go to another story and view action panel 4 previous story s dispatched actions are still listed
use the following theme js import create from storybook theming export default create is this a light or dark theme base light color palette colorprimary 2e5685 primary color colorsecondary 3b78bd secondary color ui appbg 2e5685 appcontentbg white appbordercolor rgba 0 0 0 1 appborderradius 0 fonts fontbase roboto arial sans serif fontcode courier monospace text colors textcolor ffffff textinversecolor toolbar default and active colors bartextcolor white barselectedcolor white barbg 2e5685 form colors inputbg white inputborder rgba 1 inputtextcolor inputborderradius 4 changing between base of light or dark doesn t make any difference either
steps to reproduce the behavior 1 install sb5 and put a base style in angular json 2 run storybook 3 remove styles in angular json 4 run storybook
steps to reproduce the behavior 1 go to any story put any string with aforementioned js markdown notation 2 view it on the storybook 3 see that the supposed code snippet does not show at all
steps to reproduce the behavior 1 create a static build storybook on true build storybook c storybook o storybook dist 2 host the build http server dist 3 search anything 4 open console and see error with no search on components
steps to reproduce the behavior 1 add number knov 2 remove the value 3 see error in the console
steps to reproduce the behavior 1 resize the window to be less than 600px 2 see the console 3 when refreshing page in a small window error appears again
steps to reproduce the behavior 1 create a custom webpack config and force the config mode production 2 start up storybook locally 3 type in two or more characters you expect to match 4 see error tracing through i found that the parameters filename is a number when config mode production and a string in dev the actual real file name i ve also seen this behavior in a storybook from other person s issue url from 5772
steps to reproduce the behavior 1 import the svg as a react component import logo from icons logo svg export function container return div logo div 2 run start storybook p 6006 c storybook 3 storybook ui is loaded with the preview of components error is shown on the preview of container component failed to execute createelement on document tag name provided static media logo 717fead6 svg is not a valid name error failed to execute createelement on document tag name provided static media 717fead6 svg is not a valid name
steps to reproduce the behavior 1 get setup git clone url cd storybook yarn install yarn bootstrap core cd examples official storybook yarn build now yarn storybook 2 in chrome and ie11 visit url 3 edit stories addon backgrounds stories js and change the overridden story from add overriden basebutton label this one should have different backgrounds backgrounds name pink value hotpink name blue value deepskyblue default true to add overriden basebutton label this one should have different backgrounds name pink value hotpink default true name blue value deepskyblue 4 in chrome the background changs from blue to pink ie11 fails to update
here is one typescript module typescript import storiesof from storybook vue storiesof specification module addparameters options showpanel false add downloads template div style padding 20px color black background white h1 foo h1 div options showpanel false
steps to reproduce the behavior 1 go to url 2 click on button dynamic 4 see error
set up react native project using pnpm rather than yarn npm when bundling storybook react native and many other storybook packages are unable to resolve require imports to core js
1 yarn 2 yarn storybook
navigate to any component in storybook version rc 7 and zoom in drastically until the component overflows and scrollbars appear
i can reproduce locally yarn bootstrap reset core cd examples official storybook yarn build storybook cd storybook static serve open url
steps to reproduce the behavior 1 copy snippet below and paste into config js
steps to reproduce the behavior 1 set up a project for angular app with storybook 2 click on panel toggle and watch the addon panel widen far passed the component in view
steps to reproduce the behavior 1 create a umd bundle with webpack 4 2 in stories file import something from that bundle 3 now run start storybook
steps to reproduce the behavior 1 set up project 2 apply the background addon globally in the addonjs and configjs may be a backward compatibility issue adddecorator withbackgrounds name twitter value 00aced name facebook value 3b5998 the following way of adding backgrounds does not work in angular addparameters backgrounds name twitter value 00aced name facebook value 3b5998 3 go to background tab and click on default block
steps to reproduce the behavior 1 visit storybook official netlify link url 2 note how there are
steps to reproduce the behavior 1 set up project 2 run storybook and look to top right corner
steps to reproduce the behavior 1 spin up storybook 2 visit url 3 observe that there are no violations or passes 4 press
steps to reproduce the behavior 1 npm install d storybook addon a11y 2 import storybook addon a11y register 3 scroll down to 4 imported
steps to reproduce the behavior 1 use version rc 5
steps to reproduce the behavior use this custom babelrc json presets tools babel preset and this is the file struct project root storybook babelrc tools babel preset js then add the cmd to the package json start storybook p 6006 and execute it then console will show compile infomations and stop at webpack built xxxxxx in xxxxms and no browser will show
steps to reproduce the behavior 1 run start storybook p 6006 and wait for the browser to open 2 observe that the correct theme is not applied 3 navigate to another story 4 observe that the theme is now applied
use a markdown note like this url with notes addon
1 add addon centered 2 add addon info 3 create a story with a static fixed width element and an absolute positioned element 4 notice how the absolute positioned element will be positioned relatively to the static fixed width element and not the window
1 add cssresources options as documented js adddecorator withcssresources cssresources id core framework code link rel stylesheet type text css href assets css main min css picked true 2 click on cssresources addon panel 3 see no name id label and react key usage warning see screenshot below
steps to reproduce the behavior 1 create component with an empty div apply display grid and create a few rows columns 2 create component subcomponent and a story for it 3 open subcomponent s story
configure storybook almost exactly step by step use angular 7 url
steps to reproduce the behavior 1 ln s full path to app assets javascripts components app js full path to storybook devops src app js 2 start storybook
steps to reproduce the behavior this seems to happen a lot with react bootstrap components for example import table from react bootstrap storiesof tables module adddecorator withinfo add bootstrap return table tbody tr td 1 td tr tbody table results in the source undefined tbody tr td 1 td tr tbody undefined along with the error message failed prop type invalid prop type of type object supplied to proptable expected function additionally if you try to pass this component proptablesexclude info proptablesexclude table then there is the error warning failed prop type invalid prop proptablesexclude 0 of object supplied story expected function
steps to reproduce the behavior 1 build a project with react native storybook 2 open the project in ios simulator
steps to reproduce the behavior 1 create a select knob for a prop like so select disable from fromextralarge null
steps to reproduce the behavior 1 update to beta 4 2 run npm install 3 start storybook
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 in an empty directory run yarn init with default options 2 run npx p storybook cli sb init 3 say that you want to manually choose a storybook project type and select react 4 enter yarn run storybook or npm run storybook either should be successful and open the demo page in a browser 5 npm i d addon storyshots 6 npm i jest 7 add jest to scripts section in package json see code snippets section for full package json contents 8 create a file called storyshots test js in the root directory 9 make its contents match the provided test code from url above see code snippets section for exact code block 10 yarn test or npm test 11 error shown
steps to reproduce the behavior 1 follow the directions to add notes to the storybook project 2 add a markdown file or include markdown in your ts file this markdown should include code snippets using tacs 3 tacs code and then another 3 tacs 3 in the configuration add notes somemarkdownhere 4 run storybook and look to notes section
steps to reproduce the behavior 1 given any dummy button component 2 hook onclick action with action addon function 3 wait 4 sec to get response the ui is totally blocked and unresponsive an example from official storybook url
steps to reproduce the behavior 1 attempt using addon knobs with react native version follow instructions at 1 url 2 url
steps to reproduce the behavior url this repository contains a component that should fail on colour contrast and a component that contains a button with no type or text
steps to reproduce the behavior create new project with vue cli use vue cli plugin url to add storybook to a fresh vue project follow instructions in the getting started url guide on setting up snapshot testing with storyshots plugin run npm run test unit get enoent no such file or directory lstat path to project storybook
steps to reproduce the behavior 1 go to a story 2 click on the little eject icon top right 3 wait for the page to load 4 see the url has updated to
steps to reproduce the behavior 1 go to any component and put a console warn on it s render 2 click on it s preview on navigator 3 see error
1 follow the installation steps exactly as described here url note be sure to select css as your preferred stylesheet format during the angular cli app installation process 2 run storybook and view the my button story
steps to reproduce the behavior i have installed storybook and the knobs addon add the decorator in the global config import addon in addons js add knobs within story run yarn run storybook view storybook page
1 generate angular projekt url 2 add browserslistrc to root see code snippet for example 3 create component story with css property that should be autoprefixed e g apperance none display flex 4 start storybook
steps to reproduce the behavior 1 build the storybook android application with embedded js 2 install the application on the emulator avd 3 launch storybook websocket server 4 launch android application 5 open websocket server web page by default localhost 7007 6 storybook is empty
any storybook in v5 produces this for me
any storybook in v5 produces this for me
steps to reproduce the behavior 1 create a storybook that has a story that utilizes the addon notes 2 make sure the story with notes is the default story that loads on startup 3 run start storybook 4 open storybook uri in your browser and click on notes tab
steps to reproduce the behavior 1 run start storybook c storybook 2 storybook does not successfully compile sorry these are not very useful repro steps i can try and make a separate repo to demo the issue if necessary
try to change color with corresponding control in firefox
steps to reproduce the behavior 1 create more than one component configuration 3 switch between those components 4 you will then see the following errors image url image url the following only shows up in the console once and may be unrelated image url
steps to reproduce the behavior set up a new storybook project in a brand new react native project npx p storybook cli next sb init
steps to reproduce the behavior follow the instructions to install storybook on a newly created react native project react native init newproject cd newproject npx p storybook cli sb init
1 follow the guide url to add storybook to your react native project 2 start the android emulator 3 run react native run android to build and deploy app to the emulator 4 open storybook depends on how you implemented the storybook loading from your app button press gesture option in developer menu
steps to reproduce the behavior 1 start in javascript folder cd app javascript 2 run npx p storybook cli sb init 3 select webpack react 4 see error typeerror cannot create property dependencies on boolean false 5 run yarn run start storybook c storybook p 9009 6 see error error create a storybook config file in config js
steps to reproduce the behavior storybook version version 1 run build storybook o absolute path 2 the output will be relative to the working directory with a concatenation of the absolute path command dir absolute path
steps to reproduce the behavior 1 create vue project with storybook vue create sample project vue cli v version please pick a preset default babel eslint vue add storybook npm run storybook serve 2 open storybook ui with chrome 3 edit src components mybutton 4 hmr not working
steps to reproduce the behavior 1 in a react application have react and react dom in your package json 2 have a storybook addon actions in your package json too 3 npm i 4 npm ls react or npm ls dom see that those packages are installed multiple times
steps to reproduce the behavior 1 create a new react native project 2 cd to the project 3 run npx p storybook cli sb init 4 replace the content of app js with export default from storybook 5 execute npm run storybook i could not pass this step without installing core js 6 run the application on an android device execute react native run android
steps to reproduce the behavior js import storiesof from storybook react import setupgraphiql from storybook addon graphql const createquery require createquery this is the problem line where createquery js is js module exports function createquery operationname myquery return
use the following storybook component and blur or change the input value javascript const dummyform vue component dummyform template form input type text blur onblur change onchange form methods onchange action change runtime error onblur action blur runtime error storiesof components module add dummyform components dummyform template
steps to reproduce the behavior 1 run storybook with start storybook p 9001 c storybook 2 add import storybook addon centered register to addons js 3 web ui will refresh and show a blank white screen 4 stop dev server with kbd ctrl kbd kbd c kbd and restart it 5 webpack will complete the build but will not start the dev server again and show the running on port 9001 message
steps to reproduce the behavior create a new react project with rn version follow the storybook setup guide try to run the project
steps to reproduce the behavior 1 view default proptables on a local repo hard pinned to addon info version 2 upgrade to addon info version and restart local storybook 3 compare prop tables
1 import object from storybook addon knobs angular 2 create a new object 3 run storybook 4 see the error in the console
steps to reproduce the behavior run cra add storybook run build storybook serve the results
steps to reproduce the behavior 1 clone url 2 install deps with yarn 3 run yarn storybook and watch as the output hangs forever 4 run yarn storybook build and see the error along with some unhandled rejection warnings from node
steps to reproduce the behavior 1 add two or more knobs to a story 2 verify that they render when the story is loaded 3 add a groupid to at least one of the knobs 4 verify that only the knob s with groupids render
steps to reproduce the behavior 1 yarn storybook
steps to reproduce the behavior npm run start storybook p 9001 c storybook
npx create react app cra2 cd cra2 npx p storybook cli next sb init yarn storybook
steps to reproduce the behavior create cra app setup storybook and jest addon as described in respective projects setup command in package json test react scripts test test generate output react scripts test json outputfile storybook jest results json silent verbose false true prestorybook dev clear echo doing first run ci true yarn run generate output storybook start storybook p 9009 s public dev clear concurrently n jest k yarn run quiet yarn run generate output create yarn dev
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 open the viewport tab at the bottom 2 select iphone 6 plus 3 notice that the rotation option exists 4 select iphone 6 5 notice that rotation option disappears
steps to reproduce the behavior 1 import the test jsx component into a story and render 2 run storybook 3 load created story
steps to reproduce the behavior 1 install latest yarn add d storybook react version 2 create a component in src react components button jsx 3 import this component from a story 4 launch storybook start storybook p 9001 c storybook 5 error in console module not found error can t resolve react components button in xxx
the ff babelrc presets module metro react native babel preset env production plugins transform react constant elements transform remove console plugins module resolver cwd babelrc root alias assets assets domain artifacts domain util artifacts util lib artifacts lib components artifacts components
import storiesof from storybook angular import date as knobdate from storybook addon knobs angular also tried storybook addon knobs const stories storiesof simple components date module stories add test const date knobdate test date new 2019 01 01 this line throws the error return template label label props errors uncaught rangeerror maximum call stack size exceeded at json stringify anonymous at stringify vendors main bundle js 64164 at postmsgtransport send vendors main bundle js 25660 at handler vendors main bundle js 25841 channel emit vendors main bundle js 25850 object error 4340 console logger error 12287 warningwithoutstack 86139 warnaboutinvalidupdates scheduleworktoroot uncaught rangeerror maximum call stack size exceeded array splice anonymous object anonymous 64178 json stringify anonymous stringify 64164 postmsgtransport send 25660 handler 25841 channel emit 25850 object error 4340 console logger 12287 warningwithoutstack 86139 the above occurred in the context consumer component in styled div created by forwardref in forwardref created by datetype in datetype created by propform label created by context consumer styled label forwardref forwardref field
steps to reproduce the behavior 1 run up kitchen sink vue note all knobs working first image 2 change first knob to the following and note only name knob shows second image add all knobs const name text name jane group 1 note stories which only have text array object and boolean appear not to be affected by this issue
steps to reproduce the behavior 1 run the command shown above 2 the details panel is still shown
steps to reproduce the behavior 1 clone the repository where i simulated the problem url 1 run npm install 2 run npm start and see it working output hey dep1 3 run npm run storybook and see the bug with message cannot assign to read only property exports of object object
1 spin up a simple react project with just babel and rollup 2 follow this guide url 3 yarn run storybook or just run this demo repo url
steps to reproduce the behavior 1 go to storybook config and add import withinfo from storybook addon info and adddecorator withinfo to the file 2 start server by running npm run storybook 3 go to url and open console see error
use the following js for a story javascript import storiesof from storybook html import withknobs text from storybook addon knobs storiesof testcomponent module adddecorator withknobs add html let message text heading hello world return h1 message h1 add dom let h1 document createelement h1 textcontent text heading hello world return
steps to reproduce the behavior 1 create a storybook project 2 add custom files for head tags 3 see how both titles are set on html and just the first one is getting applied
steps to reproduce the behavior 1 open the terminal 2 type react native init testapp 3 wait few years 4 npx p storybook cli sb init 5 wait again 6 type in your terminal yarn run storybook 7 wait until it fails compiling
steps to reproduce the behavior 1 create test vue in resources js components 2 install storybook 3 run yarn run storybook 4 see error
steps to reproduce the behavior 1 clone url 2 run yarn install 3 run yarn run storybook 4 open story graphql broken
try writing js const storybookuiroot getstorybookui port 7007 ondeviceui true isuiopen false js const storybookuiroot getstorybookui port 7007 ondeviceui true isuihidden false none is working
steps to reproduce the behavior 1 have a storybook with a color knob 2 open it with firefox 3 click on the color value to change it 4 click anywhere within the modal window that pops up
steps to reproduce the behavior 1 make a story that adddecorator that requires a sass css file 2 make a separate story that does not 3 view the first story 4 view the second story 5 the second has first s css applied to it
steps to reproduce the behavior 1 initialize new cra project 2 initialize storybook 3 rename app css to app scss 3 create a story for app js 4 run storybook 5 you see an error you may need an appropriate loader to handle this file type about scss files and svg import
steps to reproduce the behavior 1 configure storybook and storyshots like demonstrated below 1 run storyshots through jest
1 create a project using storybook 2 require a stories js file located in a directory that is not a subdirectory to the directory containing the storybook config directory
steps to reproduce the behavior 1 cra and eject or use react rewired 2 insure you have the newest versions of react mobx mobx react dependencies 3 create some variables under mobx observable ensure that babel plugins in package json has transform decorators legacy 4 run npm run start to see the variables working as defined pre installation of storybook 5 install storybook using cli and see that variables are undefined and the app fails to compile 6 while storybook and addon dependencies installed run npm run storybook script to see that works fine it s standard app that fails compile 7 npm uninstall save dev react addon notes addon links addon actions knobs see npm start application works again
steps to reproduce the behavior 1 open a long taller than screen height stories list in mobile view 2 the bottommost stories are obscured by the bottom ui bar
1 checkout next branch 2 start the official storybook kitchen sink app or install register add on to any other app 2 open any of the a11y stories with decorator set 3 go to accessibility panel 4 see 0 results on both passes violations
steps to reproduce the behavior 1 clone storybook repo and checkout to v version 2 add this diff url to the angular s example 3 run storybook and open dependencies component stories
steps to reproduce the behavior 1 install yarn v version 2 open mac terminal 3 run yarn add d storybook addon console 4 see error
reproduction url for the same is url
steps to reproduce the behavior i have created a cra with storybook demo exhibiting this behavior 1 go to url 2 clone install and run as described in readme 3 see error in storybook and not in app
steps to reproduce the behavior 1 go to root of statically exported in ie11 2 observe no sidebar items or 1 go to directly at any component path 2 observe no sidebar items or 1 search in component input 2 observe no sidebar items 3 error in console img width 1280 alt screen shot 2018 11 26 at 14 01 38 src url
steps to reproduce the behavior followed instructions for setting up storybook from scratch and not seeing any stories
1 see code snippets below and run react native run ios in storybook mode this is an ejected app not expo
steps to reproduce the behavior 1 git clone url 2 npm install 3 npm start 4 change a knob
1 create a component for example button which will contain ng content 2 go to your stories and use template and props click
npm run storybook
1 have a project with some dependencies 2 have a yarnrc file with install frozen lockfile true 3 run yarn sb init
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 write the following to your vue project s storybook config js adddecorator withoptions name bah theme mainbackground red 2 run the storybook application and see the page with un changed name and background
steps to reproduce the behavior 1 git clone url 2 git checkout broken start after storyshot setup 2 npm install npm run storybook 4 see error
steps to reproduce the behavior 1 create a simple jest test 2 implement jest addon 3 create a script like this test output watch jest json outputfile jest lock json watch 4 see infinite loop on console when running nom test output watch
i am using storybook v version i can provide an example repo on request i have a monorepo setup node modules root of symlink packages node modules my scope packagea node modules symlink packageb node modules symlink
steps to reproduce the behavior 1 open discord 2 click join a server 3 enter url 4 see error
steps to reproduce the behavior 1 reposition addons panel cmd shift g or ctrl shift g 2 click on a different story or modify a story knob the panel will then reset its position
not able to reproduce atm
1 npm i d storybook addon info 2 add import withinfo from storybook addon info and stories adddecorator withinfo 3 start storybook 4 go to story and see red error screen
steps to reproduce the behavior 1 open storybook using storybook react 2 install and open react devtools 3 note that story scope is properly displayed 4 click inspect button then a component inside the story pane 5 note that nothing inside the pane can be selected
steps to reproduce the behavior 1 add addon options to existing project which uses addon knobs already according to instructions 2 setup withoptions with an empty object adddecorator withoptions 3 view a story with knobs and edit text
npx create react app my app yarn add d typescript types node types react types react dom types jest rename react files from js to ts tsx npx p storybook cli sb init yarn add d awesome typescript loader yarn add d storybook yarn add d storybook addon info docgen typescript webpack plugin results in following depedencies json dependencies version dom version scripts version devdependencies babel core version storybook addon actions addon info addon links addons jest node dom awesome typescript loader babel loader docgen webpack plugin copy tsconfig json webpack config js from url simple button component js src components button button tsx import as from interface buttonprops label string export const button sfc buttonprops props return props label config js config ts import configure from const req require context src stories true tsx configure req keys foreach filename req filename module story src stories index tsx import import storiesof components const stories storiesof module stories test test
steps to reproduce the behavior 1 create app using create react app 2 install storybook 3 create functional component and stories for it 4 run npm run build storybook without having custom webpack configuration 5 serve static storybook and see results
steps to reproduce the behavior 1 add a11y 2 add to just 1 story 3 every story has accessibility panel
steps to reproduce the behavior 1 create two knowbs text and select 2 enter a json object with many properties 3 parse the json object from text input and generate options per attribute 4 pass the new options into select input
steps to reproduce the behavior 1 add import withknobs color from storybook addon knobs 2 add color color colour 9b9b9b colour to a component story
steps to reproduce the behavior 1 create a react component that uses hooks 2 import render the component in storybook
steps to reproduce the behavior 1 run storybook
switch to full screen mode see screenshot
steps to reproduce the behavior 1 git clone git github com adamchenwei vuejs playground git url 2 git checkout step 3 3 2 b storybook storyshot broken 2 npm run setup 3 npm run test
1 create a new strapi project 2 start the git tracking git init git remote add origin 3 create a new content type with some string field and save it 4 go to the content type you created and click to add one entry 5 click on configure the layout 6 click on the field created before 7 change default values of label description and placeholders 8 get back to add one entry screen and check effect 8 logout from strapi stop server 9 commit changes on git push them 10 on a new directory clone repo choosing other name 11 yarn instal or just yarn to install dependencies 12 yarn develop run strapi server 13 create new admin log in 14 go content type created before click add one entry 15 note that setting label description placeholder is no longer there just string field
1 create a content type with a media field 2 try adding an entry in the content type 3 in the media field there is no option to select from the already uploaded files
1 create a contenttype groups 2 create a contenttype question with a title field called title 3 add relation so a group can have many questions question can only have one group 3 add relation to user so user can have many groups group can have many users 4 try to query for the user with his id get his groups and find what question titles he has see query for example
1 create a content type with a rich text editor 2 create a new piece of content 3 copy above lines of text into the editor 4 place the cursor after the word incredulity 5 hit enter 6 click select them to insert an image 7 if all goes well an extra carriage return is added 8 if upload is slow such as on aws uploading my image jpg will not go away 9 no complete image hash appears 10 the final line of text in superlative disappears
1 go to url 2 run the following query users where username jonsnow username firstname 3 see results it should be data users username jonsnow firstname jon 4 now run the same query using query variables the query looks like this users username string users where firstname and the variables jonsnow 5 output will now include all as if where clause didn t exist data negger firstname arnold jonsnow jon tonystark tony
1 create a new strapi project mysql 2 add pool min 0 max 10 idletimeoutmillis 3000 createtimeoutmillis 3000 acquiretimeoutmillis 3000 in the database json in options 3 npm run build 4 npm start
navigate to roles permission click add new role cancel button top right does not work
1 npx create strapi app my project 2 choose mysql as database 3 insert credentials 4 choose no for ssl 5 run strapi start or npm run start
step 1 strapi new test project quickstart step 2 navigate to localhost 1337 admin see console error with 403 forbidden
1 under user collection create a content type media e g logo 2 upload a logo using upload endpoint only providing the file param will receive the logo s id as a response 2 do an updateuser graphql mutation passing the above logo s upload id as an input parameter example input data other payload where id userid
1 create an entity strapi services pet create name steve 2 update entity from frontend via graphql with filter input where id id data pet 3 graphql error your filters contain a field id that doesn t appear on your model definition nor it s relations
1 spin up a new strapi project strapi new strapi test 2 install graphql plugin strapi install graphql 3 create a custom plugin generate plugin awsome plugin 4 create a custom model for that generate model awsomething awesome 5 go to the plugins awesome models models and move your models up a level to plugins awesome models because it creates duplicate folder on generate another bug i think 6 try and run it develop 7 see error 2019 10 09t20 31 version z error error cannot find the controller s action custommodel findone at users grahamcrackers dev tfs svm graphql node modules graphql services query js 163 16 at object composequeryresolver users grahamcrackers dev tfs svm node modules services query js 199 7 at users grahamcrackers dev tfs svm node modules services resolvers js 331 19 at array reduce anonymous object buildshadowcrud users grahamcrackers dev tfs svm node modules services resolvers js 269 30 schema 147 23 array reduce anonymous object generateschema schema 141 48 object initialize hooks index 59 50 lib hooks index 43 28
1 setup str api with sqlite db ok 2 change database connection to mongodb 3 execute strapi start 4 command exit with code 1 and follow stack corp cms 2019 10 09t14 26 version z error something went wrong in the model file with the attribute related corp cms 2019 10 09t14 26 version z error typeerror cannot convert undefined or null to object corp cms at function keys anonymous corp cms at object defineassociations node modules strapi hook mongoose node modules strapi utils lib models js 498 34 at buildrelation node modules strapi hook mongoose lib mount models js 428 15 at relationalattributes foreach name node modules hook mongoose lib mount models js 74 7 array foreach anonymous object keys map model hook mongoose lib mount models js 73 26 array map anonymous module exports mount 14 23 promise all object keys map name index 182 16 array map anonymous mountplugins index 180 35 keys filter index 132 11 process tickcallback internal process next tick 68 7
1 in the file config environments development request json change parser enabled to false 2 try to log in as admin
1 create a group 2 add an image field and check allow multiple files 3 use the group inside a content type and make it repeatable 4 add multiple files to the media field 5 save 6 go back to see only one image inside the group or query the images to see only one response
1 create a ct as category 2 create a ct as article and create a field as one to many categories 3 create a article 4 url check the response irrelevant json in category
1 query with variables and where clause 2 query without variables and where clause
1 create a content type with a text type field 2 create an associated content populate the editor with some styled text ex bold italic etc and save it 3 try to run the related front end page 4 see error
1 install latest beta version 2 create a new content type and add an image field via the ui 3 lock the field set configurable to false 4 refresh the content manager and check the filed edit button is still visible no lock sign
1 create many to many relationship with 2 models 2 edit model setting to disable autopopulate by adding autopopulate false 3 add some field in one of model using content type builder and save it 4 see the different using git diff chapters collection chapter via novel autopopulate false chapters collection chapter via novel
1 setup a polymorphic relationship json connection default collectionname info name page description options timestamps true attributes title type string blocks collection 2 go to url 3 run graphql query pages blocks on form id 4 see error
1 add a content type page 2 create a enumeration category and add news movies 3 add a data on article under category news 4 go to article listing screen and and category is listed as id instead of news
0 create new strapi project 1 create new model strapi generate model instructions title string body string 2 go to admin ui and create new content type with a relationship to the model created 3 save changes 4 can t no longer start server
i was trying to get some objects from my database that belong to the user logged in i m getting user information from ctx state user when i request my api via strapi request post page data from my nuxt frontend using ajax request everything is ok but when server side request come into play ctx state user becomes undefined i m using somethig like described in this tutorial cooking a deliveroo clone with nuxt url
1 create a one to one relation between a user and another content type profile for example in the content type builder 2 create a user entry 3 create a profile entry linked to the user 4 open the user entry 5 refresh the page make sure profile isn t cached 6 click on detail for profile link within entry view 8 page will show not found error with 404 network response statuscode 404 error not found message contenttype notfound
1 create a manytomany or manyway relation field 2 set that field to null 3 cannot read property map of null
1 add a contenttype channel with one required field name 2 add a content type category with channel as releated field 3 on creating datas for category channel is listed in dropdown as mongoid instead on name
1 create a database with table that has pk with different name rather than id 2 create a model for this table 3 you cannot use your custom id to perform crud requests in admin panel
1 import a lot of items in my case 5407 items 2 query one of that item with graphql
1 run yarn create strapi app api 2 enter settings for database or go with quickstart the result is consistent 3 wait for dependencies to install the installer will stay a long time at installing dependencies 5 5 building fresh packages 4 the installer crashes with error code related to mozjpeg module see below for complete output 5 cd into api and run yarn build or develop the app will build and start output below 6 run yarn strapi install graphql 7 installer will chew for quite som time and finally fail with error message related to mozjpeg output below 8 yarn develop build start fails with error message related to module lodash output below 9 only way get up and running again is delete node modules folder run build again this brings you back start without graphql capability
1 strapi install graphql 2 strapi start this is work 3 rm rf node modules 4 rm rf package lock json 5 npm install 6 strapi start this is error 7 message error 2019 09 18t03 08 version z error typeerror cannot convert undefined or null to object at function keys anonymous at object generateschema home deftnt documents be lms node modules strapi plugin graphql services schema js 160 25 at function initialize home deftnt documents be lms node modules plugin graphql hooks graphql index js 59 50 at home deftnt documents be lms node modules lib hooks index js 52 31 after home deftnt documents be lms lib hooks index js 153 39 lodash lodash 9997 23 once lib hooks index 164 17 object oncewrapper events 286 20 emit events 198 13 onfinish lib 44 12 foreach hook mongoose 725 13 process tickcallback internal process next tick 68 7
1 bootstrap strapi 2 install graphql plugin 3 create a user in backend 4 go to apollo client and run mutation deleteuser deleteuser input where id 1 user id username
1 go to the content type builder and create a group 2 add a relation with any model 3 save 4 the server crashes
1 have working strapi beta11 install 2 follow migration guide for beta15 to beta16 url but substitute strapi hook bookshelf version beta 16 strapi hook knex version beta 16 with strapi hook mongoose version beta 16 3 startup hit api from axios url local 4 kaboom such sad much crying so restore from backup
1 create model venue with field name 2 set maintitle and entry title to name 3 create model edition with has a relation to model venue 4 create records for models venue and edition where model edition is related to venue 5 is still referred to by its id instead of name metadatas fetched in edition does not seem reflect the updated mainfield for screenshot url
1 have a stable beta11 install running 2 follow beta15 beta16 update guide url beta guides after altering bookshelf knex dependency info to use mongoose
1 go to content type builder and create 2 content types test and anothertest 2 create a new group that has a relation with anothertest 3 add a repeatable group to test 4 add some entries to anothertest content type using the content manager 5 add some entries to anothertest and especially link some relations in the group section 6 try navigating back and forth using the link from the group relation field 7 see app crashes
1 go to model file 2 create a aftercreate hook 3 try a find with this param find created at gt 2019 09 11t05 57 version z 4 check result
1 run npx create strapi app my project quickstart
1 installed latest strapi with npm install strapi beta g 2 ran strapi new test quickstart 3 command line returned this error bash strapi command not found 4 ran all other commands specified in url new command line returned this error for all commands bash command not found 5 ran npx test quickstart
1 update to beta 16 2 run strapi develop on existing application 3 see terminal output for error 4 see error 5 downgrade to 15 and it works again
1 make put request to users id 2 update any field in the user model
1 go to configuration database 2 modify or add a new database connection 3 check out the client connectivity options 4
1 in content type builder create a number type and set as either float or decimal 2 add a new entry using either ff or safari enter a value with a decimal like version and hit submit
1 install strapi and quickstart 2 install graphql 3 use mutation as stated in strapi documentation see code snippets 4 look into
1 strapi new strapi this will install strapi beta 15 2 select mysql i have amazon rds free tier 3 cd strapi 4 npm install 5 do the migration from 15 to 16 following the official guide url bootstrap function in particular update from 15 to 16 these packages version beta 16 admin version beta 16 utils version beta plugin settings manager version plugin content type builder plugin content manager plugin graphql users permissions email upload hook bookshelf hook knex 6 modify config functions bootstrap js const doingnothing console log doing nothing module exports async await doingnothing 7 npm install 8 rm rf build 9 npm run build 10 npm run dev
1 create a content type names restaurant 2 go to roles permissions 3 check application permissions in any role you will see restaurant permissions 4 go in the content type builder and delete the restaurant content type 5 recreate a content type with the same name 5 recheck the role restaurant permissions don t exist
1 new strapi cms 2 install graphql 3 graphql query see code snippets 4 see response
1 create strapi project locallly with
1 create a model with a text field 2 create an object of that model which has some cyrillic unicode text in the field example title 3 run a rest request on model name q
1 add content data 2 delete content data with recycle button 3 lifecycle hooks afterdestory executed 4 in model attributes was an empty object
1 create a new content type book 2 add new policies isexecuted js to path api book config policies javascript use strict module exports async ctx next console log in policy await next 3 update api book config routes json json method post path books handler book create config policies isexecuted 2 add new in admin panel 3 policies isexecuted not executed
i update each plugins except strapi plugin graphql in package json and run yarn in the console all seams to work perfectly but when i try to update strapi plugin graphql the console exit with code 1
1 go to content type builder 2 click on an existing content type with at least one number type field 3 click the edit icon on a number field 4 go to advanced 5 check minimum value 6 try to enter a minimum value of 0 steps 2 and 3 can be replaced with adding a new number field to an existing content type or by creating a new content and creating new number field
1 strapi new heroku dashboard choose your installation type custom manual settings choose your default database client mongo database name heroku dashboard host version srv connection true port it will be ignored if you enable srv 27017 username password authentication database maybe admin or blank enable ssl connection no
1 change the favicon path settings at config application json like suggested here url application 2 watch nothing change or 1 replace the favicon ico in any folder 2 watch nothing change
1 query the user model with the below graphql query 2 you should get an empty result
1 create a new mongo cluster 2 install a new strapi application with a mongodb database 3 start strapi for the first time
1 create 2 content types one parent and one child in my case it was one to many relation 2 create many child models 1k 3 make sure child is displayed for parent s edit page 4 try to edit parent entry 5 see how it stuck
1 npm install strapi provider upload cloudinary 2 view version of strapi provider upload cloudinary in package json
1 create model with json fields 2 create entry with some json data 3 update created entry important do this through generated api not through admin panel 3 look at the response
1 create a project 2 npm run develop
1 create new content type news 2 add date field don t make it required by default 3 create a new news page without filling date field and save it in database mysql in my case this field would be empty 4 try to add code from
1 create content type blog 2 create field title 3 create 2 3 entries for type 4 get request for blogs q query 5 all entries is returned no matter what the query matches
1 add new user name it server 2 add new role name it also server 3 server role disappears
1 go to url 2 click on add new user 3 create the user by adding username and password and checking confirmed 4 add the role authenticated 5 wait for server to restart 6 then logout of the admin panel and try to log in with the credentials you created 7 receive an error screenshot from 2019 08 03 19 50 22 url
1 make new project with strapi beta 14 2 create user in admin ui 3 try to update user in admin ui 4 see error
1 go to 2 click on 3 scroll down to 4 see error
1 go to strapi cli 2 run strapi generate model category api product to generate new model inside existing product api
1 create a model a with string field called value 2 add an entry in this model 2 create another model b which has a one way relation with the previous one 3 and an entry in this model and set a value for the related 4 try to save 5 an error should appear on top of the page and error error invalid input syntax for integer should appear in the logs
1 go to create entry with date field 2 do not fill date field 3 save 4 check created entry
1 download and run the login react url example 2 download strapi 3 create a facebook login app 3 add the facebook redirect uri configuration to environments development server json 4 create a tunnel to localhost 1337 5 strapi build then strapi start 6 in the strapi dashboard roles permissions facebook enter the client id secret and redirect url to front end app in this case with create react app is url 7 configure facebook app so that url is specified as a valid oauth redirect 8 click button to connect you should be redirect but on inspection of uri is still
1 environment is development database is sqlite 3 2 enable email confirmation 3 register and open confirmation url in email 4 call login api 5 got your account email is not confirmed
following this step url sqlite installation i installed strapi using strapi new my project selecting custom manual settings connected to mongodb atlas i am able to create content type builder but not able to add new content it goes infinite loop
1 create a model with a boolean value 2 attempt to create an entry 3 see error in strapi terminal console note it appears this does not affect data sent over rest or graphql as you can see in the example provided from postman
1 install strapi like normally 2 run it 3 go to url 4 press start the quick start tutorial 5 see 500 internal server error error on the page
follow the document to activate provider for google social sign in then go to url
1 query a content types relationship with variable in a nested filter 2 compare the results to the same query entering the string directly in the filter
1 upgrade to beta 6 from alpha version 2 click on content manager and attempt to edit certain component
1 go to url 2 type the following graphql query 3 click play 4 see error the query is query user id 1 id username orders id address city created at dishes returns errors message forbidden locations line 2 column 3 path user extensions code internal server error exception data null isboom true isserver false output statuscode 403 payload statuscode 403 error forbidden message forbidden headers message forbidden stacktrace error at handleerrors c users code strapi beta auctionbackend ode modules strapi plugin users permissions config policies permissions js 116 54 at module exports c users code strapi beta auctionbackend ode modules strapi plugin users permissions config policies permissions js 100 12 data user null
1 mongo dump a strapi database after set permissions on public 2 mongo restore on another database 3 create new strapi on this new database 4 look permissions on new strapi they are empty but in database the entries are in the right document
1 use strapi dev
1 create a model in content type builder 2 make every action public on this model 3 launch a find query on this model adding an authorization header with random content using postman curl 4 see result json statuscode 401 error unauthorized message invalid token
1 go to strapi admin 2 go to files upload 3 drag and drop or browse and select file greater than 2mb 4 wait for upload to fail and see error
1 the content must have json fields 2 now using nodejs or any other language get the authentication token 3 now send a post to the content that was created typescript axios method post url api url data json stringify data headers accept application json content type application json charset utf 8 authorization bearer token then console log catch console error
1 steps descibed in this article url 2 when i run git push heroku master the deployment fails with the error installing any new modules package json npm err path tmp build node modules strapi npm err code enoent npm err errno 2 npm err syscall access enoent enoent no such file or directory access tmp build node modules strapi enoent this is related to not being able to find a file a complete log of this run can be found in tmp npmcache lctz1 logs 2019 06 19t09 22 47 655z debug log build failed
1 go to 2 click on 3 scroll down to 4 see error
1 go to url 2 click on connection name and write something with spaces 3 click on save button 4 see error in a console
1 create a new strapi version beta 5 project with mongoose 2 add a user document 3 create an api for the post collection with the following fields title string author has relation towards user 4 uncomment afterfetchall of post and put a console log results inside 5 add a post document 6 perform get request on posts or posts title something 7 perform get request on posts author username something
1 go to marketplace 2 click on download of roles and permissions 3 admin panel goes to infinite loading after server restart 4 see error unhandled promise rejection in browser console
1 add a new custom route 2 admin plugins users permissions roles 3 click on public 4 check the box next to the newly created route 5 try to access the route in the browser
1 write some custom graphql schema 2 start the project 3 use the custom query mutation 4 see error
1 create many to many relation between two entities relation table is created as expected 2 shut down strapi 3 start up strapi again error message from above if i remove the relation table ii am able to start up strapi again the relations is then of course lost between the entities
follow the steps of the contributing guide url 1 git clone url 2 cd strapi 3 yarn setup 4 strapi v
strapi welcome page opens without any issues however when i try to go to admin page i see a blank page
setup ec2 t2 micro setup a new strapi project try to build build freezes at 91 once at 91 the machine eats up all the memory from approx 30 of 1gb before 90 machine crashes after 20 min
1 follow the url aggregation grouping 2 both nb likes is 10 data postsconnection groupby published key true connection aggregate avg nb likes 10 key false connection aggregate avg nb likes 10 should be 0 groupby not works
1 create an embedsmany relation where the embedded model has a composite id as described by url composite ids 2 add an array of embedded objects where one e g the first of the id properties is a duplicate but other id properties is not a duplicate
i was following this tutorial introduction to loopback using it with sqlite3 url these are the steps in short 1 npm install loopback connector sqlite3 save 2 create datasource file 3 lb datasource 4 modified datasources json 5 modified model config json 6 npm i g loopback migration tool 7 lb migration migrate ds db sqliteds 8 make a post request in api explorer insert a new coffeshop 9 reload browser now when i start lb with npm start lb is showing an error this was not the case with the in memory database
create a hasmany relation like this type hasmany properties type type options invertproperties true
insert anything from any model then console log the ctx parameter from after save hook
repl showing the issue url against version alpha 2 same repl working url version aplha 1 same repl working url against version
1 go to url 2 add a line like import leftpad to the default script tag 3 click the icon for download zip file
in svelte button id yyy yyy button in window load event handler in index html or onmount document getelementbyid yyy focus focus the button
url html script tlet props t ttype text t tlet value foo tlet disabled false tlet readonly false script div texample a attribute is readonly false br t input props bind value disabled readonly div div texample b the readonly attribute is omitted br t input type text bind value disabled div
repl 1 with bug url repl 2 working without slot default url
svelte script timport foo bar from baz script
with local variables it works as expected url s1 subscribe swap s1 unsubscribe s2 subscribe swap s2 unsubscribe s1 subscribe with a component prop it does not url s1 subscribe swap unsubscribe s2 if h1 outer s s h1 is commented out no unsubscribe occurs when the button is clicked extra statements appear in the console when editing the code when the old component is unmounted
url 1 create a store 2 subscribe to it in component a 3 create an element with out fade in component a 4 destroy component a and trigger store update before the animation has completed result component never got destroyed
navigate to url and click on the reset buttons
create a subcom svelte and add this code html p bar p script export let foo const bar foo export let baz script now in app svelte add this code html h1 syntax related error h1 subcom foo baz script import subcom from subcom svelte t const foo bar 1 const baz script you should see the error to fix the error just change svelte to html p bar p export let baz export let const
check link in example url
repl produce the same
just run something written with svelte on a ios 9 device if you can t find one you can try it out on xcode iphone simulator just as i did
compile the above and look at the invalid code that s generated
url remove debug it compiles properly remove the inner loop and it compiles properly debug is not at fault here because in my project the index is no longer passed onto nested loops which breaks my code
there are comments in the example repl url javascript script dispatcher filter calls the update method at items import items dispatcher from store js let searchquery bound to the input field in this sequence reactivity does not work list items filter item item active dispatcher filter searchquery set after list it works well in this sequence dispatcher filter searchquery set before list list items item item active script input type text bind value searchquery placeholder each as p name p else p no data to display p each
url see ssr js output
bundle any svelte app with rollup version
try creating a component lib one output contains generate ssr while client output hydratable true and import the lib into your sapper project component lib s package json main points to the ssr lib while browser points to client output
url or try 1 1 in your code
url in the repl 1 is an example of this bug 2 is an example showing how if the component is transitioned out completely then the slot is updated properly
url there is a comment in the fieldset svelte component indicating how to remove the props from being adding props to the component removing that will make reactivity work again to see it work properly you can set this to version version
script let toggle false function toggleme if toggle toggle console log toggle else console log script button on click toggleme click button span class text red blue text span
i ve setup a couple repls to help reproduce and hopefully help come up with a solution here s the original version test on mobile safari and you should see a black rectangle instead of the gradient url here s a trimmed down one without the svg animation just in case it get s distracting and to show that it s not part of the issue url here another that i tried to create svg outside of svelte element creation as test url last here it working just using vanilla js and svg el same link in expected behavior url
check out this minimal repl url in safari version select the input control in the middle and make any sort of edit notice how the cursor jumps to the end of input control
i was unable to reproduce this in the repl i assume it doesn t support dynamic imports so here is a repro repository url just run yarn build yarn start and then open up the webpage and attempt to click the button it will switch the to be imported component from child1 to child2 both of which dynamically import subchild
reproducible in repl script const arr 1 2 3 script div t each arr as item item t t item t each div this error can be worked around by passing arguments into the iffe script const arr 1 2 3 script div each arr as item each div
repl url on removing the curly braces svelte will correctly invalidate the array
1 go to url 2 click the three things it tells you to click 3 see that the blue and purple if and else parts of the if else in app svelte are both showing if you remove transition slide from scaffold svelte the problem is no longer there
1 create new node project npm init y at empty folder 2 install svelte and tyepscript npm i d svelte typescript 3 configure typescript json t compileroptions t t target es2016 t module commonjs outdir build noemitonerror true noimplicitany true files test ts 4 create test ts with the following import import as svelte from svelte compiler 5 run npx tsc
with meteor url with rollup url
can be reproduced in repl script tlet name world tlet something texport let prop something 1 script h1 hello name h1 you get the todo this should not happen message at repl bottom i was actually using rollup and preprocessed svelte files with babel to get optional chaining syntax support i got this todo error when i wrote something like export let x a b i eventually discovered that the optional chaining will transpile into code with in expression assignments the assignment is what actually killed svelte compiler
repl url clicking the refactoredbutton causes the internal state of refactoredbutton and value to go out of sync
repl repro url open that repl link switch to the js output tab and switch from dom to ssr mode to see the issue js const app create ssr component result props bindings slots tlet style tlet style readable foo style get store value style t get store value treturn escape
simple reflection of props fails in version url
repl url obviously there are more suitable effective patterns that could be used to implement this trivial example but it s intent is only to distill what i encountered in a more complicated scenario
working url broken url
i created a small repo to test as the repl site doesn t allow compiling to web components url please see the readme
svelte script tlet name world tlet toggle false script input type checkbox bind checked toggle h1 data foo toggle name null hello name h1
have a component with the the html for a paypal donate button it will always generate the error when you compile but since it s a warning i still get the processed files okay if you can demonstrate bug using url please do if that s not possible we recommend creating a small repo that illustrates problem reproductions should be small self contained correct examples xa8c url occasionally this won t be possible and that s fine xa8c we still appreciate you raising issue but please understand that svelte is run by unpaid volunteers in their free time and issues follow these instructions will get fixed faster
icon component html svg width height viewbox 0 0 width height xmlns url aria hidden true focusable false stroke linecap round stroke linejoin round stroke width strokewidth stroke fill slot slot svg
i could not find a smaller way to replicate this if you click on the component a b c tabs you ll see that when navigating from comonent c to components a or b the tab selection does not always update even though the tab content does url
v version it s smooth url v version it s glitchy url note that it doesn t matter which child has the transition on it s always going to be the last child glitching out
steps to reproduce the behavior 1 open swagger editor site 2 paste in provided openapi spec from this ticket 3 click to unfold the get pet endpoint in live preview 4 see error in editor and wrong example in live preview
steps to reproduce the behavior 1 go to editor swagger io 2 add a dictionary with examples to a component schema 3 look at render 4 see no examples in the schemas section
implement a parametermacro when using an openapi version spec notice the function fires but it does nothing
steps to reproduce the behavior run chrome accessibility assessment or siteimprove extension see below screenshots for details
1 create a path with a parameter in it such as api collection id 2 put a parameters object directly under that path 3 place the path parameter in the parameters object 4 do not place a path parameter in the operation
steps to reproduce the behavior 1 set a securityscheme like in the standard example 2 click on authorize 3 the description is not visible and this text is always displayed scopes are used to grant an application different levels of access to data on behalf of the end user each api may declare one or more scopes api requires following scopes select which ones you want to grant swagger ui same behavior if you don t set any scopes
steps to reproduce the behavior 1 in your swagger ui configuration import swagger ui as swaggerui 2 add swaggerui plugins topbar to your plugin configuration 3 use a layout that includes topbar 4 load your swagger ui website
steps to reproduce the behavior 1 create an openapi spec with some errors in it 2 load that spec using the swagger ui 3 observe error messages flash at the top of the page and disappear
steps to reproduce the behavior 1 try to expand pstate classes purchaseorder objects query
steps to reproduce the behavior 1 view a document with an operation that a has a very long path and b has a non empty summary or summary with single very long word like namespace 2 note the squished appearance of the operation summary or the path see screenshot it looks worse longer operation summary is
steps to reproduce the behavior 1 go to any post operation 2 click on try it out 3 type in the request body field 4 the ui will hang for a while for each keystroke the more keystrokes longer
see the screenshots below for examples repo url steps to reproduce the behavior with redux dev tools 1 clone the linked repo and run the app 2 have redux dev tools installed and look at swagger ui state 3 click toggle swagger ui button a couple of times 4 look at swagger ui state in redux dev tools note that there are now n instances of swagger ui redux state where n is number of times toggle button was clicked steps to reproduce behavior with chrome dev tools 1 clone linked repo and run app 2 take a memory snapshot before clicking anything on app page 3 click toggle button a couple of times 4 take another memory snapshot 5 note increase in memory use
steps to reproduce the behavior 1 i pasted the yaml to url 2 see the example value section 3 date example is displayed incorrectly as empty js object
steps to reproduce the behavior 1 use content as stated in url yaml parameters in query name filter content application json media type indicates how to serialize deserialize the parameter content schema type object properties type type string color string complete yaml above 2 see error when rendering in swagger ui could not render parameterrow see the console 3 console output root injects js 95 typeerror cannot read property get of undefined at t value parameter row jsx 145 at t render root injects js 93 at s reactcompositecomponent js 796 at s rendervalidatedcomponent reactcompositecomponent js 819 s performinitialmount reactcompositecomponent 359 s mountcomponent reactcompositecomponent 255 object mountcomponent reactreconciler 43 x mountchildren reactmultichild 234 x createinitialchildren reactdomcomponent 701 x mountcomponent reactdomcomponent 520
create a new angular project then do npm install swagger ui and add code to the app component ts typescript import swaggerui from swagger ui component selector app root templateurl app component html styleurls app component sass export class appcomponent implements oninit ngoninit swaggerui dom id swagger ui urls url any proper url name api name then run npm start and you will get an error
steps to reproduce the behavior 1 go to url 2 click on users 3 see error
steps to reproduce the behavior 1 go to url 2 enter the swagger above 3 expand anything you will until you reach the definition of a under the models check that you see no error in your console or top of document 3 now expand a in models list 4 scroll top and you ll see 4 time error resolver error cannot read property 0 of undefined
steps to reproduce the behavior 1 go to url 2 click on load swagger 3 click on it again 4 see error
steps to reproduce the behavior 1 go to foo try it out 2 click on wrongoption 3 select correctoption 4 click on execute 4 see request url
1 open url 2 edit the get path pet petid to allow enums instead of input full file here swagger bug txt url 3 try out by selecting id 1 and executing correct result 4 change enum value to id 2 and execute still trying to get id 1
steps to reproduce the behavior 1 enter a description with a linebreak 2 render with swaggerui
steps to reproduce the behavior 1 go to orders and expand 2 click on try it out 3 api version parameter is version it s correct 4 select a spec v1 5 go to orders the api version parameter default value shown version which is correct 5 click on try it out 6 api parameter is which is incorrect
steps to reproduce the behavior 1 go to create a swagger and have the two fields i provide as examples 4 when teh ui vaildation triggers yo ll see the error message for 2 above
import numpy as np import tensorflow as tf class mymodel tf keras model def init self super mymodel self init self dense tf keras layers dense 4 def call self inputs training false print training training return dense inputs class gen tf keras utils sequence def len return 10 def getitem i return np ones 32 100 np ones 32 4 model mymodel model compile optimizer train adagradoptimizer version loss categorical crossentropy metrics accuracy training should be false model build input shape 32 100 should be true fit generator generator gen epochs 1 validation data gen
python import os import shutil import tensorflow as tf class model tf keras layers layer def init self vocabulary path super model self init initializer tf lookup textfileinitializer vocabulary path tf string lookup textfileindex whole line int64 lookup textfileindex line number self table lookup staticvocabularytable initializer num oov buckets 1 self table statichashtable initializer 0 def call tokens return table tokens function input signature tensorspec none dtype string def serve tokens return tokens vocabulary path tmp vocab txt with open vocabulary path w as file file write a b c model model export dir tmp if os exists export dir shutil rmtree export dir saved save export dir signatures serve assets os listdir os join assets assert len assets 1
run the python test tensorflow python kernel tests bincount op test py
python from tensorflow keras layers import input dense i input shape 1 sparse true o dense 1 i
the assertions below all pass the second and third assertion the not assertions would be expected to fail python x1 tf nn relu np nan x2 tf nn relu np nan tf random normal shape x3 tf nn relu variable np nan with device cpu 0 x1 cpu nn relu np nan x2 cpu random normal shape x3 cpu variable with session as sess sess run global variables initializer assert all isnan sess run x1 assert not any isnan sess run x2 should fail but does not assert not any isnan run x3 should fail but does assert all allclose x2 version all allclose x3 version isnan x1
import sys import os import tensorflow as tf import gc time class inceptionv3graph def init self graph path with tf gfile fastgfile graph path rb as f graph def tf graphdef graph def parsefromstring f read tf def name self sess session get default close self reset default gc collect self sess close if name main path path to classify image pb you can get classify image pb from url n graphs 100 graphs dict for i in range n graphs print loading format i 1 graphs i inceptionv3graph if you uncomment these two lines below there won t be any the memory leak i close del for in range n print unloading format 1 if in close del print gc collect print all unloaded time sleep 120 quitting
provide a reproducible test case that is the bare minimum necessary to generate the problem
import tensorflow as tf x 2 m tf matmul x x
i have created a minimum example out of my model in google colab url
python import tensorflow as tf import numpy as np inp tf keras layers input shape 1 out0 tf cast inp tf int32 out1 cast inp float64 model keras model inputs inp outputs out0 out1 model compile loss model output names 1 losses mse evaluate np ones 1 1 dtype np float32 output names np ones dtype float32 this results in the error typeerror value passed to parameter x has datatype int32 not in list of allowed values float16 float32 float64 complex64 complex128
provide a reproducible test case that is the bare minimum necessary to generate the problem see above
a input shape none 10 attn attention a a model model a attn model np zeros 50 10 dtype np float32 model save my h5
python import numpy as np import tensorflow as tf from tensorflow python keras layers import dense from tensorflow python keras models import sequential from tensorflow python keras optimizers adam model sequential dense 24 input dim 4 activation relu dense 24 activation relu dense 2 activation linear model compile loss mse optimizer adam lr version x np array version version version y np array model fit x y here is the colab link url
a example here python model tf keras model inputs input layer outputs output layer1 output layer2 model compile optimizer optimizer builder build config optimizer loss output layer1 sparse categorical crossentropy output layer2 sparse categorical crossentropy metrics layer1 accuracy layer2 accuracy estimator tf keras estimator model to estimator keras config run config train spec tf estimator trainspec input fn lambda train input fn config eval spec tf evalspec input fn lambda eval fn train and evaluate train spec eval spec only evaluate one and don t know which it evaluate
a example here python model tf keras model inputs input layer outputs output layer1 output layer2 def accuracy y true y pred y pred y true reshape keras tensor pred true acc tf reduce mean tf cast tf equal cast true int64 argmax input pred axis 1 float32 where i summary without this line it will not summary anything during training summary scalar train acc return acc def total loss reshape keras tensor loss nn sparse softmax cross entropy with logits labels logits loss reduce mean cross entropy where i summary without this line it will not anything during training scalar train loss return model compile optimizer optimizer builder build config optimizer output layer1 total metrics output layer1 accuracy estimator keras estimator model to estimator config run config train spec estimator trainspec input fn lambda train input fn config eval spec evalspec fn lambda eval fn and evaluate spec eval spec
the code below should not raise the assertionerror python import tensorflow as tf class cellwrapper tf keras layers abstractrnncell def init self cell super cellwrapper self init self cell cell property def state size self return cell state size property def output size return output size def get initial state inputs none batch none dtype none return get initial state inputs inputs batch batch dtype dtype call inputs states training none
python import tensorflow as tf inputs tf placeholder tf float32 3 4 5 mask tf placeholder bool 3 4 single cells keras layer lstmcell 10 for in range 3 multi cell keras layers stackedrnncell cells single cells lstm keras layers rnn cell multi cell unroll true output state lstm inputs inputs mask mask assertion error occurs here
provide a reproducible test case that is the bare minimum necessary to generate the problem
python import tensorflow as tf from tensorflow python keras import backend layers input backend clear session from tensorflow contrib integrate import odeint x input shape 10 l0 layers dense units 10 l0 build x shape this line is necessary only to make call work def ode func h t ode params return l0 h l0 call h avoids the error which is hacky ts tf constant 0 1 dtype tf float64 h ts odeint ode func x ts
provide a reproducible test case that is the bare minimum necessary to generate the problem python usr bin python3 import tensorflow as tf a tf constant 1 b tf constant 2 c tf constant 3 d keras layers add a b c
partially copied from url python from future import absolute import division print function import numpy as np import tensorflow as tf tf enable eager execution tf enable eager execution print tf version data np random normal 0 1 1 10 2 astype np float32 rnn keras layers gru units 10 dropout version recurrent dropout version print set rnn data training true numpy 0 0 for in range 5 rnn cell keras layers grucell units 10 dropout version recurrent dropout rnn keras layers cell print set data training true numpy 0 for in range 5 output warning tensorflow from check py 5 the name enable eager execution is deprecated please use compat v1 enable eager execution instead rc0 different mask was used for each call same mask was used for each call
the maven setting dependency groupid org tensorflow groupid artifactid tensorflow artifactid version version version dependency import org tensorflow savedmodelbundle import org tensorflow tensor public static void main string args string dir xxx model path savedmodelbundle savedmodelbundle load dir serve
throw an indexerror in this call url l461 and make sure the if statement url l467 is not entered i wish i had a portable example for you but i m not quite sure why my code triggering this path and i don t have much time to investigate the root cause but can confirm that is an error that have encountered naturally it isn t just hypothetical
note this code is copied from url rnns with listdict inputs or nested inputs with the exception that i changed the line rnn tf keras layers rnn cell to rnn tf keras layers rnn cell stateful true python import collections import tensorflow as tf nestedinput collections namedtuple nestedinput feature1 feature2 nestedstate collections namedtuple nestedstate state1 state2 class nestedcell tf keras layers layer def init self unit 1 unit 2 unit 3
provide a reproducible test case that is the bare minimum necessary to generate the problem python3 import tensorflow as tf rows 6 columns 7 model tf keras sequential tf keras layers flatten input shape rows columns 3 tf keras layers dense 7 input shape rows columns 3 model compile optimizer keras optimizers sgd lr version loss mean squared error metrics accuracy states 1 rows columns for i in range 20 for iteration in range print iteration iteration model predict one hot states dtype float32 depth 3 the aforementioned code runs in an image generated by the following dockerfile dockerfile from centos 7 env source directory tmp connect4 env python version version run yum y groupinstall y development tools yum y update yum y install openssl devel zlib devel libffi libffi devel wget wget url tar xjf python python version tar xz cd python configure make make install pip3 install upgrade pip pip3 install tensorflow rc1 tensorflow probability rc0 numpy falcon jsonschema
file tflite one hot bug v2 py import tensorflow as tf import numpy as np tf function input signature tf tensorspec shape 10 10 dtype tf int32 name inp0 def model inp0 res reshape inp0 100 res one hot res depth 10 print res shape return def run def representative dataset gen for i in range 10 yield np random random integers 0 9 size astype int32 cfunc model get concrete function converter lite tfliteconverter from concrete functions cfunc converter representative dataset representative dataset gen converter optimizations lite optimize default tflite model converter convert model file tmp tflite one hot bug v2 tflite open file wb write interpreter lite interpreter path file interpreter allocate tensors if name main run
python elif pretrain cfg schedule pretrainschedule converge linearly a tf minimum tf constant version dtype tf float64 shape 1 global step max pretrain steps b tf maximum constant version dtype float64 shape 1 1 global step max pretrain steps weights a const task weights b pretrain task weights return data experimental sample from datasets datasets weights the following setup works in comparison python if cfg schedule pretrainschedule constant cond greater global step max steps true fn lambda const task false fn lambda task
python tensorflow contrib distributions python kernel tests independent test py
from the example python import tensorflow compat v2 as tf tf enable v2 behavior with tf gradienttape as g x tf constant version version g watch x y x x jacobian g jacobian y
import tensorflow as tf import numpy as np class example tf keras layers layer def init self
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf tf function def generate feature key if key tf constant 1 x tf random uniform shape minval version maxval version y random uniform shape minval version maxval version else x random uniform shape minval maxval y random uniform shape minval maxval x math sign abs x y math sign abs y return stack def generate feature and label key feature generate feature key if 1 label constant 1 else label constant 0 return label def dataset map py function func and inp tout float32 int32 ensure 2 ensure return if name main print remove function decorator or enable run functions eagerly to run successfully config experimental run functions eagerly true keys list range 1000 1000 dataset data dataset from tensor slices keys dataset repeat shuffle buffer size len keys map map func map num parallel calls data experimental autotune batch 4 it iter while true features labels next it print f labels labels features features input press any to continue
python import tensorflow as tf tf enable eager execution idxs tf constant 1 0 1 1 4 2 dtype tf int64 values constant 12 42 a sparse sparsetensor idxs values 8 42000 40000 sparse reshape a 8 40000 42000 output traceback most recent call last file stdin line 1 in module file c users thomasoerkild anaconda3 envs gpu lib site packages tensorflow python ops sparse ops py line 769 in sparse reshape reshaped size valueerror cannot reshape a tensor with elements to shape 8 40000 42000 elements
python import numpy as np import tensorflow as tf import os print tf version class convbn2d tf keras model def init self c out kernel size 3 super init self conv tf keras layers conv2d filters c out kernel size kernel size strides 1 padding same use bias false self bn keras layers batchnormalization momentum version epsilon 1e 7 def call self inputs res nn relu bn conv inputs return res class fnet keras model def init start kernels 64 weight version
import os import numpy as np import tensorflow as tf import tensorflow keras as keras batch size 4 class simplemodel keras model def init self super simplemodel self init self layer keras layers dense 1 def call self inputs learning phase backend learning phase inputs tf print inputs tf constant learning phase shape ndims looking at the ndims says this is a salar summarize batch size inputs tf print learning phase but this is not a scalar summarize batch size print reduce any even reduce any does not create a scalar summarize batch size return layer def get dataset num batches 16 num features 5 np random random num batches num features labels np random random batches sample weights np batches version astype float32 dataset data dataset from tensor slices labels sample weights return dataset take 1 if name main logging set verbosity logging error os environ cpp min log level 3 print version model simplemodel optimizer optimizers sgd rate version loss losses binarycrossentropy from logits true model compile optimizer loss model fit get verbose 0
std unique ptr tensorflow session session tensorflow sessionoptions options tensorflow configproto config options config int corestouse 1 if corestouse 0 t tconfig set use per session threads false t tconfig set inter op parallelism threads corestouse config set intra op parallelism threads corestouse t status tensorflow newsession options session metagraphdef graph def readbinaryproto env default metamodel path graph def create graph def graph def run model
import tensorflow as tf tf enable eager execution ds tf data dataset range 10 window size tf constant 3 def mapper idx test idx window size return test ds ds map mapper the same issue happens when i add or multiply but not divide when dividing with this mapper def mapper idx test idx window size return test i get typeerror x and y must have the same dtype got int64 int32 then i ve tried casting window size to int64 constant 3 dtype int64 and that fixed the issue in all cases
build concat model x1 tf keras input 5 x2 tf keras input 6 y tf concat x1 x2 axis 1 concat model tf keras model inputs x1 x2 outputs y generate inputs x1 np random random size 2 5 x2 np random random size 2 6 assert dtype float64 assert dtype float64 run model y concat exception happens here
here is an example url there are 2 cases shown first i show that keras model with sequence features is working see model fit generator and then i show that conversion to estimator fails
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf import numpy as np class randommaskingnoalter tf keras layers layer def call self inputs return inputs def compute mask self inputs mask none print no alter executed if mask is none return none random mask tf cast tf random uniform shape 0 1 dtype int32 bool return math logical and random class randommaskingalter keras layers layer def call self inputs return 0 def compute self none print alter executed if is random cast uniform shape 0 1 dtype int32 bool math logical and x np array 1 4 2 2 0 1 3 2 2 3 4 dtype i4 y keras layers embedding 5 5 zero true x z1 randommaskingnoalter x z2 randommaskingnoalter y z3 randommaskingalter x z4 randommaskingalter y
provide a reproducible test case that is the bare minimum necessary to generate the problem python sequential input shape 64 64 3 dtype np float32 layernormalization axis 3 2 1
import tensorflow as tf from tensorflow import keras from tensorflow keras import backend as k import numpy as np input size 4 batch size 1 output size 2 define a model without any state initialization input layer keras input shape none input size batch batch rnn layer keras layers gru units output return sequences true stateful true layer model model layer rnn model compile optimizer optimizers rmsprop loss mse test np full batch 1 version this generates different predictions for the two time steps as expected reset states print predict test print predict test version version version this generates the same prediction after resetting the state expected reset states print predict test reset states print predict define a with a constant state initialization shape none initial state k constant np ones output shape 1 output rnn layers gru units return sequences true stateful true initial initial rnn compile optimizer optimizers rmsprop loss mse this generates the same prediction for two time steps not expected reset states this generates same prediction after resetting expected
python import tensorflow as tf mnist tf keras datasets fashion mnist training images training labels test images test labels mnist load data training images training images version test test version model tf keras models sequential tf keras layers flatten keras layers dense 128 activation nn relu layers dense 10 activation nn softmax model compile optimizer adam loss sparse categorical crossentropy metrics accuracy model fit labels epochs 5 loss model evaluate labels
1 put downloaded cifar 10 batches py to keras datasets 2 code import tensorflow as tf train images train labels tf keras datasets cifar10 load data
provide a reproducible test case that is the bare minimum necessary to generate the problem see above
provide a reproducible test case that is the bare minimum necessary to generate the problem indices1 tf constant 4 3 1 7 updates1 tf constant 9 10 11 12 indices2 tf constant 4 3 1 7 7 updates2 tf constant 9 10 11 12 12 indices3 4 3 1 7 updates3 9 10 11 12 shape 8 scatter1 scatter nd indices1 updates1 shape scatter2 scatter nd indices2 updates2 shape scatter3 scatter nd indices3 updates3 shape print scatter1 print scatter2 print scatter3
import tensorflow as tf import numpy as np from tqdm import tqdm from memory profiler import profile data array np random random sample 1 1024 tf array tf constant data array dtype tf float32 input keras input 1 1024 hidden layer keras layers dense 1024 input output keras layers dense 1 hidden layer model keras model inputs input outputs output pred model array print pred profile def func export path temp export saved model save export path imported saved load export path for i in tqdm range total func
s hello world tf strings regex replace s r r t external com googlesource code re2 re2 re2 cc 925 invalid rewrite pattern t tf tensor id 4 shape dtype string numpy b helloworld
import os import datetime import tensorflow as tf import numpy as np os environ cuda device order pci bus id os environ cuda visible devices 1 def main dp train tf placeholder tf float32 shape 41 300 300 1 dp tf complex dp train version dp fft abs signal fft2d w get variable w conv 1 1 not important just want to make the training process to run cost train reduce mean nn conv2d fft w strides padding same opt train adamoptimizer 1e 4 update ops get collection graphkeys update ops with control dependencies update ops op opt minimize cost var list vars digital with session as sess sess run global variables initializer sess run local variables initializer coord coordinator threads start queue runners sess coord coord for i in range 0 5000 data np random rand 41 300 300 run op feed dict data if i 100 0 old time datetime datetime now print old time coord request stop join threads if name main app
url ng url head ok url head git checkout f bug make input data h make hello world ng git checkout head make hello world ok
provide a reproducible test case that is the bare minimum necessary to generate the problem link to tensorflow model url link to the generated tflite model url code used to generate tflite file from tensorflow model import tensorflow as tf graph def file single layer pb input arrays s output arrays conv relu output file single layer tflite converter tf lite tfliteconverter from frozen graph graph def file input arrays output arrays tflite model converter convert open output wb write i used netron visualise the pb and graph link url
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf inputs outputs x tf keras layers input shape 10 batch size 1 name input1 inputs append x x tf keras layers dense 10 name dense1 x outputs append tf keras layers dense 10 name dense2 outputs append model keras model inputs inputs outputs model summary model 1 layer type output shape param input1 inputlayer 1 10 0 dense1 dense 1 110 dense2 dense 110 total params 220 trainable params 220 non trainable params 0 tensor dense1 identity 0 shape dtype float32 tensor dense2 identity 0 shape dtype float32 convert and save the converter lite tfliteconverter from tflite converter convert open save simple tflite wb write tflite load tflite and allocate tensors interpreter lite interpreter path save simple interpreter allocate tensors get input and output tensors input details interpreter get input details output details get output details name identity index array dtype int32 dtype numpy float32 quantization version identity index array int32 numpy float32 quantization version
using the dcgan tutorial url and modifying it to include a summary writer load the tensorboard notebook extension load ext tensorboard logs base dir logs os makedirs logs base dir exist ok true summary writer tf summary create file writer logs base dir tensorboard logdir base dir and adding scalar logging to the training step function tf function def train step images step noise tf random normal batch size noise dim with tf gradienttape as gen tape gradienttape as disc tape generated images generator noise training true real output discriminator images training true fake output discriminator generated images training true gen loss generator loss fake output disc real loss disc fake loss discriminator real output fake disc real new code here only summary scalar gen gen step scalar scalar total writer flush gradients of generator tape gradient generator trainable variables gradients of discriminator tape gradient trainable variables optimizer apply gradients zip gradients of trainable variables optimizer apply zip of trainable variables the average time per epoch running on google colab and on a windows 10 pc with 1080 ti is a lot longer when logging original configuration
provide a reproducible test case that is the bare minimum necessary to generate the problem
provide a reproducible test case that is the bare minimum necessary to generate the problem you can get the model from url after untar you ll see ssd mobilenet v2 coco 2018 03 29 frozen inference graph pb import tensorflow as tf input graph def tf graphdef with open ssd mobilenet v2 coco 2018 03 29 frozen inference graph pb rb as f input graph def parsefromstring f read out def tf util remove training nodes input def tf io write out fused pb as text false then you can review it in url
python usr bin env python import numpy as np import tensorflow as tf from tensorflow python keras import model from tensorflow python keras layers import layer class mylayer layer def init self
python import tensorflow as tf import time data tf variable initial value tf zeros 1 1000 1000 dataset tf data dataset from tensor slices data repeat 1000 weights variable initial value zeros 1000 result variable initial value zeros def py process for sample in dataset result assign add matmul sample weights return result function def process for sample in dataset result assign add matmul sample weights return function def gpu process for in with device device gpu 0 assign add matmul weights return t time time py process print py time t t print t gpu print gpu output py version version version
import tensorflow as tf with tf io gfile gfile test txt w as f f seek 0
import numpy as np from tensorflow keras import layers models shape 10 10 1 layer layers input shape model models model layer layer model compile loss mse data np zeros 0 shape model fit x data y data epochs 2 verbose 2
provide a reproducible test case that is the bare minimum necessary to generate the problem note you might have to run the code multiple times the error appeared in 3 out of 5 runs python import tensorflow as tf x tf constant version bool var tf get variable bool var initializer tf constant true trainable false dtype bool x copy var get variable x copy var x shape initializer zeros initializer trainable false def true func assign op copy assign set bool false assign false with control dependencies assign op set return copy cond cond true func lambda cond print cond sess session sess run global variables initializer sess run
see url and change the sample function as described
python import tensorflow as tf mirrored strategy tf distribute mirroredstrategy def get net net tf keras sequential net add tf keras layers conv2d filters 10 kernel size 3 3 net add keras layers dense 1 return data random normal shape 1280 112 112 3 label random normal shape 1280 multi db data dataset from tensor slices data label batch 80 dist dataset mirrored strategy experimental distribute dataset multi db with mirrored strategy scope get function def replica fn input d l input return d function def distribute train epoch dataset total result 0 for x in per replica result mirrored strategy experimental run v2 replica fn args x total result reduce distribute reduceop sum per replica result axis none return total for in range 100 f train epoch dist
provide a reproducible test case that is the bare minimum necessary to generate the problem
import tensorflow as tf with tf io gfile gfile test txt w as f f read
provide a reproducible test case that is the bare minimum necessary to generate the problem from future import absolute import division print function unicode literals install tensorflow try tensorflow version only exists in colab tensorflow version 2 x except exception pass import tensorflow as tf mnist tf keras datasets mnist x train y train x test y test mnist load data x train test train version version model tf keras models sequential tf keras layers flatten input shape 28 28 keras layers dense 128 activation relu layers dropout layers dense 10 activation softmax model compile optimizer adam loss sparse categorical crossentropy metrics accuracy model fit y epochs 1 model evaluate y
provide a reproducible test case that is the bare minimum necessary to generate the problem please find the source code url update my latest test case url stackoverflow rereference url
python import tensorflow as tf tf zeros 10 dtype tf bool
provide a reproducible test case that is the bare minimum necessary to generate the problem sample tf config of parameter server index and type varies for chief worker and evaluator on other tf configs tf config task type ps index 0 cluster chief machine2 2222 worker machine3 2223 machine4 2224 evaluator machine5 2225 ps machine1 2218
std unique ptr tensorflow session sess tensorflow sessionoptions sess options sess options config set use per session threads false sess options config set intra op parallelism threads 1 options config set inter op parallelism threads 1 reset tensorflow newsession tensorflow graphdef graph def auto default env env default readbinaryproto default env model path graph def create graph def run model
python import tensorflow as tf def cond i x return tf reduce all x 10 def body i x return i 1 x i tf keras layers input shape dtype tf float32 inc while loop cond body constant 0 dtype float32 the following fixes things inc keras layers lambda lambda while loop cond body constant 0 dtype float32 model keras model inputs outputs inc error occurs here
this code is active for all calls to predict this is for a commercial project we are trying to migrate from community keras to tensorflow keras it is a speed critical real time robotics application where the 30ms is enough to miss our hard deadlines if predict intended for production inference we feel this should be resolved in tensorflow keras if it only intended for use during training this should be noted in the mainline documentation along with a suggestion what intended production inference as a temporary workaround we disabled some of these function calls in local tensorflow fork and the performance regression went away as expected we took care make sure not profiling glitch excluded warmup time from the profile and average over number of samples
python tf function def test string value return tf io gfile exists value test string tf constant test the result in this case is typeerror expected binary or unicode string got tf tensor value 0 shape dtype string
i changed the current demo app to gpu experimental and i had to do some minor changes in the code to get the app running successfully on gpu to know which changes make i looked into the demo app version r version for object detection app i added gpu delegates changed ismodelquantized false and don t use isquantized anymore and use a self converted ssd mobilenet model because is currently written for quantized models using cpu and doesn have gpu delegates in original code wrote delegates as described in url android java converted model this way 31015 comment then applied same changes object detection as did current demo before by using knowledge of demo version r version current url r url object detection url
provide a reproducible test case that is the bare minimum necessary to generate the problem i use sample code in tensorflow version rc classify images
from tensorflow python keras layers import input dense from tensorflow python keras activations import sigmoid from tensorflow python keras models import model from tensorflow python keras losses import binarycrossentropy numpy as np x train np array 1000 y train 0 inp input x train shape 1 out dense 1 trainable false use bias false inp model model inp out model get layer dense set weights np array 1 compile optimizer adam loss binarycrossentropy logits true print logits true no activation fit x train y epochs 1 print prediction print predict x inp input shape out dense trainable false use bias false out sigmoid get layer set weights np array compile optimizer adam loss binarycrossentropy logits print logits separate sigmoid fit y epochs prediction predict input shape trainable use bias activation sigmoid get layer 2 set weights array compile optimizer adam loss binarycrossentropy in fit y epochs prediction predict output tf version true no activation 0s 17ms sample loss version prediction 1000 separate on samples 0s 15ms sample version in on samples 0s 17ms sample version output tf true no activation 0s 39ms sample 1000 separate 44ms in 57ms
use mnist py url and replace keras with tf keras
import os import tensorflow as tf import numpy as np os environ tf force gpu allow growth true def conv x filters kernel size strides 1 1 padding same initializer he normal c tf keras layers conv2d filters filters kernel size kernel size strides strides padding padding kernel initializer initializer use bias false x return c def conv bn x filters size strides 1 1 padding same initializer he normal bn gamma ones c conv x c bn tf keras layers batchnormalization gamma bn gamma return def conv relu same he normal gamma ones return keras layers activation relu def gap output output keras layers globalaveragepooling2d return my block output inter c1 relu inter c2 relu c1 inter 3 3 c3 c2 output zeros p add c3 activation p my block inc inter strides1x1 strides2x2 2 2 c1 strides1x1 c2 c1 3 3 strides2x2 c3 c2 zeros np multiply strides1x1 strides2x2 s shortcut p add c3 s activation p repeat blocks block delegate count
import os import tensorflow as tf import numpy as np os environ tf cpp min log level 2 a tf variable np array 0 1 2 print a you can see many i log using but with no logs
just enable enable op profiling true and use nnapi true flags when running the benchmark on any model is it not implemented yet
import numpy as np import tensorflow compat v2 as tf def dummy parse fn iterable features the input is always constant features sparse tensor tf sparsetensor indices tf constant 0 0 1 1 dtype tf int64 values constant version version dtype float32 dense shape constant 2 2 dtype int64 features sparse tensor indices features sparse tensor indices sparse tensor values values dense shape dense shape labels version version dtype float32 return labels def get dummy dataset iterable np random random 128 1 astype np float32 return data dataset from slices iterable map dummy parse fn take 1024 if name main print inputs keras layers input shape 2 true name weights variable name weights 2 1 initial value output dense matmul inputs weights model keras model inputs output optimizer keras optimizers sgd learning rate momentum nesterov true loss keras losses binarycrossentropy from logits true model compile optimizer optimizer loss loss metrics accuracy model fit get dummy dataset epochs
import numpy as np import tensorflow as tf def train generator while true sequence length np random randint 10 100 x train np random random 1000 sequence length 5 y train np random 1000 sequence length 2 yield x train y works as intended model tf keras models sequential model add tf keras layers lstm 32 return sequences true input shape none 5 model add tf keras layers lstm 8 return sequences true model add keras layers dense 2 compile optimizer adam loss mse fit generator generator steps per epoch 2 epochs 2 verbose 1 throws an exception class lstmmodel def init self super lstmmodel self init self lstm 0 layers lstm 32 return sequences true input shape none 5 self 1 8 return sequences dense dense def call inputs training false output 0 inputs output 1 output output dense lstmmodel compile optimizer adam loss mse fit generator steps per epoch epochs verbose 1
conversion was attempted with converter tf lite tfliteconverter from frozen graph graph def file inputs outputs converter representative dataset representative dataset gen converter target ops tf lite opsset tflite builtins int8 converter inference input type tf uint8 inference output type tf uint8 optimizations lite optimize default tflite model convert
import tensorflow as tf if name main session tf session image tf get variable name image shape 1 1 1 1 initializer tf constant initializer version session run global variables initializer kernel constant version shape dtype float32 conv out nn conv2d image kernel strides padding same max conv out math reduce max conv out axis 2 loss reduce sum max conv out opt train gradientdescentoptimizer learning rate version name sgd optimizer opt minimize loss var list image name sgd minimize for step in range 3 loss value session run loss optimizer print during step format step value
first create dummy data shell mkdir scratchpad cd scratchpad for i in 0 100 do touch i done then in ipython python import os import tensorflow as tf sess tf interactivesession tf global variables initializer run it tf data dataset list files os path join take 2 repeat none make one shot iterator get next sess run it for in range 12 the above works as expected with shuffling disabled python import os import tensorflow as sess interactivesession global variables initializer run it data dataset list files os path join shuffle false take 2 repeat none make one shot iterator get next sess run it for in range 12
running the following at the end of the notebook will reproduce the error python class featurecolumndsmodel tf keras models model def init self feature columns
import tensorflow as tf category tf constant a b a c c a label tf constant 1 0 1 0 0 0 ds tf data dataset from tensor slices category category label ds ds batch 2 fc category feature column indicator column feature column categorical column with vocabulary list vocabulary list a b c feature layer keras layers densefeatures fc model keras sequential feature layer keras layers dense 10 activation relu keras layers dense 1 activation sigmoid model compile optimizer adam loss binary crossentropy metrics accuracy model fit ds epochs 2 models save model
try to create a snippet
python import tensorflow as tf def merge strategy var var strategy extended reduce to tf distribute reduceop sum var var return 1 this does work return tf math add 1 this doesn t work def run return tf distribute get replica context merge call merge args strategy distribute mirroredstrategy cpu 0 cpu 1 with strategy scope variable 2 dtype float32 result experimental run v2 run args print result
this works import tensorflow as tf def check mask inputs mask none assert mask is not none return inputs model tf keras models sequential tf keras layers masking 0 input shape 1 tf keras layers lambda check mask this fails due to failed assert import tensorflow as def check inputs none assert is not none return inputs model keras models sequential layers masking 0 input shape 1 models sequential layers lambda check
python import tensorflow as tf import numpy as np import sys class runhook tf train sessionrunhook def before run self run context return tf train sessionrunargs fetches var 0 def after run self run context values print values results sys exit 0 def model fn features labels mode params var tf get variable initializer constant version dtype float32 name var dtype float32 trainable true loss identity var opt train adamoptimizer version global step train get or create global step op opt minimize loss global step global step return estimator estimatorspec mode mode loss loss op op strategy distribute mirroredstrategy session config configproto config estimator runconfig distribute strategy session config session config log count steps 1 save checkpoints steps float inf classifier estimator estimator model fn model fn x np array 1 2 3 4 y np array 5 6 7 8 input fn inputs numpy input x y batch size 1 num epochs none shuffle true and evaluate classifier spec trainspec input lambda input hooks runhook eval spec evalspec lambda
import tensorflow as tf from tensorflow keras layers import dense input lambda from tensorflow keras models import model sequential from scipy import sparse numpy as np def layer lambda input x sparse input x 0 dense input x 1 dense tf transpose dense y tf sparse sparse matmul return tf transpose y mat np eye 30 30 dtype np float32 mat coo matrix mat indices np mat row col transpose tensor sparsetensor indices data shape model sequential model shape 20 x 20 model 30 lambda layer lambda output shape none 30 tensor predict ones 20 save h5
provide a reproducible test case that is the bare minimum necessary to generate the problem
i wrote a toy example to reproduce the issue it might be clearer than the description above import numpy as np import tensorflow as tf print tf version class embedding tf keras layers layer def init self vocab size hidden size super embedding self init self vocab size vocab size self hidden hidden def build input shape shared weights add weight weights shape vocab hidden dtype tf float32 initializer random normal initializer mean version stddev
import tensorflow as tf tf enable eager execution input tf keras input none spec tf signal stft input 400 160
details summary example code snippet summary def tree search inputs self model world model plan sequence n action samples 1000 tree value tf zeros n action samples 1 dtype tf float32 for idx action in enumerate plan sequence print idx idx if idx 0 and action candidate actions tf random uniform n samples 1 num fingers 7 minval version maxval version dtype tf float32 elif 0 and pass elif 0 and not candidate actions zeros n samples 1 num fingers 7 dtype float32 else pass tree value policy model candidate actions inputs inputs world model candidate actions inputs retval tree value value return retval function def policy policy world strategy take true false false distributed output strategy experimental run v2 search args self world plan sequence distributed output concat strategy experimental local results distributed output axis 0 distributed output concat strategy experimental local results axis choose max return details
provide a reproducible test case that is the bare minimum necessary to generate the problem
python import numpy as np switch here to switch between working keras and non working tf keras code do broken true if do broken import tensorflow compat v2 as tf from tensorflow compat v2 import keras from tensorflow compat v2 keras layers import dense from tensorflow compat v2 models sequential tf enable behavior else from layers dense models sequential threading collections generator class mwe gen generator def init self train data train labels batch size self train data train data self labels labels self batch size batch size batch 0 lock threading lock def iter return def next return next def next with lock size if len data 0 labels return send arg return next close raise generatorexit inside generator try throw generatorexit except generatorexit stopiteration pass else raise runtimeerror generator ignored generatorexit throw type none value none traceback none raise stopiteration np random normal 10 1 np random normal 10 1 gen mwe gen 5 model sequential model add dense 1 input shape 1 model compile loss mse optimizer sgd model fit gen steps per epoch 2
import tensorflow as tf tf keras backend set floatx float16 dim 100 cell tf keras layers grucell dim recurrent initializer orthogonal cell build dim test set a different recurrent initializer e g recurrent initializer glorot uniform or remove tf keras backend set floatx float16 the function should now execute successfully
import tensorflow as tf strat tf distribute mirroredstrategy with strat scope inp tf keras input 28 28 tf keras layers batchnormalization renorm true inp
provide a reproducible test case that is the bare minimum necessary to generate the problem model broken tflite zip url
provide a reproducible test case that is the bare minimum necessary to generate the problem
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf from tensorflow keras import models layers import numpy as np generate data train data np random randint 0 100 size 10 215 215 1 train labels np eye 2 np random randint 0 2 size 10 1 reshape 1 set up metrics metrics accuracy tf keras metrics truepositives tf keras metrics truenegatives tf keras falsenegatives falsepositives set up model type model models sequential name cnn add layers model add layers conv2d filters 32 kernel size 5 5 strides 2 2 input shape train data 0 shape model add layers conv2d filters 64 kernel size 5 5 strides add conv2d filters 128 kernel strides flatten dense units 128 batchnormalization relu dense units activation sigmoid compile sgd binary crossentropy history fit train data labels batch 1 epochs 30
the estimator definition starts here url l193
import tensorflow as tf from tensorflow keras import layers get training data x train tf keras datasets mnist load data x train x train reshape 60000 784 astype float32 255 original dim 784 intermediate dim 64 latent dim 32 def sampling inputs z mean z log var inputs batch tf shape z mean 0 dim tf shape z mean 1 epsilon keras backend random normal shape batch return mean exp version log var epsilon define encoder model original inputs keras input shape original name encoder input x layers dense intermediate activation relu original inputs layers dense latent name log var layers dense latent name log var lambda sampling encoder model outputs name encoder define decoder model latent input sampling dense intermediate activation relu outputs activation sigmoid decoder model outputs outputs decoder define vae decoder vae vae add kl divergence regularization loss kl loss version reduce square exp 1 vae add loss kl loss train optimizer optimizers adam learning rate 1e 3 compile optimizer losses meansquarederror fit epochs 3 batch size 64 save experimental export saved functional saved
from tensorflow estimator python estimator export import export lib from tensorflow python lib io import file io import time base1 tmp test export base temp1 export lib get temp dir lib get timestamped dir base1 print temp1 temp1 decode utf 8 file io recursive create dir temp1 arr os listdir base1 print arr os rmdir
import tensorflow as tf shapes none types tf string defaults pad def generator fn ragged yield the brown fox jumps the brown fox jumps over the lazy dog def input fn dataset tf data dataset from generator generator fn ragged output shapes shapes output types tf string dataset dataset padded batch 2 shapes defaults def ragged features return raggedtensor from tensor x padding pad for x in features map ragged def unragged features return x to tensor default value pad for x in features map unragged return input fn for el in print el break this outputs tensor iteratorgetnext 7608 0 shape unknown dtype string whereas this import tensorflow as none types string defaults pad generator yield the brown fox jumps brown fox jumps over lazy dog input data from output output types padded batch 2 defaults return input for el in print el break outputs tensor iteratorgetnext 4 0 shape dtype
provide a reproducible test case that is the bare minimum necessary to generate the problem model broken tflite zip url this basic model fails to run on gpu with the error specified above but will run fine on cpu
python import tensorflow as tf image tf cast tf tile 0 0 0 0 1 tf uint8 or cast reshape 3 try print image print shape image image encode png finally print we never get here cpp min log level 1 python test py 3 2019 08 07 16 32 version f tensorflow core lib png png io cc 347 must be non null aborted echo 134
from future import absolute import division print function unicode literals import tensorflow as tf tf enable eager execution sqrt2s tf sqrt tf constant version 100 dtype float32 print sqrt2s print sqrt2s 0 numpy print sqrt2s 1 numpy 0 numpy 1 numpy the results tensor version version version shape 100 dtype float32 false
provide a reproducible test case that is the bare minimum necessary to generate the problem python import numpy as np import tensorflow as tf x np arange 150 dtype np float32 reshape 1 5 10 y np arange 200 dtype float32 reshape 1 5 10 x tf tf variable x xt tf variable x t y variable y yt variable y t yxt1 xt yxt2 transpose yt with session as sess sess run global variables initializer yxt1 yxt2 sess run yxt1 yxt2 yxt1 t yxt2 t print max abs max abs print max abs max abs which outputs version version version version
provide a reproducible test case that is the bare minimum necessary to generate the problem url scrollto qgign5rl4s2f line 22 uniqifier 1
provide a reproducible test case that is the bare minimum necessary to generate the problem inputs np array x y 10 for x in 1 2 for y in range 5 inputs inputs reshape 1 1 inputs shape 1 shape 2 print import tensorflow as tf tf reset default graph with tf graph as default as g x tf placeholder float none 2 y extract image patches images x ksizes 3 strides rates padding valid gradient gradients y init global variables initializer with session graph g as sess sess run init print sess run feed dict
import tensorflow as tf print tf version class first def init self initial int self value tf constant initial def increment self self value 1 def str return f object with tensor value tf function def increment obj first obj increment c1 first 100 c1 increment print c1 c1 print
import tensorflow as tf print tf version class myobj def init self self value 0 obj myobj tf function def with py side effect tensorflow stuff o do my complex tf stuff o value 1 return tensorflow stuff for i in range 5 print i obj value a with py side effect none obj
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf print tf version git version tf version version import sys print sys info tf a variable print variable a initialized to format a numpy lr variable trainable false opt keras optimizers adam learning rate lr function def train step with gradienttape as tape loss
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf print tf version git version tf version version import sys print sys info tf a variable print variable a initialized to format a numpy lr def get lr global lr return lr opt keras optimizers adam learning rate get function def train step with gradienttape as tape loss
not possible as autodesk flame framework is required
python a tf variable initial value 2 3 b tf variable initial value 3 4 use resource true c tf constant 0 print tf gradients c a b unconnected gradients zero tensor zeros like 0 shape 2 dtype float32 tensor zeros like 1 0 shape dtype float32
adam tf keras optimizers adam adam learning rate version this does not update learning rate but changes python typed hyperparameters in hyper dictionary to tf variables adam learning rate version this finally updates the tf variable calling hyper before update yields learning rate version decay version beta 1 beta 2 calling hyper after first update yields tf variable 0 shape dtype float32 numpy decay variable decay 0 shape dtype float32 numpy beta 1 variable beta 1 0 shape dtype float32 numpy 2 2 0 shape dtype float32 numpy
should not be difficult to create a sample code will try to get one soon
i have add a new issue on firebase ml kit you can find the code and logs here url update this is the difference showing between tflite model prediction and frozen inference model prediction tflite model prediction 2019 08 07 url frozen inference graph model prediction image url how can i solve this i really need help to fix this problem thanks
python import tensorflow as tf tf compat v1 enable eager execution import numpy as np tensor 1 tf convert to tensor np ones 20 20 print set breakpoint here
with strategy scope def compute loss labels predictions per example loss loss object labels predictions return tf nn compute average loss per example global batch size global batch size def train step cat cols num cols labels with tf gradienttape as tape inputs tf unstack cat cols axis 1 num cols predictions model inputs inputs training true compute labels predictions gradients tape gradient model trainable variables optimizer apply gradients zip gradients model trainable variables tf round train accuracy update state train auc update state return function def distributed train step dist total version num batches version for cat num label in dist per replica losses strategy experimental run v2 step args cat label total strategy reduce distribute reduceop sum per replica losses axis none batches 1 return total batches def dist for epoch in range epochs print f training epoch epoch 1 end distributed step dist template epoch 3f accuracy 3f auc 3f print template format 1 accuracy result 100 auc result accuracy reset states auc reset states
py import tensorflow as tf tf function def run epoch dataset step print retrace for x in dataset step x class model def step self x return x 2 dataset tf data dataset from tensor slices list range 128 model model for i in range 20 leads to retrace of run epoch due to non identity model step i e is not run epoch
provide a reproducible test case that is the bare minimum necessary to generate the problem python import tensorflow as tf import tensorflow keras layers as layers class variable layers layer def init self initial value
import tensorflow as tf from tensorflow keras applications inception v3 import inceptionv3 mirrored strategy tf distribute mirroredstrategy def get model with mirrored strategy scope model inceptionv3 input shape 299 299 3 include top true weights imagenet pooling avg model compile loss sparse categorical crossentropy optimizer tf keras optimizers adam metrics accuracy return model get save my
model tf keras sequential model add layers conv1d filters 128 kernel size 2 activation activation input shape window size subseq size subseq size model add layers conv1d filters 64 kernel 2 activation activation model add layers conv1d filters 32 kernel 2 add layers maxpooling1d pool 2 timedistributed flatten lstm 500 dense 100 dense 1 opt tf train adamoptimizer learning rate tpu tf contrib tpu keras to tpu strategy tf contrib tpu tpudistributionstrategy contrib cluster resolver tpuclusterresolver address1 compile optimizer opt loss mse metrics mae mape acc h fit x y validation split version epochs epochs n batch window subseq
provide a reproducible test case that is the bare minimum necessary to generate the problem python import tensorflow as tf input tf keras input 100 100 3 results tf keras layers conv2d filters 10 kernel size 3 3 padding same dilation rate 2 input print results shape
w embedding vocab tf constant embdic vocab dtype tf string shape embdic vocab size name w embedding vocab w embedding table lookup ops index table from tensor w embedding default value 0 name word embidx tbl embeddings tf get variable name word embeddings shape embdic size embdic dim initializer tf constant initializer np asmatrix embeddings dtype float32 trainable false
python import tensorflow as tf import tensorflow keras as keras import tensorflow keras backend as k import tensorflow probability as tfp k clear session def fct1 x return x 5 def fct2 x return x 5 bug 1 if you remove tf function the function random choice no longer works because tf case no longer considers idx tf function def random choice choices idx tfp distributions bernoulli probs version sample 1 0 outputs c for c in choices bug 2 if you use function but you replace this code fns for o in outputs fns append lambda o by this one fns lambda o for o in outputs then case no longer considers idx y case equal idx i fn for i fn in enumerate fns return outputs y constant version choices fct1 fct2 y random choice choices sess session i range 10 np np y np sess run print np example the code above this is the expected behavior python 9 9 1 1 9 9 when removing or when using but using list comprehension to create this is the unexpected behavior python
import tensorflow as tf class model tf keras model def init self super model self init self d tf keras layers dense 2 tf function def call self x training true mask none return d x model random normal 2 3 next line raises errors save save save format provide a reproducible test case that is the bare minimum necessary to generate the problem
provide a reproducible test case that is the bare minimum necessary to generate the problem python model compile freeze training model compile fine tuning training replicate code url
this is a reprex written in r i d be happy to port to other languages if that s preferable r options digits 8 fake function shape arbitrary but reproducible array seq len prod shape version version shape library keras shape c 30 5 model keras model sequential layer lstm units 2 input set weights list fake c 5 8 fake c 2 8 fake 8 n 11 not a multiple of 4 x array rep each n c n n copies of identical input p model predict x all predictions should match p but last 4 rows differ 1 2 1 version version 2 3 4 5 6 7 9 10 11 t p p 1
python tf reset default graph graph tf graph with graph as default with tf variable scope aa c tf constant version name const a variable c name nomon with variable scope ab c constant version name const a variable c name nomon with as default scope aa print get operations 1
should be simple to reproduce
provide a reproducible test case that is the bare minimum necessary to generate the problem url
python from tensorflow keras callbacks import print name
try it directly in google colab setting use eager mode to true false switches between the two cases url
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf from tensorflow import keras import numpy as np input size 30 output size 10 inp keras layers input input size mask keras layers input output size dtype tf bool x keras layers dense output inp x layers lambda lambda x x mask mask model models model inputs inp mask outputs model compile loss mean squared error optimizer sgd print model inputs format inputs prints inputs tf tensor 1 0 shape 30 dtype float32 tf tensor 2 0 shape 10 dtype bool batch 20 train np random rand batch y train np random rand batch output y train np random rand batch y train y 5 fit checkpoint h5 save checkpoint models load checkpoint print format prints tensor 1 1 0 shape 30 dtype float32
python from tensorflow import keras inp keras layers input 2 3 4 dropout keras layers dropout version noise shape none 1 1 1 x dropout inp training true dropfun keras backend function inp x this code works completely fine if the first line is replaced with import
import tensorflow as tf import numpy as np data np array 1 2 3 4 dataset tf data dataset from tensor slices data dataset dataset apply tf data experimental prefetch to device gpu 0 apply tf experimental copy to device gpu 0 uncommenting the line above line will print tensor 1 2 is on device job localhost replica 0 task 0 device gpu tensor 3 4 is on job localhost replica task gpu for datum in print f tensor datum is on datum prints 1 2 is on job localhost replica task cpu 3 4 job localhost replica task cpu it convinient to reproduce it as a notebook in google colaboratory url
python from tensorflow keras import input from tensorflow keras layers import conv2d tensor input shape 512 512 3 y 1 conv2d filters 256 kernel size 1 dilation rate 1 name dilation 1 tensor y 6 conv2d filters 256 kernel size dilation rate 6 name dilation 6 tensor print y print y 6
import tensorflow as tf data def parse fn2 fn label img tf random uniform 224 224 3 return img label train data2 tf data dataset from tensor slices tf random uniform 100 random uniform 100 maxval 9 dtype dtypes int32 val data2 data dataset from tensor slices random uniform 100 100 maxval 9 dtype dtypes int32 train data2 train data2 map parse fn2 batch 32 val val map parse fn2 batch 32 model img shape 224 224 3 base model keras applications resnet50 input shape img shape include top false weights none base model trainable true maxpool layer keras layers globalmaxpooling2d prediction layer keras layers dense 9 activation softmax model keras sequential base maxpool layer layers dropout version prediction layer compile optimizer optimizers adam lr version loss categorical crossentropy metrics accuracy summary history fit train repeat epochs steps per epoch 50 validation data val repeat validation steps 10 class weight 0 1 1 1 2 1 3 4 5 6 7 8 9 callbacks
python import numpy as np tensorflow as tf strategy tf distribute mirroredstrategy path tmp model hdf5 with strategy scope construct model model tf keras models sequential tf keras layers dense 1 input shape 1 model compile optimizer keras optimizers sgd loss keras metrics mse do a fit so the optimizer weights are created removing this lets the restore succeed fit np array 1 np array 1 save and attempt to restore models save path models load path
provide a reproducible test case that is the bare minimum necessary to generate the problem
provide a reproducible test case that is the bare minimum necessary to generate the problem import numpy as np import tensorflow as tf tf reset default graph with tf device cpu 0 inp tf variable np random normal size 10 5 dtype float64 with device gpu 0 inp variable np random normal size 10 5 dtype float64 var test variable np zeros 3 5 dtype float64 dtype float64 plh placeholder shape 3 int32 op var test assign gather inp plh with control dependencies op out var var test constant version out out constant version update op scatter update inp plh out idx arange 10 with session as sess sess run global variables initializer ip before sess run print ip before print sum of all params before sum ip before for i in range 10 idx batch random permutation idx 3 sess run update op feed dict plh idx batch ip after run print sum of all params after sum after print after diff diff diff
the following testcase allows to reproduce the issue import tensorflow as tf class inner tf keras model def init self super init self conv1 tf keras layers conv2d 8 3 3 kernel initializer tf keras initializers he normal padding same name conv1 def call self x dummy false x self conv1 x return x class outer keras model def init super init down layers conv2d 8 3 3 strides 2 2 kernel initializer initializers he normal padding same name down inner inner def call dummy false small down return inner dummy dummy small class infer module super decorate the inference function with function infer function infer input signature tensorspec 1 64 64 8 float32 prev img outer outer infer input return outer input false create model save the trained model signature dict saved dir tmp saved saved save saved dir signature dict
so far i could not come up with a small testcase to reproduce the issue i will continue to try but until then i only have the backtrace and the problematic commit
the code snippet below will hang after the last function call i m not printing anything because calling tf print results in a syntax error on colab and i know that these snippets are being run on colab by you when printing the variable i it s clear that the loop just never stops i e increase indefinitely python import tensorflow as tf ds tf data dataset from tensor slices 1 2 3 4 def test loop without enumerate without decorator ds for val in ds pass tf function def test loop without enumerate with decorator ds for val in pass def test loop with enumerate without decorator for val in enumerate pass function def test with with decorator for val pass print function and print and print and
provide a reproducible test case that is the bare minimum necessary to generate the problem python usr bin python3 import tensorflow as tf def model a tf keras layers lambda lambda x tf ones x 2 3 4 return tf keras model inputs outputs a b model
try any off the shelf fasterrcnn network
import tensorflow as tf sample int tf sparse sparsetensor indices 0 0 1 2 values 1 2 dense shape 3 4 sample string tf sparse sparsetensor indices 0 0 1 2 values a b dense shape 3 4 tf sparse to dense sample int sparse to dense sample string there is also a colab notebook where you can execute the code directly url
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow tools graph transforms as graph transforms
use the tf gpu allocator environment variable to select the cuda malloc allocator export tf gpu allocator cuda malloc then in a python shell try to use the gpu python import tensorflow as tf tf test is gpu available
i used this url rel 19 02 nvidia docker image this url script with a small preprocessing change def resize image image target height target width image resize target width target height bicubic convert rgb return np array def preprocess file name output height 416 output width 416 num channels 3 return resize open file name output height output width astype float32 i also removed the printing of predictions as the script is built for a classifier rather than a detector
code import numpy as np import tensorflow as tf tf enable eager execution class mydense tf keras layers layer def init self dense
note that the bug does not reproduce if the unknown shape tensor is passed directly to reduce mean which would suggest some interaction between the two import numpy as np def unknown shape constant val this is one way to create tensors of unknown shape return tf py function lambda np array val tf int32 tf function def reduce mean bug arr tf tensorarray int32 size 1 dynamic size true arr arr write 0 unknown shape constant 1 3 c arr concat m1 reduce mean c tensorarray int32 size 1 dynamic size true write 0 constant 1 3 c concat m2 reduce mean c return m1 m2 m1 m2 bug assert m1 m2 fails
tf function def compute arr tf tensorarray tf float32 1 dynamic size true def body i arr real logits tf random normal 5 1 arr arr write cast i int32 real logits i 1 return i def cond return 10 while loop cond body 0 c concat print tensortarray concat shape c shape rank c shape rank return c function def compute ds tensorarray float32 1 dynamic size true body state state real logits random normal 5 write cast int32 real logits return en ds data dataset range 10 enumerate en ds reduce 0 body concat print tensortarray concat shape rank rank print
provide a reproducible test case that is the bare minimum necessary to generate the problem
graph tf graph with graph name scope name9 with graph as default sign in tf placeholder tf float32 data shape 0 data shape 1 data shape 2 data shape 3 name signal in conv tf keras layers conv2d 10 10 2 padding valid name conv linear use bias true kernel initializer initializers lecun normal seed 137 bias initializer initializers lecun normal seed 137 sign in tensor np random rand 10 40 2 1 feed dict get tensor by name signal in 0 tensor op value session run name9 conv linear 0 feed dict feed dict
provide a reproducible test case that is the bare minimum necessary to generate the problem python import tensorflow as tf tf version version x tf data dataset range 5 y tf data dataset range 5 window 2 for i in x print i numpy for i in y print i numpy
import tensorflow as tf print tf summary create file writer def map fun x return x ds tf data dataset from tensor slices 1 2 3 4 5 ds ds map map fun print tf summary create file writer
python import tensorflow as tf lstm tf keras layers lstm units 10 bidirectional tf keras layers bidirectional lstm inputs tf placeholder float32 shape 32 15 20 fw state zeros 32 10 zeros 32 10 bw state zeros 32 10 zeros initial state fw state bw output bidirectional inputs inputs initial initial
provide a reproducible test case that is the bare minimum necessary to generate the problem
described above
this code as a file zero out cc is taken directly from url include tensorflow core framework op h include tensorflow core framework shape inference h include tensorflow core framework op kernel h include iostream using namespace tensorflow using shape inference inferencecontext register op zeroout input to zero int32 output zeroed int32 setshapefn inferencecontext c std cout c address c std endl c set output 0 input 0 return status ok class zerooutop public opkernel public explicit zerooutop opkernelconstruction context opkernel context void compute opkernelcontext context override just leave it empty register kernel builder name zeroout device device cpu zerooutop compile the op with the commands tf cflags python import as tf print join tf sysconfig get compile flags tf lflags python import as print join sysconfig get link flags g std 11 shared zero out cc o zero out so fpic cflags lflags o2 run the import as out module load library so with session module 1 2 3 4 eval this prints the following address 0 segmentation fault
i use the below code to generate pb file the key is that padding parameter is same and dilation rate is 2 import tensorflow as tf import numpy as np x tf placeholder tf float32 shape 1 none none 1 conv tf layers conv2d x 64 5 activation nn tanh padding same dilation rate 2 2 kernel initializer keras initializers he normal y identity conv name y with session as sess sess run global variables initializer output graph def graph util convert variables to constants sess sess graph def y train write graph output def same pb as text false i use the following code to load and check the pb file but padding parameter is not same but valid import tensorflow import numpy np with open pb rb f def graphdef parsefromstring f read nodes node for node in nodes if node op conv2d print node attr padding s
import tensorflow as tf from tensorflow keras layers import batchnormalization class bnmodel tf module def init self super bnmodel self init self bn batchnormalization tf function input signature tf tensorspec none 2 float32 def call self x return bn x if name main module bnmodel import numpy as np arr np random randn 2 2 module arr signatures serving default module call saved model save saved models signatures signatures
i ve created repo url where you can find pipeline config one step training the same tfrecord for training and evaluation classes pbtxt two sample classes t tfrecord containg two white images one with 100 bounding boxes and second with 200 bounding boxes notebook images view png view from notebook when i ve tried visualise bboxes tensorboard images view png tensorboard images view
provide a reproducible test case that is the bare minimum necessary to generate the problem python import numpy as np import tensorflow as tf import os import matplotlib pyplot as plt psutil def memory pid os getpid py psutil process pid memory use py memory info 0 2
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf sequence feature colums tf contrib feature column sequence numeric column test estimator tf contrib estimator rnnestimator head tf contrib estimator regression head sequence feature columns sequence feature colums def input fn train dataset data dataset from tensor slices test 0 0 dataset dataset batch 1 return estimator train input fn input fn train steps 1
this code reproduces the issue and is copy paste runnable performance will degrade significantly within 30 seconds running this example import tensorflow as tf import numpy as np import time size 5000 inp tf keras layers input shape size dtype float32 x tf keras layers dense units size inp model tf keras model inputs inp outputs x np data np random rand 1 size ds data dataset from tensor slices np data batch 1 repeat debug time time time while true model predict x ds steps 1 print processing 2f format debug debug this example demonstrates passing a numpy array does not have the same issue import tensorflow as numpy as 5000 inp keras layers input shape dtype float32 x layers dense units model inputs outputs data random rand 1 debug while true predict using numpy array directly print processing 2f format this issue started at so at url i decided to post it here when i realized that predict is creating a new iterator each predict loop iteration and works when the get next tensor is passed in directly
1 open this google colab url 2 run the code with alpha0 choose version url 3 make note of the training history plot 4 restart the runtime 5 run the code with beta0 or beta1 choose version url 6 make note of training history plot 7 observe that with no change to code but using beta0 instead of alpha0 validation accuracy goes down from 95 to 90 with beta1 even to 80
from future import print function import numpy as np import tensorflow as tf from tensorflow keras layers import lstm gru if name main with tf device cpu 0 batches 1 list range 1 10 shape 1000 512 inputs tf keras input shape shape rnn gru shape 1 2 return sequences true inputs model tf keras model inputs inputs outputs rnn results for i batch in enumerate batches x ones batch y model predict on batch x results append y 0 for b x in list zip batches results 1 print b np max np abs results 0 x if not all np allclose 0 for in raise valueerror varying batch size produces different
provide a reproducible test case that is the bare minimum necessary to generate the problem num tpus 4 tpu cluster resolver tf contrib cluster resolver tpuclusterresolver os environ tpu name zone os environ tpu zone project os environ gce project name tpu strategy tf contrib tpudistributionstrategy cluster resolver run config tf contrib runconfig cluster resolver model dir output dir save checkpoints steps 1000 config tf contrib tpuconfig iterations per loop 1000 num shards 8 num tpus per host input for training inputpipelineconfig per host v2 keep checkpoint max 5 train distribute strategy xlnet config xlnet xlnetconfig json path os path join xlnet pretrained dir xlnet config json model run classifier get model fn num classes estimator tpuestimator use true model fn run params none train batch size train batch size predict batch size predict batch size eval eval train input fn run classifier file based input fn builder input file gs file tfrecord seq length max seq length is training true drop remainder true estimator max steps steps
import tensorflow as tf tf keras layers conv2d 10 3 tf ones 1 5 5 3 how should resolve it thank
import numpy as np from tensorflow import keras comment this line out to make code complete successfully keras mixed precision experimental set policy infer float32 vars class mylayer keras layers layer def build self input shape self w self add weight shape 16 16 def call self inputs
pip install intel tensorflow tar xvzf testcase 2367 tar gz attached cd testcase 2367 python testcase 2367 py
provide a reproducible test case that is the bare minimum necessary to generate the problem 1 convert tf inceptionv3 to tflite with optimization for size 2 load model to android device fails sometimes not finding a matching model or the error above
code is in description above
because tf layers depthwise conv2d is not implemented i implemented this def depthwise conv2d self tensor kernel size strides rate 1 1 name dwconv problem doesn t support channel first dilations c self n channels tensor filter shape kernel size 0 kernel size 1 c 1 filter tf get variable name filter shape filter shape dtype tf float32 strides strides 0 strides tensor tf nn depthwise conv2d tensor padding same rate rate name name data format nchw return this works x self depthwise conv2d x 3 3 dwconv2 but this does not the difference is dilations or specifically dilations nchw data format x self x 3 3 4 4 dwconv1 is gives following error on the batch norm which follows the layers batch normalization caxis training training file local lib python version site packages tensorflow python util deprecation py line 324 in new func return func args
pip install q tensorflow version beta1 import tensorflow as tf from tensorflow keras models import model from tensorflow keras layers import def get model input tf keras input shape 10 40 no error when dilation rate 1 layer conv1d 32 3 dilation rate 2 padding same use bias false input layer globalmaxpooling1d layer output dense 2 layer model model inputs input outputs output return get converter tf lite tfliteconverter from keras tflite converter convert open trained tflite wb write tflite interpreter tf lite interpreter path trained tflite interpreter allocate tensors
attached nhw3 model and script to generate pb and tflite with optimization options which do not have any effect this is basically nhw3 input single tf layers conv2d constant initialized layer and reduce sum for output any hint on debugging this issue i tested both jcenter downloaded version nightly branches and manually built from r version branch tensorflow lite tensorflow lite gpu i used version version r source build tensorflow tflite with different optimization options with no success could you please show how exactly you generated mobilenet v1 tflite model found in your tutorials since it works like a charm with gpudelegate 80ms per single image inference on gpu several hundreds seconds on cpu on sufficiently recent android or any hints how to debug this gpudelegate issue test model 3channels tar gz url
attached archive with broken model generated with version tflite converted with default options no properties changed and script to create model and tflite file itself
here s my code that lists all the classes in tf keras metrics that have different names when instanciated twice python import tensorflow as tf import inspect for name metric in tf keras metrics dict items if inspect isclass metric it s a metric keras layer args if name meaniou args 2 elif name meanrelativeerror args 1 elif name metric continue elif sensitivityatspecificity args version elif specificityatsensitivity version layer 0 layer 1 if layer 0 1 two same metrics don t have the same print
my custom app is based on the tensorflow lite android image classification example the model loads and runs fine on cpu the only difference in the code is following lines tfliteoptions new interpreter options gpudelegate new gpudelegate tfliteoptions adddelegate gpudelegate
provide a reproducible test case that is the bare minimum necessary to generate the problem
python import tensorflow as tf tf function def writejpeg graph img decoded filename out tf cast img decoded tf uint8 out image encode jpeg out quality 100 io write file filename out def writejpeg eager img decoded filename cast img decoded uint8 image encode jpeg quality 100 io write file filename fill 256 256 3 127 example gray image writejpeg graph tfwrite graph jpg tfwrite graph jpg not created writejpeg eager tfwrite eager jpg tfwrite eager jpg created
tflite bias shape issue zip url this zip file contains debug pb tf freeze graph model and debug tflite tflite converted model from frozen model the conversion code is taken straight from the document import tensorflow as tf graph def file debug pb input arrays input output arrays reshape 1 converter tf lite tfliteconverter from frozen graph graph def file input arrays output arrays tflite model converter convert open debug wb write the has extra operators in the beginning sub div gather just because i did not have time to rebuild bare minimal test case but i think it is already simple enough
provide a reproducible test case that is the bare minimum necessary to generate the problem
import tensorflow as tf c tf constant 5 6 7 8 9 10 dtype tf int32 d tf constant 5 6 7 8 9 10 dtype int32 x cast c dtype uint32 y cast c dtype uint32 with session as sess x raw y raw sess run x y print x raw y raw print print print version running this code gives the result uint32 uint32 0 0 0 0 version rc1
python from tensorflow python import keras model keras sequential model add keras layers dense 5 input shape 4 activation sigmoid model add keras layers dense 3 input shape 5 use bias true model compile sgd mse def extract inbound nodes layer return layer inbound nodes if hasattr layer inbound nodes else layer inbound nodes for l in layers for node in extract l assert isinstance node output tensors list assert isinstance node input tensors list assert isinstance node output shapes list
import tensorflow as tf from keras utils vis utils import plot model input 2d tf keras input shape none none 3 unknown width and length 3 channels rgb network 2d tf keras layers conv2d filters 128 dimensionality of output space kernel size 5 shape of 2d convolution window 5x5 input 2d input 3d tf keras shape none none 1 unknown width length and depth 1 gray channel network 3d layers conv3d filters 128 dimensionality of output space kernel size 5 shape of convolution window 5x5 3d network expand dims network axis 2 combined 3d model combined model inputs outputs combined plot model combined to file png
colab to reproduce issue url
import tensorflow as tf bs 5 text len 1 772 text len 2 741 embed size 300 in channels 1 test in 1 tf random normal bs text len 1 embed size in channels test in 2 tf random normal bs text len 2 embed size channels dilated convs tf keras layers conv2d filters 10 kernel size 2 embed dilation rate dilation padding valid for dilation range 23 for conv dilated convs res conv test for conv dilated convs fails here regardless of test or is called first res conv
import tensorflow as tf import numpy as np import time x tf random normal 1024 1024 for i in range int 1e7 y np array x time sleep version
this example compares the behavior of batchnorm against a padded and un padded 1d signal the resulting means and variances come out very different import tensorflow as tf import numpy as np mask value of 10 padded data np expand dims np array 1 2 3 4 5 10 10 10 for in range 100 dtype float32 2 data np expand dims array 1 2 3 4 5 for in range 100 dtype float32 2 def build padding model input tf keras layers input 1 masked tf keras layers masking input normed tf keras layers batchnormalization momentum version masked model keras models model input normed model compile adam loss mse return def build layers 5 1 normed batchnormalization momentum version models inputs outputs normed compile adam loss mse return if name main batch size 100 signal length 20 pad build padding pad fit x padded data y data batch size epochs 5 nopad build nopad fit x y batch size epochs weights1 pad get weights weights2 nopad get weights print mean t t str weights1 0 unpadded mean t t str weights2 0 print variance str weights1 3 0 unpadded variance str weights2 3 0
provide a reproducible test case that is the bare minimum necessary to generate the problem see above
provide a reproducible test case that is the bare minimum necessary to generate the problem python import numpy as np import tensorflow as tf tf enable eager execution np random seed 1 a np random randint low 0 high 65535 size 100 dtype np uint16 reshape 10 10 1 b a copy allclose a b is true eager execution encoded tf image encode png numpy b encoded tf image encode png b numpy print len encoded len encoded prints 178 and 278 278 expected both times assert fails session mode encode image encode png image png with session as sess sess run sess run print len len prints 178 and 178 but 278 expected assert true
provide a reproducible test case that is the bare minimum necessary to generate the problem python import tensorflow as tf def map file to xy dataset filename params generate a dataset from the filename csv dataset tf data experimental csvdataset cache at unique file location i e filename cached dataset csv cache generate x all but id column x cached map lambda x x 0 1 generate y last column of each file y cached map lambda 1 zip the y datasets this will throw alreadyexistserror xy tf data zip y return xy def filenames tf data list files data glob filenames flat map file to xy return
python3 works fine import tensorflow as tf none of the following work they all produce variants of the aforementioned error from tensorflow keras import layers from tensorflow import keras from tensorflow python keras import layers from python keras layers dense python
provide a reproducible test case that is the bare minimum necessary to generate the problem python import tensorflow as tf gpu options tf gpuoptions per process gpu memory fraction version with tf compat v1 session config tf configproto gpu options gpu options as sess a constant version version version shape 2 3 name a b constant shape 3 2 name b c matmul a b while true sess run c
from tensorflow import keras def works input keras layers input shape none 1 masked input keras layers masking 1 input normalized keras layers batchnormalization epsilon version e 5 masked def doesntwork layers shape none 1 mask masking 1 compute mask normalized batchnormalization epsilon version e 5 mask mask if name main works
python import os import psutil import numpy as np import tensorflow as tf process psutil process os getpid tf function def train epoch model p data for real inputs in p data model real inputs train epoch tf autograph to graph train epoch data np random normal 0 1 10000 2 p data tf dataset from tensor slices batch 32 model variable 1 1 dtype float64 for i in range 5000 train epoch model p if i 50 0 print process memory info rss
provide a reproducible test case that is the bare minimum necessary to generate the problem see attached python notebook
python from future import absolute import division print function unicode literals pip install q tensorflow version beta1 import tensorflow as tf num threads 2 tf config threading set inter op parallelism threads num threads tf config threading set intra op parallelism threads num mnist tf keras datasets mnist x train y train x test y test mnist load data x train x test train version test version model keras models sequential keras layers flatten input shape 28 28 keras layers dense 128 activation relu layers dropout version layers dense 10 activation softmax model compile optimizer adam loss sparse categorical crossentropy metrics accuracy model fit y epochs 100
python3 import tensorflow as tf print tf contrib image connected components
python from future import absolute import from future import division from future import print function tensorflow as tf x0 tf get variable x0 shape dtype tf float32 x1 tf constant 3 x x0 x1 x constant version y constant version with gradienttape as tape z x y tape grad tape gradient z x print tape grad none grad gradients z with session as sess print sess run grad 1
python mwe py displays tensorflow help argument issue from tensorflow import app app flags define string myflag default help output flags app flags flags global string this string causes the abseil wrapper to begin processing the 0 flag format myflag def main print this string causes tf to race the abseil parsing process which kills the help menu using s myflag if name main app run main
python import tensorflow as tf inputs tf keras input 10 10 assert inputs shape as list none 10 10 this works assert inputs 5 shape as list none 5 raises valueerror
import tensorflow as tf import time def process x print x print test return x 1 def get next batch sleep while true time sleep 10 yield 1 ds tf data dataset from generator get next batch sleep output types tf int64 ds ds map process it ds make one shot iterator for i in range 5 print it get next this will immediately output tensor args 0 0 dtype int64 test and then output every 10 seconds tf tensor 2 shape dtype int64
import numpy as np import tensorflow as tf from tensorflow feature column import sequence numeric column from tensorflow keras experimental import sequencefeatures print tf version git version tf version version seq fc sequence numeric column feature1 seq layer sequencefeatures seq fc batch size sequence length 3 5 raw data np array range batch size sequence length dtype np float32 data np reshape raw data batch size length dict data feature1 seq layer dict this produces the following error log typeerror traceback most recent call last ipython input 5 in module 1 dict feature1 2 layer dict documents tf2beta lib python site packages tensorflow python keras engine base layer py in call self inputs args
py import tensorflow as tf import tensorflow feature column as fc columns fc embedding column fc categorical column with vocabulary list kind a b c 2 feature layer tf keras layers densefeatures columns trainable false features kind tf constant a a b b c c tf function def func features return feature layer features func features provide a reproducible test case that is the bare minimum necessary to generate the problem
from future import absolute import division print function import tensorflow as tf import numpy as np tf enable eager execution einsum string bijk bijk bij load values s h numpy np load s h npy s h tf convert to tensor s h numpy dtype tf float32 numpy np load npy convert to tensor dtype float32 perform einsum ht np einsum einsum string ht string print val val format val ht 2 191 191 val ht 2 191 191
python import tensorflow as tf import numpy as np data np random randn 1000 10 targets np random randn 1000 1 ds tf data dataset from tensor slices data batch 32 model tf keras sequential model add tf keras layers dense 32 input dim 10 model add keras layers dense 32 model add keras layers dense 1 compile optimizer rmsprop loss mse fit ds steps per epoch 10 validation data targets batch size 32
small example to reproduce the issue import numpy as np import tensorflow as tf from tensorflow python keras import layers from tensorflow python keras estimator import model to estimator v2 x shape 3 n class 5 batch size 10 x layers input shape x shape name x dtype tf int64 class stupidlayer layers layer def build self input shape self y tf random poisson lam 10 batch size dtype tf int64 super build input def call self inputs
here is a colab notebook that demonstrates the issue url
python import logging import tensorflow as tf def main format asctime 15s message s logging basicconfig filename log txt filemode w datefmt y m d h m s level logging info format format console logging streamhandler console setlevel info getlogger addhandler console sess tf session info test write if name main tf app run this yields the following output 2019 06 16 17 54 version i tensorflow core common runtime gpu gpu device cc 1326 created tensorflow device job localhost replica 0 task 0 device gpu 0 with 10711 mb memory physical gpu device 0 name titan x pascal pci bus id 0000 04 version compute capability version i0616 17 54 version test py 15 test write test write notice that write appears twice in the output and log txt is not created when run with tf this code snippets behaves as expected
import tensorflow as tf class qpwcx layer def init self sharp 100
here s the full code i tried to add as little as i could python import tensorflow as tf from tensorflow import keras import numpy as np path my saved model x train np random rand 100 5 y train np random rand 100 1 model keras models sequential keras layers dense 1 input shape 5 model compile loss mse optimizer sgd model fit x train y train tf saved save path imported tf saved load path inputs keras layers input shape 5 outputs imported inputs raises symbolicexception see stacktrace below inputs inputs outputs outputs
provide a reproducible test case that is the bare minimum necessary to generate the problem cpp include tensorflow lite experimental micro debug log numbers h int main char s 80 fastint32tobufferleft 1 s return 0 this issue is critical for us would you like to modify the code
provide a reproducible test case that is the bare minimum necessary to generate the problem class networkpruninghook tf train sessionrunhook def init self def begin self self mask var collect the masked variables for v in tf global variables if v name find mask 0 1 self mask var append v check mask tf assign var 0 np zeros shape var 0 shape def end session session run check assign 0 to the variable print session run get however if restoring checkpoint is not
python import numpy as np import tensorflow as tf data values tf raggedtensor from row splits np arange 8 reshape 1 2 np array 0 2 3 4 dataset tf data dataset from tensor slices data values dataset dataset repeat batch 3 iterator make one shot iterator batch iterator get next a tf raggedtensor from value rowids batch values batch value rowids with session as sess sess run a this fails due to invalid shapes assert np allclose sess run value rowids this will also fail sess run data values value rowids
get the faster rcnn resnet50 pretrained model from url and run models research object detection model main py with the above config
import tensorflow as tf tf function def train japanese character xd5z pass train
i will come up later with the code
python import tensorflow as tf def gen yield 0 def model fn features labels mode shape 1 100 10 x tf random normal shape y tf zeros shape cell tf contrib cudnn rnn cudnnlstm 1 shape 1 prediction cell x loss reduce sum squared difference prediction y train op train adamoptimizer minimize loss train get or create global step return estimator estimatorspec mode prediction loss train op config estimator runconfig training begins successfully with the following line commented out config config replace distribute distribute mirroredstrategy estimator estimator model fn tmp bug config input fn lambda data dataset from generator gen int32
please check colaboratory url
provide a reproducible test case that is the bare minimum necessary to generate the problem python uniform regularizer 0 model tf keras sequential tf keras layers simplernn units 5 kernel initializer he normal recurrent initializer he normal kernel regularizer tf keras regularizers l1 l uniform regularizer use bias false stateful true batch input shape 3 20 3 tf keras layers dense 3 kernel initializer he normal kernel regularizer regularizers l1 l uniform use bias false def loss explanvar targetvar return metrics mean absolute error explanvar targetvar model compile optimizer adam loss loss checkpoint path training 1 cp ckpt checkpoint dir os path dirname checkpoint path create checkpoint callback cp callback callbacks modelcheckpoint path save weights only true history model fit train epochs 55 steps per epoch 10 callbacks cp callback class weight 0 version 1 version 2 version validation data test
uncommenting the commented parts reproduce the problem this is just a sample with any model with the loggingtensorhook provided as the hooks parameter it throws an exception when trained with tpus def model fn features labels mode params del params char embedding characterawareembedding word length word length embedding size flags embedding size conv size flags conv size output unit flags output unit target features input target target char embedding target if mode tf estimator modekeys predict predictions vectorized word features word return tf contrib tpu tpuestimatorspec mode mode predictions predictions context features input context context char context cossim cossim similarity loss tf reduce mean tf nn sigmoid cross entropy with logits labels cast labels float32 logits cossim optimizer train rmspropoptimizer learning rate version hook train loggingtensorhook loss loss every n iter 100 if estimator modekeys train if flags use tpu optimizer contrib tpu crossshardoptimizer optimizer return contrib tpu tpuestimatorspec loss training hooks hook train op optimizer minimize get global step if estimator modekeys eval return contrib tpuestimatorspec training hooks hook eval metrics metric fn labels cossim
see your tutorial on audio recognition
provide a reproducible test case that is the bare minimum necessary to generate the problem see above
it doesn t work with url repro attached url just call run sh
provide a reproducible test case that is the bare minimum necessary to generate the problem clz9kg2i url here is my test model just to verify the output data
i think it is reproducable with any python code that load and serve a neural network i unfortunately only have custom code for now if you don t manage to reproduce i will give a sample code
i create a simple generator by subclassing from tf keras utils sequence class datagenerator sequence def init self split self split split def len self return 2 def getitem self index print f split generator index index flush true y np random uniform low 0 high 1 size 2 000 1 y y version astype np int32 x np random normal loc 0 scale 1 size 2 000 10 x x astype np float32 return x y def on epoch end print f on epoch end flush true i then create a simple model model sequential model add dense 20 activation relu input shape 10 model add dense 1 activation sigmoid optimizer adam lr version compile optimizer optimizer loss binary crossentropy metrics accuracy i set up my training and validation generators and run fit generator training generator datagenerator training validation datagenerator validation fit training validation data use multiprocessing false max queue size 10 epochs 4 shuffle false workers 0 verbose 0 i get the following output index if change workers from to then on epoch end is triggered e on epoch end print statements appear
provide a reproducible test case that is the bare minimum necessary to generate the problem
activate virtualenv tf nightly version preview py version python c import tensorflow summary echo 0 activate virtualenv tf nightly version preview py version python c import tensorflow summary echo traceback most recent call last file string line 1 in module file usr local buildtools current sitecustomize sitecustomize py line 152 in setuppathsandimport return real import name globals locals fromlist level file homedir virtualenv tf nightly preview py local lib python site packages tensorflow init line 93 in module from tensorflow core import attributeerror module object has no attribute compiler 1 activate virtualenv tf nightly preview python c summary echo traceback most recent call last file string line 1 in module usr local buildtools current sitecustomize sitecustomize 152 setuppathsandimport return real name globals locals fromlist level importerror no named summary 1
the scripts used for conversion conversion scripts zip url for inference i have used tflite version and tflite version i have used the profiling functionality of tflite and observed that in tf version there are 49 dequantize nodes vs 15 dequantize nodes for tf version conv 2d is 3x slower for the converted model in tf when running a float model conv 2d seems similar in both tf versions by looking at the run order of nodes it seems that only depthwise nodes are quantized in but expand project and depthwise are quantized here is summary by node type number of executed 115 summary by node type t node type t count t avg ms times called t depthwise conv 2d 17 68 conv 2d 36 144 dequantize 49 196 add 10 40 average pool 1 4 softmax 1 4 reshape 1 4 and summary by node type number of executed 81 summary count avg ms times called 36 144 depthwise 17 68 add 10 40 average pool 1 4 softmax dequantize 15 60 reshape
colab notebook available here url running with gpu makes eager mode significantly faster and the time difference more noticeable
calling keras layers on some input results in different variable names compared to calling layer build python in 1 import tensorflow as tf in 2 layer1 tf keras layers dense 3 name dense 1 in 3 layer1 variables out 3 4 layer1 build none 3 5 layer1 variables out 5 tf variable kernel 0 shape dtype float32 tf variable bias 0 shape dtype float32 6 layer2 keras layers dense name dense 2 7 layer2 variables out 7 8 layer2 zeros 32 out 8 tensor 2 biasadd 0 shape 32 dtype float32 9 layer2 variables 9 variable 2 kernel 0 shape dtype float32 bias the first case names are kernel bias while the second case they are kernel bias i expect the the first layer to be prefixed with 1
python import tensorflow as tf from tensorflow import keras import numpy as np x np arange 6 astype np float32 reshape 1 1 y x
build a small lstm with keras for sequence prediction loss mae metrics mse acc optimizer kr optimizers adam
import tensorflow as tf from tensorflow import keras class resblock keras layers layer def init self n layers n neurons
pip install tensorflow version b0 cc yifeif perfinion
import tensorflow as tf from tensorflow probability python distributions import bernoulli normal if name main tf enable eager execution event dist bernoulli probs version kernel dist normal loc 0 scale 1 events event dist sample sample shape 128 80 100 seed 0 kernel kernel dist sample sample shape 100 100 seed 0 event idx tf where events event effect tf gather kernel idx 2 psp due to each spike comp get variable name v1 shape 128 80 100 initializer zeros initializer scatter add comp idx 2 effect
provide a reproducible test case that is the bare minimum necessary to generate the problem you can try any model under deeplab model zoo for example url
python import tensorflow as tf model tf keras sequential tf keras layers dense 10 tf keras layers batchnormalization keras layers dense 1 strategy distribute mirroredstrategy with strategy scope out model zeros 1 10 training true
provide a reproducible test case that is the bare minimum necessary to generate the problem
provide a reproducible test case that is the bare minimum necessary to generate the problem python def model fn features labels mode params model tf keras sequential tf keras layers flatten input shape 28 28 1 tf keras layers dense 128 tf keras layers dense 10 activation softmax optimizer none if mode estimator modekeys train optimizer optimizers adam params get learing rate 1e 3 if params get use tpu true optimizer tpu optimizer crossshardoptimizer with gradienttape as tape logits model features if mode estimator modekeys predict preds predictions logits return tpu estimator tpuestimatorspec mode predictions preds loss losses from logits true labels logits if estimator modekeys eval return tpu tpuestimatorspec loss loss def train fn assert is not none gradient tape gradient loss model trainable variables global step compat v1 train get global step update global step compat v1 assign global step 1 name update with control dependencies update apply grads apply gradients zip gradient trainable variables return apply grads modekeys train return tpuestimatorspec op fn the complete code can be found at url
python import tensorflow as tf from tensorflow keras layers import input conv2d depthwiseconv2d timedistributed test td input input shape none 1 128 8 timedistributed depthwiseconv2d depth multiplier 1 kernel size 1 4 strides 1 test td input
i just modify some codes in lingvo to use tf debug url
python from time import sleep import os import time import gc numpy as np tensorflow keras as k tensorflow as tf if name main t tthe flatten and bn layer will cause memory leak and performance problem tmemory usage keep increasing during the iteration and never down after gc t tflatten bn mem version gb time 105s t tflatten only mem version gb time 105s t tbn only mem 760mb 45s tno flatten or bn mem 490m 21s tmodel file l m tfor i in range 100 tif os path exists model file tmodel k models load model model file telse tmodel k models sequential tk layers flatten input shape 10 this layer will cause huge memory leak and performance problem tk layers dense 100 tk layers elu tk layers dense 500 batchnormalization this layer will cause memory leak elu dense 2 activation tf nn softmax tmodel compile optimizer adam loss sparse categorical crossentropy metrics acc fit np ndarray 5000 10 dtype float np array 0 1 2500 epochs 1 verbose 1 save model file tx np ndarray 1 10 dtype float tx fill tprint i predict x tos remove tgc collect tsleep
pre coding utf 8 author lin lan ryan linlan gmail com from future import absolute import from future import division from future import print function tensorflow as tf class foo tf keras model def init self super foo self init self dense tf keras layers dense 20 self embeddings tf variable random normal 100 5 dtype float32 function def call inputs embeddings nn embedding lookup embeddings inputs return inner embeddings function def inner batch shape 0 ta tensorarray float32 size batch for i in range batch this dense i newaxis ta ta write i this return ta stack foo foo res 0 2 4 6 8 pre
the following code produces the correct behavior in tensorflow version from future import absolute import division print function import tensorflow as tf tf enable eager execution import numpy as np tf enable eager execution print tf version data np random normal 0 1 1 10 2 astype np float32 rnn keras layers gru units 10 dropout version recurrent dropout version print set rnn data training true numpy 0 0 for in range 5 output but in tensorflow it doesn t from future absolute division print function tensorflow as numpy as np git data random normal 0 1 1 10 2 astype float32 rnn keras layers gru units 10 dropout recurrent dropout set rnn data training true numpy for in range 5 output v 3283 geff4ae822a a quick fix is to call reset mask and reset recurrent mask between calls however this looks like a breaking change def fixed cell reset mask cell reset recurrent mask return training true set fixed for range 5 output
python behavior depends on the import from tensorflow keras import from keras import model models sequential model load weights none by name true skip mismatch true note that this code fails in any case however only with the tf keras import this is because of invalid parameters
python import tensorflow as tf tf config set soft device placement true with tf device gpu 0 f tf variable 42
python import pickle import tensorflow as tf from tensorflow python training tracking tracking import autotrackable class mytrackable autotrackable def init self self random op tf trandom uniform tf random uniform def main my trackable mytrackable value tf session run my trackable random op print type value pickle dumps value if name main main this fails with the following error python dict wrapper test py class tensorflow python training tracking data structures dictwrapper traceback most recent call last file tests dict wrapper test py line 20 in module main file tests dict wrapper test py line 16 in pickle dumps value notimplementederror object proxy must define reduce ex not exactly sure if this is a bug or a feature should the built in data structures that are tracked be serializable
we have tried appending some nodes on top of deeplab gpu converted model all appended nodes are still supported ops by gpu delegate we have attached with this issue the graph and the error log while trying to benchmark the tflite model
provide a reproducible test case that is the bare minimum necessary to generate the problem
from tensorflow train import adamoptimizer from tensorflow contrib mixed precision import lossscaleoptimizer optimizer adamoptimizer loss scale manager init loss scale 2
url issuecomment
conda create n kerasenv python version conda activate kerasenv pip install tensorflow git clone url cd keras sudo python setup py install
provide a reproducible test case that is the bare minimum necessary to generate the problem
the following code causes the above exception to be thrown at the third line graph graph new graph operation pl graph opbuilder placeholder z setattr dtype datatype float build operation sum opbuilder reducesum reduce addinput pl output 0 build
scalar example import tensorflow as tf with tf session as sess a tf variable tf constant 0 b variable constant 1 sess run initializers global variables sess run stack a b 2 vector example import tensorflow as with session as sess a variable constant 0 1 b variable constant 2 3 run initializers global variables for axis in range 2 2 print axis run stack a b axis executes sucessfully but the arithmeticoptimizer fails with warning 2019 05 27 11 35 version w tensorflow core grappler optimizers graph optimizer stage h 241 failed to optimizer arithmeticoptimizer stage node strided slice error pack node stack axis attribute is out of bounds 2019 05 27 11 35 version w tensorflow core grappler optimizers graph optimizer stage h 241 failed to optimizer arithmeticoptimizer stage node strided slice error pack node stack attribute is out of bounds 1 0 1 2019 05 27 11 35 version w core grappler optimizers graph h 241 failed to arithmeticoptimizer strided slice 3 error pack 3 attribute is out of bounds 2019 05 27 11 35 version w core grappler optimizers graph h 241 failed to strided slice 3 error pack attribute is out of bounds
provide a reproducible test case that is the bare minimum necessary to generate the problem python import tensorflow as tf tf enable eager execution a tf constant float nan 5 b tf sigmoid a print b
a part of my code since the whole source code is huge and the dataset train in the following code is a tf data dataset object data train spec tf tensorspec shape none image fix height none 3 dtype tf float32 tf tensorspec shape none dtype int32 tensorspec shape none dtype int32 tensorspec shape dtype int32 function input signature data train spec def train step batch data imgs labels imgs width labels len batch with gradienttape as tape logits model imgs training true logits len cast math ceil divide imgs width block size int32 loss accuracy loss fn labels logits labels len logits len classes grads tape gradient loss model trainable variables optimizer apply gradients zip grads model trainable variables return loss accuracy def epoch epoch print f epoch epoch training start for step batch in enumerate dataset take num accuracy step batch if step 1 args show per iterations 0 accuracy get numpy mean np mean mean np mean 100 prefix f 1 training print f of prefix is 6f print f of prefix is 3f print training finish
here s a minimal example python import numpy as np import tensorflow as tf batch size 32 sequence len 1 embedding size 100 x train np random randn batch size sequence len embedding size y train np random randn batch embedding sample weight np random randn batch train input tf keras input shape sequence len embedding lstm layer tf keras layers lstm 200 return sequences false train input dense layer tf keras layers dense lstm layer model keras models model inputs input outputs dense layer model summary model compile optimizer optimizers rmsprop lr version loss losses mean squared error loss on x y y sample weight sample weight
the following code raises an assertion error python import tensorflow as tf def reduce func key dataset assert isinstance dataset tf data dataset return dataset batch 5 tf data range 100 apply tf data experimental group by window lambda x x 2 reduce func window size 5
python import tensorflow as tf import tensorflow datasets as tfds train test tfds load name mnist split tfds split train tfds split test as supervised true def scale image label return tf cast image tf float32 255 label model tf keras sequential keras layers conv2d 32 3 activation relu input shape 28 28 1 keras layers maxpooling2d keras layers flatten layers dense 64 activation relu dense 10 activation softmax model compile loss sparse categorical crossentropy optimizer adam model fit train batch 256 validation data test batch 256
provide a reproducible test case that is the bare minimum necessary to generate the problem please see this gist url
here is the snapshot of the models which produced the aforementioned errors 1 model 1 2 url 2 model 2 3 url models models zip url both run in cpu mode but fails in gpu
the model is quite complex but the issue seem to come from one of the custom layer which has a kernel defined like so python kernel weights self add weight kernel weights shape self indices shape 0 initializer self kernel initializer regularizer self regularizer constraint constraint dtype dtype trainable trainable tf sparsetensor indices weights dense shape and a call function defined as so python def call x
provide a reproducible test case that is the bare minimum necessary to generate the problem please refer to this gist url
python import numpy as np import tensorflow as tf x np random random 1000 2 y 2 x 0 3 x 1 np random normal size 1000 input tf keras input 2 name input output tf keras layers dense 1 input model tf keras model inputs outputs output model compile optimizers adam loss losses mse with this setup i observe python model fit x y steps per epoch 2 batch size 10 0s 38ms step loss version but on the other hand if i pass the as a dictionary i observe python fit y steps per epoch batch size 10 1000 1000 5s 5ms sample loss version strangely if i then run the first fit command again it also performs a full pass over the data rather than doing specified number of steps as originally in tensorflow 1 with same code above but a tensorflow 1 friendly compilation step python compile train adamoptimizer loss losses mean squared error do not see same issue number of steps is specified whether data is passed in a dictionary or not
classifier layer layers lamdba classifier layer input shape image size 3 classifier model tf keras sequential classifier layer mode summary provide a reproducible test case that is the bare minimum necessary to generate the problem just compile it
python import tensorflow as tf import tensorflow datasets as tfds tf enable eager execution if version 1 x data tfds load mnist split tfds split train cached data cache cache mnist shuffle 100 repeat batch 128 for feat in cached print iterating
just run label image tf example and with this valgrind tool massif pages as heap yes massif out file massif out bazel bin tensorflow lite examples label image label image m mobilenet v2 version 224 tflite i grace hopper bmp grep mem heap b massif out sed e s mem heap b 1 sort g tail n 1
a tf placeholder tf float64 none none b tf placeholder tf float64 none none res matmul a b in1 np random uniform size 998 257 in2 np random uniform size 257 80 print in1 dtype print in2 dtype numpy result f64 np matmul in1 in2 numpy result f32 np matmul in1 astype float32 in2 astype float32 with session as sess tensorflow result sess run res feed dict a b print numpy result f64 tensorflow numpy f64 max print f32 tensorflow f32 max out float64 float64 version version e 07 this has the same issue whether the code is run on gpu or cpu this issue does not appear on version
import tensorflow as tf import numpy as np import os import sys input layer tf keras layers input shape 4 3 batch size 1 layer1 tf keras layers dense 20 input layer layer2 tf keras layers dense 1 name output1 layer1 layer3 keras layers dense 1 name output2 layer1 model model inputs input layer outputs layer2 layer3 alpha backend variable version model compile optimizer optimizers adam lr version loss output1 metrics binary crossentropy output2 metrics binary crossentropy loss weights version alpha model fit is skipped just to get straight to error save weights h5 just execute this code as it is it will throw same error
python import tensorflow as tf import tensorflow datasets as tfds tf enable eager execution if version 1 x data tfds load mnist split tfds split train cached data cache cache mnist shuffle 100 repeat batch 128 for feat in cached print iterating
python import tensorflow as tf import tensorflow datasets as tfds mnist train mnist test tfds load name mnist split tfds split train tfds split test as supervised true strategy tf distribute mirroredstrategy def scale image label image tf cast image tf float32 image 255 return label train dataset mnist train map scale shuffle 1000 batch 256 test dataset test map scale batch 256 with strategy scope model keras sequential keras layers conv2d 32 3 activation relu input shape 28 28 1 keras layers maxpooling2d keras layers flatten layers dense 64 activation relu dense 10 activation softmax model compile loss sparse categorical crossentropy optimizer optimizers adam metrics accuracy model fit dataset validation data dataset epochs 10
provide a reproducible test case that is the bare minimum necessary to generate the problem
unit tests in tensor slice dataset op test cc fail when these dtypes are added
provide a reproducible test case that is the bare minimum necessary to generate the problem
python import tensorflow as tf cifar10 tf keras datasets cifar10 x train y train x test y test cifar10 load data x train x test train version test version print type model tf keras models sequential tf keras layers inputlayer input shape 32 32 3 keras layers conv2d filters 16 kernel size 3 padding same activation relu layers conv2d filters 32 kernel size 3 padding same activation relu layers flatten dense 128 activation relu dense 10 activation softmax model summary tensorboard callbacks tensorboard log dir f logs histogram freq 1 write images true write grads true csvlogger callbacks csvlogger log model compile optimizer optimizers adam lr 1e 4 loss sparse categorical crossentropy metrics accuracy model fit y epochs 5 callbacks tensorboard csvlogger validation data y
python model tf keras models sequential tf keras layers dense 1 input shape 1 model compile loss mae optimizer adam def generator i 0 while 1 yield np array i i i 1 valdata np arange 10 np arange 10 history model fit generator generator steps per epoch 5 verbose 0 validation data valdata output 10 10 0s 6ms sample loss version omitting validation data stops the output from appearing link to an example notebook url
import tensorflow as tf def mul x y tf layers dense x 3 return y x tf placeholder tf float32 none 2 with gradienttape as gg gg watch x f eval mul grad gg gradient f eval del gg gpu options gpuoptions per process gpu memory fraction version sess interactivesession config configproto gpu options gpu options sess run global variables initializer import time time sleep 5
python import math import numpy as np import tensorflow as tf class somefeeder tf keras utils sequence a dummy sequence slightly modified tf keras utils sequence example def init self x set y set batch size self x self y x set y set self batch size batch size def len return math ceil len x batch size def getitem idx idx idx 1 y idx 1 return simple dummy model input tf keras input 4 output keras layers dense 1 activation sigmoid input model model inputs input outputs output model compile optimizer optimizers sgd lr version loss binary crossentropy dummy data np random rand 100 4 astype np float32 np random choice 0 1 100 astype float32 somefeeder 4 train the with steps per epoch 5 fit epochs 10 steps per epoch 5
provide a reproducible test case that is the bare minimum necessary to generate the problem here is the saved model ver1 zip url
python graph mode import tensorflow as tf x tf random normal 5 seed 1 with tf session as sess for i in range 3 print sess run x output version version version version python eager mode import tensorflow as tf enable eager execution x random normal 5 seed 1 for i in range 3 print x numpy output
you can reproduce the problem using the following code python import time import tensorflow as tf def build tensor depth fibonacci tf zeros shape tf ones shape for in range depth fibonacci append fibonacci 2 fibonacci 1 return 1 def main for depth in range 15 25 with tf graph as default tensor build tensor depth start time time perf counter variable initial value tensor end time perf counter print format end start if name main main
provide a reproducible test case that is the bare minimum necessary to generate the problem url scrollto btf2csfh2iex pip install tensorflow version alpha0 import tensorflow as tf import numpy as np from tensorflow import keras tf version model tf keras sequential keras layers dense units 1 input shape 1 model compile optimizer sgd loss mean squared error xs np array version version dtype float ys np array dtype float model fit xs ys epochs 500 print model predict
import tensorflow as tf import numpy as np def conv x filters kernel size strides 1 1 padding same initializer he normal c tf keras layers conv2d filters filters kernel size kernel size strides strides padding padding kernel initializer initializer use bias false x return c def conv bn x filters size strides 1 1 padding same initializer he normal bn gamma ones c conv x c bn tf keras layers batchnormalization gamma bn gamma return def conv relu same he normal gamma ones return tf keras layers activation relu def gap output output keras layers globalaveragepooling2d return my block output inter c1 relu inter c2 relu c1 inter 3 3 c3 c2 output zeros p add c3 activation p my block inc inter strides1x1 strides2x2 2 2 c1 strides1x1 c2 c1 3 3 strides2x2 c3 c2 zeros np multiply strides1x1 strides2x2 s shortcut p add c3 s activation p repeat blocks block delegate count
python import numpy as np import tensorflow as tf def input fn x np random random 1024 10 y np random randint 2 size 1024 1 x tf cast x tf float32 dataset tf data dataset from tensor slices x y dataset dataset shuffle 100 batch 32 repeat 10 def extract features y features z zeros like return features y map extract features return class mymodel0 keras model def init self super mymodel self init self keras layers densefeatures feature column numeric column shape 10 self dense1 keras layers dense 16 activation relu dense2 keras layers dense 1 activation sigmoid def call inputs training none mask none outputs inputs outputs dense1 outputs outputs dense2 return model mymodel model compile loss binary crossentropy optimizer optimizers adam lr version works model run eagerly true fit input fn works run eagerly false fit input fn works run eagerly true fit generator input fn fails run eagerly false fit generator
see the above provide a reproducible test case that is the bare minimum necessary to generate the problem
cells tf keras layers lstmcell 32 tf keras layers lstmcell 64 x tf keras input batch shape 42 none 5 layer tf keras layers rnn cells stateful true y layer x
provide a reproducible test case that is the bare minimum necessary to generate the problem from future import print function import tensorflow as tf tf enable eager execution device policy tf contrib eager device placement explicit import numpy as np create an arbitrary tensor on the gpu a tf convert to tensor np zeros 5 5 dtype float32 gpu print a device says it s on the gpu correctly b shape a print b device says it s on gpu c cast b float32 error says first argument is on cpu c cast b float32 no error print true
provide a reproducible test case that is the bare minimum necessary to generate the problem from future import print function import tensorflow as tf with tf device cpu 0 val0 tf ones 1 dtype tf float32 val0 print val0 a atan2 val0 b atan2 1 1 c concat a b axis 0 c identity c with session as sess print sess run c
attached with this is the models and error logs of the models the model is a modified version of the deeplab gpu delegate model provided by google input size is 197
python import tensorflow as tf import tensorflow hub as hub strategy tf distribute mirroredstrategy with strategy scope model tf keras sequential hub keraslayer url output shape 2048 trainable true
import tensorflow as tf from tensorflow python import debug as tf debug dataset tf data dataset range 3 iterator dataset make initializable iterator next element iterator get next result tf add next element next element with session as sess sess debug sess sess run iterator initializer while true try output run result print output except errors outofrangeerror print end of dataset break
provide a reproducible test case that is the bare minimum necessary to generate the problem python if hasattr tf enable eager execution tf enable eager execution tf keras backend set session tf debug session bash python m train debug
import tensorflow as tf import numpy as np from tensorflow keras applications import vgg19 from tensorflow keras layers import input upsampling2d conv2d from tensorflow keras models model dg datagen output types tf float32 output shapes tf tensorshape none none ds tf data dataset from generator dg gen output types output types shapes shapes for v in ds take 10 print v and the generator class datagen def init self self im shape 256 256 3 self vgg self build vgg loss def build vgg loss vgg vgg19 weights imagenet include top false input shape im shape outputs get layer block1 conv1 get layer block2 conv1 get layer block3 conv1 get layer block4 conv1 model model inputs inputs outputs outputs model trainable false return def gen while true a np random randn 1 256 256 3 astype np float32 a np array a 3 reshape 1 512 a mean axis 0 cov matrix matmul t print cov matrix shape values vectors linalg eig cov matrix diag values yield
i cannot reveal the code for proprietary reasons but i could furnish a similar version if need be any help in this regard would be much appreciated
a short mnist example i realized that removing the to categorical transformation resolves the shape errors but the model does not learn properly anymore from tensorflow python keras datasets import mnist from tensorflow python keras utils import to categorical import tensorflow as tf import numpy as np x train y train x test y test mnist load data x train x test train astype float 255 test astype float 255 reshape len 28 28 1 reshape len 28 28 1 y y to categorical to categorical model definition model tf keras sequential tf keras layers conv2d 16 8 strides 2 padding same activation relu input shape 1 tf layers maxpool2d 2 1 layers conv2d 32 4 strides 2 padding valid activation relu layers maxpool2d 2 flatten dense 32 activation relu dense 10 activation softmax optimizer gradientdescentoptimizer learning rate version this causes errors loss losses categoricalcrossentropy from logits false using the keyword everything works loss crossentropy compile model with compile optimizer optimizer loss loss metrics accuracy with fit epochs 5 batch size 1000 validation data verbose thank you
image placeholder tf placeholder dtype tf float32 shape 1 none none 1 src pts tf constant 10 10 dest pts tf constant 100 100 contrib image sparse image warp image placeholder source control point locations src pts dest control point locations dest pts interpolation order 2 regularization weight 0 num boundary points 1
python model tf keras models sequential model add tf keras layers embedding vocab size 100 weights embedding matrix input length 10 model add tf compat v1 keras layers cudnnlstm 50 model add tf keras layers dense 50 activation relu add layers flatten dropout version dense 1 activation sigmoid es callbacks earlystopping monitor binary crossentropy patience 10 compile optimizer adam loss binary crossentropy metrics acc callback es fit train padded docs train labels validation data val padded docs val labels epochs 15 verbose 1 batch size 10000
provide a reproducible test case that is the bare minimum necessary to generate the problem
correct behavior with a dilation rate 1 model tf keras models sequential tf keras layers conv1d 24 kernel size 2 dilation rate 1 padding causal kernel regularizer tfk regularizers l2 version input shape 2560 8 tf keras layers relu tf keras layers dense 10 layers softmax model summary model sequential 2 layer type output shape param conv1d 26 conv1d none 2560 24 408 re lu 23 relu none 2560 24 0 dense 3 dense none 2560 10 250 softmax 2 softmax none 10 0 total params 658 trainable params 658 non trainable params 0 shape inference fails with a dilation rate 2 or 1 the second dimension of the output shape s is lost model models sequential conv1d 24 kernel size dilation rate padding causal kernel regularizer tfk regularizers l2 version input 8 relu dense 10 softmax summary sequential 3 layer type output param 27 408 re lu relu 0 4 250 3 total params 658 trainable 658 non trainable please note that the behavior in was correct independently of the
from sklearn import datasets from sklearn model selection import train test split from sklearn preprocessing import standardscaler onehotencoder import tensorflow as tf from tensorflow python keras iris datasets load iris scl standardscaler ohe onehotencoder categories auto data norm scl fit transform iris data data target ohe fit transform iris target reshape 1 1 toarray train data val train target val target train test split norm test size version test split size version dataset tf dataset tensor slices dataset dataset batch 32 repeat tf tensor slices batch 32 repeat val tf tensor slices val batch 12 repeat mdl keras sequential keras layers dense 16 input dim 4 activation relu keras layers dense 8 activation relu layers dense 8 activation relu layers dense 3 activation softmax mdl compile optimizer optimizers adam version loss losses categorical crossentropy metrics metrics categorical accuracy history mdl fit epochs 10 steps per epoch 15 validation validation steps 12 results mdl evaluate steps 15 comparison predict classes
python import tensorflow as tf import numpy as np images np random rand 5 108 56 3 y pred np random rand 5 4 y true np array aa bb cc dd ee dataset tf data dataset from tensor slices images y true dataset dataset batch 5 repeat model tf keras sequential tf keras layers conv2d 16 3 3 activation relu keras layers globalaveragepooling2d keras layers dense 4 def triplet loss y true pred all diffs expand dims pred axis 1 expand dims pred axis 0 distances sqrt reduce sum square all diffs axis 1 1e 12 furthest positive reduce max distances axis 1 closest negative map fn lambda x reduce min x distances diff furthest positive closest negative diff nn softplus diff return diff optimizer optimizers adam learning rate version model compile loss triplet loss optimizer optimizer model fit steps per epoch 5 epochs 10 verbose 1 when using a lower level implementation it works correctly python for images labels in with gradienttape as tape model images training true loss value triplet labels grads tape gradient value trainable variables optimizer apply gradients zip grads trainable variables print iteration done
import tensorflow as tf import pdb import cv2 import base64 tf enable eager execution with tf session as sess img path 7953 4 3337 294 54 110 txt with open img path r as the file image string base64 the file read image string tf decode base64 image string base64 image decode png string resize with pad 108 56 print img array sess run print img array shape cv2 imwrite test png cv2 cvtcolor array cv2 color bgr2rgb
import tensorflow as tf if not tf executing eagerly tf enable eager execution
take any saved model that contains a function returning a dict then run this conversion params trt convert default trt conversion params replace precision mode trt convert trtprecisionmode fp16 max batch size 1 max workspace size bytes trt converter convert trtgraphconverterv2 input saved model dir your saved model input saved model signature key your key conversion params conversion params converter convert converter save your use cli to inspect the
the following code is adapted from the guide writing layers and models with tensorflow keras url putting it all together an end to end example i simply customized the formatting and added a metric to track the mean squared error in addition to total loss on a side note code in guide url putting it all together an end to end example seems forget use reset states on metric at beginning of each epoch import tensorflow as tf from tensorflow keras import layers from time import time class sampling layers layer uses z mean z log var sample z vector encoding a digit def call self inputs training none z mean log var inputs batch tf shape mean 0 dim tf shape 1 epsilon tf keras backend random normal shape batch dim return exp version log var epsilon sqrt var epsilon class encoder layers layer maps mnist digits a triplet log def init self latent dim 32 intermediate dim 64 name encoder
simply run python interepreter with attached tfite file import sys import numpy as np import tensorflow print tensorflow version from tensorflow lite python import interpreter as interpreter wrapper interpreter interpreter wrapper model path sys argv 1 allocate tensors input details get input details output details get output details print input print output conv2d bias optional tflite zip url
steps to reproduce git clone url git checkout tensorflow version if needed pip3 install r requirements txt export flask app flaskapp py start the app with flask run using postman or curl send any image of a dog or cat to the app screenshot 2019 04 30 at 16 10 57 url or curl x post url h postman token ea35b79b b34d 4be1 a80c h cache control no cache h content type multipart form data boundary f image users haitham b projects researchprojects cnns deeplearning showcase data sample valid dogs dog 1008 jpg
provide a reproducible test case that is the bare minimum necessary to generate the problem from pil import image import numpy as np import tensorflow as tf tf enable eager execution path tmp 65c10f7c 807e 11e8 8f11 png im image open path ar np asarray im pil max np max ar print pil max im tf gfile fastgfile path rb read ar tf image decode png im channels 1 max reduce ar print assert pil image here url
import tensorflow as tf def transform tag python x return version dataset tf data dataset from tensor slices tag1 dataset dataset map lambda x tf py function transform tag python x tf float32 for sample in print sample
you can see that this code works correctly def load image x image tf io read file x image tf io decode image tf resize size 128 128 preserve aspect ratio true return with tf device cpu 0 2 load test jpg print 2 numpy shape but this code will be failed import tensorflow as def load x io read file x io decode resize size 128 128 preserve aspect ratio true return with device cpu 0 dataset data dataset from tensor slices test jpg dataset dataset map load for in print numpy shape changing decode to decode png or jpeg can be temporary solution
import tensorflow as tf def load image x image tf io read file x image tf io decode png image tf resize size 128 128 preserve aspect ratio true return with device cpu 0 2 load test jpg print 2 numpy shape
this to raise the warning import tensorflow as tf import tensorflow keras layers as ll input ll input 100 50 x ll lstm 100 input this to try to use cudnnlstm import tensorflow as tf import tensorflow keras layers as ll input 100 50 x tf keras layers cudnnlstm 100
run this script url passing as an argument this file url to create an h5 keras model then load model the resulting h5 file and call model compile adam categorical crossentropy
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf import numpy as np import platform print python version platform python version print tensorflow version tf version print numpy np x tf random normal 1 1 256 dtype tf float32 stddev seed 1 w random normal 1 256 60 dtype float32 stddev seed s session a matmul x w b matmul tile x 2 w a b s run a b print 0 0 0 b 0 for me the output is python tensorflow numpy 2019 04 28 12 27 i tensorflow core platform cpu feature guard cc 141 your cpu supports instructions that this binary was not compiled to use avx2 e 08 e 08
use attached tflite file to reproduce the issue add tflite zip url
provide a reproducible test case that is the bare minimum necessary to generate the problem python import tensorflow as tf tf function def func a i tf constant 0 return a i t tf tuple constant 0 constant 1 a func t
python usr bin python import tensorflow as tf import numpy as np constant tf keras initializers constant inter op parallelism threads 1 inter op parallelism threads 20 session conf tf configproto intra op parallelism threads 1 inter op parallelism threads inter graph tf get default graph session session graph graph config session conf keras backend set optimizer keras optimizers nadam lr version beta 1 version beta 2 version epsilon 1e 7 bias constant np array version weights constant np array layer keras layers dense 1 bias initializer bias kernel initializer weights input shape model sequential model add layer model compile optimizer optimizer metrics accuracy loss mean squared error input np array output array model train on batch input output w layer get weights print w output when is set to 20 so iterations starts at 0 dtype float32 dtype float32 output when is set to so iterations starts at dtype float32 dtype float32
tf contrib eager defun def fn idx 0 max iter 5 def loop body idx print loop once return idx 1 tf while loop lambda idx max iter lambda loop body fn only printed once provide a reproducible test case that is the bare minimum necessary to generate the problem
provide a reproducible test case that is the bare minimum necessary to generate the problem
provide a reproducible test case that is the bare minimum necessary to generate the problem see above
python import numpy as np import tensorflow as tf m tf keras sequential tf keras layers masking 0 tf keras layers lambda nn sigmoid keras layers globalmaxpool1d m np array 0 the above code does not fail and produces empty output mask if the lambda layer is replaced by globalmaxpool1d which does not support masking the model fails during construction
almost same as example below url we d happy to attach our tflite model but github says it s too large the beginning of our model is like this img width 1136 alt 2019 04 25 16 43 52 src url
provide a reproducible test case that is the bare minimum necessary to generate the problem model tf keras sequential tf keras layers dense 128 activation tf nn relu tf keras layers dense 11 activation nn softmax model compile optimizer adam loss sparse categorical crossentropy metrics accuracy model fit trainingdata traininglabels epochs 400 keras models save model file converter contrib lite tfliteconverter from file file tflite converter convert open converted tflite wb write tflite
import tensorflow as tf feature columns tf feature column numeric column header for header in c1 c2 class testmodel tf keras model def init self feature columns super testmodel self init self feature layer tf keras layers densefeatures columns self dense layer keras layers dense 8 def call inputs x layer inputs return dense layer x model testmodel columns shape c1 1 1 c2 1 1 change to shape also fails model build shape print model trainable variables
for tf version or 1 x import numpy as np import tensorflow as tf tf config gpu set per process memory growth true size 28000 inputs tf keras input size dtype float32 outputs keras layers dense size inputs model keras models model inputs inputs outputs outputs model predict np ones 1 size dtype np float32 print complete while true pass for 1 x or cntk with keras import import numpy as np 28000 input dtype float32 outputs layers dense model models predict ones 1 dtype float32 print complete while true pass with 8gb vram gpu x and cntk works successfully and version code are failed due to resource exhausted exception
the code that is running can be found here url the commands that run this code are listed above
provide a reproducible test case that is the bare minimum necessary to generate the problem from tensorflow keras models import sequential from tensorflow keras callbacks import modelcheckpoint reducelronplateau earlystopping model sequential earlystopping earlystopping patience 100 monitor val loss verbose 1 restore best weights true checkpoint modelcheckpoint weights model epoch 02d val loss 3f val acc 3f loss 3f acc 3f h5 monitor val loss verbose 1 save best only true reduce lr reducelronplateau patience 1 monitor verbose 1 callbacks earlystopping checkpoint reduce lr tmodel fit x train y train batch size 32 epochs 1000 validation data x test y test callbacks callbacks verbose
import tensorflow as tf from tensorflow keras layers import input lambda class twooutputs tf keras layers layer def call self x return x 1 x 1 inputs input 2 dtype tf int32 outputs twooutputs inputs subclass version is broken outputs lambda lambda x 1 1 inputs functional version also broken model tf keras model inputs outputs print model constant 0 2 3 works fine saved model save checkpoints test saved load checkpoints test infer signatures saved default serving signature def key print infer structured outputs wrong signatures print infer constant 0 2 3 wrong output
the failure is intermittent
import tensorflow as tf def foo x array tf variable lambda tf zeros 20 dtype tf float32 trainable false use resource true ind reshape x 1 1 val reshape cast x float32 1 array assign array assign zeros like array with control dependencies assign scatter nd update ind cast val dtype float32 return dataset data dataset range 20 dataset dataset map foo batch 5 apply data experimental map and batch foo 5 num parallel batches 1 iterator make initializable iterator with session as sess sess run global variables initializer sess run iterator initializer next element iterator get next fetches sess run next element print fetches
provide a reproducible test case that is the bare minimum necessary to generate the problem
import tensorflow as tf initialising the rnn regressor tf keras models sequential adding the first lstm layer and some dropout regularisation regressor add tf keras layers lstm units 50 return sequences true input shape x train shape 1 1 using not perfomance optimized lstm produces warning regressor add tf keras layers dropout version adding a second lstm layer and some dropout regularisation regressor add keras layers cudnnlstm units 50 return sequences true using log suggested throws attributeerror add layers dropout version stocks zip url
import tensorflow as tf import numpy as np x tf variable initial value version name x dtype tf float32 y tf variable initial value version name y dtype float32 zero constant value version dtype np float32 name zero op1 assign x zero with control dependencies op1 op2 assign y x with control dependencies op2 assign add y 1 name assign add sess session sess run add print sess run 0
provide a reproducible test case that is the bare minimum necessary to generate the problem please refer to my project at url after train with train mnist py executing start serving sh will reproduce the problem
from tensorflow import keras from tensorflow keras import layers inputs keras input shape 784 name digits x layers activation relu inputs x keras activations relu inputs outputs layers dense 10 activation softmax name predictions x model model inputs outputs outputs name 3 layer mlp model summary model save path to my h5 if you changed from activation to relu it failed to serialize
provide a reproducible test case that is the bare minimum necessary to generate the problem
1 generate a tflite file after model training on desktop 2 download aar file from url 3 build android binary using downloaded aar file and tflite file along with android application trying to load tflite 4 run time error while app is trying to load the tflite provide a reproducible test case that is the bare minimum necessary to generate the problem
python import pandas as pd import numpy as np from sklearn datasets import make classification from sklearn metrics import roc auc score tensorflow as tf from tensorflow logging set verbosity from tensorflow estimator inputs pandas input fn tensorflow estimator linearclassifier feature column numeric column x y make classification n samples 50000 n classes 2 n clusters per class 4 class sep version random state 10 weights version version n features 10 informative 5 x pd dataframe x columns f format i for i in range 10 y pd series y input fn pandas input fn x y batch size 5 num epochs 1 shuffle false feature columns numeric column key c for c in columns classifier linearclassifier feature columns config tf estimator runconfig tf random seed 10 classifier train input fn steps 1 print for c in print c classifier get variable value linear linear model weights format 0 0 feature numeric column key for in classifier linearclassifier config tf estimator runconfig random seed 31231 train steps 1 print print get variable value linear linear model weights format 0 0
i install tensorflow as i tell and i try import tensorflow
provide a reproducible test case that is the bare minimum necessary to generate the problem i can if deemed necessary
run the following code multiple times and have a look at the tensorboard results by running tensorboard logdir test outputs import os from tensorflow import keras log dir test outputs model file os path join log dir model hdf5 x train y train keras datasets mnist load data def create model tmodel keras models sequential t tkeras layers flatten input shape 28 28 name flatten t tkeras layers dense 128 activation relu name dense1 t tkeras layers dropout version name dropout t tkeras layers dense 10 activation softmax name dense2 tmodel compile optimizer adam loss sparse categorical crossentropy metrics accuracy treturn model if os path exists file tmodel keras models load file else tmodel create fit x train y train epochs 5 callbacks callbacks tensorboard log dir log dir callbacks modelcheckpoint file
provide a reproducible test case that is the bare minimum necessary to generate the problem python usr bin python3 import tensorflow as tf def main log tf summary create file writer checkpoints with log as default tf summary scalar loss 1 step 0 if name main main
provide a reproducible test case that is the bare minimum necessary to generate the problem python import numpy as onp import autograd as ag import autograd numpy as anp import numpy as onp tensorflow tf inp anp array version print input inp def ag fn x real anp cos x 2 imag anp sin x 1 return abs real 1j imag ag hess ag hessian fn print val fn inp print hess hess inp def tf fn x real tf cos 2 imag tf sin 1 return abs complex real imag convert to tensor placeholder shape tuple dtype onp float64 out op grad gradients out op 0 hess hessians out op 0 sess session delta 1e 7 d0 ad sess run out op grad feed dict d1 sess run grad feed dict delta print numerical derivative d1 d0 delta autodiff derivative ad input version val version version 2019 04 14 22 55 i tensorflow core platform cpu feature guard cc 141 your cpu supports instructions that this tensorflow binary was not compiled to use avx2 fma numerical derivative autodiff derivative
provide a reproducible test case that is the bare minimum necessary to generate the problem first run the docker image then run the code in python docker run it runtime nvidia rm e nvidia visible device 0 1 2 3 v usr scratch usr scratch tensorflow tensorflow latest gpu py3 python 1 import tensorflow as tf tf enable eager execution print tf matmul 1 2 3 4 1 2 3 4 nvidia smi 2 import tensorflow as tf enable eager execution image model keras applications inceptionv3 include top false weights imagenet new input image model input hidden layer image model layers output features extract model keras new input hidden layer x zeros 299 299 3 just use a zero tensor instead of dataset tensor features extract x this will raise error internalerror blas sgemm launch failed m 5329 n 80 k 64 op conv2d
python import keras import tensorflow keras as keras timesteps 10 input dim 8 output dim 8 cells keras layers lstmcell output dim layers lstmcell output dim layers lstmcell output inputs input timesteps input encoder layers rnn cells return state true inputs states encoder 1 decoder rnn cells inputs initial state states model models model inputs decoder model compile optimizer rmsprop loss mse
provide a reproducible test case that is the bare minimum necessary to generate the problem assert tf executing eagerly can trigger an assertion failure
call the python file with tf installed python fully connected reader py
i have my pb file attached below my frozen graph zip url my toco code below to regenerate the error graph def file my frozen graph pb this is the pb file input arrays reshape 1 this is the name of the input node output arrays labels softmax this is name of ouput node converter tf contrib lite tfliteconverter from frozen graph def file input arrays output arrays converter inference type tf contrib lite constants quantized uint8 input converter get converter quantized stats 0 227 version mean std dev tflite model convert open static rnn with unstack tflite wb write tflite model resulting tflite
i tried to compile a small and representative snippet that is the base logic for gradient accumulation python import tensorflow as tf def train op accum steps none step tf variable initial value 0 dtype tf int32 trainable false optimizer tf optimizers sgd learning rate version variables variable zeros 4 5 dtype float32 gradients variable ones 4 5 dtype float32 trainable false if accum steps is none return optimizer apply gradients zip gradients variables else return cond equal step 1 accum steps 0 true fn lambda optimizer apply gradients zip variables false fn no op devices gpu 2 gpu 3 strategy distribute mirroredstrategy devices devices strategy distribute onedevicestrategy device devices 0 accum count 8 with graph as default with strategy scope train op strategy extended call for each replica train op args count config compat v1 configproto allow soft placement true with compat v1 session config config as sess sess run compat v1 global variables initializer sess run train the above code does not fail if onedevicestrategy is used or count is set to none
provide a reproducible test case that is the bare minimum necessary to generate the problem docker run it rm tensorflow tensorflow latest gpu py3 apt install y mpich horovod with tensorflow 1 pip install v horovod
work in progress notebook can be found here url i am using a very basic keras model with optimiser tf keras optimizers adam lr version beta 1 version epsilon 1e 07 compile model model compile loss categorical crossentropy optimizer optimiser metrics accuracy strategy none working strategy tf distribute mirroredstrategy crashing with tf version but working with tf 1 x config estimator to use a give strategy training config estimator runconfig train distribute strategy model dir flags dir save summary steps 1 save checkpoints steps 100 keep checkpoint max 3 log step count steps 10 transfor keras to estimator estimator train keras to opt config training config fit the using train and data dataset train input fn lambda mnist v1 input mnist tfrecord dataset fn path tfrecords flags mode modekeys batch size flags batch size steps 1000
i ve created a github gist file that can be run on randomly generated data and prints reports about the ops url usage python train tensorflow py random data true alternatively the preprocessed data can be downloaded from url you can also easily use it in combination with tensorboard just ask the command argument parser for some help
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf input array tf range 10 print input array dataset tf data dataset from tensor slices input array shuffle 5 def print values for val in dataset print val numpy end print values values output tf tensor 0 1 2 3 4 5 6 7 8 9 shape 10 dtype int32 2 1 4 6 0 8 9 5 7 3 2 1 4 6 0 8 9 5 7 3
provide a reproducible test case that is the bare minimum necessary to generate the problem def parse tf record tf record features image tf io fixedlenfeature tf string default value height io fixedlenfeature int64 default value 0 width io fixedlenfeature int64 default value 0 shape io varlenfeature float32 parsed features parse single example record features image decode raw parsed features image uint8 height cast parsed height int32 width cast parsed width int32 image reshape height width 3 convert dtype dtype float32 shape sparse to dense shape default value version shape reshape config num point 6 print numpy when using dataset map will fail at this line return def run train train record dataset data tfrecorddataset train for item in dataset parse item when debug into the all the tensor in parse is eagertensor dataset repeat shuffle 1000 map num parallel calls 4 batch 32 when debug into all tensor in is tensor for item in take 1 print item if name main train run
provide a reproducible test case that is the bare minimum necessary to generate the problem tensorflow status status create sess tensorflow newsession tensorflow sessionoptions m sess tif status create sess ok t tcout error fail to create session endl t tcout status create sess tostring endl t tm eris fail to session t treturn m eris tm graphdef new std nothrow tensorflow graphdef tif m graphdef null tcout error fail to load model endl tm eris fail load model treturn m eris ttensorflow load readbinaryproto env default model path graphdef tif load ok tcout error model endl tostring tm treturn ttensorflow tif ok error graph in session tostring graph treturn
url l199 l200 the problem can be reproduced without the two lines workaround
provide a reproducible test case that is the bare minimum necessary to generate the problem
see above thanks for any insight
provide a reproducible test case that is the bare minimum necessary to generate the problem
to reproduce in this pull request url go to decoder py and change the signature of class in line 132 the warning disappear for pylint2 in current pull request as currently it imports layers from tensorflow python keras and then extends layers layers
try the code yourself here url
from future import absolute import from future import division from future import print function from datetime datetime packaging version tensorflow as tf tensorflow keras print tensorflow version tf version define the model model keras models sequential keras layers flatten input shape 28 28 keras layers dense 32 activation relu layers dropout version layers dense 10 activation softmax model compile optimizer adam loss sparse categorical crossentropy metrics accuracy train images train labels datasets fashion mnist load data train images train images logdir logs fit datetime now strftime y m d h m s tensorboard callback callbacks tensorboard log dir logdir the model fit images labels batch size 64 epochs 5 callbacks tensorboard callback attached file is zipped logs directory to be viewed with tensorboard logs zip url
sorry i do not have a simple snippet to reproduce this issue but could you find something in the traceback see below please
python import tensorflow as tf import scipy sparse import numpy as np def input fn x scipy sparse random 1 400 y scipy random randint 2 size 1 1 indices np mat x row x col transpose sp tf sparse sparsetensor indices x data shape d tf data dataset from tensors sp y return d input layer tf keras layers input shape 400 sparse true weights get variable name weights shape 400 1 weights mult lambda tensor dense matmul weights output layer keras layers lambda mult input layer model keras model layer output model compile loss binary crossentropy optimizer sgd metrics accuracy d fn model fit d make one shot iterator epochs 3 steps per epoch
provide a reproducible test case that is the bare minimum necessary to generate the problem a minimal code is like import tensorflow as tf seed tf variable 0 dtype tf int64 trainable false use resource true def eject x seed assign x return seed seed x x dataset tf data dataset range 10000 dataset dataset map eject num parallel calls 1 iterator make initializable iterator with session as sess sess run global variables initializer sess run iterator initializer next element iterator get next for i in range 10 fetches sess run next element print fetches
python import gc import objgraph import tensorflow as tf tf custom gradient def op x def grad dy return dy version return x grad def run use custom gradient with tf session graph tf graph as sess x constant 1 2 3 if use custom gradient print using custom gradient x op sess run def log gc collect print number of uncollected graphs len objgraph by type graph for use in false true true false false true run use log outputs number of uncollected graphs 0 using number of uncollected graphs 1 using number of uncollected graphs 2 2 2 using 3 ideally it should always say 0
provide a reproducible test case that is the bare minimum necessary to generate the problem
provide a reproducible test case that is the bare minimum necessary to generate the problem python import tensorflow as tf import numpy as np use eager true use tfdataset true if not use eager tf compat v1 disable eager execution build dataset n data 10
provide a reproducible test case that is the bare minimum necessary to generate the problem return tf estimator dnnclassifier model dir flags model dir feature columns deep columns optimizer tf train adamoptimizer learning rate version optimizer tf contrib opt lazyadamoptimizer learning rate version hidden units hidden units config my checkpointing config and it cost 200s for every 100 steps the same time as adamoptimizer
the following code fails because the internal simplernncell is not built before it is used if you uncomment the two lines that define the build method then everything works fine but this should not be required just like it is not required for custom layers python import numpy as np from tensorflow import keras class mycell keras layers layer def init self units
provide a reproducible test case that is the bare minimum necessary to generate the problem just add some jni code to the official demo would got the same issue
python import tensorflow as tf class layer tf keras layers layer def init self super layer self init self layer fn tf keras layers dense print variables
for a reproducible test i also tried this to see if the memory leakage is due to something else python import tensorflow as tf import numpy as np iterator tf data iterator from structure output types tf float64 output shapes 1536 1536 2 sess tf interactivesession for i in range 100 data constant np random rand 10 1536 1536 2 dataset data dataset from tensor slices data ite iterator make initializer dataset sess run ite i can still see a huge memory usage when executing this
python import time import numpy as np import tensorflow as tf tf enable v2 behavior d 2 n 22 note tf starts getting a lot slower than numpy at n 9 it seems try d 5 n 9 vs d 7 n 8 create a dimensional ndarray psi np random randn d for in range astype np float64 psi np psi copy for in range 5 numpy s transpose is a metadata operation copy actually carries out the reordering of the data in memory t0 time time psi transpose list range 2 0 1 copy print time t0 around version s on my system tf convert to tensor contrib eager defun make this a graph just in case def f p return transpose p list range 2 0 1 for 5 t0 f print t0 around version s on my system almost 10 times slower check results are the same print linalg norm numpy ravel ravel should print version note that the speed depends on shape we now do an equivalent tranpose but sandwiched by reshapes to reduce number of dims convert to tensor contrib eager defun def f2 p rephrase high dimensional transpose as matrix pr reshape p
provide a reproducible test case that is the bare minimum necessary to generate the problem i find this when doing a coursera online course the notebook i used can be found at link url
import tensorflow as tf print tf version inputs tf keras input shape 2 with tf name scope block outputs keras layers dense 10 inputs model keras model inputs outputs for w in model weights print w name
import tensorflow as tf def foo result tf constant 0 max val tf constant version max assert tf assert greater max val version max val with control dependencies assert result identity result return result class dummytestcase test testcase def testraises self with self test session as sess with self assertraises errors invalidargumenterror sess run foo if name main test main
from abc import abstractmethod import tensorflow as tf import logging class function object def init self name none self name name def call self params inputs
see repository url the tflite part is in application src main java com example android camera2basic tfliteinferer java when running the app it prints the ratio of zero values in each output to the android log this value is version for all outputs without gpu delegate but version with gpu delegate
compile the tensorflowlitec framework without bitcode support bazel build tensorflow lite experimental c tensorflowlitec framework c opt ios multi cpus x86 64 armv7 arm64 then for comparison compile it with bitcode support bazel build tensorflow lite experimental c tensorflowlitec framework c fastbuild ios multi cpus x86 64 armv7 arm64 apple bitcode embedded copt fembed bitcode use these with the experimental tensorflowliteswift cocoapod not yet publicly available see 25800 for reference to perform a model inference on a real device or a simulator regardless of debug release build if you use the framework with support in it then performance suffers greatly
python import tensorflow as tf from tensorflow import keras from tensorflow python framework import graph util import graph util fixed as graph util using file with fix cebce4a from tensorflow python framework graph io from python platform gfile model keras models sequential model add keras layers embedding 0x1000 output dim 128 model add keras layers lstm 512 model add layers dense 1 activation sigmoid sess backend get session output node names node op name for node in outputs constant util convert variables to constants sess sess as def output node names io write constant test pb as text false with tf session sess with gfile fastgfile test pb rb f def tf graphdef def parsefromstring f read default tf def name
tflite label image new aarch64 bazel build config android arm cxxopt std c 11 tensorflow lite examples label image label image config monolithic label image needs input and labels file i use input grace hoper bmp url labels txt from mobilenet v1 version 224 frozen tgz url
this is the example given in the docs with error message returned when ran python m tf keras metrics meaniou num classes 2 m update state 0 0 1 1 0 1 0 1 cm sum row 2 2 sum col 2 true positives iou true positives sum row sum col true positives result version print final result m result numpy final result version python attributeerror traceback most recent call last ipython input 29 in module m tf keras metrics meaniou num classes update state 3 cm 4 5 row col true positives opt conda lib python version site packages tensorflow python keras utils metrics utils py in decorated metric obj args
my custom layer class encodinglayer tf keras layers layer def init self out size super init self rnn layer tf keras layers gru out size return sequences true return state true recurrent initializer glorot uniform def call self x
provide a reproducible test case that is the bare minimum necessary to generate the problem
python3 import tensorflow as tf import numpy as np fast optimizer tf keras optimizers adam learning rate 1e 3 slow optimizer tf keras optimizers adam learning rate 1e 3 1e 9 tf function def apply gradients once optimizer grads vars grads grads optimizer apply gradients zip grads vars def apply use fast per model vars for i in range 2 if use fast i apply gradients once fast per model i vars i else gradients once slow per model def compute loss w x y r w x y
main py from keras models import load model from celery import celery states from celery import task class domainanalyzer task ignore result true def init self self model load model lstm model h5 def run self data try preprocessor preprocessor data self data preprocessor predict data return except exception as e print e app celery worker broker broker app register task domainanalyzer if name main app start worker py class preprocessor def init str def analysis return predict tried solution 1 i ve specified the multiprocessing start method multiprocessing set start method spawn force true tried solution 2 passing graph object in worker import tensorflow as tf load lstm h5 make predict function graph tf get default graph graph in worker analysis with as default return predict tried solution 3 currently only one which works use theano
google collab url
this came from a tf version port of the pytorch dynamic graph example here url pytorch control flow weight sharing import tensorflow as tf import numpy as np import random class dynamicnet tf module def init self d in h d out self input linear tf keras layers dense h input dim d in self middle linear keras layers dense h input dim h self output linear keras layers dense d out input dim def call x relu maximum linear x 0 for in range random randint 0 3 relu maximum middle relu 0 y pred output relu return y pred n in out 64 1000 100 10 x np random randn n model dynamicnet out model x assert len model variables 0 this particular example can be fixed by manually defining a property variables which combines the variables members from each of the dense layers into one list but i think this partially defeats the point of using module
provide a reproducible test case that is the bare minimum necessary to generate the problem my code url master branch is the naive implementation of dilated conv1d model samples are also in the repo branch
python import tensorflow as tf def train step input s writer with s writer as default tf summary scalar test 0 def distributed train s writer return strategy experimental run lambda x train step x s writer train iterator if name main dataset tf data dataset from tensor slices tf random uniform 5 100 strategy distribute mirroredstrategy summary summary create file tmp test with summary as default as scope with strategy scope iterator strategy make dataset iterator dataset iterator initialize experimental set step 0 this works step none this fails distributed
python import tensorflow as tf from tensorflow keras layers import input print tf version input input 128 128 1 dtype float32 print input output tf stack axis 1
from tensorflow import keras class mytensorboard1 keras callbacks tensorboard def write custom summaries self step logs none print logs at step step with regular callback class mytensorboard2 keras callbacks tensorboard def write custom summaries self step logs none print logs at with per batch callback layer keras layers input shape 1 model models model inputs layer outputs layer model compile optimizer adam loss mse callback1 mytensorboard1 callback2 mytensorboard2 update freq batch model fit x list range 6 y list range 6 epochs 10 callbacks callback1 callback2 to run this code in current nightly remove callback1 and focus on output of first epoch notice at 6 in first epoch epoch 1 10 batch loss version at 0 with per batch callback epoch loss version 6 with per callback 0s 15ms sample loss version e 00
python import tensorflow as tf tf enable v2 behavior tf svd
import tensorflow as tf python import tensorflow as tf tf function def f a tf constant 10 10 11 1 x constant 1 0 0 1 b variable 12 y matmul a x b return y print f
python import numpy as np import tensorflow as tf inputs np arange 10 outputs 2 inputs model tf keras sequential tf keras layers inputlayer input shape 1 tf keras layers dense 1 model compile optimizer keras optimizers adam loss losses meansquarederror metrics metrics meansquarederror model fit inputs outputs model save h5 loaded models load h5
i will provide a small snippet of code to reproduce the error if it is not well known
import tensorflow as tf import tensorflow keras backend as k from tensorflow keras import model from tensorflow keras layers import input lambda inputs input shape 1 y k variable version dtype tf float32 name x add y lambda lambda x tf math add x y add y trainable weights append outputs add inputs model model inputs inputs outputs outputs model summary summary shows no trainable variables
import tensorflow as tf import tensorflow keras backend as k from tensorflow keras import model from tensorflow keras layers import input lambda inputs input shape 1 y k variable version dtype tf float32 name x add y lambda lambda x tf math add x y add y trainable weights append outputs add inputs model model inputs inputs outputs outputs model summary summary shows no trainable variables
python import numpy as np import tensorflow as tf inputs np arange 10 outputs 2 inputs l2 tf keras regularizers l1l2 l2 version model tf keras sequential tf keras layers dense 1 input shape 1 kernel regularizer l2 model compile optimizer keras optimizers adam loss losses meansquarederror metrics metrics meansquarederror model fit inputs outputs
provide a reproducible test case that is the bare minimum necessary to generate the problem na
from future import absolute import division print function import tensorflow as tf import datetime from tensorflow keras callbacks tensorboard mnist tf keras datasets mnist x train y train x test y test mnist load data x train x test train version test version model tf keras models sequential tf keras layers flatten input shape 28 28 layers dense 128 activation relu layers dropout version layers dense 10 activation softmax log dir logs fit datetime datetime now strftime y m d h m s tensorboard callback tensorboard log dir model compile optimizer adam loss sparse categorical crossentropy metrics accuracy model fit y epochs 50 callbacks tensorboard callback model evaluate
python with tf graph as default as graph precision tf metrics precision precision update state 0 0 1 1 0 1 print precision updates 0 graph is graph true f1 f1 f1 update state 1 print f1 updates is false
import logging import tensorflow as tf formatter logging formatter levelname s filename s lineno s asctime s message stream logger logging getlogger logger stream stream logger setlevel logging info set handler streamhandler streamhandler streamhandler setformatter formatter stream logger addhandler streamhandler info hello world info this is message 1
a code that loops using tensorflow primitives like for i in tf range 10 can be converted into its graph representation without any problem while a code that creates a python iterator from a dataset object using iter dataset can t moreover maybe because we are in the early stage of the development i m unable to convert loop that loops over dataset to its graph representation python import tensorflow as tf def real gen for i in range 10 yield i dataset tf data from generator real gen tf float32 function def itertest print next iter itertest function def loopiter for real in print real loopiter the itertest call fails because runtimeerror iter is only supported when eager execution is enabled while the loopiter call fails because tensorflow python framework errors impl notfounderror function inference flat map flat map fn 22 is not defined node reducedataset op inference loopiter 35
python import tensorflow as tf def real gen for in range 10 yield version dataset tf data dataset from generator real gen tf float32 fails print next dataset since i can iterate on the dataset using a for loop python it works for real in print real i do expect i can treat the as an iterator thus extracting the next element by calling next
provide a reproducible test case that is the bare minimum necessary to generate the problem see tensorflow lite experimental c c api cc this is broken c syntax when tfl capi export is declspec dllimport this is small step to way to reproduce on windows foo cc declspec dllimport extern void foo g foo cc foo cc 1 35 error function void definition marked dllimport declspec dllimport extern void
provide a reproducible test case that is the bare minimum necessary to generate the problem there was too much code so i used pastebin url
python import tensorflow as tf class debugmodel tf keras model def init self super debugmodel self init self dense tf keras layers dense 20 activation relu input shape 5 def call self input args
python import tensorflow as tf cell tf keras layers lstmcell 10 cell tf nn rnncellresidualwrapper cell rnn tf keras layers rnn cell rnn keras layers bidirectional rnn
provide a reproducible test case that is the bare minimum necessary to generate the problem see above
provide a reproducible test case that is the bare minimum necessary to generate the problem tf function def do nothing x return x rt tf ragged constant 1 2 3 4 5 6 7 8 9 10 do nothing rt tf tensor id 51310 shape 10 dtype int32 numpy array 1 2 3 4 5 6 7 8 9 10 tf function def do nothing x return x rt ragged constant 1 2 3 4 5 6 7 8 9 10 do nothing rt raggedtensor values raggedtensor 1 2 3 4 5 6 7 8 9 row splits tensor 0 shape dtype int64 the ragged tensor documentation hints that this might be intended or necessary is it url rank and ragged ran
file foo py print f tf upgrade v2 fails to convert f strings like this one 42 command that produces the error tf upgrade v2 infile foo py outfile foo tf20 py
see the attached gist url
provide a reproducible test case that is the bare minimum necessary to generate the problem the first code block on url gives an error when it tries to execute python config the matplotlib backend as plotting inline in ipython matplotlib inline syntaxerror invalid syntax
bash wget url tar vxf ssd mobilenet v1 coco 2018 01 28 tar gz cd ssd mobilenet v1 coco 2018 01 28 configure paths in pipeline config to point to coco dataset and label map see tensorflow models research object detection data mscoco label map pbtxt python path to workspace tensorflow models research object detection export tflite ssd graph py pipeline config path pipeline config trained checkpoint prefix model ckpt output directory add postprocessing toco graph def file tflite graph pb output file float32 tflite input shapes 1 300 300 3 input arrays normalized input image tensor output arrays tflite detection postprocess detection postprocess 1 postprocess 2 postprocess 3 inference type float mean values 128 std dev values 128 change concat input ranges false allow custom ops python load model into calibrator py from tensorflow lite python optimize import calibrator with open float32 rb as f quantizer calibrator calibrator f read
py from tensorflow python platform import build info print build info cuda version number attributeerror module tensorflow python platform build info has no attribute cuda version number
too much code to extract to make a barebones example but i could do it if absolutely necessary
python counter tf variable 0 tf function def increment return counter assign add 1 ugly direct access but it works print increment numpy prints 1 print increment numpy prints 2 tf function def get counter return counter actually returns a tensor a copy not a reference to the variable tf function def increment return get assign add 1 access through an accessor raises attributeerror tensor object has no attribute assign add
tutorial code for rnnlm using ptb data set can be found here url modified tutorial code with timline logging added for training loop can be found here url execute the following commands to get the list of operations which have kernel queue times in timeline and execution times are not logged a file named new unexecute ops txt will be created and each line contains name of one of these operations git clone url python ptb word lm timeline py data path simple examples data model medium python get unexec ops py logs timeline logs timeline rnnlm med 0 100 ctf json new unexecute ops txt
import numpy as np import tensorflow as tf tf enable eager execution class mymodel tf keras model def init self super mymodel self init self dense tf keras layers dense 4 def call self inputs training false print training training return dense inputs model mymodel model compile optimizer train adagradoptimizer version loss categorical crossentropy metrics accuracy inp np ones 5 3 dtype np float32 out np ones 5 4 dtype float32 training should be false model inp should be true fit inp out
python import tensorflow as tf tf function def f x print tracing with shape x shape return x
provide a reproducible test case that is the bare minimum necessary to generate the problem
python import tensorflow as tf tf function def loop for i in tf range 10 pass return i loop nameerror name i is not defined see full stacktrace below if i define outside of the function then autograph uses that python import tensorflow as tf 1234 function def loop for in range 10 pass return print loop numpy prints 1234 which is incorrect the correct behavior should be the same as without decorating with function python import tensorflow as 1234 def for in range 10 pass return print numpy prints 9 which is correct
python import numpy as np import tensorflow as tf from tensorflow import keras x train np random randn 1000 8 y train np random rand 1000 1 class reconstructingregressor keras models model def init self output dim
python import tensorflow as tf tf enable v2 behavior from tensorflow import keras class mymodel keras model def call self x if x 0 return x 1 else return x 1 m mymodel m tf constant 0 this works returns 1 as expected m compile loss mse optimizer sgd m fit tf constant 0 constant 1 this fails typeerror traceback most recent call last ipython input 55 2c7beacc3d4f in module fit constant 0 anaconda3 lib python version site packages tensorflow python keras engine training py in fit self y batch size epochs verbose callbacks validation split validation data shuffle class weight sample weight initial epoch steps per epoch validation steps validation freq max queue size workers use multiprocessing
provide a reproducible test case that is the bare minimum necessary to generate the problem import relevant packages from tensorflow keras import sequential from tensorflow keras layers import dense define the number of inputs and outputs n input nodes 2 n output nodes 3 first define the model model sequential todo define a dense fully connected layer to compute z dense layer dense n output nodes input shape n input nodes activation sigmoid todo add layer to model model add layer now when i do prediction using test with example input x tf constant version 2 shape 1 2 todo feed into and predict output print predict x todo i get following error invalidargumenterror in 0 is not a matrix instead it has shape 2 node matmul 3 op statefulpartitionedcall when i use directly feed tensor test with example x tf constant 1 shape 1 feed into and predict output print x i get expected behavior tf tensor version version version 1 3 dtype float32 aamini also had same behavior is this expected in tensorflow or a bug if it is expected please update documentation
python import tensorflow as tf from tensorflow import keras import numpy as np training set size 32 10 works only if self add metric is added and this is a multiple of 32 x np random randn training set size 8 y np random randn training set size 1 class mymodel keras models model def init self output dim
import tensorflow as tf a tf get variable a shape 10000 b tf get variable b shape 10000 loss tf minimum reduce mean a reduce mean b sess session print normally opt op contrib opt adamaxoptimizer minimize loss sess run global variables initializer for a in range 10 print sess run opt op loss 1 print with noop opt contrib adamaxoptimizer grads and vars compute gradients loss noop no op with control dependencies noop op fixed apply gradients grads and vars sess run global variables initializer for in range 10 print run 1 the above code produces on my machine normally version e 05 version nan nan nan nan with noop version e 05 version
python import tensorflow as tf from tensorflow keras datasets import imdb from tensorflow keras preprocessing sequence import pad sequences from tensorflow keras models import sequential from keras layers dense lstm embedding utils multi gpu model vocab size 20000 maxlen 80 x train y train x test y test imdb load data num words vocab size x train pad pad sequences x train maxlen maxlen test pad sequences test maxlen with tf device cpu 0 model sequential embedding vocab size 100 input length lstm 64 dropout version recurrent dropout version dense 1 activation sigmoid model multi gpu model 2 compile loss binary crossentropy optimizer rmsprop metrics accuracy fit y batch size 2048 epochs 2 shuffle true
python import tensorflow as tf from tensorflow keras datasets import cifar10 from tensorflow keras models import sequential from tensorflow keras layers import flatten dense from keras layers conv2d x train y train cifar10 load data x train x train astype float32 version with tf device cpu 0 model sequential conv2d 32 3 3 input shape 32 32 3 flatten dense 10 activation softmax model compile loss sparse categorical crossentropy optimizer rmsprop metrics accuracy model fit x y batch size 1024 epochs 2
global step tf train get or create global step writer tf contrib summary create file writer test writer set as default images for i in range 100 images append np random uniform 0 255 32 32 3 astype np float32 images np array images data tf data dataset from tensor slices for i in range 10000 batch data batch len for image in batch with tf contrib summary record summaries every n global steps 100 global step print step numpy contrib summary image image image assign add 1
import numpy as np import tensorflow as tf keras tf keras kl keras layers k keras backend bgr shape 128 128 3 batch size 132 max tf version cuda 9 batch size 86 max tf version cuda 10 class pixelshuffler layers layer def init self size 2 2 data format none
provide a reproducible test case that is the bare minimum necessary to generate the problem import warnings warnings simplefilter error import tensorflow
the colab linked cotains the same code as below def expand bias to bias shape return tf reshape bias 1 len shape len bias shape shape as list def initialize x w1 tf random normal initializer x 1 1000 b1 tf zeros initializer 1000 w2 tf random normal initializer 1000 x 1 b2 random normal initializer x 1 return w1 b1 w2 b2 def autoencoder params w1 b1 w2 b2 params b1 expand to h1 matmul w1 h2 tanh h1 b2 expand to h2 h3 matmul h2 w2 return h3 def prepare mnist features and labels y cast float32 version y cast y int64 return reshape y mnist dataset keras datasets mnist load data ds data dataset from tensor slices ds ds map prepare mnist features and labels ds take 20000 shuffle 20000 batch 100 train one step model variables batch step size with gradienttape as tape tape watch variables f eval model variables batch loss reduce mean f eval batch
run cifar10 main py on a macbook without an nvidia gpu i imagine this would also happen on linux if no gpu was detected
provide a reproducible test case that is the bare minimum necessary to generate the problem wget url unzip tensorflow version cp27 none linux x86 64 whl less tensorflow version dist info metadata jsoin less tensorflow version data purelib tensorflow include google protobuf stubs common h
python import tensorflow as tf from tensorflow import keras inputs keras layers input shape 2 hidden1 keras layers dense 30 inputs hidden1 mean keras metrics mean hidden1 typeerror see stacktrace below
provide a reproducible test case that is the bare minimum necessary to generate the problem py import tensorflow as tf model tf keras models sequential model add tf keras layers masking model add tf keras layers gru units 1 set return state to true will cause the typeerror can only concatenate list not tuple to list return state true data 1 data convert to tensor data data reshape 1 1 model
import tensorflow as tf import numpy as np np arr np array 1 2 3 4 5 6 7 8 9 myvar tf get variable myvar initializer np arr ragged tf ragged constant 0 1 2 1 2 1 with tf name scope gather ragged gather gather myvar ragged with name scope product product math multiply gather name prod with name scope output output reduce sum product
with tf device gpu 0 input tf random uniform dtype tf float32 shape 5 100 100 3 name input resize tf image resize bilinear input 99999 99999 align corners true oom run options runoptions trace level runoptions full trace run metadata runmetadata with session as sess try sess run resize options run options metadata metadata finally metadata str str if str print str else print no
import tensorflow as tf tf enable eager execution model tf keras sequential model add tf keras layers dense 50 input shape 10 model add keras layers activation relu model add keras layers dense 3 add layers activation sigmoid sgd optimizers sgd lr version decay version momentum version compile optimizer sgd loss categorical crossentropy metrics accuracy
colab link to produce an error url import tensorflow as tf won t produce an error if we give explicitly the dimension size instead of none x2 tf keras layers input shape none none none 3 name image input x tf keras layers conv3d filters 64 kernel size 3 3 3 padding same activation relu name conv1 x2 x tf keras layers conv3d filters 64 kernel size padding same activation relu name conv2 x x keras layers conv3dtranspose filters 128 kernel size padding same activation relu name conv6 conv3dtranspose filters 64 kernel padding same activation relu conv8 mod models model inputs x2 outputs mod summary
provide a reproducible test case that is the bare minimum necessary to generate the problem url benchmark py
protected void runinference log d tag inference starts object inputarray imgdata map integer object outputmap new hashmap outputmap put 0 outp1 outputmap put 1 outp2 tflite inputarray outputmap log d tag inference ends
python import tensorflow as tf from tensorflow import keras x train np random randn 100 2 y train np random randn 100 1 model keras models sequential keras layers dense 1 input dim 2 model compile loss keras losses huber version optimizer sgd model fit x train y train epochs 2 model save my h5 models load my h5 raises a valueerro
provide a reproducible test case that is the bare minimum necessary to generate the problem saved bundle session run run options input tensor pairs output tensor name output nullptr
python import numpy as np import tensorflow as tf img np random randint 0 256 100 200 3 dtype np uint8 tf img tf placeholder tf uint8 jpeg augment image random jpeg quality img min jpeg quality 20 max jpeg quality 90 sess config configproto sess config gpu options allow growth true with session config sess config as sess run global variables initializer results for i in range 25 augmented run augment feed dict img 0 results append augmented results np array results same as first 0 all equal all same first print all equal format all equal assert not equal the code causing this is located at url l1634
def create model vocab size 10 model tf keras sequential tf keras layers embedding vocab size 80 tf keras layers lstm 64 tf keras layers dense 1 activation sigmoid return model model create vocab size vocab size compile loss binary crossentropy optimizer adam metrics accuracy dataset1 data dataset from tensor slices 1 2 3 4 5 6 dataset2 data dataset from tensor slices 1 2 dataset data dataset zip dataset1 dataset2 fit x epochs 1 verbose
interpreter options options new interpreter options gpudelegate delegate new gpudelegate options adddelegate delegate loadmodelfile is the same with that function in the sample interpreter tflite new interpreter loadmodelfile this map integer object output new hashmap float output1 float 1 19 19 255 float output2 float 1 38 38 255 output put 0 output1 output put 1 output2 tflite getinput output private object getinput bitmap bitmap bitmapfactory decoderesource getresources r drawable dog cycle car mat and improc are from opencv mat mat mat convertedmat resizedmat utils bitmaptomat bitmap convertto convertedmat cvtype cv 8uc1 size size size version version imgproc resize convertedmat resizedmat size version version imgproc inter area bitmap resizedbitmap createbitmap resizedmat cols resizedmat rows config argb 8888 utils mattobitmap resizedbitmap bytebuffer imgdata resizedbitmap object inputarray object 1 inputarray 0 imgdata return inputarray the model i used url
provide a reproducible test case that is the bare minimum necessary to generate the problem python mnist softmax xla py in mnist tutorial
attached is a python notebook that reproduces the issue tf conv3d zip url
z tf complex 0 0 sess tf session sess run tf pow z 0
import tensorflow as tf sess tf session print sess run 1e 8 version tf identity version print sess run version tf identity version 1e 8 output 1e 08 expected output 1e 08 08
toy matmul code url
the full code can be found here url currently the code in repository works fine because the new interpreter and interpreter run are called in the same thread deeplablite class has two important functions
provide a reproducible test case that is the bare minimum necessary to generate the problem server tf train server cluster spec job name job name task index task index protocol grpc verbs estimator tf estimator estimator train
python import tensorflow as tf cell tf keras layers lstmcell 10 cell tf rnn residualwrapper cell cell get initial state batch size 4 dtype tf float32
provide a reproducible test case that is the bare minimum necessary to generate the problem please use this code for your testing url it contains code that you can use for testing the conversion works for tf version and tf version but not for tf version
here is an example created to reproduce this behavior with the workaround url
provide a reproducible test case that is the bare minimum necessary to generate the problem import numpy as np import matplotlib pyplot as plt import tensorflow as tf fan in 100 fan out 100 tf random set random seed 337 w tf get variable w shape fan in fan out initializer tf keras initializers glorot normal sigma np sqrt 2 in out with session as sess global variables initializer run w now sess run w plt hist now reshape 1 bins 100 plt show print 2 sigma print np min now reshape 1 np max now reshape 1
follow the url tutorial to evaluate the compiled and the non compiled graph prediction of a single image duration add these two lines to the end of notebook timeit n 20 predict x timeit n 20 model predict x
bazel bin tensorflow tools graph transforms transform graph in graph fpnssd frozen inference graph pb out fpnssd optimized frozen inference pb inputs image tensor 0 outputs detection boxes 0 detection scores 0 detection classes 0 num detections transforms strip unused nodes fold constants ignore errors false fold batch norms fold old batch norms
tf train import meta graph meta path clear devices true where meta path is a path to a meta file saved with tpuestimator
usr bin env python coding utf 8 in 1 import tensorflow as tf import numpy as np from pprint import pprint import time network architecture channels 10 size of z variables num layers 6 number of resnet blocks for each downsampling layer def initialize conv2dwn vars x kernel shape output channels stride padding init scale version mask none input shape x get shape filter shape kernel 0 kernel 1 int input 1 output channels stride 1 stride 0 stride v inizializer tf random normal initializer 0 version v tf get variable v filter tf float32 v inizializer see url initialized value aux initialized value if mask is not none used for auto regressive convolutions aux mask masked norm nn l2 normalize aux 0 2 x init nn conv2d x norm strides padding padding
import tensorflow as tf dist tf distributions normal loc 0 scale 1 for i in range 1 000 000 a dist sample
python tf gfile exists gs tfds data this is a public bucket doesn need any auth 2019 02 03 02 51 version i tensorflow core platform cloud retrying utils cc 73 the operation failed and will be automatically retried in version seconds attempt 1 out of 10 caused by unavailable error executing an http request libcurl code 6 meaning couldn t resolve host name error details couldn t resolve host metadata more of the same 2019 02 03 02 52 version i tensorflow core platform cloud retrying utils cc 73 the operation failed and will be automatically retried in version seconds attempt 10 out of 10 caused by unavailable error executing an http request libcurl code 6 meaning couldn t resolve host name error details couldn t resolve host metadata 2019 03 52 w tensorflow core platform cloud google auth provider cc 157 all attempts to get a google authentication bearer token failed returning an empty token retrieving token from files failed with not found could not locate the credentials file retrieving token from gce with aborted all 10 retry attempts last failure unavailable executing an http request libcurl code 6 meaning name details metadata linking issue tensorflow datasets 38
pre import tensorflow as tf import numpy as np np random seed 1234 tf random set random seed 1234 def trans conv1d x num filters filter length stride batch size length num input channels x get shape as list x tf reshape x batch size 1 length num input channels weights tf get variable w shape 1 filter length num filters input channels biases get variable b shape filters y nn conv2d transpose filter weights output shape batch size 1 stride filters strides 1 stride padding same data format nhwc name cnn2d y nn bias add y biases return y 4 filter 40 stride 8 placeholder dtype float32 96 2 name input trans conv1d sess session sess run global variables initializer data np array np random rand 96 2 dtype float32 output data sess run feed dict data converter contrib lite tfliteconverter from session sess tflite model converter convert open converted model tflite wb write tflite model close tflite test interpreter contrib lite interpreter model path converted interpreter allocate tensors get and output tensors details interpreter details output details details test on the same set tensor 0 index invoke tensor 0 index print array equal pre
this shows the exponential time difference when x is a list containing a single tensor import numpy as np import tensorflow as tf import time tf enable eager execution x tf zeros 32 32 12 start time time print temp temp np array x 0 1 end print end start start print temp1 temp1 np array x 0 end print end start temp2 temp2 np array 0 numpy temp3 list list append t numpy for t in temp3 array list
in models research struct2depth run ckpt dir ckpt data dir opt baddata tfrep python train py logtostderr checkpoint dir ckpt dir data data architecture resnet imagenet norm true joint encoder false
provide a reproducible test case that is the bare minimum necessary to generate the problem python import tensorflow as tf tf enable eager execution this is ok tf linalg solve 1 0 0 1 1 1 this line causes segfault tf linalg solve 0 0
i think this is one of the most simplest example to reproduce error since it s stochastic it might be run without error in single run however you can get cancellederror in few trials import tensorflow as tf tf function def prob assert x tf random uniform shape 1 tf print sampled value x assert greater x version message test return x try prob assert prob assert prob except pass
with eager execution wrong output with only gradient for last variable x2 calculated x1 tf constant version x2 x1 x1 with tf gradienttape as g g watch x1 x2 y x2 1 g gradient numpy output version without eager execution the expected output tf constant version y 1 op tf gradient y with session as sess print sess run op output version
see code checked here for a benchmark url
import tensorflow as tf from tensorflow python import autograph from tensorflow python eager function import defun tf enable eager execution defun autograph true def add x y return x y print add tf constant 4 tf constant 3
python import tensorflow as tf from tensorflow import keras bad raise attributeerror my softplus keras layers activation softplus my softplus keras layers lambda tf nn softplus my keras layers lambda lambda x tf nn x my layers lambda tf function x nn x good nn function model models sequential dense 1 activation input shape 5 there is no problem when the layer is used as a separate layer but the api specifies that can be used like any function so i expect to be able to use them as activation functions and it was possible before
i use tensorflow tutorial s code and just restore weight on different session
import tensorflow as tf from tensorflow keras models import sequential from tensorflow keras layers import dense activation flatten import numpy as np input1 np array 0 1 1 1 0 0 0 1 doutput1 np array model sequential initializer tf keras initializers truncatednormal mean version stddev version seed model add dense 25 input dim 10 kernel initializer initializer bias initializer zeros model add activation relu tf keras initializers truncatednormal mean version stddev version seed 2 model add dense 25 kernel bias zeros add activation relu tf initializers truncatednormal mean stddev seed 3 dense 10 kernel bias zeros activation softmax loss categorical crossentropy sgd optimizers sgd lr momentum decay nesterov false compile loss categorical crossentropy optimizer sgd metrics accuracy for i in range 100 sgd optimizers lr momentum decay nesterov false compile loss categorical crossentropy optimizer metrics accuracy fit input1 doutput1 epochs batch size output1 predict input1 output1
provide a reproducible test case that is the bare minimum necessary to generate the problem
self attention gan is one example that i cannot run successfully this link is the source code url maybe this code is a little bit complex but it can show you where the problem is
follow this link and run the scripts as mentioned url
dataset tf data dataset from tensor slices np arange 10 batch 10 iterator tf data iterator from structure dataset output types dataset output shapes x iterator get next use test set iterator make initializer with tf session as sess sess run use test set print sess run x this runs print sess run x this line gives an error
this generates and saves an 84mb file running the following opens a tensorflow debug session import tensorflow as tf import numpy as np import string import random from tensorflow python ops lookup ops index table from file from tensorflow python debug as tf debug lookup table filename lookup table csv data filename vocab feature npz def generate data creates the required datafiles letters i for i in string ascii letters vocab set i i j j k k l l for in letters for j in letters for k in l positive vocab set random sample vocab with open lookup table filename w as f f write join positive f write f write join map str range 10
i have uploaded my experiment code in my private branch url
provide a reproducible test case that is the bare minimum necessary to generate the problem def body loopvar y x w loss tf reduce mean y y
n gpus 2 strategy tf contrib distribute mirroredstrategy num gpus n gpus if n gpus 1 else none run config tf estimator runconfig model dir model dir save checkpoints steps save steps save summary steps summary steps train distribute strategy keep checkpoint max none use this runconfig in estimatorspec
provide a reproducible test case that is the bare minimum necessary to generate the problem reference url import tensorflow as tf print tf version activation tf nn relu img plh tf placeholder float32 none 3 3 3 label plh placeholder float32 none layer img plh buffer ks list list range 1 10 1 list range 9 0 1 for ks in ks list buffer append layers conv2d layer 9 ks 1 same activation activation layer concat buffer 3 layer layers conv2d valid activation squeeze 2 loss op reduce mean abs label plh optimizer train adamoptimizer train op optimizer minimize loss op with session as sess sess run global variables initializer result sess run train op img np zeros 2 np float32 label np zeros 2 np float32
import tensorflow as tf writer tf contrib summary create file writer tb with writer as default tf contrib summary always record summaries op tf cond random normal 0 lambda group contrib summary scalar loss version no op sess session sess run global variables initializer sess run contrib summary writer initializer op sess run op
trt graph trt create inference graph input graph def frozen graph outputs max batch size 64 max workspace size bytes 1 25 precision mode fp16 minimum segment size 10
python run this in a python shell import tensorflow as tf tf function def foo return 42 foo
provide a reproducible test case that is the bare minimum necessary to generate the problem
provide a reproducible test case that is the bare minimum necessary to generate the problem
link url to my python3 colab noteboo
provide a reproducible test case that is the bare minimum necessary to generate the problem tensorflow lite convertion tutorial url and used android source code from tensorflow lite java demo url changed classifier to for quantized model and for float model
net tf layers dense inputs net units units activation none name dense str ly idx net tf keras activations relu net max value params clip activations thanks
python from tensorflow import keras keras utils vis utils model to dot
e tensorflow stream executor cuda cuda dnn cc 363 loaded runtime cudnn library version but source was compiled with version cudnn library major and minor version needs to match or have higher minor version in case of cudnn or later if using a binary install upgrade your cudnn library if building from sources make sure the library loaded at runtime is compatible with the specified during compile configuration
python import tensorflow as tf from tensorflow import keras input data keras layers input shape 8 hidden1 keras layers dense 30 activation relu input data hidden2 keras layers dense 30 activation relu hidden1 concat layers concatenate input data hidden2 output dense 1 concat model models model inputs data outputs output model compile loss mean squared error optimizer sgd model summary
python import tensorflow as tf model tf keras models sequential model add tf keras layers dense 3 input shape 2 model add tf keras layers dense 1 keras utils plot model to file my png
1 train a toy estimator using tf estimator train and evaluate have its input function return a dataset 1 write a script similar to the one written above which basically creates an estimator warm started from the latest checkpoint in your training job calls the input function to get the actual labels then tries to compare that to prediction output from an estimator
python import tensorflow as tf from tensorflow import keras inputs tf constant 1 2 3 4 layer init0 keras layers dense units 4 kernel initializer tf keras initializers zeros print layer init0 inputs print layer init0 get weights if you do not set the kernel initializer or if you set it to zeros everything works fine
import itertools import tensorflow as tf def gen for i in itertools count 1 yield i 1 i ds tf data dataset from generator gen tf int64 tf int64 tensorshape tensorshape none iterator ds make one shot iterator sess session iterator iterator get next sess run sess close no warning is shown if closing the session explicitly
provide a reproducible test case that is the bare minimum necessary to generate the problem
1 this code below compiles but errors during the run with the error below constant constant1 constant create scope 1 enter enter enter create scope constant1 loop merge create scope enter error exception in thread main java lang illegalargumentexception single tensor passed to inputs expected list while building nodedef merge using op name merge signature inputs n t output t value index int32 attr t type attr n int min 1 2 on the other hand the below code does not compile constant constant1 constant create scope 1 constant1 loop operand inputlist merge inputlist info compiling java source to users irenedea linreg target scala version classes error users irenedea linreg src main java graphbuilder java 33 method in class org tensorflow op core t cannot be applied to given types error required org tensorflow op org tensorflow operand found org tensorflow op operand reason cannot infer type variable s argument mismatch operand cannot be converted to inputlist
import tensorflow as tf x version a tf variable x a tf constant x interestingly it works when a is a constant sqrt tf sqrt scaled sqrt with session as sess sess run global variables initializer sqrt 1 sess run scaled print 1 prints version 2 sess run print 2 prints version
any code that passes feeds totaling 2gib to tf sessionrun connected over a grpc connection in this particular example i was trying to use the infeedenqueuetuple op with the inputs being placeholders that i m feeding
python import tensorflow as tf x tf variable name x g tf get default graph g2 tf graph with g2 as default x2 contrib copy graph copy variable to graph x g2 print x get shape 0 print x2 get shape unknown
import numpy as np import tensorflow as tf with tf session as sess tf input1 tf ones shape 1 22 28 28 dtype float16 version input2 ones shape 7 7 22 1 dtype float16 version mat random uniform 4096 4096 minval 0 maxval none dtype float16 seed 0 name none res mat matmul mat mat res no op un comment this line and the issue dissapears sess run res res nn depthwise conv2d native input1 input2 strides 1 1 padding same data format nchw v1 sess run sess run v2 run if np isnan v2 any print issue nan detected np testing assert equal v1 v2
import tensorflow keras as keras import tensorflow data as data dataset values 1 2 3 4 5 def single element input fn return data dataset from tensor slices dataset values def tuple input fn dataset data from tensor slices values spoof some labels in order to satisfy shape requirement return map lambda x x 0 model input keras layers input shape 1 model output keras layers activation tanh model model models inputs outputs output passing python list of values works print predict try raises valueerror print predict single element fn steps 5 except valueerror as e print e try raises runtimeerror print predict tuple fn steps 5 except runtimeerror as e e
complete code snippet you can run it directely without any modification space cost comparison tensorforest import time import tensorflow as tf tf logging set verbosity tf logging info tf keras backend set image data format channels first x train y train keras datasets cifar10 load data x train x train reshape 1 32 32 astype float32 produce more examples y y repeat 3 axis 0 astype int x repeat 10 axis 0 repeat 10 times to produce more examples y repeat 10 axis 0 reshape 1 print shape shape totally examples 1024 start time time time est args num classes 10 num features 1024 regression false num trees 500 max nodes 10000 base random seed 0 params contrib tensor forest python tensor forest foresthparams
converted the model via bazel run c opt tensorflow contrib lite toco toco input file output dir tflite graph pb output file output dir detect tflite input shapes 1 300 300 3 input arrays normalized input image tensor output arrays tflite detection postprocess tflite detection postprocess 1 detection postprocess 2 detection postprocess 3 inference type quantized uint8 mean values 128 std values 128 change concat ranges false allow custom ops changes in
t simplified example timport tensorflow as tf tmnist tf keras datasets mnist t x train y train x test y test mnist load data tx train x test x train version test version tw h 28 28 t reshape input data from 28 28 to 1 tx reshape shape 0 w h 1 tx reshape shape 0 w h 1 t buggy example what is going on with conv2d tmodel tf keras models sequential tf keras layers conv2d filters 64 kernel size 2 padding same activation relu input shape 1 error keras layers flatten layers dense 512 activation nn relu layers dropout version dense 10 activation nn softmax tmodel compile optimizer adam loss sparse categorical crossentropy metrics accuracy tmodel fit y epochs 5 tmodel evaluate y
python import tensorflow as tf matrix tf constant 1 2 3 4 5 6 7 8 9 with tf session as sess print tf einsum ii matrix eval 45 should be 15
python import tensorflow as tf x tf ones 2 1 acc tf ones 1 1 definition of the fold operation y tf foldl lambda a y return a y x acc session run y gives 3 as expected copy the fold to another graph g graph with g as default contrib copy graph copy op to graph g recursionerror maximum recursion depth exceeded while calling a python object
create a string tensor using public static t tensor t create class t type long shape bytebuffer data in org tensorflow tensor
provide a reproducible test case that is the bare minimum necessary to generate the problem reproducing this exactly may require running through sagemaker the example i modified is this url specifically i changed all of the keras imports in this file url to be tensorflow keras imports
provide a reproducible test case that is the bare minimum necessary to generate the problem
model tf keras sequential layers dense 64 activation relu layers dense 64 activation relu layers dense 10 activation softmax model compile optimizer tf train adamoptimizer version loss categorical crossentropy metrics accuracy data np random random 1000 32 astype np float32 labels np random random 1000 10 astype np float32 dataset tf data dataset from tensor slices data labels dataset dataset batch 32 repeat model fit epochs 10 steps per epoch 30 result model predict data batch size 32 print result shape
comment out line 503 in env cc coded stream settotalbyteslimit 1024ll 20 512ll 20 rebuild and everything works as expected
if the following does not immediately produces the bug then try increasing the batch size from 100 to something greater python import tensorflow as tf import numpy as np def test sess tw np random uniform size 5 5 64 64 astype np float32 tx t tf placeholder dtype tf float32 shape none 32 32 64 tw t tf constant w to t nn conv2d x t w 1 1 1 1 valid data format nhwc tx good np zeros 5 32 32 64 dtype float32 tx good 0 1e10 tx bad zeros 100 dtype float32 bad 0 1e10 to good sess run o feed dict x x good to bad sess run o feed dict x bad tprint number nonzero count nonzero o 0 0 tprint number nonzero count nonzero o tif count tprint with session as sess twith device cpu tprint testing on cpu should succeed ttest twith device gpu testing on gpu typically fails ttest
1 install tensorflow using anaconda and run ipython bash conda create n test tensorflow version gensim ipython conda activate test ipython 2 run the following code in ipython python import tensorflow import numpy as np from gensim models import word2vec 3 check cpus allowed list for main thread in another bash bash cat proc pid status grep cpus allowed list output may vary bash cpus allowed list 55 72 108 125 4 perform matrix multiplication in python a np random rand 10000 10000 a a dot a t del 5 check again cpus allowed list for main thread cat proc pid status grep output may vary 108 it become single core
from tensorflow python keras layers import input lambda from tensorflow python keras models import model import tensorflow as tf import numpy as np ins input 1 def test x return tf constant 2 name one tf constant 2 tf constant 2 4 ous lambda test ins model model ins ous 0 changing this 0 to 1 or 2 fails removing index also fails model ins ous fails ous 1 fails new np asarray 1 with session as sess print sess run new array dtype int32 array 4 dtype int32
this is the tf code that i modified for gpu tracing in a distributed mode url
here is my code url run on colab 1 tpu url 2 gpu url
py import tensorflow as tf with tf graph as default tf session as sess a tf reshape range 12 3 4 1 b sparsetensor 0 0 1 0 0 3 10 20 1 1 4 2 c a b print c shape 4 2 print sess run sparse to dense c 10 60
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf import os os environ cuda visible devices 1 tf enable eager execution tf executing eagerly class mymodel tf keras model def init self super init name mymodel self f keras layers dense units 10 self g keras layers dense units 10 workaround self f keras sequential layers dense units 10 g sequential layers dense units 10 def build input shapes f build input shapes 0 g build input shapes 1 built true def call x y return f x g y model mymodel model build none 5 none 3 for v in model variables print v name
python import tensorflow as tf import numpy as np def get dense input widths activations assert len widths len activations output input for i w a in enumerate zip widths activations output tf layers dense output units w activation a return output nn lambda input depth width get dense input width for in range depth 1 3 tf nn relu for in range depth 1 none tf reset default graph works fine when n 8192 but breaks with n 8193 n 8193 n 100 x np random normal loc version scale 1 size 1 astype np float32 nx x shape y x
provide a reproducible test case that is the bare minimum necessary to generate the problem url how to run the demo
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf import tensorflow contrib lite as lite scalar input tf placeholder shape name input dtype tf float32 b tf constant version val scalar input b out identity val name out with session as sess converter lite tfliteconverter from session sess scalar input out tflite model converter convert open converted model tflite wb write tflite model
python import tensorflow as tf import numpy as np import os import psutil n samples 1000 1000 dim 100 batch size 50 raw data np zeros n samples dim astype np float32 dataset tf data dataset from tensor slices raw data batch batch size iterator tf data iterator from structure tf float32 none dim process psutil process os getpid def mem return process memory info rss 1024
import tensorflow as tf import numpy as np num layers 1 num units 128 direction unidirectional inputs tf placeholder tf float32 none none 32 name inputs convolved tf transpose inputs 1 0 2 lstm contrib cudnn rnn cudnnlstm num layers num units direction direction outputs output states lstm convolved training true enc output transpose outputs 1 0 2 optimizer train adamoptimizer version optim optimizer minimize enc output saver train saver init global variables initializer with session as session session run init export metagraphdef proto to mgd mgd saver export meta graph with session graph graph as import graph from mgd on another saver train import meta mgd
it seems that the issue although not in the bug tracker should be already known to the authors url l46 however i can make a minimal example to reproduce the problem on demand
shell usr bin env bash d models git clone url cd models research slim model name nasnet large train dir tmp flowers models model name dataset dir tmp flowers rm rf train dir export cuda device order pci bus id export cuda visible devices 0 1 python download and convert data py dataset name flowers dataset dir dataset python train image classifier py train all name flowers split model model max number of steps 500 batch size 16 learning rate version save interval secs 60000 save summaries secs 60 log every n steps 10 optimizer rmsprop num preprocessing threads 4 num readers 8 moving average decay version weight decay version learning rate decay type exponential learning rate decay factor version label smoothing
to generates the log in r version try url note that i have already used
usr bin env python3 import tensorflow as tf tf random set random seed 0 rds tf data dataset range 100 batch 2 map lambda x tf random shuffle x num parallel calls 1 r rds make one shot iterator get next with session as sess sess run global variables initializer for i in range 4 x sess run r print x
provide a reproducible test case that is the bare minimum necessary to generate the problem python import tempfile import tensorflow as tf print tf version tf enable eager execution filename tempfile mkstemp with open filename w as f f write line 1 1 line 2 2 line 3 3 ds file tf data textlinedataset filename ds file data experimental make csv dataset filename 1 print elements in ds file for x in ds file print x
using the command in the end of url posted yesterday by tfboyd
python import numpy as np import tensorflow as tf model tf keras sequential tf keras layers dense 10 activation relu input shape 20 tf keras layers dense 5 with the following line uncommented it works model model input def loss y true y pred loss keras losses mean squared error y true y pred feed zeros to the model and add the mean of the output to loss pred zeros zeros 32 20 return loss reduce mean pred zeros compile sgd x train train np random randn 100 20 np random randn 100 5 fit x train train
import numpy as np import tensorflow as tf weight variable 1 no of features 10 timesteps 3 batch size 32 def data gen while true numerical np random randint 5 size batch size timesteps no of features y np random randint 2 size batch w np ones batch weight variable or where for imbalanced datasets yield numeric input numerical y w def build model numerical input tf keras layers input shape timesteps no of features name numeric input rnn out tf keras layers gru 32 return sequences false numerical dense tf keras layers dense 1 activation sigmoid name main output rnn out model keras models model dense params loss binary crossentropy optimizer optimizers adam metrics metrics binary crossentropy metrics binary accuracy model compile
provide a reproducible test case that is the bare minimum necessary to generate the problem
see the code in my snippet above
def restore s save instance checkpoint tensorflow train get checkpoint state os path dirname configuration checkpoint path checkpoint if and model path print loading save instance restore s model path else print new instance being created
python import tensorflow keras as keras import numpy as np def custom loss loss input def loss y true y pred return y true y pred loss input return create simple model input layer keras input shape 1 layer keras shape 1 output layers dense 1 layer model model inputs layer outputs output model compile optimizer optimizers adam lr 1e4 custom train the with some example data data np random random sample 512 data np random random sample 512 output data 1 train on batch x output save and load save test h5 models load test h5 custom objects custom test predict x np sample sample
python import tensorflow as tf x tf variable 1 2 3 4 5 idx tf placeholder dtype tf int32 shape none update placeholder dtype int32 shape none scatter update x idx update this example works with tensorflow version but fails with version it does not matter whether the shapes of idx and update are set explicitly or none
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf testing tensor tf placeholder shape 10 94 94 32 dtype tf float64 testing output testing tensor tf reduce mean testing tensor 0 1 2 keep dims true what grad auto gradients xs tensor ys output image url
the code below import tensorflow as tf from tensorflow data import dataset tf enable eager execution dataset a dataset range 10 shuffle 10 dataset b a map lambda x x 2 zip a b for data a data b in print data b produces unmatched in order tf tensor 1 shape dtype int64 tf tensor 8 shape dtype int64 tensor 8 shape dtype int64 tensor 14 shape dtype int64 3 12 6 16 0 18 2 2 4 10 7 4 9 0 5 6
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf x tf variable version trainable false y tf variable version trainable true z x y train op tf train gradientdescentoptimizer version minimize z var list x y sess session sess run global variables initializer sess run train op print sess run x version unexpected print run y expected
provide a reproducible test case that is the bare minimum necessary to generate the problem any distributed training program should be okay just add some sleep in the python code or the rdma cc file
see above should be reproducible with any frontend that uses xrt to talk to cloud tpus though
std vector int sizes 1 240 240 3 interpreter resizeinputtensor interpreter inputs 0 sizes if interpreter allocatetensors ktfliteok log info failed to allocate tensors return false
after training and freezing in toco i have following code graph def file my frozen pb this is the pb file input arrays reshape 1 this is the name of the input node output arrays labels softmax this is the name of ouput node this is main code to call toco converter tf contrib lite tococonverter from frozen graph graph def file input arrays output arrays since fake quantization during training we quantize graph during converting converter inference type tf contrib lite constants quantized uint8 input converter get converter quantized stats 0 0 2 mean std dev from tensorflow tutorial url tflite model convert open tiny conv tflite wb write tflite model resulting tflite file
please see this gist with the bare minimum python script to reproduce this issue url
distribution tf contrib distribute mirroredstrategy num gpus 2 run config tf estimator runconfig train distribute distribution estimator tf estimator estimator model model fn config run config evaluator tf contrib inmemoryevaluatorhook eval input fn steps 20 every n iter 20 train train input fn steps 100 hooks evaluator
python import tensorflow as tf uncomment the following line after running the script in graph mode tf enable eager execution feature names a b c feature columns tf feature column numeric column key name for name in feature names true w version version version true b version noise level batch size 32 num batches 1000 steps 100 def synthetic dataset w b noise level batch size num batches return synthetic dataset helper w b tf shape w 0 noise level batch size num batches def synthetic dataset helper num features noise level batch size batches def x random normal features y matmul x random normal x dict for idx name in enumerate names x dict name idx return dict y return data dataset range map synthetic true true def input train return make one shot iterator get next model estimator linearregressor columns columns model train input fn input train steps steps the code is similar to the following official examples linear regression py url and linear regression py eager url
its a little complicated to share ready to run code due to privacy but here is crux of it python dataset tf data tfrecorddataset data files num parallel reads 79 if is training dataset dataset apply tf contrib data shuffle and repeat 1743 1 42 dataset apply tf contrib data map and batch decode 128 num parallel batches 58 drop remainder is training prefetch 1064 and fit a tf keras model like so python model fit make one shot iterator steps per epoch model meta train records 128 epochs 2 validation test make one shot iterator validation steps test records 128
to reproduce run the following on a multi gpu system and check nvidia smi during the 20 second sleep import tensorflow as tf import numpy as np import time config tf configproto config graph options optimizer options global jit level tf optimizeroptions on 1 config gpu options visible device list 0 input tf placeholder float32 1000 data np random rand 1000 astype float32 output nn softmax nn relu input with session config as sess res sess run output feed dict input data print session executed check devices with nvidia smi time sleep 20 print exiting
i ve attached a small example min leak example txt url
export tf need cuda 1 configure bazel build config opt config cuda tensorflow tools pip package build pip package
import tensorflow as tf g tf graph with g as default b m p q 2 25 16 9 a tf variable tf zeros b m p b variable zeros b p q c matmul a flops profiler profile g options profiler profileoptionbuilder float operation print flop should be m q 2 p print calculated flop flops total float ops
reduced to the minimum import tensorflow as tf from keras models import sequential from keras layers import cudnnlstm tf set random seed 42 print f tensorflow tf version model sequential model add cudnnlstm 64 input shape 10 39 return sequences true
running the sparse matmul op test py script on an arm architecture device can reproduce the failure this python script is a reduced reproduction import numpy as np import tensorflow as tf from tensorflow python framework import dtypes from tensorflow python ops import math ops with tf session as sess x np clip np random uniform low version high version size 3 3 64 64 version reshape 3 3 astype np float32 y clip random uniform low version high size 64 64 reshape astype float32 test matmul where a is sparse fp16 and b is not sparse fp32 tf x math ops cast x dtypes bfloat16 tf y math ops cast y dtypes float32 ans math matmul x y a is sparse true b false out sess run ans test the same matmul case as above without sparsity ans nosparse a false b false out nosparse sess run ans nosparse numpy result where both types are np32 since the dot operation not supported with fp16 sess run cast dtypes float32 run cast matrix matrix print tnumpy answer print print tnon print out nosparse tsparse fp16 non fp32 b out
python import tensorflow as tf import numpy as np dataset np height or width 512 indices np random randint low 0 high 512 size 1000 2 dtype np int64 values random randint low 0 high 1000 size 1000 dtype int32 dataset tf data dataset from tensors dataset def densify element label image sparse tf sparsetensor indices element indices values element values dense shape tf cast stack element height or width height or width int64 label image sparse tensor to dense label image sparse default value 1 validate indices false name label image dilated squeeze nn max pool expand dims axis 1 data format nhwc ksize 1 3 3 1 strides padding same name dilated 0 return dilated dilated map densify make one shot iterator get next with session as sess result sess run print result
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf import os os environ cuda device order pci bus id os environ cuda visible devices 0 def cond size i t return tf less i size def body size i t b 2 version c t with tf variable scope a reuse tf auto reuse t a get variable a 6 dtype float32 scatter update i b with control dependencies return size 1 with session as sess c constant version constant 0 constant 6 while loop cond body get variable 6 dtype float32 init initialize all variables sess run init print sess run
i run the following command tflite convert output file foo tflite graph def file frozen graph pb input arrays input output arrays mobilenetv1 predictions reshape 1
the code below import tensorflow as tf tf enable eager execution x tf random uniform 1 1024 32 32 filter tf random uniform 4 4 96 1024 y1 nn conv2d transpose x filter 1 96 64 64 strides 1 1 2 2 padding same data format nchw y2 nn conv2d transpose x filter 96 64 64 strides 2 2 padding same data format nchw show difference between y1 and y2 print reduce mean abs y1 y2 produces a non zero result like tensor version e 06 shape dtype float32
here is the colab gist to reproduce the result url
this is tricky as i m using c and the code is large seeing as tensorflowsharp is a pretty thin wrapper class this seemed to be more related to the internals usage of tensorflow itself
the following code will be able to reprorduce this problem py import tensorflow as tf import numpy as np tf enable eager execution x tf keras layers input shape 2 1 y tf keras layers bidirectional keras layers lstm 1 return state true x model keras model inputs x outputs y data np array version version reshape 1 1 print model predict data however if we comment out the enable eager execution then it will work as expected
source code is attached cifar10 estimator zip url to run the parameterserverstrategy type these two commands in different shells python ps ps0 py data dir cifar 10 data job dir model dir num gpus 0 train steps 1000 python ps worker0 py data dir cifar 10 data job model num gpus 0 train steps 1000 to run the just modify tf config and strategy type these two commands in different shells python collective worker0 py cifar 10 job model num gpus 0 train steps 1000 python collective worker1 py cifar 10 job model num gpus 0 train steps 1000
with tf contrib tfprof profilecontext profiles trace steps range 50 100 dump steps 100 as pctx regular session run
following is the code change i made to url def main unused argv flags mark flag as required model dir flags mark flag as required pipeline config path distribution tf contrib distribute mirroredstrategy config tf estimator runconfig model dir flags model dir train distribute distribution
need substantial infrastructure roce and code to reproduce
see a full script which reproduces this issue along two different code paths here url the segfault occurs when reading the dataset a second time the first read works as expected for reference the two code samples which produce datasets which cause a segfault on second read are py dataset make batched features dataset file pattern data file batch size 1 features feature spec i ve also dug into make batched features dataset and minified down to this repro py from tensorflow contrib data python ops import parsing ops from tensorflow python data ops import readers from tensor slices data file interleave readers tfrecorddataset cycle length 1 batch batch size 1 apply parsing ops parse example feature spec please let me know if there s anything else i can provide or help with this is blocking us from upgrading to latest tensorflow version in spotify spotify tensorflow url
provide a reproducible test case that is the bare minimum necessary to generate the problem root dna compression encoder decoder tflite convert output file model tflite keras model file model h5 i can upload the model somewhere if needed
i have test code here url python benchmark model py dim length 128 bz 8 will work python benchmark model py dim length 128 bz 16 will give error
steps to reproduce the behavior 1 add more users in config cfg and enable auto reboot 2 disable ipsec in config cfg 3 run algo 4 choose digitalocean as the cloud provider 5 enable ad blocking and disable ssh tunneling 6 choose sfo2 as the region 7 import the generated configuration file to iphone xr 8 turn on on demand for both wi fi and cellular 9 switch from extender network with same ssid and channel as main router
steps to reproduce the behavior 1 connect to algo vpn server 2 go to url
followed all the steps in the guide haven t previously created a vpn after choosing 1 digital ocean it skipped crucial next steps
steps to reproduce the behavior 1 run algo update users behind strict firewall
steps to reproduce the behavior 1 git clone url 2 cd algo 3 sudo apt get update sudo apt get install build essential libssl dev libffi dev python dev python pip python setuptools python virtualenv y 4 vim config cfg 5 algo
steps to reproduce the behavior 1 algo 2 install ps1 file for windows vpn 3 connect using settings
host fedora 30 aws ubuntu version and version option 9 all default ipsec disabled on config
steps to reproduce the behavior 1 set use existing eip to true 2 deploy to aws ec2 3 run through all prompts as normal blank array should show for list of eips
steps to reproduce the behavior 1 download master zip per readme on 5 15 2019 2 edit config cfg to taste set up to install to local version vm 3 run algo
steps to reproduce the behavior starting from a completely empty aws account i followed the instructions in the following guide url
do the same thing again happens the same way
steps to reproduce the behavior 1 be on wifi 2 turn off wifi 3 no traffic is passed
steps to reproduce the behavior 1 follow the steps in the documentation for ubuntu based installation on google compute engine 2 download the cacert and user p12 files and follow manual windows client setup 3 click connect from windows 10 64 bit settings network internet vpn
steps to reproduce the behavior 1 install dependencies root vpn apt install build essential libssl dev libffi dev python dev python pip python setuptools python virtualenv y reading package lists done building dependency tree reading state information done build essential is already the newest version version ubuntu1 libffi dev is already the newest version version 8 is already the newest rc1 1 setuptools is already newest 2 virtualenv ds libssl g 2ubuntu pip ubuntu1 0 upgraded 0 newly installed 0 to remove and 4 not upgraded 2 activate virtual environment root vpn algo master m virtualenv which python2 env source env bin activate m pip install u pip virtualenv m install r requirements txt running with interpreter usr bin python2 new executable in root algo master env bin python2 also creating executable in root algo master env bin installing setuptools pkg resources wheel done installing collected packages asn1crypto enum34 ipaddress pycparser cffi six cryptography markupsafe jinja2 pyyaml pynacl pyasn1 bcrypt paramiko ansible successfully installed markupsafe pyyaml ansible asn1crypto bcrypt cffi cryptography enum34 ipaddress jinja2 paramiko pyasn1 pycparser pynacl six 3 invoke algo
steps to reproduce the behavior 1 install a ct with ubuntu version on proxmox 2 add proxmox ve test repository 3 follow the steps to install algo vpn
steps to reproduce the behavior 1 algo 2 picking option 9 2 following instructions including public ip etc
steps to reproduce the behavior 1 fresh install algo ad blocking and ssh users enabled 2 download mac wireguard client url 3 connect to the server using the user conf import 4 ping www google com img width 1045 alt screen shot 2019 02 27 at 4 18 17 pm src url
steps to reproduce the behavior 1 clone current repo 2 run algo 3 follow prompts 4 wait until it fails
steps to reproduce the behavior 1 setup an aws iam using with mfa activated as instructed 2 run algo and choose
as stated above
steps to reproduce the behavior 1 navigate to the algo master directory 2 run algo from terminal
steps to reproduce
steps to reproduce the behavior 1 start fresh ubuntu version x64 instance on ec2 t3 small 2 installed docker sudo snap install docker 3 sudo docker run cap drop all it v home ubuntu algovpn data trailofbits algo latest where home ubuntu algovpn is a folder that includes the config cfg file got error right after the success message task debug
steps to reproduce the behavior 1 use image freebsd 11 2 x64 zfs for digitalocean provider in config cfg 2 try deploying to do
steps to reproduce the behavior 1 execute command algo 2 choices are sequentially 9 y y y y localhost my public ip
install algo on win10 as a non admin user providing admin credentials
steps to reproduce the behavior 1 modify configs file to include desired users 2 install algo 3 note password at end of install 4 double click on mobileconfig file for desired user on macos mojave install works and am able to connect to vpn on a mac 5 send the same mobileconfig file an ios device via airdrop 6 accept the profile 7 choose install a this is the point where i get an invalid password message despite using same one i used on a mac running macos mojave 8 receive error password for certificate my user id from configs file p12 is incorrect required by ip address ikev2 profile fullsizeoutput 117b url
i connect to the vpn i can rdp i can ping etc to everything i need to but am unable to visit url it simply states it either took long respond and a couple times go that it refused the connection
steps to reproduce the behavior 1 add save connection with ssh key 2 reopen rdm 3 try to connect 4 see error
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior start the application
execute the application under proxy
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 attempt to connect to the redis server
steps to reproduce the behavior 1 select key that you want to populate 1 click add row and enter value and score 3 click ok to add and then application crash
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 go to redis desktop manager 2 click on connect to connect to the redis server 3 expand the nodes and notice the child nodes 4 keys are duplicated each key is shown twice
1 select your database 2 try to expand a large group of keys 4 app crashes
steps to reproduce the behavior 1 choose one data with json format 2 change view as from json to hex table 3 change view as to json 4 see error
steps to reproduce the behavior 1 create two clusters which you will access via nat which means you must untick the change host on cluster redirect setting 2 ensure you are connecting to one cluster via port 6379 and one via 6380 or any non 6379 port incoming to nat only after nat routing inside vpc both clusters use port 6379 3 connect to cluster with non 6379 port via nat note the keys shown in rdm 4 refresh data for the cluster and note keys are now shown for
steps to reproduce the behavior 1 go to console window 2 subscribe channel 3 receive very long message 6 000 4 can t drag text or scroll horizontal
open a file with the following or paste it in vim line 1 line 2 line 4 sh line 6 8 show display block 10 12
test vim vim call popup create bufnr cursorline 1 line cursor 1 col cursor pos botleft minheight 4 maxwidth 80 call popup create bufnr cursorline 1 line cursor 1 col cursor pos botleft minheight 4 maxwidth 80 call popup create bufnr cursorline line col pos botleft minheight 4 maxwidth 80 so 2 cursorline also is displayed in the main window
test vim vim call popup create bufnr line cursor 1 col cursor pos botleft minheight 4 call popup create bufnr line cursor 1 col cursor pos botleft minheight 4 call popup create bufnr line 1 col pos botleft minheight 4 1 locate the at the first line 2 so 3 popup window has one gap between the position and the topleft corner of 4 call clear 5 move to 2 6 so 7 right expected position
detailed steps to reproduce the behavior 1 run gvim c users me vimrc or open gvim to edit any plain file 2 type dir will list lost of file in c windows system32 3 type terminal will open a cmd shell with pwd is c windows system32 4 i ve install gtags plugin global pq cannot find the gtags of my project also output c windows system32
detailed steps to reproduce the behavior 1 ensure the terminal displays some 24 bit color e g run this powershell script url 2 run vim exe 3 exit
detailed steps to reproduce the behavior 1 run vim clean or gvim clean etc vim version 2 edit filename which has supported syntax highlighting 3 select some colorful theme visual should only define bg 4 select any portion of highlighted text 5 selected text becomes gray and normal sample highlighting vim hi visual term reverse cterm reverse ctermfg 66 ctermbg 23 guifg 586e75 guibg 002b36 guisp 002b36
test vim vim let id popup create bufnr maxheight 20 let opt popup getoptions id echom string opt call popup setoptions id opt 1 vim test vim 2 so 3 errors occur
run this shell command vim nu none syn on h au the text note is correctly highligted by the syntax group helpnote the preceding tab character is also xa8c wrongly xa8c highlighted note a quote character is seen as argument to the
for example 1 build version version just make and run src vim 2 insert 3 search 1 4 enter visual mode and highlight 567 from right to left 5 gn then is highlighted
run this shell command vim es nu none cno c a xxx pu execute cno p qa it outputs c c a xxx c a xxx
1 write this in tmp vimrc if 1 let list not from heredoc else let list trim end from heredoc end endif echom list 2 start vim like this vim nu none s tmp vimrc vim outputs from heredoc
1 write this in tmp vimrc let a trim end x end echo a 2 start vim like this vim nu tmp vimrc the command raises the error e990 because x has been joined with end the backslash is removed in the process e990 missing end marker endx here is a different issue which also involves a line beginning with backslash 1 write this in tmp vimrc fu func let b c trim xx x xx echo b c endfu call func 2 start vim like this vim nu tmp vimrc command raises error e688 e688 more targets than list items first xx has been joined with x backslash is removed in process as result there are only 2 items xxx and xx for 3 targets b c
detailed steps to reproduce the behavior 1 run vim clean or gvim clean etc version make sure vim was compiled with either python2 support python3 support or both 2 type pyx import vim 3 type pyx print vim eval 0 0 4 instead of the expected output of 0 0 the result was version the same happens with nested dictionaries printing eval asd 1 also has this problem as does reverse eval 1 asd returns a python dictionary with 1 instead of
detailed steps to reproduce the behavior case 1 1 run vim clean c set number tmp vim 2 call appendbufline 1 2 img width 1680 alt 2019 10 04 58 30 src url line 1 is the unwanted blank line case 2 run vim clean c set number tmp vim 2 call appendbufline 0 img width 1680 alt 2019 10 04 59 38 src url line 3 is the unwanted blank lines
1 vim clean or gvim clean 2 help eval txt 3 10wincmd 4 expr 5 observe a match is found but the cursor position is wrong it s not at the beginning of the match the e char but 3 chars further on r of matched string 6 press ctrl l 7 observe cursor jumps to correct position to e char
mini vim vim set cpo vim function s callback abort echom callback get triggered call popup hide s input winid endfunction function s popup filter winid key abort echom key a key endfunction let s display winid popup create wrap v false mapping v false cursorline 0 filter function popup filter callback function callback scrollbar 0 line 10 col 20 minwidth 30 maxwidth 30 maxheight 10 minheight 10 let input winid create line 5 col 10 minwidth 15 maxwidth 15 maxheight 5 minheight 5 detailed steps to reproduce the behavior 1 run vim clean mini 3 type source 4 press c c
the following leaves the command line window open cat test vim autocmd cmdwinenter quit call feedkeys q vim u none s test vim
run this shell command vim nu none sil pu repeat foo tbar 3 setl list wincmd w b x o x y in the right window the list option is not set echo l list is 0 the end of lines are not displayed with a dollar character the tab characters are not displayed with i
run this shell command vim nu none cmd au bufread bufnewfile xx setf xx cmd filetype on au filetype xx setl cul wincmd w o xx y in the left window cursorline is set as confirmed by the output of echo getwinvar 1 cul which is 1 but the text line of the cursor is not highlighted by cursorline if i focus left window then it gets highlighted and if i then focus back right window text line of cursor in left window remains highlighted
1 is detailed in that issue 2 is with autoindent or from line start or select something w o mouse then backspace then c s 3 always there
detailed steps to reproduce the behavior 1 copy text in the notepad or somewhere 2 mv vim abc 3 vim clean and i and try to paste it 4 q the vim try to paste it at bash cli paste ok 5 vim and i and try to paste it 6 q the try it at bash cli nothing
1 open a scheme file using vim e g vim myprog scm 2 set the omnifunc to syntaxcomplete complete set omnifunc syntaxcomplete complete 2 type a single quote character 3 omni complete kbd ctrl kbd kbd x kbd ctrl o 4 resulting error error detected while processing function syntaxcomplete complete line 63 e15 invalid expression
0 set nocursorline in vimrc 1 vim a txt 2 setlocal cursorline cursorline is displayed 3 e b txt no cursorline 4 bp switched to a txt cursorline is displayed 5 bn switched to b txt no
run this shell command printf a b c tmp file vim nu none cmd syntax on sil vim copen tmp file the quickfixline highlighting starts after the text a
detailed steps to reproduce the behavior 1 create demo script vim complete showbreak vim func dummycomplete findstart base if a findstart return 0 else let long info range 100 map abcde join return word word 1 info long info word word 2 info long endif endfunc set showbreak set completeopt popup setlocal completefunc dummycomplete 2 open the script with vim clean s complete showbreak vim complete showbreak 3 invoke dummycomplete using i c x c u 4 the popup is displayed with wrapped lines the character is displayed at start of each except first line of wrapped text but it does not have background colour of popup window it has terminal background colour
detailed steps to reproduce the behavior 1 create a minimal vimrc function wordcounthere return wordcount words endfunction set laststatus 2 let statusline wordcounthere 2 using this vimrc edit a file containing a bom 3 navigate around in the file for a few seconds 4 observe crash
detailed steps to reproduce the behavior 1 run vim clean or gvim clean etc 2 paste set ft txt tw 75 fo an autoindent 3 paste 9 x zsd i think that setopt is missing from the features reported in indeed it was missing 4 select the 2 lines and press gq 5 the word in will be moved to
detailed steps to reproduce the behavior 1 run gvim with no custom vimrc or vimfiles don t use clean so that netrw is loaded 2 run command let g netrw sizestyle h 3 open a directory with a few files 4 hit i once to change to long listing style notice the human readable file sizes 5 hit the s key a few times to cycle the sorting order current sorting order can be seen in banner after hitting s for 2 3 times file listing gets corrupted and it s no longer usable
detailed steps to reproduce the behavior 1 run vim clean or gvim clean etc 2 execute echo map x y 1 map v val 2 3 vim dies with sigabrt
detailed steps to reproduce the behavior cat eof tmp main vim let x x 10 echo map range 2 filter copy x 1 eof cat tmp main vim let x 10 echo map range 2 filter copy 1 src vim u none n c source tmp main vim c q caught deadly signal abrt finished zsh abort src u none n c source tmp main c q
detailed steps to reproduce the behavior 1 run vim clean popup vim c source vim popup vim function s popup filter winid key if a key g call win execute a winid normal gg return v true elseif a key g call win execute a winid normal g return v true elseif key c e call win execute winid normal c e return v true elseif c y call win execute normal y return v true elseif q x esc popup filter menu x endif false endfunction let create bufnr filter function s filter firstline 20 close button minwidth 120 maxwidth 120 minheight 10 maxheight 10 setoptions firstline 0 2 try any of the filtered commands g e y segfaults with long repeated error message error detected while processing function snr 16 2 snr 16 2 snr 16 2
1 download the attached example file base64 txt 128k and rename it to base64 json 2 run vim clean base64 json 3 the error occurs see below for complete error the error message e363 pattern uses more memory than maxmempattern press enter or type command to continue redrawtime exceeded syntax highlighting disabled press enter or type command to continue
1 run this shell command printf foobar foo tmp html html vim nu none cmd filetype indent on set showcmd showmatch matchtime 100 tmp html html 2 enter insert mode at the end of the second line after foo by pressing ja 3 press and to insert 4 press x to insert x the x character is not inserted in the buffer
1 run this shell command echo test vim nu none set cursorline 2 press yy to yank the current line then p to paste it above both lines are highlighted with cursorline
1 open an xterm window 2 run this shell command vim nu cat eof cno plug up up nmap expr func fu func return plug up endfu eof put test test 3 press the error e486 pattern not found plug up is raised the cursor has jumped over the second occurrence of test and the search register has been populated with plug instead of pressing key while on command line vim simply wrote it s as if cno mapping had been ignored
detailed steps to reproduce the behavior 1 enter a tty with gpm url running which gives you a mouse cursor in console no x server for me i m running in a qemu virtual machine and i see this 100 usage both inside the vm from vim and on the host from qemu 2 have no etc vimrc and in vimrc only have syntax on and set mouse a 3 run vim see cpu usage is normal 4 click somewhere see cpu usage go to 100 until you quit vim
open any vim file and enable syntax highlighting paste the following lines function a let a s r a bar endfunction observe that the s is highlighted as a vimsubst the following single quote is vimsubstdelim and then vimsubstpat matches until the fourth single quote then there is an error flagged at first closing bracket changing to s repeats problem in second sub array
1 run echo a a echo b b vim clean a b 2 set nohidden 3 call prop type add errormsg highlight errormsg 4 highlight buffer 1 call prop add 1 1 end lnum end col 2 type errormsg bufnr 5 a is highlighted 6 next 7 prev 8 is no longer highlighted 9 highlight buffer 2 call prop add end lnum end col 2 type errormsg bufnr 10 next 11 the buffer is empty 12 e 13 the buffer is now populated with b again
in normal mode type terminal python to open python in terminal provided by vim type 1 four space to input 1 to terminal type c w c n to get into normal mode and run command let temp term getline python echo len temp len substitute temp s and the windows vim will echo 0 and the macos vim will echo 4
open a large file with vim81 run e then jump a couple thousand lines down vim u printf syntax on filetype plugin on large file c silent e c 5000 quickly opens with syntax as expected vim u printf syntax on filetype plugin indent on large file c silent e c 5000 so slow it results in redrawtime exceeded syntax highlighting disabled
1 download zalgo txt url file zalgo txt 2 run vim clean cmd set spell zalgo txt 3 vim crashes with
i don t really know the file may need to truncate at some specific place
detailed steps to reproduce the behavior 1 run vim clean in cmd 2 set termwintype conpty 3 terminal cmd 4 python c while true pass 5 press ctrl c
1 run vim test txt 2 sp to create another window and the cursor is in the upper window now 3 press c w to maximize the upper window 4 tabedit test txt to created another tab 5 q to quit the just now created tab
detailed steps to reproduce the behavior 1 run vim clean or gvim clean etc in macos 2 enter insert mode and type url 3 go to normal mode and type gx 4 observe that vim doesn t open the url in a web browser
1 run vim clean file 2 type set number 3 type set relativenumber screen flashes 4 type set norelativenumber screen flashes
detailed steps to reproduce the behavior 1 install vim fugitive this commit url meanwhile there was workaround introduced which fails on paths with spaces 2 install vim dispatch plugin url 3 run vim clean 4 add vim fugitive and dispatch set packpath vimfiles packadd fugitive packadd dispatch 5 open directory with pushable git repo make changes and open gstatus window 6 stage and commit changes 7 run gpush
1 setup directory with foo c and gitignore files version touch foo c version echo gitignore 2 run vim clean 3 runtime plugin netrwplugin vim 4 let g netrw list hide netrw gitignore hide 5 e 6 both files are hidden
detailed steps to reproduce the behavior 1 edit filename xml 2 esc set sw 2 3 esc set et 4 esc set ts 2 5 insert tag 6 insert a newline 7 observe indent for the line is 4 it must be 2 8 insert a 9 observe indent for the line is 4 correct 4 describe the error
detailed steps to reproduce the behavior 1 run vim clean or gvim clean etc 2 call popup create hello borderchars border 1 1 1
detailed steps to reproduce the behavior 1 run vim clean or gvim clean etc 2 issue set iskeyword 48 57 192 255 64 3 type word test test word press ctrl p here 4 describe the error both test word and word test will be completed while only the latter should
detailed steps to reproduce the behavior 1 run vim clean 2 type vsplit 3 make the current window big with ctrl w and then pipe 4 type windo to do othing in every window 5 the tiny window gets expanded
1 edit vimrc and add set wildignore pyc 2 create a file file pyc 3 run gvim remote tab silent file pyc 4 the error message e479 no match appears
detailed steps to reproduce the behavior 1 set terminal width to 17 echo columns should be 17 1 run vim nu none 1 hi statuslinetermnc or call setline 1 join split execute hi statuslinetermnc it looks like statuslinetermncxxx term reverse ctermfg 0 ctermbg 2 guifg bg guibg lightgreen
1 run vim clean or gvim clean etc 2 edit filename 3 add the following autocmd vimscript autocmd bufhidden echo getbufinfo 3 edit another file e another file 4 switch to the other buffer bprevious 5 observe the output
detailed steps to reproduce the behavior 1 use the popup menu open with vim tab or edit with vim im for the right mouse button to open start s u boot version cpu arm920t 2 set tags e program u boot version tags 3 ctrl in function start armboot to jump to definition in line 333 4 after 3s it would jump definition t takes too long if run gvim exe with left mouse button hen drag the start s gvim hen do process 2 it would jump definition very fast what difference between right mouse button and left mouse button
detailed steps to reproduce the behavior 1 run vim clean or gvim clean etc 2 edit filename 3 type 4 describe the error
start with gvim clean bug vim new set signcolumn yes call setline 1 tfoo call prop type add 1 highlight error call prop add 1 2 length 10 type 1 the first character is tab so error highlight must be painted from f image url
1 open vim works also with vim clean 2 type vertical terminal 3 run a process in the terminal for example open a file using less but i ve noticed that it happens also if you let the terminal sit idle 4 open a text file in the first split not the one with terminal 5 wait a while maybe 10 minutes 6 close text file 7 close typing exit 8 now and this is wrong vim opens again already closed text file 9 close again text because it didn t close in step
first run in command line mkdir foo cd foo touch a chmod u w a vim clean call job start rm a out cb j d append line d ls
detailed steps to reproduce the behavior 1 run vim clean or gvim clean etc 2 edit filename 3 type 4 describe the error
detailed steps to reproduce the behavior i used this with cmd let g nothrow 1 to control that it succeeds without throwing to refine my code function foo let l var 0 try if exists g nothrow throw something endif let x wincol l var catch something endtry endfunction try call foo quit catch cquit endtry
detailed steps to reproduce the behavior 1 run vim clean or gvim clean etc 2 edit any file 3 type vim au cursormoved echo getcurpos 4 then motion on a line with text
e g vim let j json encode repeat a b this takes about 6 seconds in my environment when i increase the repeat count from to it takes about 24 seconds this is not a real world use case though
0 load this file long txt url 0 set wrap 0 set display lastline 0 set lines 25 set columns 69 scroll to bottom move cursor to last character using v enter visual mode and select from the bottom of the file to the top scroll to top select first character last line should extend beyond the length of screen unselect using esc observe artifact done c l clear
detailed steps to reproduce the behavior 1 run gvim clean 2 put the following content in t vim vim echon test redraw sleep 1 echo done 3 run so t vim 4 it shows so t vim and after one second done
1 run gvim u none u none 2 set the following options probably easiest to load the following text into a buffer set shell bash c set shellcmdflag set shellxquote shellquote shellredir noshelltemp shell shellcmdflag shellxquote shellquote shellredir shelltemp and then executing that text via buffer a y a a now run shell command r echo hello
detailed steps to reproduce the behavior 0 make sure window is small enough and search stats is shown set columns 80 shortmess s 1 copy paste this text to a file 2 move cursor over 3 type 4 observe the press enter to continue prompt
0 vim vimrc 1 type whatever 2 the cursor on the letter w 3 issue de 4 it would cut whatever including the end
1 create a file text txt which is not encoded in utf 8 format test txt url 2 open vim vim u init vim test txt with the following setting set shortmess f autocmd bufread if fileencoding utf 8 echomsg file is not utf 8 encoded endif
1 write these lines in tmp vimrc let t ti e 1004h let t te e 1004l exe set s f18 e o exe set s f19 e i fu s do event abort if exists a event exe do a event nomodeline endif endfu nno silent s f18 c u call sid do focuslost cr nno silent f19 c u call sid do focusgained cr augroup restore focus events au au focusgained echom focusgained was fired au focuslost echom focuslost was fired augroup end 2 from xterm start vim with this minimal vimrc vim nu tmp vimrc 3 run an ex command whose output contains multiple lines echo foo bar 4 focus a different program window web browser email client 5 focus back the xterm window 6 the output of echo foo bar has been cleared
detailed steps to reproduce the behavior 1 have vim with the register enabled clipboard x11 2 run valgrind tool memcheck leak check full show leak kinds all vim clean au textyankpost let x 10 prime c note valgrind is not actually necessary but it occurs more frequently with valgrind possibly due to the slowdown it causes the file prime c below but any c file will work 3 begin visually selecting wildly 4 you should see colors occasionally jumping with wrong syntax highlighting often red highlights will appear
printf foo tfile t100 test tags vim u none n set tags test tags echo taglist this echoes
1 set a custom font in base theme 2 open the dialog
1 materialdialog context show datepicker currentdate startdate maxdate enddate datecallback listener 2 user selects date greater than max date 3 user presses positive button kotlin at com afollestad materialdialogs datetime datepickerextkt datepicker 2 invoke datepickerext kt 64 at com afollestad materialdialogs datetime datepickerextkt datepicker 2 invoke unknown source 2 at com afollestad materialdialogs callbacks dialogcallbackextkt invokeall dialogcallbackext kt 68 at com afollestad materialdialogs materialdialog onactionbuttonclicked material dialogs core materialdialog kt 403 internal button dialogactionbuttonlayout onfinishinflate 1 onclick dialogactionbuttonlayout kt 84 android view view performclick view java 7352 android widget textview performclick textview java 14177 android view performclickinternal java 7318 android access 3200 java 846 performclick run 27800 os handler handlecallback handler 873 os handler dispatchmessage handler 99 os looper loop looper 214 app activitythread main activitythread 7050 lang reflect method invoke native method internal os runtimeinit methodandargscaller run runtimeinit 493 internal zygoteinit main zygoteinit 965
double click on the image to get the video effect
1 select sunnyvale map with two offices 2 select sim control 3 select routing and planning 4 go to default routing and select any parking space
js import baseaxios from axios import axiosretry from axios retry import reader from libs filereader const axios baseaxios create axiosretry axios retries 5 retrydelay retrycount 0 2
i use of protobuf in my project i must set the content type in the headers when i send get requests the data is undefined and this cause content type to be deleted js example code here const requestopt method get url example params uint8array 4 headers content type application x protobuf accept application x protobuf responsetype arraybuffer axios requestopt
code snippet to reproduce ideally that will work by pasting into something like url a hosted solution or a repository that illustrates the issue
get a local file in my case i wanted to get a pdf as an array buffer js axios file responsetype arraybuffer headers accept application pdf then
1 cockroach exe start insecure 2 setup a license to allow backup restore 3 backup database defaultdb to nodelocal 1
1 create an aws eks cluster and configure kubectl to use that environment 2 run helm server locally as recommended by aws url 3 follow the instructions to install cockroachdb on k8s url using helm chart 4 approve all of the csrs as instructed 5 observe the pods not starting 6 kubectl logs roach release cockroachdb init wcrvt showed the following errors sleep 5 cockroach cockroach init certs dir cockroach certs host my release cockroachdb 0 my release cockroachdb port 26257 21 46 version 1 cli error go 229 ssl authentication error while connecting initial connection heartbeat failed rpc error code unavailable desc all subconns are in transientfailure latest connection error connection desc transport authentication handshake failed x509 certificate is valid for node not my release 0 my
run the test under stress be sure to remove the code the adds the 5 second delay
1 start cockroach exe start single node insecure 2 run cockroach exe quit insecure and confirm that you get ok 3 verify that the node didn t terminate and that you can t connect to it anymore another way to try to terminate the process is to press ctrl c in a terminal window this has the same result the node doesn t terminate and stops responding only way terminate it is with task manager
1 start cockroach using start insecure store cockroach data store1 sql audit dir cockroach data store1 audit log file max size 100k log dir max size 300k 2 login by cockroach sql create test table and turn on audit on table create table log id int alter table log experimental audit set read write 3 generate more data if db err sql open postgres postgres root localhost 26257 defaultdb sslmode disable err nil tquery select from tfor i 1 i 10000 i t t err db exec query t tif err nil t tlog printf s tif db close nil tlog printf s 4 list file in directory data store1 all files are retained and won be deleted even if dir max size is larger than value of flag dir max size rw r r 1 seekingua admin 99945 sep 17 22 56 server start sql seekingua seekingua 2019 09 17t14 55 56z rw r r 1 seekingua admin 99945 sep 17 22 56 server start 2019 09 17t14 56 03z rw admin 99945 sep 17 22 56 server 2019 09 17t14 11z rw admin 99945 sep 17 22 server 2019 09 17t14 18z 26z 33z 41z 20073 48z
cockroach sql url works bdarnell ben crl cockroach sql url postgresql root version 26257 sslmode disable welcome to the cockroach sql interface all statements must be terminated by a semicolon to exit ctrl d server version cockroachdb ccl v version x86 64 apple darwin14 built 2019 08 06 15 29 00 go version same as client cluster id 5b11 4adb 97dc enter for a brief introduction root 26257 defaultdb d cockroach sql with a url env var panics bdarnell ben crl url postgresql root 26257 sslmode disable warning specifies user password but command does not accept user password details details ignored panic invalid argument postgresql root 26257 sslmode disable for flag extracting host port no such flag host goroutine 1 running github com cockroachdb pkg cli setflagfromenv 0x6afda86 0x3 0x0 0x0 0xd 0x6bd480d 0xa1 t go src github com cockroachdb pkg cli flags go 91 0xa0 github com cockroachdb pkg cli varflag 0x727fbc0 0x6afda86 0x3 0x0 0x0 0xd 0x6bd480d t go src github com pkg cli flags 131 0xfc init 5 t src flags 507 0x29c4
what did you do describe in your own words if possible provide steps to reproduce the behavior 1 set up cockroachdb cluster in ec2 using auto scaling groups 2 terminate one of the nodes wait for the asg to launch a new instance and let it join the cockroach cluster 3 observe that logs are looking for terminated node 4 decommission terminated node via cockroach node decommission nodeid 5 wait a few hours and observe that logs are still looking for terminated node
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
1 docz build shell for bugs insert debug trace error 95312 window is not available during server side rendering see our docs page for more info on this error url 21 to operate correctly into non standard environments 22 see url 23 return window document document all window atob 24 25 26 var gettarget function target parent webpackerror referenceerror window is not defined addstyles js 23 node modules style loader lib addstyles js 23 1 addstyles js 12 node modules style loader lib addstyles js 12 1 80 node modules style loader lib module exports node modules style loader lib 80 1 buttons scss d045 16 object src components button buttons scss src components button buttons scss d045 16 82 index module src components button index src components button index building static html for pages error command failed with exit code info visit url for documentation about this command in order to allow us to quickly reproduce you issue please include a link to a reproduction repository
create default site override theme set colors background
import props from docz import playground props from docz
this my code import react from react import breadcrumb from antd import style sass import proptypes from prop types link from react router dom strings localization localization export default function breadcrumbs props const breadcrumbs props breadcrumbs const type props type return div style margintop 30 breadcrumb separator classname mp breadcrumbs breadcrumb item key home link to strings monggopesen link breadcrumb item map index let checklast index length 1 true false return item key index checklast type product item label link to classname mp actived label div proptypes type proptypes oneof default product proptypes arrayof object defaultprops default and this file index md name menu components playground props docz antd antd dist antd less this is of monggopesen ecommerce properties of purpose of details no details playground playground let category label mainan hobi category mainan hobi label sepatu linj category mainan hobi sepatu return category playground with product let mainan hobi sepatu sepatu motor supra return product shell for bugs insert debug trace in order to allow us to quickly reproduce you issue please include a a reproduction repository
1 make sure you have clean cache by removing cache inside docz 2 run docz build 3 try to serve the statics e g docz serve 4 see error
1 run the build command for docz
1 go to url 2 scroll to the bottom of the screen 3 click any menu item 4 see that the page loads in the same bottom position
1 copy the typescript example from the docz repository 2 extend tsconfig json 3 install dependencies 4 run yarn dev or docz dev shell warning in src components alert mdx export alert was not found in alert warning in src components button mdx export button was not found in button
1 import kibana bug dataset txt url that was kindly attached to older related issue 36328 by another user this is a simple text file two columns of floating point values 2 create a bar graph visualization 3 x axis histogram aggregation on float field a 4 set minimum interval to version 5 click bar version 6 see that the filter applied is 4 version instead of version 6 7 remove the filter and repeat with minimum interval 8 see that the filter applied is set to 4 instead of
create a visualization plugin like so jsx viz types js vistypesregistryprovider register private const visfactory private visfactoryprovider return visfactory createbasevisualization name myplugin editor default editorconfig optiontabs name editor title editor editor jsx js import usestate from react const props const height setheight usestate 0 return div lorem ipsum div export default that s it
1 enable xpack security at elasticsearch 2 setup elasticsearch password 3 modify kibana yml set server basepath kibana 4 visit kibana by url 5 use elastic and password to login kibana 6 login failed redirect to logout and msg session expired
1 open a sample data map and have your dev console open 2 click on shape filter click on maps the tooltip about vertex shows up zoom in or out 3 kibana logs error the layer gl draw polygon fill inactive cold does not exist in the map s style and cannot be queried for features at i queryrenderedfeatures vendors bundle dll js 367 at r queryrenderedfeatures vendors bundle dll js 367 at featuresat vendors bundle dll js 214 at object featuresatclick as click vendors bundle dll js 214 214 r events mousemove 214 r mt fire 367 r map fire map fire htmldivelement anonymous 367 backend 6 mt fire i queryrenderedfeatures queryrenderedfeatures featuresat featuresatclick events mousemove mt anonymous
1 in kibana as the elastic user load sample data 2 in discover add a query and a filter 3 save the query using the saved query management popover 4 go to management saved objects and filter for query 5 click on the you saved 6 observe that saved does not load
1 go to discover with an index pattern with data 2 mouse over some fields in the field pane and add them to the doc table view 3 mouse over the right right minus magnifying glass icon
1 navigate to the node listing page for a cluster with a lot of shard changes this should be simulate able by just making a bunch of indices manually over the course of a few minutes 2 observe the inaccurate count per node
1 create custom space and role with limited access to space features and role 2 apply space and role to new user with sufficient indices privileges 3 use new user to attempt to access indices fails
in console s editor when i use a string starting and ending with an escaped double quote put bar doc 1 content triple auto indents gives me here put bar doc 1 content triple which generates an error as we now have something starting and ending with four quotes which is interpreted as a string triple followed by an unexpected extra double quote
1 be an ml admin or super user 2 click on the ml anomaly detection button and then click on a job id img width 790 alt screen shot 2019 09 18 at 11 13 51 am src url then click on any job id and you just go to the details page
1 run es kibana heartbeat version 2 allow significant documents to accumulate 40 minutes ideally 3 specify a different date range like last 4 hours 4 you will see the data displayed in the charts does not have pleasing or useful sizing
having two different index patterns let s say temperature and twitter each one has its own fields and they are not related at all 1 open discover 2 select a field to add a column the field exists in the first index pattern but it doesn t on the second index pattern 3 change the index pattern 4 column is still applied
1 have a large number of users creating a large number of scroll context or 1 set the search max open scroll context setting to a low number and refresh canvas screens until error occurs
1 resize the bottom of your browser window high enough until you can see the timeline tab being cut off 2 next reset your kibana index to show the help us improve the elastic stack banner at top and notice odd effect of it pushing kql search bar far enough that timeline tab is being cut off due to its z order
1 click the anomaly detection button to install all jobs 2 go to the ml site by clicking on a job title 3 delete a job 4 go back to the siem page and click the anomaly detection button again see error below img width 815 alt screen shot 2019 09 16 at 9 17 08 am src url
1 sample data put testindex timestamp1 doc 1 body timestamp 2019 09 11t06 24 version 00 00 put testindex timestamp1 doc 2 body timestamp 2019 09 11t07 24 version 00 00 put testindex timestamp1 doc 3 body timestamp 2019 09 11t05 24 version put testindex timestamp1 doc 4 body timestamp 2019 09 11t08 24 version delete timestamp2 timestamp2 1 senttimestamp 11t12 11t10 timestamp2 2 senttimestamp 11t09 11t09 timestamp2 3 senttimestamp 11t10 54 11t10 4 senttimestamp 11t10 54 11t08 2 create index pattern for and setting time filter name as and respectively 3 in discover tab if you select any time before the sorting always remains on instead of kibana url also remains showing sort desc however if you have some other index pattern loaded that does not have the field ie packetbeat for exampe and then switch to sorting will be correct
1 create a cloud cluster 2 go to management logstash pipelines 3 create new pipeline
1 get this gml file from spanish cadastre and unzip curl o url unzip a es sdgc bu 46900 zip 2 convert to geojson stripping some fields and adjusting precision to reduce file size ogr2ogr f geojson t srs epsg 4326 lco coordinate precision 7 sql select beginlifespanversion as life begin conditionofconstruction as condition reference as ref currentuse numberofbuildingunits as b units numberofdwellings dwelings officialareareference area reference value area value value uom area uom endlifespanversion life end from building buildings 46900 mini geo json a es sdgc bu 46900 building gml 3 open a new maps session and upload buildings 46900 mini geo json 4 an index is generated but not populated get buildings mini mapping buildings mini mappings meta created by file upload plugin properties coordinates type geo shape
1 send example document to logstash 2 open kibana visit logs page 3 error
if you select 1 gig of ram for your ml node which is the default like so img width 880 alt screen shot 2019 09 10 at 5 29 29 pm src url and then go to siem page you will get errors on every page load and every time you click the anomaly button img width 772 alt screen shot 2019 09 10 at 5 38 08 pm src url stack traces from the error toaster ts status exception model memory limit 512mb must be less than the value of xpack ml max model memory limit setting 315mb ts error root cause type status exception reason model memory limit 512mb must be less than value of xpack ml max model memory limit setting 315mb type status exception reason 512mb must be less than value of xpack ml max setting 315mb status 400
1 create a new tsvb visual 2 populate the graph 3 select 6 month query range using date picker 4 notice the time on the graph is now 23hr instead of 24hr 5 select 5 or 7 month query and notice the graph is 24hr as expected
1 click on a job from the anomalies table while using a relative date time 2 notice that it changes on the ml page from relative to absolute date time
1 delete index pattern 2 create index pattern 3 your saved objects are broken even built in
1 start metricbeat version on a kubernetes node with kubernetes modules enabled 2 enter to infraestructure metric explorer 3 the error is displayed
1 load up anomalies 2 go to ml anamalies 3 right mouse click on each of the actions such as host details by process name and you will see we need to update them as it loses the kql and does not select the anomaly table
1 go to hosts details for a host such as suricata iowa 2 notice that you get more than just suricata iowa anomalies
1 create an index where mappings meta version 1 2 go to version upgrade assistant 3 open indices tab 4 see failure message
1 go to advanced settings and look for custom banner notification 2 add some input text 3 save it refresh the browser it doesn t display logout and login and it doesn t display
1 create index with a value with spaces 2 try to edit the value in kibana
1 launch 1 or more docker images of kibana using the default settings 2 visit api status or if connected to elasticsearch the x pack monitoring page 3 observe the name of all instances are the same kibana
1 open workpad 2 visualize data through sql request 3 set setting 5min refresh and 10sec cycle reproduced with other values too 4 run full screen
1 added 2 or 3 columns without issue then add 1 more and error pop up can t remember which index field
1 navigate to the logs analysis page 2 select now as the end date 3 click update 4 observe how the now is replaced with a specific timestamp 5 observe how reloading the page or clicking refresh does not advance end date
1 open url elasticsearch nodes
1 go to the visualization tab 2 click the button to create a new one 3 from the list of visualizations select controls 4 click the add button to add a control and you will see menu with options to appear and disappear after 2 3 seconds
1 open a visualization 2 try to filter on data display
1 logstash pipeline with filters 2 enable metric false for each filter 3 activate monitoring logstash 4 run the pipeline in logstash 5 go in kibana s monitoring page 6 monitoring logstash pipelines 7 choose the pipeline it will be empty
1 set index mapping in dev tools put company mappings properties timestamp type date founded date type date format dd mm yyyy 2 index a document post company doc founded date 31 05 2014 timestamp 2019 08 15t15 50 version z 3 set index pattern 4 go to discover and try to manually add the filter on this field image url this is considered invalid due to this code url l88 so as you can see we are using moment here for fields but that s not how elasticsearch works due to this even if a user wants manually add the correct filter it would be impossible save apply it as kibana would consider the correct value be invalid
1 login to kibana 2 using dev tools of the browser or using a plugin or interceptor like burp copy the sid cookie 3 logout of kibana 4 in another browser or in private incognito mode open kibana add new cookie with key sid and value as copied earlier 5 refresh the browser you ll now be logged in as the user cookie was generated for
1 load discover from any other tab or switch between index patterns the process appears to repeat between either
1 start entering aggregations query in dev tools app this will automatically populate template as below br aggs name agg type 2 while replacing name with desired string kibana starts suggesting available aggregations 3 no suggestions template population happens while replacing agg type
1 load the ecommerce sample data 2 go to the ecommerce revenue dashboard 3 note the rendering of the map image url 4 share pdf reports generate pdf 5 open completed pdf report and check that maps isn t completely rendered image url 6 try again but select optimize for printing 7 check report still not completely rendered several other visualizations also didn t render completely image url 8 remove all other visualizations from dashboard except map generate a new pdf report 9 i thought there was a chance that this map only dashboard might render completely if it was just a timing issue but map still looked same data layer but no borders image url
1 generate a post url for a canvas workpad pdf report 2 delete the workpad 3 run the post url
1 open visual builder 2 create a new visualisation and switch to gauge 3 create to tophit aggregations of to vars from the same index 4 add a bucket script using those vars like params var1 params var2 5 the preview should now feature the same error as shown above
1 create new visualization of type line 2 i chose an elasticsearch source 3 add a metric i chose an average of a float value 4 add an x axis bucket of date histogram 5 enable the y axis option scale to data bounds and set the bounds margin to a positive value i used 5 6 apply changes 7 observe that the upper extent of the y axis is max value metric
1 manually using rest api create a new search object in the kibana index with id search wineventlog eventid 4722 2 try to load the saved search
1 create 2 scripted fields to extract last value and first value from a field based on delimiter ex electronics mobile apple iphone 8 first column will extract electronics and the other column will extract iphone 8 2 create a visualization using the scripted columns 2 columns and few other columns we have around 7 8 visualization in the dashboard 3 in dashboard keep clicking the visualization faster to filter values and similarly delete filter from dashboard if we continue for few seconds entire elastic will hang start giving timeout errors 4 if we verify long running search calls in elastic it will keep increasing start throwing timeout errors
1 install the ecommerce 2 navigate to canvas 3 create a new workpad 4 click on embed object 5 add the ecommerce average sales per region visualization 6 click on a country 7 observe the error
1 save a search with no fields selected source will be displayed as test2 2 add saved search test2 to a dashboard 3 export test2 by hitting download csv
1 create a save search and select hostname field for being displayed 2 save search as test 3 create dashboard and add saved search
1 insert a pipeline containing with in it s name via api e g pipeline green 2 confirm that it was added successfully on kibana management logstash pipelines 3 try to add a pipeline with the same name via kibana s ui on the same menu mentioned on the last step and clicking on create pipeline 4 confirm that this message was shown please address the errors in your form id must begin with a letter or underscore and contain only letters underscores dashes and numbers
1 mapping put timestamp millis mappings properties timestamp type date put timestamp nanos mappings properties timestamp type date nanos 2 sample documents put millis doc 1 2019 01 01t12 10 version z put millis doc 2 2019 01 01t12 10 version z nanos doc 3 2019 01 01t12 10 version z nanos doc 4 2019 01 01t12 10 version z 3 sort in discover format in the index pattern is switched to date img width 1273 alt discover src url
1 add nginx access json into filebeat yml filebeat inputs type log paths var log nginx json tags nginx json json keys under root true add error key true 2 unzip following file and put it in var log nginx then start filebeat access zip url 3 login kibana go to visualize create new tsvb 4 use top n 5 use follow configuration attached screenshot metrics aggregation count group by terms by access url options filter access host johnsiu com and response code 2 and url blog or url cheat screen shot 2019 08 24 at 2 46 15 pm screen shot 2019 08 24 at 2 46 29 pm
1 go to visualize create a new visualization 2 choose line type choose source flights flight log 3 add bucket x axis aggregation on date histogram select field timestamp 4 add sub bucket split series aggregation on terms select field descityname choose size 5 change size again
this request takes 20 30 seconds to complete curl x post kibana url api spaces space h authorization filtered h content type application json h kbn xsrf postman d id test space name test space description description of space color f8fd09 initials ts
1 in maps add layer select upload geojson vector file 2 select a geojson file containing a featurecollection instance where the featurecollection has bbox property defined 3 upload fails with message
1 make an essql request get at least one number column for example a count 2 create a bubble chart in canvas 3 select the number column in the color dropdown
1 metricbeats sends all 1 second a value to elasticsearch 2 create a line view that shows the data from metricbeats and set the minimum interval to minute 3 show last 24 hours
1 create two saved objects let 1 have a relationship that points to 2 2 delete saved object 2 3 find 1 in saved objects management and click view the relationships the saved object has
1 on either coordinate or region maps as a test url enter url for the wms 2 for wms layers enter gebco latest 2 3 for version enter version 4 press play button
1 create a data table visualization 2 split rows by date histogram timestamp monthly 3 click on export formatted
1 configure kibana no other settings logging dest path to kibana log pid file path to kibana pid 2 start kibana via bin 3 observe logs flowing into log 4 move log file to old and observe logs still flowing into same file as expected 5 send sighup by kill hup cat pid 6 the following message is logged type log timestamp 2019 08 19t04 33 57z tags info monitoring monitoring pid 42073 message re initializing monitoring due to sighup 7 logs continue flow into old
1 load ecommerce sample data 2 kibana management advanced settings disable allow leading wildcards in query 3 kibana discover search kql for category ccessories and category ccessories
1 create a timelion expression with split and a color with gradiant expression gradiant of color fails var eur chf es index euronexttape trade timefield time q sym keyword eur chf metric sum volume split volume 5 yaxis 2 lines fill 7 stack 1 width 1 steps 1 fit carry label volume color ad8724 30abb3
1 management spaces 2 create a new space assign a custom color like e20074 3 receive error message
1 create vis for an index pattern 2 put vis on dashboard 3 create filter pill on dashboard 4 save dashboard 5 remove vis from dashboard 6 add a vis from other index pattern 7 save go to listing and back 8 click edit on filter pill or 1 create for an index pattern 2 put on 3 create filter pill 4 save 5 go to management 6 delete index pattern 7 go back to saved 6 click edit filter pill
1 create a role that doesn t have index privileges on apm 2 create a user for that role and sign into kibana 3 go to apm agent configuration and be stuck here img width 831 alt screen shot 2019 08 14 at 3 16 12 pm src url
1 install filebeat 2 enable iptables module 3 try to create a data transform
1 enable verbose logging 2 run a pdf or png reporting job 3 see a single message debug level for a csp error in the browser image url
1 setup two clusters say es1 and es2 2 designate one of these as the dedicated monitoring cluster say es2 3 setup an http exporter on es1 to forward monitoring data to es2 4 enable monitoring on both clusters via the xpack monitoring collection enabled cluster setting 5 enable the trial license on both clusters 6 configure kibana to point to es2 and start it up 6 visit the stack ui you should see cluster listing page with both your clusters listed 7 click on 8 enter setup mode 9 navigate elasticsearch node listing page
1 setup two clusters say es1 and es2 2 designate one of these as the dedicated monitoring cluster say es2 3 setup an http exporter on es1 to forward monitoring data to es2 4 enable monitoring on both clusters via the xpack monitoring collection enabled cluster setting 5 enable the trial license on both clusters 6 configure kibana to point to es2 and start it up 6 visit the stack ui you should see cluster listing page with both your clusters listed 7 click on any one of two 8 click link at top in breadcrumbs navigation
1 view any page with charts in stack monitoring 2 observe deprecation warnings in the logs
1 create a new role 2 attempt to set cluster admin xpack monitoring bulk cluster privilege 3 observe the error preventing it from being accepted selected
1 set xpack reporting csv true in config 2 create an index pattern with a time column 3 create a saved search on that index pattern 4 create a dashboard with that saved search 5 filter the time so that the dashboard have rows 6 click on for the saved search panel and then on download csv
machine learning import csv 1000 lines were successfully imported advance changing mapping text keyword changes were not reflected
1 provision new elasticsearch in aws 2 setup the kibana on new vm 3 configure kibana to use elasticsearch from aws 3 on same machine the kibana is running setup the apache2 with basic auth 5 set up new index index e g filebeat and make it default 4 add new index to kibana in our example streaming logs from cloudwatch to aws elasticsearch cwl 5 clear browser cache 6 close the browser 6 open in browser and authenticate using basic auth 7 you should get a warning that default index is not selected and you must select one 8 select default 8 repeat steps from 7 to 11 and you should always get same error message about default
1 use stack monitoring to monitor beats 2 go to the beats view in stack monitoring and select any monitored node 3 observe that the alignment is not correct
1 go to discover 2 set up more than one filter 3 enjoy
1 open kibana version in ie11 2 the loading kibana indicator spins forever
1 click on the discover icon to go to discover wait for it to load stop any refresh to not confuse things 2 add a filter by any means desired manually add filter or click on any filter for out value magnifying glass 3 wait for filter be applied 4 add a second by any means 5 observe errattic flipping behavior dos not seem be applied
1 click on the discover icon to go to discover wait for it to load use a kibana index with a time field to ensure you get the histogram 2 click on a bar in the discover histogram period above it changes accordingly but no refresh the period occurs
npm init y npm i electron 8 echo console log require electron esmodule true index js npm run electron terminal will have true written
clone url checkout branch v2 install packages and run the start script sh git clone url b v2 yarn yarn start after the app starts open developers tools
sh git clone url b bug set always on top npm install npm start setalwaysontop works click with left mouse button on tray to hide click with left mouse button on tray to show setalwaysontop does not work anymore
run the default code in electron fiddle or electron quick start against electron v version beta 1 on linux not sure about other os e g url
create a simple html page like that html body input value some text button onclick alert 1 alert button body html open a browserwindow to display it click the alert button and close the alert window then click into the input element you are now unable to type something into this input
i got the following code in my renderer webview addeventlistener ipc message event update the badge if event channel null updateservicebadge serviceid event channel and the following code is injected in my webview const ipcrenderer require electron function const elements document queryselectorall pane side p6z4j unread console log elements let count 0 for let i 0 i elements length i if elements parentnode parentnode queryselectorall pane side data icon muted length 0 count 1 report back the unread count ipcrenderer sendtohost count console log post sendtohost 1 ipcrenderer on request function ipcrenderer sendtohost console log post sendtohost 2 both console log post are executed using electron version and below but after updating to version 0 or above not any longer variable is not send back to renderer ve checked url planned breaking api changes 60 to see breaking changes from electron 5 to 6 but haven t found something explaining this behavior change maybe am misinterpreting something here but so far just don t understand why code which worked without issues on v5 series is broken since electron v6 any ideas
js app on ready const istrusted systempreferences true console log istrusted const registered globalshortcut register mediaplaypause console log mediaplaypause pressed console log registered mediaplaypause registered const win new browserwindow win loadurl url if you provide a url please list the commands required to clone setup run your repo e g sh git clone url b another bug npm install cd electron media keys bug npm start when prompted allow terminal to control the computer restart the app and repeat the test
use the following snippet in main js js app on ready const istrusted systempreferences false console log istrusted if istrusted const clickedbutton dialog showmessagebox null type warning message turn on accessibility detail turn on media keys defaultid 1 cancelid 0 buttons not now turn on accessibility if clickedbutton 1 calling with prompt true has the side effect of showing the native dialog that either denies access or opens system preferences systempreferences true or use this example repo sh git clone url cd electron media keys bug npm install npm start
sh git clone url b electron 7 set preloads npm install npm start electron with electron 6 or 7 you see the following messages in renderer console image url it means that the preload loaded successfully but with electron 7 you also got the message error from above printed in the main console
unfortunately these screen model is required for reproducing the issue thus it makes no sense to add code here in case somebody indeed has such devices it is just required to call screen getalldisplays and look at the returned id in the json structure
sh git clone url b bug webgl electron7 npm install npm start
run following code js const app browserwindow require electron app once ready async win new browserwindow app on login console log win webcontents on login console log win webcontents once did finish load async const html await win webcontents executejavascript document documentelement innerhtml console log html app quit await webcontents loadurl url
run following snippet url electron electron bug webrequest onbeforesendheaders js
clone the electron quick start repository and insert the javascript code above into renderer js file don t forget to set nodeintegration true for the main window otherwise buffer won t be found electron fiddle gist of the same url
npm start the code below in main js in the devtools that opens up run window onbeforeunload true then close the window in the working case window will not close in broken case that uses browserview it will const app browserwindow browserview require electron function brokencase tconst mainwindow new browserwindow tconst view new browserview tmainwindow setbrowserview view tview webcontents loadurl url tview webcontents opendevtools function workingcase tconst mainwindow new browserwindow tmainwindow webcontents loadurl url tmainwindow webcontents opendevtools app on ready brokencase maybe related to this comment url issuecomment
try embedding this flash website in an electron project url bear71 following this tutorial url
when we run the following command electron packager appname utilitytool build version version download cacheroot c users arun appdata local electron cache no asar no prune platform win32 arch x64 icon images utilitytool png out dist elenpm overwrite we are getting an issue perm operation not permitted lstat c users arun appdata local temp electron download wlbgwx electron v version win32 x64 zip npm err code elifecycle npm err errno 1 npm err quick start version build win32 packager appname utilitytool build download cacheroot c users arun appdata local cache no asar no prune platform win32 arch x64 icon images utilitytool png out dist elenpm overwrite npm err exit status 1 failed at the quick start build script this is probably not a problem with there is likely additional logging output above a complete log of this run can be found in c users arun appdata roaming pm cache logs 2019 10 24t06 17 59 536z debug log
1 install electron 7 npm i d electron latest 2 navigate to node modules electron electron d ts and see declaration of getsystemversion in line 13270
after upgrade the error occurred node v10 x v12 x lts electron v version v version additional problem there was no v140 error it was solved by installing v140 using visual studio
i tried the code in url webview browser sh git clone url cd electron sample apps webview browser electron sample app zip url the tutorial from url sh unzip tutorial zip electron test js tutorial zip
git clone url npm install npx electron click open model button
prereq enable classic theme on windows 7 1 using electron fiddle set up a frameless browser window app with titlebarstyle set to hidden and some default title 2 in page set up a button with a handler that changes the window title in some way i just have document title document title 3 run the app and spam the button you will be able to see the flicker of window chrome
set your left monitor to primary with 200 scale set your right monitor to 100 scale then run this gist based on the resolution of your monitors you might have to adjust the x position url
check out the following electron fiddle url
i ll try to get a fiddle up later but any app using devtools extensions like ones using electron devtools installer updating to version will not show devtools extensions anymore
example repository url sh git clone git github com handtrix electron focusedwindow bug git npm install npm start and follow the instructions
set the following up in sdl c init sdl window window sdl createwindow app name sdl windowpos centered windowpos centered width height window resizable window allow highdpi renderer renderer createrenderer 1 renderer accelerated configure texture sethint hint render scale quality linear int o width 0 o height 0 int ret getrendereroutputsize ctx renderer o width o height if ret 0 throw runtime error could not get output size printf output size dx d width height
do a request using the net module as described here url to any site that will return cookies
const app browserwindow require electron async function createwindow tconst mainwindow new browserwindow width 500 height 500 tmainwindow setminimumsize 700 700 size only increases to this after moving the window app on ready createwindow
on fiddle add frame false to the browserwindow options object optional add an element to tab into easily like a test a into html code run fiddle and start voiceover focus on the window try to navigate using caps lock arrow buttons nothing happens you can see what should happen by removing frame false or going back to version electron
easy to reproduce with fiddle trying different versions add mainwindow on blur console log blur to main process add a simple input element to html start the fiddle and windows narrator navigate to the input box using narrator caps lock arrow keys when the narrator gets the input box blur will be logged console
see comment above
systempreferences getcolor disabled control text systempreferences getcolor scrubber textured background systempreferences getcolor selected menu item for reference here are the macos headers for these colors and their availability in the macos version sdk property class strong readonly nscolor disabledcontroltextcolor text on disabled controls property class strong readonly nscolor ns available mac 10 12 2 patterned background color for use in nsscrubber property class strong readonly nscolor selectedmenuitemcolor ns deprecated mac 10 0 api to be deprecated use all three are available in macos version one is deprecated but still available but even if they weren t the electron docs don t specify limitations on the macos version for this function shouldn t i expect some value rather than throwing an exception even when colors are not available on user s system or perhaps documentation should reflect that in some cases function will throw an exception and what those cases are a fiddle such basic stuff seems overkill but it also took me about 1 minute so why not url
go to dev tools select some text elements sources press cmd c
with the following code let winpdf new browserwindow show false winpdf webcontents loadurl url winpdf on ready to show winpdf webcontents print silent true printbackground true success close
there is small electron app that show memory leak url it based on electron quick start example app most changes in renderer js code creates browserwindow with offscreen true and subscribe to paint callback callback may do nothing also loadurl with some page that constantly update to induce paint events has no effect on memory leak for me there is no memory leak if code moved from renderer js to main js
git clone url yarn yarn run electron
for reproduce web workers error for let i 0 i 250 i new worker src workers profile js need provide a path to file 240 no crush 250 will crush
1 find an svg such as this one url media file bsicon anchor030 svg 2 write a simple react component import react from react import reactcomponent as spinner from bsicon anchor030 svg export default function spinner size 100 return spinner 3 try to build notice the error is thrown while importing the svg
console create react app foo scripts version react scripts ts the react scripts ts package is deprecated typescript is now supported natively in create react app you can use the typescript option instead when generating your app to include typescript support would you like to continue using scripts ts y n no
1 visit url 2 inspect a link element via dev tools
write your steps here 1 go to create react app dev 2 in the navigation bar change the sun toggler to night 3 the dark theme will appear 4 scroll down on the home page to see get started in seconds section 5 observe that this section ignores dark theme
write your steps here 1 npx create react app hello world 2 cd hello world 3 npm start
write your steps here 1 npx create react app 2 yarn add node sass 3 create common module scss and write a class with some scss in it 4 create app module scss and write some scss in it with an element that composes the class from common module 5 import the class from app module and apply it to an element 6 yarn start
1 run yarn create react app app
write your steps here 1 visit url docsnav and toggle dark mode
1 doc page with a markdown
1 go to docusaurus documentation site here url 1 in the search box type query such as version the search result might look like this image url 1 click on the result that matches the title heading of this page first result in above screenshot url 1 you ll be taken to a page whose url looks like this docsnav
write your steps here 1 clone this repository url 1 run yarn build and observe that there are no build errors 1 run yarn build skip next release and observe that there are following warnings about broken relative links yarn run v version warning package json no license field docusaurus build skip next release generate js triggered warn unresolved links in file version version dir1 dir1 subdir1 doc3 md doc1 md warn unresolved links in file version dir1 doc2 md dir1 subdir1 doc3 md warn unresolved links in file doc1 doc2 feed js triggered feed js triggered sitemap js triggered site built successfully generated files in folder
1 docusaurus init 2 add a folder sub1 with two files inner1 md and inner2 md root directory dockerfile readme md docker compose yml docs sub1 inner1 md inner2 doc1 doc2 doc3 the rest of the tree is the same of the url verifying installation 3 in doc1 link to inner1 dm and inner2 doc1 id doc1 title latin ish sidebar label example page go to inner 1 sub1 inner1 go to inner 2 sub2 inner2 id inner 1 title hi i m in sub1 dir id inner 2 title hi i m in dir 4 make a version cd website yarn examples versions yarn run version version 5 move in a new folder sub2 root directory dockerfile readme docker compose yml docs sub2 doc2 doc3
1 create a project with docusauras 2 start the project and visit the index page
i have made a repository that reproduces the issue repository url github actions failed jest run url the code javascript the dummy code to test just a function that returns the first argument after 600ms param content function longrunningfunction content return new promise resolve reject settimeout resolve content 600 this is only needed in test repro if snapshots don t exist leave time for them to be created if they exist fail test on purpose const fs require fs const path require path const snapshotfile path basename filename snap const snapshotpath path dirname process cwd snapshots snapshotfile if fs existssync snapshotpath jest settimeout 400 tests it runs a first test async expect await longrunningfunction content of first tomatchsnapshot it runs a second async expect await longrunningfunction of second tomatchsnapshot run this code twice to see error output runs second expect received tomatchsnapshot snapshot name runs second 1 snapshot of received of first 27 expect 28 await longrunningfunction 29 tomatchsnapshot you see that it s call to snapshot from that ends in
there s a sample project to demo this bug url following the readme md instructions and running tests should reproduce this error
steps to reproduce the behavior 1 create src index js javascript use strict class c x 42 x return this x console log new c x module exports c 2 create test index test js javascript use strict const c require src test test expect new toequal 42 3 run npx jest
implementation const rebuildlistone objectwithlist return object keys objectwithlist data list reduce acc i const item objectwithlist data list i return acc item const rebuildlisttwo objectwithlist return object keys data cars reduce acc i const item data cars i return acc item module exports rebuildlistone rebuildlisttwo test describe my list builder describe when rebuilding listone it should convert objects to a list listrebuilt rebuildlistone myweirdobject itemone listrebuilt find m m someproperty test2 itemtwo listrebuilt find m m someproperty test2 expect listrebuilt length toequal 2 expect itemone tobedefined expect itemtwo tobedefined describe when rebuilding listtwo it should convert objects to a rebuildlisttwo myweirdobject itemone find someproperty test2 itemtwo find someproperty test2 expect length toequal 2 itemone tobedefined itemtwo tobedefined
steps to reproduce the behavior see example repo url module a depends on module b module b is mocked in the test of a you change the mock of module b
steps to reproduce the behavior 1 git clone url 2 cd js problems 3 npm i 4 npx jest findrelatedtests problems 001 sum js result no tests found exiting with code 1 run with passwithnotests to exit with code 0 no files found in c users publi js js problems make sure jest s configuration does not exclude this directory to set up jest make sure a package json file exists jest documentation facebook github io docs configuration html pattern problems 001 sum 0 matches
read the repository url readme md npm install npm test
steps to reproduce the behavior js import runcli from jest cli runcli ci true bail true findrelatedtests true src filename js 0 env node modules jest environment jsdom build index js config collectcoveragefrom src js jsx ts tsx src d ts resolver node modules jest pnp resolver index setupfiles node modules react app polyfill jsdom setupfilesafterenv rootdir src setuptests testmatch rootdir tests jsx ts tsx rootdir spec test jsx ts tsx testenvironment jsdom testurl url transform jsx tsx build config jest babeltransform css build config csstransform css json build config filetransform snapshotserializers enzyme to json serializer transformignorepatterns node modules module css sass scss modulenamemapper react native react native web module css sass scss identity obj proxy actions rootdir common actions 1 common common 1 components common components 1 constants constants 1 pages pages reducers reducers selectors selectors services services setup setup transformers transformers utilities utilities assets assets modulefileextensions web web web json apppath apppath
steps to reproduce the behavior see this repository url at the root s jest config js url specifying projects as only packages p1 makes jest config fails to read packages p1 jest config js yarn test showconfig configs name globalconfig projects packages p1 but if i specify projects as packages p1 p2 both configs are successfully read yarn test showconfig configs name name p2 globalconfig projects p2
steps to reproduce the behavior create several test files that import the mathjs library img width 442 alt screenshot 2019 08 15 at 19 49 40 src url img width 691 alt screenshot 2019 08 15 at 19 46 02 src url img width 658 alt screenshot 2019 08 15 at 19 46 16 src url
steps to reproduce the behavior jest config js module exports notify true notifymode failure index test js test ok expect true tobe true run jest if you run it with jest notifymode failure it will work it doesn t show the notify window img width 1278 alt screen shot 2019 08 14 at 17 45 24 src url
run this js const request require request aftereach done console log aftereach starting request url function error response body console log aftereach ending done afterall done console log afterall done test test console log test starting request url function error response body throw new error test failed
steps to reproduce the behavior 1 use winston logger for logging 2 run jest test for multiple test files which use winston logger 3 notice in stdout wrong file name is displayed notes the behavior is correct when using console logging but incorrect when using winston logging i noticed that there is snapshot test which also exhibits this incorrect behavior added as part of url also it appears that the issue only happens when we use winston with jest by itself when used with node works well i think there is some issue with jest console package we use e g below code url l18 seems to return console log node modules lib transports console js 79 always whenever used it works as expected using logging
run this test tried both jest version and version test throw an error throw new error one test throw a string throw two test an error async async new error three a string async async four results npm run jest version users bdarnell src jest jest fail index js an 1ms a string an a string 1ms one 1 2 new one 3 4 5 at object anonymous index js 2 9 two three 8 9 10 new three 11 12 13 at object anonymous index js 10 9 11 12 13 14 four 15 16 at env it node modules jasmine2 build jasmineasyncinstall js 91 24 at object index 13 1 suites 1 failed 1 total tests 4 failed 4 total snapshots 0 total time version s ran all suites
i don t have a concise repro repo at this moment
1 yarn add jest circus 2 attempt bundling it for a browser env using a setup like this url
jest config js const resourceloader require jsdom class customresourceloader extends resourceloader module exports testenvironment jsdom thirteen testenvironmentoptions runscripts dangerously resources new customresourceloader package json jest version jest environment jsdom thirteen version jsdom version it should be at least 2 tests and jest cache cleared to trigger parallel build
steps to reproduce the behavior execute it according to the code i provided
steps to reproduce the behavior add collectcoverage true to the jest configuration along with the html and cobertura reporters and start debugging look at the source map either in vs code or in your browser and observe all markup stepping through logic in vs code will jump your view to last line of active document after entry debugging line breakpoint
steps to reproduce the behavior
steps to reproduce the behavior 1 clone jest 2 install hg 3 install dependencies 4 run tests yarn test
run repo below git clone url cd issues git checkout jest issue 8611 npm install npm run test
steps to reproduce the behavior ajv config config ajv new ajv unknownformats ignore removeadditional false usedefaults true coercetypes true jsonpointers true verbose true allerrors fastify setschemacompiler schema return config ajv compile schema fastify schemacompiler schema return config compile schema fastify i also tried modifying the source url l165 didn t work js fastify addschema id analysis type object properties data type object app type object properties type string default analysis version string default v1 default analysis version v1 required version required app in route return reply send data best id 1 name id 2 name express worst id 2 name express 3 obs not
steps to reproduce the behavior paste your code here js exports checkkyc async req reply try const userid req params userid const resdoc await kyc find userid userid id 0 limit 1 return isempty resdoc boom badrequest no such user found json stringify resdoc 0 catch err throw boom boomify err
js use strict const ajv require ajv const ajv new ajv addschema id urn schema foo definitions foo type string type object properties foo ref definitions foo addschema id urn schema response type object properties ref urn schema definitions const fastify require fastify fastify setschemacompiler schema compile fastify route path method get response 2xx getschema urn response handler req reply reply send bar inject url err response if err throw err console log body
steps to reproduce the behavior 1 run the following code it should throw a fst err sch build error 2 comment out the custom ajv instance and run it again no problems paste your code here js const fastify require fastify logger info const ajv require ajv const ajv new removeadditional true usedefaults true coercetypes true allerrors true nullable fastify setschemacompiler function schema return compile schema fastify addschema id url type object properties hello type string route method post url schema body type array items ref url properties hello handler req reply reply send req body listen 1234
insert a url to your test case use codepen io jsfiddle net jsbin com codesandbox io or whatever url basically the svg s use element always makes the icon a tad smaller than the svg element itself one other curious thing is that the font icon always overflows i element
steps to reproduce the behavior 1 go to url or url 2 404
steps to reproduce the behavior 1 go to url 2 try to trigger success state in email settings your internet presence client validation is currently not working as described by related issue 3 refer to
steps to reproduce the behavior 1 go to url 2 try to switch between normal and focus state on input boxes with mouse click or keyboard tab 3 refer to
steps to reproduce the behavior 1 go to url 2 try to fill email settings and your internet presence 3 refer to
steps to reproduce the behavior 1 go to the challenge create a controlled form 2 click on submit in the output window 3 see the new challenge window render
steps to reproduce the behavior 1 go to any code challenge page for example url 2 click on challenge description left part 3 try to scroll description with keyboard up and down keys 4 it is not working
1 go to a repository without a master branch 2 go to the pull requests tab 3 hit new pull request 4 observe 404 error
steps to reproduce the behavior 1 install gogs as per guide 2 start in manually to confirm all is looking good 3 attempt to launch gogs as a daemon background service 4 observe
steps to reproduce the behavior 1 go to settings webhooks on a repo 2 add a new one and then click test delivery 3 see that nothing happens and the browser log shows a 500
steps to reproduce the behavior 1 in a view controller s viewdidappear method set enableautotoolbar true 2 tap on a text field in that view controller
steps to reproduce the behavior 1 create xib file 2 add stackview with vertical axis 3 add 2 textfields to vertical stackview 4 add 2 stackviews with horizontal axis to stackview 5 add 2 textfields to each horizontal stackview 6 textfields vertical 7 run app 8 select first textfied 9 select next button multiple times
steps to reproduce the behavior 1 create policy as above and secret backend create token with policy as above 2 run vault lease revoke sync aws creds myawsrole s6lvj3omgssqgwnvuysi2agf 3 notice that the token is allowed to revoke lease 4 use the documented api and use payload json to supply lease id 5 notice that you get a permission denied as policies only work on paths which is apparently what the vault cli uses
1 configure vault to run in ha mode 2 run vault server 3 on the machine that obtains leadership trigger performkeyupgrades to return an error
steps to reproduce the behavior 1 create static role vault write database static roles test db name my postgresql database rotation statements rotation sql username jacobm rotation period 30 success data written to database static roles test 2 get password vault read database static creds test key value last vault rotation 2019 09 23t15 28 version z password a1a jpks3or3h1en8sa9 period 30s ttl 11s username jacobm vault read creds test key value last 2019 09 23t15 28 version z password a1a jpks3or3h1en8sa9 period 30s ttl 0s username jacobm read creds key value last 2019 09 23t15 28 version z password a1a jpks3or3h1en8sa9 period 30s ttl 0s username jacobm
1 store a key with multiple fields in vault eg vault kv put some key path fielda dataa fieldb datab 2 fetch only one field from that key and redirect to a file eg vault kv get field fielda some key path my file file 3 examine contents of my file will include metadata for and both fielda fieldb and data
steps to reproduce the behavior 1 run a single instance of vault locally with a file backend 2 run initialize the vault with vault operator init key threshold 1 key shares 1 3 unseal the vault as normal 4 run operator rekey init key threshold 2 key shares 0 pgp keys panic runtime error index out of range goroutine 1 running github com hashicorp helper pgpkeys readpgpfile 0x0 0x0 0x0 0x0 t gopath src github com hashicorp helper pgpkeys flag go 100 0x83a github com hashicorp helper pgpkeys parsepgpkeys 0x1 0x1 0x1 0x1 t gopath src github com hashicorp helper pgpkeys flag go 88 0x357 pubkeyfilesflag set t gopath src flag go 54 0xd5 flag flagset parseone t goroot src go 906 0x37b flagset parse 0x4 0x4 0x2effdc0 0x2c60aa0 goroot 925 0x62 command flagsets parse 0x4 0x4 gopath command base 432 0x4d command operatorrekeycommand run command operator rekey 226 0x63 vendor mitchellh cli cli vendor mitchellh cli cli 255 0x207 runcustom 0x6 0x6 main 177 0x5e4 0x6 0x6 main 87 0x48 main main 10 0x62
steps to reproduce the behavior 1 enable github auth and assign policies to a github team as per the docs url assign policies with token policies instead of policy deprecated in version 2 run vault login method github 3 the token should only have the default policy attached
steps to reproduce the behavior 1 run vault agent config etc vault agent hcl 2 the output pushed to stderr is vault server started log data will stream in below vault agent configuration api address 1 url cgo disabled log level info version v version version sha 2019 09 16t11 09 version z info auth handler starting auth handler 2019 09 16t11 09 z info auth handler authenticating 2019 16t11 z info sink server starting sink server 2019 16t11 z auth handler authentication successful sending token to sinks starting renewal process renewed token cache received request method get path cache apiproxy forwarding request method get path
steps to reproduce the behavior 1 create policy 2 create token using policy 3 test path with vault read after setting environment variables for url and token
1 vault write app db config app allowed roles s my role 1 s my role 2 the following command runs in a loop for the different roles 1 run vault write app db static roles s my role 2 db name app rotation statements grant all on to name identified by password username my role rotation period 24h and with some not all the command errors with the following message error writing data to dashboard db static roles s put url net http request canceled client timeout exceeded while awaiting headers
this reproducible time to time in our low level environments
vault write auth approle role a a policies asd vault write auth approle role a policies asd vault write auth approle role a policies asd vault write auth approle role policies asd
steps to reproduce the behavior from root login using web ui create a policy that allows policy creation for a entity other than root this policy is from the tutorial url policy requirements with the minor change of display the policies tab in ui path sys policies acl capabilities read list will work 1 create a userpass auth method 2 add entity without 3 create group using from above and add entity as member 4 login with new entity using web ui and create a i used provisioner from link above
steps to reproduce the behavior 1 initialize vault with s3 backend 2 run vault operator migrate from s3 source to another backend
steps to reproduce the behavior 1 export https proxy http proxy ip export https proxy http proxy ip 2 vault write gcp roleset terraform project terraform secret type service account key bindings vault bindings hcl 3 tcpdump nni any port 80 port no traffic connected to server 4 see error error writing data to gcp roleset terraform error making api request url put url code 400 errors unable to create new service account under project projects terraform post url oauth2 cannot fetch token post url dial tcp version 443 i o timeout
vault server dev vault operator unseal vault login vault audit enable file file path tmp vaultlog log operator seal operator unseal with a wrong unseal key like ft92mrbcscwaougxp1mpmk qz sgfy3p4lzrazqn0yg operator unseal with the correct key login with correct token login with incorrect token
steps to reproduce the behavior 1 login to vault using oidc 2 in user menu click renew token 3 reload page 4 see white blank page
jlorenzini jlorenzini mb tests vault read format json sys metrics format prometheus error reading sys metrics invalid character looking for beginning of value
steps to reproduce the behavior 1 run curl kv vault addr v1 sys health standbyok false against a standby node 2 see that it returns status code 200 even though the json body payload returns that the node is a standby
run curl v l h vault token
steps to reproduce the behavior 1 clone url 2 run tests 3 see error
steps to reproduce the behavior 1 run vault server dev 2 run export vault addr url 2 create a file called config hcl with the contents hcl pid file pidfile vault taddress url listener tcp taddress version 8100 ttls disable true 3 run the vault agent with agent config config hcl 4 see error error loading configuration from config hcl error parsing auto auth one and only one auto auth block is required
steps to reproduce the behavior 1 echo my token tmp my token 2 use ioutil readfile to get content of tmp token 3 use settoken to set the token 4 perform a request to vault
when i use the official run lm finetuning py and run glue py scripts with roberta large on my own data i run into out of memory oom issues during evaluation training completes successfully with a batch size of 1 and a max senquence length of 512 however when evaluating the 4th or 5th checkpoint i get an oom error i tested using distributed training with fp16 on 2 tesla p100 sxm2 16 gb and 2 tesla p100 pcie 12 gb with the same results m currently testing on 2 tesla m40 24gb however don t always have access to these gpus so this is untenable long term
take any ionic tab bottom project insert a footer with a toolbar inside and execute this on e g iphone xs
on ios open a modal panel and dismiss it try to open another on android open a actionsheet and close it try to open it again
1 cordova platform add cordova electron 2 cordova run cordova electron 3 console log this platform platforms in app component ts
run any ionic vue app in chrome with emulation on toggle between iphone 6 7 8 and nexus 5x refreshing between each toggle navigate through the pages in the app and observe animations on android but not on ios
1 create a page that uses the slides component that uses a scrollbar ion slides scrollbar true options slidesoptions ion slides 2 in page component set slidesoptions scrollbar 3 observe that a scrollbar div shows up but does not function as a and does not track the current slide
generate new ionic 4 project with stencil
1 attempt to create an action alert with a number of buttons that defined an icon
use the latest ionic ionic start app test use the navigation or tabbed template cd app test ionic build prod xa8crelease is not necessary serve deploy www access root url works ensure that the route has been appended like home refresh crash
we have ion button elements inside a div with some overflow x
clone this url or create a brand new project with tabs options edit tab1 page ts and tab2 page ts with this code ts import component from angular core component selector app tab1 template ion header ion toolbar ion title tab one ion title toolbar header content virtual scroll items items item virtualitem let item div item div item virtual scroll content styles div background rgb 189 72 72 width 60px height 60px text align center color white export class tab1page items constructor for let i 0 i 1000 i this items push i run the code on an ios simulator device
clone this url or create a brand new project with tabs options edit tab1 page ts and tab2 page ts with this code ts import component from angular core component selector app tab1 template ion header ion toolbar ion title tab one ion title toolbar header content virtual scroll items items item virtualitem let item div item div item virtual scroll content styles div background rgb 189 72 72 width 60px height 60px text align center color white export class tab1page items constructor for let i 0 i 1000 i this items push i run the code on an ios simulator device
go to any page with an ion range on it and press the slider and make a vertical swipe gesture the knob will immediately move to the new position even though the gesture is clearly not intended to do this
our app is large uses ngrx which boots fine and runs fine we do not have a hello world size plunker stackblitz to show anything lots of modules are lazy loaded no eager load main app uses ion router outlet main ion router outlet we have a tabs component and home component our app uses relative nested routes with regard to this tabs home so i am wondering to what extent do relative routes have to play in this since the app attempts go directly the relative route on boot but the modules and their respective router outlets are not instantiated at the time so we get home module component thru tabs module component nothing worked when they were lazyloaded both are eager loaded now try and isolate race async loading outlet setup at runtime home uses router outlet comes up but again an area of code crashed is inoperable due this timing race condition of loading setup on boot we are willing try anything remedy please advise
0 start a new project ionic start myapp blank will do as it already contains a link and serve it 1 use an ipad 2 close all tabs this is important 3 open the new project on the ipad with safari 4 click on the link on the page to open it this works as expected 5 close new tab by either clicking back or by clicking on close button 6 click link again to open it nothing happens 7 click below link will open
it s random not exactly sure why appflow decides to fail with certain wifi networks and its not that the internet is not connected because everything else loads perfectly besides specifically appflow updater
use an ion label with position stacked nested inside ion item
1 create a template with an ion textarea in it 2 create a windows build ionic cordova build windows 3 run the app with visual studio 4 type in a text into the ion textarea
create starter app with cra import ionreactrouter
an example app has been provided see related code when navigating to schedule a navigateforward is triggered to simulate a fast user response to navigate forward this could also be achieved by clicking on a session while entering the schedule page if there is an entering animation the scree capture webm file in the main directory shows the bug
1 create ionic project 2 add toggle button ion toggle 3 use styling code that is below 4 deploy to ios device
1 create new app
create a new ionic 4 project using the tabs template modify tab2page to have some dynamic content e g a button incrementing a counter and the value of the counter shown on the same page run application using ionic serve click tab two start clicking button rendered counter value doesn t change press f5 in browser to refresh page so that it now automatically opens on tab two start clicking button rendered counter value increments as expected
see url run the app in the browser and try to click the agent drown
create new ionic project sidemenu with capacitor copy code below to home page html build and deploy to mobile phone android not tested on ios
bash vue create myapp cd myapp yarn add ionic vue ionic core yarn serve typescript main ts import vue from vue import app from app import router from router import store from store registerserviceworker ionic ionic use config productiontip false new router store render h h app mount app
migrate an app from an old version of ionic you can reproduce this using the sample ionic projects start a new ionic project for example a sidemenu sample project migrate to the new versions add capacitor to the project build the project as prod copy files to electron run electron app you will see a white page
create an angular application inject ionic structure css inject ionicmodule do not include any ion component blank screen add any ion component app displayed
have an ionic 4 x angular 7 application and run the update commands
you only need the code that i leave below
just create an example tabs app and copy paste the example below resize the browser window so you get scrollable content and see the scrollbar disappear when it scrolls over the area with ion radio group
declaring my slides options variable inside constructor or ngoninit
example function to load an array ts public refreshnodes const setvalue nodes this contactnodes nodes has to been called manually this changedetector detectchanges this contentnavigationservice setvalue html ion content ion list ion item click clicknode node ngfor let node of nodes ion label h2 node text h2 label item list content
just add an ionbutton component and set the href attribute the path should be added as a route within the ionrouteroutlet
create any react boilerplate import ionic core extend jsx namespace in react app to obtain access to html custom elements in jsx ide doesn t complain for any custom elements except for ion icon this is the snippets that fixes the behavior i have pull request ready to be submitted export namespace jsx export interface intrinsicelements extends ionicjsx intrinsicelements
place a logo inside the ionic header
create a toast with a top position
create a virtual scroll content with ion cards
1 create new ionic project 2 add ion input type number inside home page html url
item sliding active slide ion item options display grid
1 create an new tabs project 2 create a empty page 3 add the page as a sub page inside the tabs router module ts file 4 navigate forward to the child page
1 create a new project using create react app 2 create 2 ionicon components one loaded by ionic and one random 3 view project by either using npm start or npm run build 4 open the network tab to view sources class page extends react component render ionicon name menu ionicon name happy reactdom render page document getelementbyid root
0 clone sample app cd into folder npm i ionic serve 1 open the application url 2 click metagame on the app menu 3 click works once 4 click the x at the top of detail outlet to close it or click metagame in menu again 5 works once nothing happens we should re open detail secondary outlet here but it does not 6 works every time outlet opens like it should have but we should not need to specify fully qualified urls to routerlink that s horrifyingly leaky and a maintenance nightmare now in app component html replace ion router outlet main class app main ion router with router main class main router repeat steps 1 5 opens as expected this is a blocking bug in ion only workaround is to hardcode fully qualified urls in entire application rather than properly targeting named outlets directly via their proper relative url which would immediately break everything as soon as a single route middle of hierarchy is changed
i m using node version
use ion router outlet and open page with routerlink page step by step to open the next page if many pages will be slow
from an ipad emulator console log platform platforms
create new project with vue cli add ionic vue and try to use icons
create ion item or ion card add click event assure implicit button is rendered in dom press item hold and move out of item release mouse out of item or even on itself no click triggered correct ripple effect not removed incorrect
just write the following markup
have some view that changes when the app resumes
add a text input on the dom focus when the keyboard opens on ios try to scroll
use ionic input with any non english input wong behavior ionic angular version wrong url correct behavior ionic angular version correct url
1 ionic start blank 2 ionic serve 3 ionic platform add windows 4 replace index html base href with base href 5 replace home page html ion content with ion content ion item ion label position floating notice label textarea type text textarea item content 6 ionic cordova run windows arch x86 7 type something into the textarea
for the ionic react conference app 1 visit url directly 2 a blank page is shown or 1 visit url directly 2 a page is shown with the content missing navigating to either via the root page works fine
open a modal alert bottomsheet and navigated back or forth from browser using browser buttons navigation url should be of same application
1 clone the repo listed in
write something wrong in the ion textarea
generate a blank project with the version
git clone url cd ionic split menu npm install npm run bug
1 start a new react blank project ionic start slides blank type react 2 use the following home tsx template import ioncontent ionheader iontitle iontoolbar ionslides ionslide ionbutton from ionic react import react from const slideopts initialslide 0 speed 400 class home extends component any any private slidesref createref any constructor props any super props this state slides 1 slide 2 slide onslidesadd this setstate slides 1 slide 2 slide 3 4 5 async await this slidesref current update console log ionslides updated but issue persists render const slides this state return ionheader iontoolbar iontitle ionic blank iontitle iontoolbar ionheader ioncontent ionbutton onclick onslidesadd add ionbutton ionslides ref slidesref pager true options slideopts map ionslide key parseint h1 h1 ionslide ionslides ioncontent export default home 3 run ionic serve 4 click on the add button
1 clone repo url and run the app 2 go to the page bottom and click open page button 3 close the new page 4 the home page is visible again it should scroll to bottom but it doesn t 5 in comparison remove or comment out following 3 lines from main js so that vue can remember scroll position import ionic from ionic vue vue use ionic import ionic core css bundle css a sample application via github url
1 start a new react blank project ionic start slides blank type react 2 use the following home tsx template import ioncontent ionheader iontitle iontoolbar ionslides ionslide ionbutton from ionic react import react usestate from const slideopts initialslide 0 speed 400 const home functioncomponent const slides setslides usestate id 1 text slide 1 id 2 text slide 2 id 3 text slide 3 id 4 text slide 4 5 5 return ionheader iontoolbar iontitle ionic blank iontitle iontoolbar ionheader ioncontent ionbutton onclick setslides slides slice 1 remove first ionbutton ionslides pager true options slideopts slides map ionslide key h1 h1 ionslide ionslides ioncontent export default home 3 run ionic serve 4 click on the remove first button
i am currently unable to test this in encapsulated pages i can try to break it down in the next week nevertheless here is my code news page html tab2 ion header class header transparent ion toolbar ion searchbar searchbar class header search placeholder suche nach artikeln showcancelbutton ioncancel issearchbaropened false keyup dosearch searchbar value ion searchbar toolbar header global scss search input border radius 6px important make toolbar transparant url md transparent toolbar background transparent color base transparent important padding top 7px important remove bottom border on md md after background image none remove bottom border on ios ios last child border width 0
please run the demo from the repository linked below to reproduce the bug
1 start a blank project 2 add ion footer
1 create html template with ion content 2 in between place a ion grid with ion row and ion col 3 make a new mutationobserver instance and try to observe dom change
create a form with ion datetime and some ion input
use this as routes for the tabs component typescript const routes routes path component tabspage children add multiple children and try to navigate between them in the tab bar nothing will happen
on this occasion i am using ion select in a header component to present a list of languages when a user logs in they may not have the full array of languages available to then you the list is updated i can see that in the html markup that the ion select options are updated but ion items in popover aren t
1 create 2 pages view and edit 2 handle viewpage routing manually by overriding ionicreusestrategy and make sure that view handles its own routing 3 do the previously described steps 4 the view should be recreated after navigate back
1 enter a tabs page to tab1 tab1 must have inside in it s content a link to another page 2 click to the link from the tab1 which opens the new page and press back button it returns to tab1 page who still has the back button everything ok here 3 now go from tab2 and then go back 4 enter link once again in and press back button it returns but it s button has dissapeared
add an ion infinte scroll element at the bottom of the page and scroll down the function defined in ioninfinite is never called
compile an ionic app with ionic build base href subpath and put the content of the www folder to the subpath subpath of a http server check if an ion icon is visible
i tried creating a sample app but could not reproduce the issue i really don t know as i mentioned the images load fine in electron capacitor but do not load in native chrome and load better in safari but not 100 insert short code snippets here
create basic ionic angular app run it on a device try to inspect it via chrome open chrome inspect devices image url
this is a very simple page with 1 input field it can be tested on ios and safari and then on chrome inputting text works on chrome but won t work on safari and ios even chrome in ios url
i tried to load the app on my android phone xiaomi redmi note 7 with miui 10 android 9 using ionic server devapp and it is the same using ionic cordova run android device however it is working fine using the emulator the image is well displayed
create a sidemenu starter from cli ionic start myapp sidemenu append the related code to app component html 19 run ionic serve open the menu hover over the list items in the side menu
clone project below run npm install run ionic serve open both safari and chrome
html ion content fullscreen t ion refresher t t ion refresher content ion refresher content t refresher list item label pok on yellow label item item label mega man x label item the legend of zelda pac man super mario world list content
move from top to bottom on a page where the content does not exceed the space on the page
add target blank to an ion button component
start a new project ionic start myapp tabs open tab1 page html and remove the href s of the ion item s open url change the port accordingly and the tab isn t selected it was working before this change another scenario open tab2 page html and add some component inside ion content for example a ion spinner open url and tab isn t selected it was working before this change
create an ion item with a ion label ion input and ion icon slotted to the
add an ion datetime to an ionic project page similar to below to pick time ion datetime ngmodel start displayformat hh mm minutevalues 0 15 30 45 picker format hh mm ionchange onchangestarttime event ion datetime
1 create a loading controller modal 2 present it 3 set to hide after a couple of seconds or with another function needs to be automatically 4 quickly change browser or tab so the ionic app became an inactive one 5 return after your dismiss conditions have been met 6 check that the loading modal is still there
use ionloading in a component where isopen is initially set to true or set to true in componentdidmount
just have a ion item with some child inputs
simply start a new app follow the native http installation from the doc and try to do an http request while using ionic serve devapp
ionic start test sidemenu sidemenu cd test sidemenu ionic serve please see the launched application on your pc
run the conference app in dark mode
upgrade from version to version version building ionic app with ionic build prod and publish it in prod environment
update from ionic version to version no other changes made to app rm rf node modules npm i s ionic angular version ionic core version npm i run application white screen appears
follow this walkthrough url until the part of getting started where vue use ionic is added to main js at that point run the app and you ll get the error in the browser
1 git clone url 2 cd ion slider sorting bug 3 npm install 4 npm start 5 see the slide is at zero 6 slide forward and you see a 1 7 slide forward again and you see a 3 but it should be slide number 2 as printed in the console log array is 0 photoid 0 1 photoid 1 2 photoid 2 3 photoid 3 but elements are ion class md swiper swiper zoom container hydrated style width 924px 0 ion ion class md swiper swiper zoom container hydrated prev style width 924px class md zoom container hydrated active style width 924px class md zoom container hydrated next style width 924px
create a new project create a reorder group and use an item wrapped in a reorder and then build for ios tap one of the reorder items and they will disappear
please take a look on demo url we starting from landing page then going to tabs tab 1 then click on tab 2 now click back button browser or hardware actual result you are on tab 1 expected result you are on initial landing page from ux point of view single tab should not be considered as a separate page it should be just a state of tabs holder page
ionic start myapp type react ionic cordova plugin list ionic cordova plugin add cordova plugin custom add cordova dependencies ionic platform ios add www folder but empty build ios prepare ios www folder is still empty run ios throws an error saying www index html not found
ionic start pwatalk sidemenu cd pwatalk ng add angular pwa project app ionic build prod ws p 7777 d www connect to localhost 7777 in chrome mobile mode
clone sample application npm i ionic serve in the sample application 1 keep simulate fast navigation enabled 2 click navigate via root outlet 3 back navigation is triggered 4 click navigate via tab outlet 5 page is empty but three cards should be rendered ngfor structural directive not evaluated 6 disable simulate fast navigation 7 click navigate via root outlet 8 click back 9 navigate via tab outlet 10 page is rendered as intended
1 create a new project using the ionic cli and select the conference app 2 follow the steps listed here url 3 open the xcode project sign app and deploy it to device 4 let it be installed on device for one week
create a new project with vue cli replace the content from the default helloworld component with any ionic component register the ionic plugin in the test and run it see example below
1 cd into cloned github project directory 2 run ng serve 3 open website in browser 4 click rendered ion datetime element 5 try to change am pm input 6 see error parsing date object object please provide a valid iso 8601 datetime format url in console
load a split pane menu using a small screen preview iphone 6 7 8s with firefox
create a form add an label and input in an ion item tag
create a tabs app and add a ion back button on a tab subpage with a defaultback to the tab parent page open the app directly on the tab subpage to keep history empty and click on the back button
we have built the following for web deployment ionic cordova build browser prod
use any ion title contained in ion toolbar
so i d like to use iontabs with iontabbar with my custom iontabbutton component and when using i m getting the error the iontabs and custom iontabbutton components are visible below
this will open in different positions in web and android ion fab list side end ion fab button b1 ion fab button ion fab list
1 add the code snipped from related code below to a new page 2 observe how a disabled ion select option looks the same as a non disabled item
1 add an ion datetime wrapped inside an ion item to a page 2 load the page 3 observe how the ion item has the class item has value prior to being set to anything
add preference name keyboardresize value false to config xml create a page with a long form that uses more than half of the screen
combine an ion input with a floating label and give the label a color property set focus on the input element color of label changes back to primary
an email is send to client and clicks the url in iphone x using yahoo native app ionic app is opened by yahoo using in app browser then header and footer hides error 1 url error 2 url
open an app with a menu in ms edge open the menu click the backdrop area
put in ion tabs in a project that has to be scrolled horizontally
have two tabs with routes tabs tab1 main page1 tabs tab2 main page2 from page1 navigate to page2 using a button inside page1 press back in page2 back will not appear due to 18311 currently but the point stands you land to tabs tab2 main instead of tab1 main page1
create a page with an ion refresher and some elements with fixed position pull down the ion refresher try to scroll up and down where the fixed elements are
npm run test prod
ionic start test blank
ion grid ion row ion virtual scroll items students approxheaderheight 44px approxitemheight 270px ion col virtualitem let student size 4 card content card col virtual scroll row grid
1 add the wrap off attribute to ion textarea 2 enter text in ion textarea that you do not want to break for example like ascii art 3 make sure that the line breaks and the display is broken line wrap current behavior screen shot 2019 06 10 at 3 25 10 url it should be displayed as below line no wrap expected behavior screen shot 2019 06 10 at 3 24 59 url
when using ionrouteroutlet return redirect from a route s render prop see code
create a page with ion content put a list with around 100 items and scroll with medium speed let the scroll end without touching the screen you will notice a bump at the end
1 implement app list that renderes app entry using ngfor like this app entry ngfor let entry of entries async trackby trackentries entry app and add a button infinite scroll that will call this method getdata void this entries next this entries getvalue new array 25 fill name test 2 load more data and the will reload after a while if the consist of a single div then it may take a while but if it s more complicated it will happen quickly
1 any page with ion header and ion content 2 add fullscreen property to ion content so it ll be ion content fullscreen or fullscreen true doesn t matter 3 set in sccs toolbar opacity version 4 voila there s nothing changed on the page 5 go to developer tools and set for entire content position absolute and now you ll see the of beneath header i can reproduce this behavior in 100 cases also with latest ionic package
customise ion toolbar element and see in ios mode
navigateforward some url replaceurl true
1 use an ionic page with a back button 2 add text to the back button manually
i am running an angular app on my thinkpad which has a touchscreen monitor in platform ts the ismobile check is run by checking window matchmedia any pointer coarse matches on laptops with a touch screen this matchmedia call returns true for its matches property my best guess based on reading the docs for any pointer is that the matchmedia returns true because my device is a touch screen
create a picker present it and tap on one of the buttons so the ondiddismiss method is called const picker await this pickercontroller create buttons text cancel role cancel text confirm role confirm columns name column options text first value first text second value second picker present const dismiss await picker ondiddismiss console log dismissed dismiss if dismiss role close console log close button pressed
i created two state variables value1 and value2 and setters using the usestate hook i created a controlled ioninput and a controlled input the regular input is controlled as expected no more than 5 characters can be placed there the ioninput s input is correctly set to state and restricted to 5 characters however the ioninput continues to take in characters i ran in to issue by following guide from url
try to use ion header in elm app
just try to use ionloading component in your react application
run the application on ios either emulator or real device
create ion tabs with angular router one route should be some route and the other one should be some route page1
try to scroll on ion segment scrollable on a desktop
use auto grow on mac iphone
1 open url the form is a stencil web component using ionic the rest is wordpress 2 fill the form select a car model type years 2019 and 2019 any number on the last box it have a mask and add some text using big button then hit big green button 3 if you are using a 1080p monitor you won t scroll everything looks ok but resize window keeping 1200px on width and bit of height scrollbar will appear scroll down bit then hit same button
add animated true to ionskeletontext
ionic start ionic angular ivy blank type angular add this to your tsconfig json angularcompileroptions enableivy true then call ng update angular cli angular core force finally build the empty project ng build
1 from the main page navigate forward to the page 2 with navcontroller navigateforward 2 navigate back to the main page with navcontroller navigateback
1 install ionic globally 2 run command ionic start project tabs or ionic start myapp blank
i can t provide the correct way as it depends on some clients but i found that i can get the issue if i open the website using remote desktop m not sure how to reproduce it in work machines everything is fine on my home machine and client machine the issues happen
the problem is based on the fact that the post get requests do them perfectly in the browser but when compiling app and executing it it does not perform actions
1 run the test app with either ios emulator or on an iphone device be sure to enable hardware keyboard display on emulator 2 click on the search bar text field then 3 click on the input text field you will note in the case of searchbar content area is not being adjusted to sit just above keyboard
1 insert a datetime component with min max value as in the related code 3 change the hours field
1 ionic start ion app contenteditable ios blank capacitor 2 edit app component html div contenteditable true style height 100px background teal editable outside ion app div ion app style margin top 100px div contenteditable true style height 100px background tomato editable inside ion div 3 ionic build 4 npx cap add ios 5 npx cap open ios test in simulator
1 ionic new blank project 2 add an input element input type file in home page 3 on mobile navigate to the app and add to home 4 click on the button 5 open camera and cancel camera it may work for you if you are on iphone x
1 create an ionic tabs starter 2 run ionic serve and preview in firefox don t see it working in other browsers either 3 move along the tab buttons by using the physical tab key on the keyboard 4 observe that when a tab button receives focus and one hits enter or spacebar the tab is not activated
create an app with 2 pages master details on details page place a back button with defaulthref master page p1 v1 open master page and navigate to details page click back button it works navigate to details again reload f5 click back button does not work
1 checkout the related code 2 install app on a device or simulator 3 run the app 4 click the device s home button 5 open the app from background
add css class ion hide md down to an element
go to the ionic demo url itemreorder click on edit drag an element up and down without droping it then drop it anywhere noticing the position is wrong
i have a conditional readonly selector with the following code ion input formcontrolname testnumber type number placeholder test reference number readonly isedit ion input however the css selector has to be ion input ng reflect readonly true not ion input readonly true
look at code below with same version of ionic as stated above
using the below code we should see the issue described html ion card button img src ion card
add an aria role navigation to an ion menu component it will be overwritten with the complementary role
i used the ionic conference app with some changes to reproduce this go to speakers tab click the ionic package under the burt bear it should show the back button go to schedule tab click any list item it gets you to same page but without back button
run the sample application on an android device from the
i have only been able to reproduce this on a physical ios device but i have reproduced this problem on 2 different ionic apps one of my apps is in production with this issue as i state below this is extremely inconsistent but i tend to be able to reproduce it more often when swipe from the very edge of the device from left to right go back the home page click the details page button route forward do you guys have a suggestion for gesture tracking recording that may help debug issue better so we can pinpoint exact stroke that breaks things but don t know of such software
example url git clone b try hot reload url cd ionic react conference app npm install npm start there is a error about undefined
1 select the segments and see the text on the page be updated 2 click the go to child 1 button 3 click go child 2 button 4 select back button quickly navigating back to parent tab 5 select segments and text on page will not be updated
ionic conference app bug url
1 clone and run url 1 open the app in the browser and notice how the broken ion select selection is empty while it should be foo localhost 4200 tabs tab1 1 url
this can be replicated using my sample repo url please build on ios using ionic cordova platform add ios and ionic cordova build ios prod
i don t know what caused this to start happening but it is happening and i don t know how to reproduce it or how to stop it from happening to me it s driving me crazy i close the app by mistake and then i have deploy again just open up any ideas what could be causing this bug this is somewhat tolerable when on my pc working since can open the app by deploying again but when not near my computer literally have no way open up the app here s the app installed image url
scroll down on page that has many elements we haven t seen this issue on elements above the fold
just create a footer try setting it s background color to red and see it working and then try setting it to transparent and it ll be white
generate a new ionic application
ion item ion range pin min 0 max 400 color primary ion label slot start 0k ion label label slot end 400k label range item because of the above the compilation process stops and reports an error
1 create a project using ionic v version 2 create an ion item with ion item ion label position floating div class lstn subtitle1 lbl full name translate div ion label input clearinput formcontrolname fullname input item
1 import a picture 2 use ionimg to loading this img
1 create an ionic app 2 create a modal with const modal await this modalcontroller create 3 set autofocus on an ion input element in the modal component
use an ion label with position stacked for example ion grid ion row t t ion col size 4 no padding no margin t t item label position stacked postalcode translate label input type tel maxlength 4 ngmodel data cp4 name searchpostal tplaceholder postalcode translate full input item col col size 4 no padding no margin item label position stacked extension translate input type tel maxlength 3 ngmodel data cp3 name searchextension keypress onkeypressed event keycode placeholder extension translate full input item col size 4 padding top margin button fill solid shape round float right click filteraddress icon name locate icon button row grid image url image url
copy the related code to a blank starter project
make css changes to the ion card and enable button attribute
create an ion input inside an ion item in a template driven form
issue can be reproduced with code attached below
cards in the custom component have the following subscriptions within them
create an app try to set the property you will be denied
using ionic 4 native push example code url in my code
create a new app change app module to run in ios mode create 2 ion tabs pages and navigate forward and back between each one
1 include hammerjs 1 bind press function and present a popover 2 press the button but do not wait until the popover is displayed sometimes the popover shows up shortly and gets directly closed again
1 create new tabs project 2 modify the ion toolbar with color primary shade
use the component below and try to compile it i m working off of the react documentation here url
1 display a page that has an ion nav inside 2 open a modal that has an ion nav inside 3 call push someview on the ion nav that s inside the modal 4 close the modal
ionic start sidemenu sidemenu ionic cordova platform add ios sudo npm g install ios deploy unsafe perm true sudo ionic serve runs ok in opera sudo ionic cordova build ios buildflag usemodernbuildsystem 0 running in xcode crash sudo cordova run ios buildflag usemodernbuildsystem 0 cashes also
an ion item containing a
easiest way to reproduce is to create a css class and attach it to something like the iontoolbar css my custom class background orange jsx iontoolbar classname my custom class
simply create a react app that has two pages navigate to the second page from the first then tap the back button the second page will animate away but not unmount this leaves secondary page mounted and cleanup effects are not fired when second page is opened again effects fire again but leave old items lingering because cleanup didn t happen
1 on url click the show modal button 2 press enter or spacebar to continue opening duplicate modals 3 press the modal s close button to dismiss the most recently opened modal 4 press the next modal s close button you will be unable to close more than most recently opened
1 insert ion input autofocus true ion input to your html page 2 execute ionic serve in ionic cli 3 wait for browser to pop up with app and observe behavior
the main app component has the ion app tag and a main ion router outlet which will show the main page either login or dashboard when showing the dashboard it has a ion content tag that then renders another ion router outlet which will show specific content for page you are at all pages are defined with a module soy lazy load some of them have further pages so they have extra router outlets
1 create a new blank app 2 add a toast controller to the main page and show a toast in ionviewdidenter with a message and the translucent property set to true 3 put some other content in the page that would be obscured by the toast 3 run ionic serve and observe that toast is entirely opaque
1 create a new blank app 2 to the default home page constructor add a toast controller then in ionviewdidenter add the following async ionviewdidenter const t await this toastctrl create closebuttontext hello cssclass my toast class message hello world showclosebutton true t present 3 in the global scss add the following ion toast my toast class background red button color yellow this is not working color orange border radius 20px border width 5px border style double border color var ion color info 4 run ionic serve and observe that button colour is not set to yellow as expected
1 add ion datetime web component to any ionic project html view 2 set the value attribute to the last they of the current month 3 set the min attribute to 3 days before date in value attribute 4 set max attribute to 3 days after date in value
according to the markup
1 create new app with tabs boilerplate 2 put refresher skeleton div and content div in each tab 3 set boolean flag to control if skeleton shows of content
1 create a new project e g ionic start photo gallery tabs type angular 2 execute npm run build 3 open www index html in browser chrome 4 check console in browser runtime js 1 failed to load resource net err file not found polyfills js 1 failed to load resource net err file not found styles js 1 failed to load resource net err file not found vendor js failed to load resource net err file not found main c assets icon favicon png
run the demo app than navigate to settings and back to tabs compare console log to the one when switching between tabs
unable to reproduce
unable to reproduce
pass san certificate to ingressgateway
download istio version to infrastructure istio then in a makefile makefile from url option 1 install with helm via helm template phony template template thelm template infrastructure istio helm istio init t t name init namespace system t t init k8s base yaml if cni is re activated remember to deploy it also thelm infrastructure helm name namespace system set cni enabled false set sidecarinjectorwebhook enabled true values infrastructure values sds auth yaml set pilot tracesampling version set kiali enabled true kiali createdemosecret true global tracer zipkin address jaeger collector monitoring 9411 kiali dashboard jaegerurl jaeger afa haf se k8s base yaml test aka docker desktop phony deploy init test deploy test tkustomize build k8s test kubectl apply f phony deploy tkustomize build k8s kubectl apply f
1 install istio version and deploy the bookinfo app shell helm repo add istio io url helm repo update helm upgrade install istio init istio io init namespace system wait for it to finish helm upgrade install io namespace system set kiali enabled true set kiali createdemosecret true kubectl create ns test kubectl label ns test injection enabled kubectl n test apply f url 2 set up port forward to kiali kubectl n system port forward svc kiali 20001 20001 3 go to localhost 20001 and login with admin admin navigate to services select namespace test and click on a service in the list
follow the instructions for the task at url
bash create a new kubernetes cluster minikube start kubernetes version v version clone version release temp dir mktemp d git clone url temp dir pushd temp dir install istio for i in install kubernetes helm istio init files crd yaml do kubectl apply f i done kubectl create namespace istio system helm template name istio system values install kubernetes helm values demo yaml namespace install helm kubectl apply namespace system f spin up test pods kubectl create namespace test injection enabled run test generator run pod v1 image nginx test server build and run istioctl go build o istioctl istioctl cmd istioctl x analyze k on my machine i get 2019 10 22t17 29 version z terror tsource tunable to start watcher for apps v1 deployment not implemented
istio was installed using helm template some options were omitted to make it shorter helm template install kubernetes helm istio namespace istio system set kiali enabled true set grafana enabled true set tracing enabled true set sidecarinjectorwebhook rewriteapphttpprobe true global istio yaml after i enabled mtls applied policy dest rule i can t see any incoming data in my custom dashboards for spring boot applications i m using these 2 dashboards spring boot 2 x statistics url jvm micrometer url default dashboards kiali jaeger are working fine
helm repo add istio url helm fetch untar untardir charts istio istio helm template charts istio namespace system output dir
from istio operator directory kubectl apply k deploy kubectl apply f deploy crds istio v1alpha2 istiocontrolplane cr yaml
cr apiversion install istio io v1alpha2 kind istiocontrolplane metadata name managed istiocontrolplane namespace istio operator spec configmanagement components galley enabled true k8s affinity podantiaffinity podaffinityterm labelselector matchexpressions key app operator in values galley topologykey kubernetes io hostname
make a change that results in the inbound listeners to drain and reload and sometimes you ll get a 503uc from the source and 503dc from the destination
create required resources apiversion extensions v1beta1 kind deployment metadata labels app httpbin name httpbin spec replicas 1 selector matchlabels app httpbin template metadata annotations sidecar istio io inject false labels app httpbin spec containers image docker io kennethreitz imagepullpolicy ifnotpresent name ports containerport 80 name http protocol tcp apiversion v1 kind service metadata labels app name spec ports http port 80 protocol tcp targetport 80 selector type clusterip apiversion networking istio io v1alpha3 kind virtualservice metadata spec gateways hosts example org http route destination host port number 80 websocketupgrade true apiversion networking istio io v1alpha3 kind gateway selector istio ingressgateway servers hosts example org port http number protocol make a request against the ingressgateway and see that the upgrade and connection headers do not arrive at the application curl h host example org h connection upgrade h upgrade websocket redacted com headers headers accept content length 0 host example org user agent curl version x b3 sampled 0 x b3 spanid x b3 traceid x envoy decorator operation svc cluster local envoy external address attributes
very difficult to give you an exact reproducible state as it s inconsistent more than happy to screen share and live debug
yaml apiversion networking istio io v1alpha3 kind serviceentry metadata name service entry bookinfo namespace default spec hosts eu bookinfo com apiversion networking istio io v1alpha3 kind virtualservice metadata name reviews bookinfo eu wildcard namespace default spec http route destination host reviews eu bookinfo com subset v1 sushicw
take bookinfo sample as example when accessing api by curl url i request can be shown in jaeger with correct trace but there is no trace in jaeger if x request id is provided in request like below curl url i h x request id if the id follows the format xxxxxxxx xxxx xxxx xxxx xxxxxxxxxxxx the trace is ok too so there is trace only when no x id not provided or the format xxxxxxxx xxxx xxxxxxxxxxxx e g aff95183 98ab 911c a852 x with other format does not work
deploy a rate limiting definitions apiversion config istio io v1alpha2 kind handler metadata name quotahandler namespace istio system spec compiledadapter memquota params quotas name mycountquota instance istio system maxamount int64 max validduration 10s apiversion config istio io v1alpha2 kind instance metadata name mycountquota namespace system spec compiledtemplate quota params dimensions source source uid unknown destination destination uid unknown apiversion config io v1alpha2 kind quotaspec metadata name request count namespace system spec rules quotas charge 1 quota mycountquota apiversion config io v1alpha2 kind quotaspecbinding metadata request count namespace spec quotaspecs request count services service rule quota actions handler quotahandler instances mycountquota and then deploy high request traffic load deployments
deploy bookinfo on openshift version on ibm cloud and access the app using istio ingress svc by exposing it securely
create a chaos namespace apply this file url in separate windows kubectl logs f the server and istio proxy containers of the pod created run the following command in a third window to generate some traffic kubectl exec ti c server chaos server id bash while true do curl s pod ip 8080 sleep 3 done hello hello hello delete the pod at this point main container should emit a message saying it s waiting for 2 minutes to shutdown istio proxy container should start complaining about missing inbound listeners if it doesn t run kubectl delete svc rando server an unrelated operation to trigger this behavior
shell curl l url istio sidecar deb sudo dpkg i istio sidecar deb dpkg deb error istio sidecar deb is not a debian format archive dpkg error processing archive istio sidecar install subprocess dpkg control returned error exit status 2 errors were encountered while processing
see installation
see installation
clone url apply manifest properly manifest does not apply
istioctl dashboard xxx help
1 install istio 2 run istioctl dashboard zipkin
use oc cluster up to launch openshift version on local machine or crc url to launch openshift version use helm to deploy istio cni then istio with istio cni enabled set to true and values set install kubernetes helm istio values demo yaml deploy bookinfo according the docs check jager after all is launched
enter any application container with sidecar and execute following command curl v url raw
1 apply the deploy directory from master in the correct order 1 watch the logs spam 2019 10 10t17 49 version z tinfo treconciling istiocontrolplane 2019 10 10t17 49 version z terror tunknown value error for enum v1alpha2 installstatus status 2019 10 10t17 49 version z tinfo tadding finalizer istio operator 2019 10 10t17 49 version z terror tfailed to update istiocontrolplane with finalizer resource name may not be empty
use mixer based tracing with the zipkin adapter deploy a test application that sends many spans i tested around 2k spans sec from 30 instances of my test application scale mixer to 2 instances and jaeger collector to at least 2 instances you should observe that only one ore two instances are used restarting mixer will result in the new instance latching randomly to one collector instance as expected in round robin load balancing
send a lot of traffic through ingressgateway
i applied the following envoyfilter apiversion networking istio io v1alpha3 kind envoyfilter metadata name 1 3 ext auth namespace istio dev spec workloadselector labels app istio hello configpatches the first patch adds the lua filter to the listener http connection manager applyto http filter match context sidecar inbound listener portnumber 80 filterchain filter name envoy http connection manager subfilter name envoy router patch operation insert before value lua filter specification name envoy ext authz config grpc service google grpc target uri version 1999 stat prefix aporeto authz ingress once i apply above configuration i should see envoy sidecar to have envoyfilter config pushed but i don t see it
1 create a new eks cluster 1 install istio version using the value gateways istio ingressgateway sds enabled true 1 expose any service using a certificate through the ingressgateway 1 continuous curl requests until the libressl error message is returned
1 install istio with cni plugin enabled 2 enable automatic sidecar injection 3 deploy pod make sure sidecar injected 4 create nodeport service pointing to that pod for sake of discussion make nodeport to be 32004 5 from the same host open telnet telnet version 32004 6 you will get connection refused by host now do the same steps 1 5 but this time make set istio cni enabled false connection will succeed
deploy a service with multiple instance ips
follow instructions in url for separate port run kubectl apply f istioctl kube inject f samples health check liveness http yaml
1 create a shared control plane multi network environment using url you can deploy example service if you want to verify things are good 2 at this point we want to move to the example portion of the gke multi cluster example i am pointing to a fixed version of the doc url deploy bookinfo example across clusters at this point you should be able use the ui and refresh product page and see reviews with no black and red stars 3 now apply default destination rules url apply default destination rules 4 if you refresh ui will see upstream connect error or disconnect reset before headers reset reason connection termination error
create a grpc server host it outside of the cluster set up a grpc client application host that inside the cluster with sidecar injection enabled ensure that a service entry is made verify it all works under normal conditions then kill the server observe that the client is unaware of any failure and doesn t attempt to reconnect requests simply time out
try accessing a service that is hosted on the cluster but via the lan ip at least i think that should be enough to reproduce
see example code and description on url
assuming you have two deployments with pod labels version v1 and version v2 and a service selecting by those two labels create a virtualservice with this spec spec hosts api api loadtesting svc cluster local http route destination host api api loadtesting svc cluster local subset v1 weight 1 destination host loadtesting svc cluster local subset v2 weight 99 and a destinationrule like spec host subsets labels version v1 name v1 trafficpolicy tls mode istio mutual labels version v2 name v2 trafficpolicy tls mode istio mutual istioctl authn tls check shows conflict mtls http but connection works instead setting trafficpolicy globally at spec level will show ok is just confusing to see a conflict when it works
1 install istio 2 install httpbin gateway from samples 3 turn off network 4 apply an authentication policy for origins jwt 5 verify can t access httpbin via curl 6 enable network 7 wait or don t 8 verify can t access httpbin via curl w a valid jwt note if you kill the pod at this point the new pod will get a cert and verify the jwt
unsure as of yet only seeing so far on version
replicate as above
on a cluster with istio add the above virtual service definition and try to access endpoints through the gateway every endpoint will be routed to the first service on the vs definition
1 create two istio clusters and configure them to use the replicated control plane multi cluster topology 2 configure a virtualservice in cluster b to perform some form of routing like this host servicex default svc cluster local note this service does not actually exist as a k8s service route servicex v1 default svc cluster local weight 50 servicex v2 default svc local weight 50 3 create a serviceentry in a for servicex default global which connects to b 3 make call to the virtualservice in b by routing through normal gateway ex port 80 observe that this succeeds and uses the virtualservice routing 4 make call from service in the virtualservice b observe that call fails probably because clusterb s ingress envoy tries route directly real svc local but that only exists as
simple go through this url example just inject nginx application with the istio s side car
1 create a sample gateway 2 create secrets with placeholder values 3 update the secret with valid values
deploy a pod with sidecar enabled run curl v url
1 install istio init as per documentation 2 follow the tutorial linked above
1 deploy a nginx pod 2 deploy a https app two deployment v1 and v2 create a service appservice for this app 3 config nginx to route to this app location api v1 test proxy pass url proxy http version version proxy set header connection 4 create destinationrule and virtualservice for service appservice route all traffic to v1 5 access nginx by curl k url only app v1 is expected to be accessed but and v2 are accessed randomly
install istio with certmanager enabled version version will be installed
apply the following following yaml kind envoyfilter metadata name hcm tweaks namespace istio system spec workloadselector labels app ingress gateway configpatches applyto network filter http connection manager is a filter in envoy match context gateway listener filterchain filter name envoy http connection manager patch operation merge value config use remote address true xff num trusted hops 0
1 install istio on a kubernetes cluster i m using docker for mac in this case 2 follow the instructions on url to setup two version of an httpbin container and confirm that the traffic is mirrored to v2 3 start an nginx container with docker run it rm p 8080 80 nginx 4 apply the following serviceentry to the cluster apiversion networking istio io v1alpha3 kind serviceentry metadata name external service spec hosts docker for mac localhost location mesh external ports name http number 8080 protocol http resolution dns 5 update virtualservice to mirror traffic nginx container apiversion networking istio io v1alpha3 kind virtualservice metadata name httpbin spec hosts httpbin http mirror host docker for mac localhost route destination host httpbin subset v1 6 curl container using kubectl exec it sleep pod c sleep sh c curl url and confirm that traffic is not mirrored by tailing nginx log 7 swap destination host and mirror host in virtualservice confirm that istio is able proxy traffic external apiversion networking io v1alpha3 kind virtualservice metadata name spec hosts http mirror subset v1 route destination for mac localhost
config is like this yaml localitylbsetting enabled true distribute from cn hangzhou cn hangzhou g to cn hangzhou cn hangzhou b 100 from beijing beijing g to beijing beijing g 100 failover from to from us east 1 to
in v version just install istio with these two yamls mtls enabled url url then go through the official doc but using this mtls enabled version of the jwt policy url try to reach the httpbin endpoint and always get a 503 kubectl exec kubectl get pod l app sleep n bar o jsonpath items metadata name c sleep n bar curl ht tp httpbin foo 8000 ip s o dev null w http code 503 adding verbosity to curl shows the 503 with more detail trying version tcp nodelay set connected to version port 80 0 get headers http host user agent curl accept http 503 service unavailable content length 95 content type text plain x envoy peer metadata x envoy peer metadata id router istio ingressgateway jrtv2 istio system istio system svc cluster local date sat 21 sep 2019 16 44 39 gmt server envoy upstream connect error or disconnect reset before headers reset reason connection termination connection 0 to host left intact if we repeat same steps but using v then everything works as expected url even disabling mtls in v works perfectly also removing it from jwt policy obviously
run tcp traffic through your cluster and hit blackhole or passthrough cluster observe the destination service name label in istio tcp metrics
take istio task create an https service with the istio sidecar and mutual tls disabled url create an https service with the istio sidecar and mutual tls disabled as example when send request from sleep to nginx there is no trace captured in jaeger but if i add a http port to nginx and access this port jaeger can report the trace
install istio and run tcp traffic through the merge query istio tcp connections closed total and istio tcp connections opened total metric
this is weird we only see this in our of our clusters the other works fine
1 set the istio locality label for the istio egressgateway pod deployment when deploying 2 create 2 serviceentry instances for the same host as described in url send remote traffic via an egress gateway 3 create a destinationrule to enable outlier detection 4 send requests to the host and observe traffic on 2 destination services you will notice that traffic is routed to both destinations in random order
whitelist works normally for the following configs yaml apiversion config istio io v1alpha2 kind handler metadata name whitelistip spec compiledadapter listchecker params overrides version 16 blacklist false entrytype ip addresses apiversion config istio io v1alpha2 kind instance metadata name sourceip spec compiledtemplate listentry params value request headers remoteip apiversion config istio io v1alpha2 kind rule metadata name checkip spec match source labels istio ingressgateway actions handler whitelistip instances sourceip but not when i change the ip range to a specific one yaml spec compiledadapter listchecker params overrides version blacklist false entrytype ip addresses
on any running mesh with no named networks create a named network and restart pilot
generate sds config helm template install kubernetes helm istio name istio namespace istio system values install kubernetes helm istio values sds auth yaml auth sds yaml install for i in install kubernetes helm init files crd yaml do kubectl apply f i done kubectl apply f auth sds yaml
installation steps below
1 install istio with k8singress enabled set to true 2 create an ingress resource with the kubernetes io ingress class istio annotation observe that the navigating to that domain returns a 404 3 add ingressclass istio and ingresscontrollermode strict to the istio configmap under mesh restart galley and observe that after a minute or two the ingress will now work
deploy httpbin url in k8s istio cluster install a virtual service see below pointing to the httpbin deploy execute a get curl or siege command that waits for a time it will retry 5 times waiting 1 seconds timeout and return in about 5 6 seconds execute a post curl or siege command that waits for time it should just wait and timeout eventually in 10 20 seconds depending on the max delay in httpbin i observe timeout 5 6 seconds that indicates that the retry is fact working when it should not apiversion networking istio io v1alpha3 kind virtualservice metadata name httpbin virtual service spec hosts gateways my istio gateway http match uri prefix status method exact get uri prefix delay retries attempts 5 pertrytimeout 1s retryon 5xx gateway error connect failure refused stream route destination host port number 80 match uri prefix status method exact post uri prefix delay retries attempts 0 route destination host port number 80
i followed the instruction from this blog post istio and stackdriver url also tried to use example yaml manifest from bianpengyuan s example repo istio stackdriver url with modification to use apikey to authenticate
1 send large traffic to istio ingressgateway 2 scale up the pods of ingressgateway at the same time e g from replica 2 to replica 25
perform the commands above
checkout this repo have helm version installed update url l150 to your custom domain ex my custom domain run helm template install kubernetes helm istio name istio namespace istio system values install kubernetes helm istio values yaml output yaml output yaml s destination rule for system is yaml apiversion networking io v1alpha3 kind destinationrule metadata name default namespace system labels app security chart security heritage tiller release spec host local trafficpolicy tls mode mutual when i want it to be apiversion networking io v1alpha3 kind destinationrule metadata name default namespace system labels app security chart security heritage tiller release spec host svc my custom domain trafficpolicy tls mode mutual
set priorityclassname in the global config and install mixer
apiversion networking istio io v1alpha3 kind gateway metadata name istio gateway stg namespace istio system spec selector istio ingress gateway stg servers port number 80 name http protocol http hosts api stg pantheraplatform com tls httpsredirect true port number 443 name https protocol https hosts api stg pantheraplatform com tls mode simple privatekey etc ingressgateway certs tls key servercertificate etc ingressgateway certs tls crt apiversion networking io v1alpha3 kind virtualservice metadata name hubs routes namespace spec hosts api pantheraplatform com gateways gateway system svc cluster local http office hub routes match uri prefix office uri match test redirect uri route destination port number 80 host officehub apiversion networking io v1alpha3 kind destinationrule metadata hubs rules namespace spec host system svc cluster local trafficpolicy mode simple
follow this to install the demo profile url
1 install istio w mtls turned on mesh wide strict mode turn on injection in default namespace 1 run nginx kubectl run nginx image nginx 1 expose the service kubectl expose deployment nginx port 80 target port 80 1 update the service to have the port at this point noticed that the pod still has no ports defined chekc mtls istio authn tls check somepod and see that mtls is on and there is no conflict port forward to pod kubectl forward 8080 80 connect to pod curl localhost 8080 this will succeed which mismatches expectation of strict mtls
can be seen here url
we ve got an application where user s can specify the date of a wms this can lead to many calls to gridlayer redraw if the user clicks the date buttons quickly enough and lots eventually the tile server struggles to respond and sends back net err spdy server refused stream we ve experienced this with services coming from a http2 server with cloudfront in front of it
import leaftlet in angular json or in the index html file create a function that simply draw some markers around the map zoom on a marker then move the pan for a while zoom to see a better view zoom again the marker
steps to reproduce the behavior step 1 create geojson with points and polygons step 2 add them to a map through l geojson and pass any options to it step 3 look at the options from the layer or in an inithook layers inheriting from l path have the options markers don t
steps to reproduce the behavior add a circle to a leaflet map add a move listener and reset circle position to current map center use the mouse to drag the map in any direction until new tiles are loaded move the new tiles center of map without releasing mouse button
build failed in ubuntu linux version stack libra node projects libra cargo build compiling log v version compiling libc v version compiling proc macro2 v version compiling getrandom v proc macro2 syn byteorder syn protobuf serde failure derive memchr typenum arrayvec siphasher scopeguard regex syntax error linking with cc failed exit code 1
compile a module containing a function with the signature u64 and a body containing the following sequence of instructions readref ldconst 0 ret stack trace error message thread main panicked at called option unwrap on a none value
1 open the app 2 open a folder which contains some docs 3 open a doc from the left navbar 4 observe the current doc title is shown in the window menu 5 close opened doc 6 observe current doc title in window menu
1 put a hidden file somewhere in your note folder hierarchy 2 search for some text
paste example foo sep 1 bar 2 bar 3 bar sep
1 copy example below 2 click menu paragraph code block to transform into paragraph 3 press enter after heading h1 cursor heading h1 foo heading h2 foo
1 open a new mark down file 2 drag and drop an image into the editor where the path to the image contains spaces home myuser some path with spaces test png observe that the image is shown correctly in editor 3 export file as pdf or html
1 set editor width to 65 2 open a markdown document that has long url links contained in it 3 go to source code mode
1 open a dialog such as about or aido 2 click on the dialog or textbox 3 press ctrl a followed by backspace the editor has now the focus and you can write text
1 make a document with enough text to fill the first page up to the last line 2 file export pdf 3 open the pdf and see
1 write markdown like bellow in preview mode md foo a b c d bar 2 select all content 3 paste in other place
1 insert an image by unsplash 2 click image the image transformer is not shown only the image tools is shown 3 press the space selected is not previewed fullscreen
1 open one folder with markdown file in mark text 2 click one markdown file in side bar and edit the content 3 press cmd s to save file
insert example below bar pre foo foo foo foo pre bar
1 create snackbar 2 set it property timeoutms to 1 3 try to use open method
steps to reproduce the behavior 1 create a native query 2 create a custom question based on the question from step 1 3 add the nested question to a dashboard 4 add a filter to the dashboard 5 try to attach filter nested question 6 see no valid fields
steps to reproduce the behavior 1 go to mongodb atlas url and setup a m0 account and obtain the connection string in the format mentioned above 2 create a dummy collection and add some dummy data 3 login into metabase and goto settings admin databases add database 4 enter details as follows type mongodb name dummydb host dummyid abc123 mongodb net database name cam port 27017 database username redacted database password redacted authentication test additional mongo connection string options retrywrites true w majority use dns srv when connecting yes automatically run queries when doing simple filtering summarizing yes 5 click save 6 goto homepage scroll down click on dummydb 7 there will be no data which was created in step2
check this query and select bar chart using the sample data set select product id category as category count as count count distinct public orders tax as count 2 from public orders left join public products product id on public orders product id product id group by category order by category asc
steps to reproduce the behavior 1 create a new question with the bigquery driver 2 use the following query legacysql select from my dataset tables where row count 1 3 try to save the question this returns value may be nil or if non nil value must be an array of valid results column metadata maps
steps to reproduce the behavior 1 go to a saved question whose source table has other tables linked to it via fks in the data model settings 2 see that filters and summarize options that use fields on the linked tables are empty 3 click on plus buttons for filter or summarize to add a new filter or summarize and see that no linked tables show up
1 go to a saved question that provide drop down filter question question id 2 select one or more value on the filter 3 play the query 4 the query fully load as expected but the url of page switch to question filter name filter value 5 play same query again reload button next to save 6 see error you do not have permissions to run this query
steps to reproduce the behavior 1 you need to use postgres db 2 go to ask a question custom question 2 create a question for a table where you can use group by 2 add count in summarize and group by with a column 3 scroll down to filter button after the summarize and add filter on count in my case i did count is greater than 2 4 press visualize and see the error
steps to reproduce the behavior 1 create a new report that uses an advanced summary calculated value distinct or otherwise as a line chart showing count over number series 2 save the report 3 save the report again with a different name 4 add both to a dashboard works 5 try and add one to the other using layering add chart fails 6 other chart an exact copy is not compatible available 7 altering 2nd chart does not appear to allow it be added in anyway
steps to reproduce the behavior 1 go to metabase dashboard for respective firm 2 click ask question 3 provide a metric and group by two variables 4 add a filter on the variable currently being grouped by so not the x axis 5 the variables on x axis and being grouped on will then flip although this doesn t seem to happen every time
i have a metabase version install with ojdbc7 jar driver installed as detailed in the documentation url
steps to reproduce the behavior 1 simple question sample data set people 2 row limit 999 3 visualise as a pin map 4 map displayed like this image url 5 pan up slightly and the top most pin is revealed that could otherwise be missed image url
steps to reproduce the behavior 1 ask a question custom question 2 sample dataset orders 3 setup as below mainly just to get a wide dataset with lots of columns image url 4 visualize then set to pin map 5 use button on map to zoom in a couple of times 6 hover a pin and the zoom is reset the default
steps to reproduce the behavior 1 ask a question custom question 2 setup as below image url 3 visualize should show a grid map 4 click a grid section and zoom in 5 error is presented
steps to reproduce the behavior 1 shut down metabase version running on postgres version in docker containers 2 run java jar metabase jar dump to h2 mydumpfile 3 see the error s listed above
ssh to a linux box seq 100 shrink the window vertically fewer lines scroll back
open any console i m using powershell for this issue submission after you open 3 tabs you get tab scroll bar buttons on either end
it is very convenient to use emacs to reproduce this since it can show received key sequences 1 all shortcuts in terminal need to be unbound so open settings and set every command in keybindings to null 1 open emacs 1 press c h l for non emacs users control h then l by itself this shows the most recent key sequences at the bottom 1 press c or c or c or press h l again none of the above sequences are displayed it is possible bind one of those keys an actual emacs command just make sure isn t dropping a sequence it doesn t care about but the result should be same note that pressing four above punctuation keys by themselves or combined with shift works as expected
just update wt i think
create a color scheme with foreground as ffffff and background as to represent white and black respectively create two profiles of cmd assign one the custom color scheme and the other with no color scheme to give it the default background and foreground the default profile has a slightly lighter black background a slightly darker white foreground
open terminal open file to edit in vim type set mouse a to enable mouse mode globally attempt to scroll
1 create profile for ubuntu 2 set tabtitle ubuntu in config 3 start bash tab notice title says ubuntu 4 run win32 console program sc exe
call resizepseudoconsole with negative values stored in the passed coord structure
install via microsoft store run once change no settings just exit the application try to run the application again refuses to start uninstalling and re installing allows me to run it once before it stops working again the following shows in event viewer none faulting application name windowsterminal exe version version time stamp 0x5daf7ab2 faulting module name ucrtbase dll version version time stamp exception code fault offset faulting process id 0x648 faulting application start time path c program files windowsapps microsoft windowsterminal x64 8wekyb3d8bbwe windowsterminal exe module path c windows system32 ucrtbase dll report id d497 4e43 b19a package full name microsoft windowsterminal x64 8wekyb3d8bbwe package relative id app
0 open microsoft store 1 search for terminal 2 install terminal 3 launch terminal
set launchmode maximized within profiles json
configure a background image with the following settings backgroundimagealignment bottomright none complete profile json acrylicopacity version closeonexit true colorscheme campbell commandline pwsh exe cursorcolor ffffff cursorshape bar fontface consolas fontsize 10 guid 2643 43ff bbfa historysize 9001 icon ms appx profileicons 61c54bbd c2c6 5271 96e7 png name windows powershell core padding 5 5 5 5 snaponinput true startingdirectory userprofile useacrylic true backgroundimage ms appdata roaming rduce blue black small jpg backgroundimageopacity version backgroundimagealignment bottomright none
1 open command prompt i e run cmd 2 open properties dialog and ensure use legacy console is unchecked then close dialog 3 select menu option defaults
copy a powershell function at least twice the height of the terminal window to the clipboard right mouse click paste the code in to terminal
1 run terminal and some npm script in my case 2 minimise 3 return to terminal s windows after few minutes
launch cmd exe in the terminal eg just start wezterm exe and execute bash c printf a 360 237 220 267b
i have a number of environment profiles 9 in total profiles txt url
1 open tab with ubuntu in it 2 output cjk characters 3 double click a portion of the command that is in english 4 chunk select drag while holding mouse button to the right or down should work fine even if you highlight cjk characters 5 chunk select back past starting anchor into file path optional if it doesn t crash when you go into the file path just keep trying to chunk select the file path it should occur
1 open a powershell tab in windows terminal 2 type set psreadlinekeyhandler key tab function menucomplete 2 cd to a folder with lots of files 3 type ls and then enter 4 after it finished type start and press tab to trigger menucomplete
laptop dell xps 9560 screen resolution is connected to an external usb c lg 4k 27 monitor lg 27uk650 open terminal and move it from the second screen to the laptop s screen and the terminal will close without any error message after 2 seconds
1 open wsl ubuntu version in windows terminal keep it in screen 1 or 2 with 100 scaling 2 connect to via ssh to any server tried to connect to amazon linux 3 move windows terminal 3rd screen with 150 scaling 4 wait 3 seconds 5 move windows terminal 2nd screen with 100 scaling
enter a ps session run some command that will cause the output to scroll past the bottom of the terminal window for example get process exit the ps session enter clear or clear host then scroll up part of output from command run in ps session will still be present in scrollback buffer and cannot be removed or cleared without closing tab example in code powershell enter pssession version for i 0 i lt 150 i write host i exit clear host scroll up in terminal window attached screenshot shows contents of my scrollback buffer after running similar code and then running a clear output command you can see output of commands and numbers 0 13 present scrollback buffer as my particular case code caused window to scroll down 15 lines while ps session at this point and host will not be able to remove these 15 lines from scrollback buffer windows terminal powershell remote bug url oddly enough it seems issue is same even if you run a while still inside but running a while inside does work as long as hasn t caused terminal window to
click windows terminal preview in start menu
very easy to reproduce have the performance monitor open and bring terminal to foreground the gpu usage spikes i noticed this issue because mouse becomes laggy and ui is almost unusable i am pasting two screen shots when the terminal goes foreground and when the terminal goes background
git clone this repo and run a release build
in windows explorer click the yellow folder icon in the address field next to the path to the folder you re viewing and attempt to drag it into a windows terminal cmd window
start windows terminal drag window to other screen which happens to run at a different dpi scaling setting terminal exits my first screen on which terminal initially opened is set 150 scaling the second one on which terminal dies is at 100
set requestedtheme dark in profile json
1 launch terminal 2 open a new cmd tab 3 type start powershel and then press enter the misspelling of powershell is part of the repro 4 a dialog box pops up indicating that powershel cannot be started dismiss the dialog box 5 type start powershel and then press enter again
launching a new tab is done via ctrl shift number i remap my caps lock key to ctrl via remapkey utility which just changes a registry key somewhere this behavior works everywhere except for the terminal app
open the new windows terminal preview then click on azure cloud shell menu ctrl shift 4 image url
adding shift ins for paste does not work while ctrl shift v works in profile json keybindings unbound nexttab keys ctrl tab t t keys shift ins command paste does not work keys ctrl shift v command paste works t t
url 1 install ubuntu version distro from store 2 for i in bin do head i done 3 observe wsl window hang or crash
1 launch wsl zsh shell 3 hit enter
1 open a powershell tab 2 type exit
1 copy a set of lines by marking using mouse and then ctrl c you can also use copyonselect true in the settings 2 open vim and paste using shift insert 3 you would be able to see extra newlines after each line of copied text
1 set the initialrows value to 30 and open a new wt instance 2 shrink the window to approximately half the size vertically drag the bottom up 3 spam a few invalid commands asd enter asd enter asd enter asd enter until scrollbar appears it will appear later than expected 4 note that you unable to scroll to current input location
1 open terminal on wsl with ubuntu 2 start typing a command 3 use tab for auto completion 4 cursor goes back 1 place in the cmdline visually not really meaning if i continue typing cmd can be executed successfully
1 open windows terminal with only one tab open 2 drag to another monitor with a lower resolution from 2160p to 1080p
use the dark theme of windows terminal
0 set terminal integrated windowsenableconpty true 1 install cygwin 2 set the default shell as bash exe for cygwin in viaual studio code and the args as login 3 run ls color auto
this just happens when in full power saving mode make sure you are not running more battery efficiency
1 launch windows terminal with powershell core as the current tab s shell 2 resize the window to slightly small width to trigger line wraps 3 run something that prints long lines of output in my case i was running scoop update
open the profile json in visual studio code and see the behavior of color setting like profile background
install windows terminal preview from microsoft store install linux distro from microsoft store setup distro using wsl run windows terminal
here is what i tried 1 entirely removed startingdirectory from my profile 2 explicit set startingdirectory to cd
i had a 640 360 buffer which was resized from original by making font smaller 2x2 buffer must not be monolithic but even single colored buffer takes 15ms to fill with 7th system call on ntdeviceiocontrol from writeconsoleoutputw when it contains some picture render time grows drastically to 79 84ms if asked i can pass a serialized picture from my engine drawn using char info with custom palette
set up wsl as the default terminal to be used in the application start up the terminal and before the startup is complete meaning before terminal is available to be interacted with close it down
just maximize terminal
open neovim from the terminal then change the size of the window
1 launch wsl terminal 2 use other applications like a web browser 3 go back to the wsl terminal
1 open the windows terminal in cmd exe mode 2 navigate to c 3 paste the following 26 425 characters 4 after the 5 ending z s type the word hello
1 setup windows terminal with ubuntu subsystem 2 set the fontface for various profiles tested with powershell cmd and ubuntu wsl note that everything was working as intended up to here 3 restart windows
try to execute a 32 bit executable you will get this error
copy and paste the command below into the terminal shell echo backslash test
1 open cmd or powershell on windows terminal 2 run node test js after npm i 3 resize windows terminal the number of column or row is not modified resize event is not fired
git clone url cd terminal git submodule update init recursive nuget restore openconsole sln open solution in vs change debug to release
open new azure cloud shell tab use code sign in flow presented with tenants to select
i m trying to have both x86 and x64 version of powershell version appear in the windows terminal i have following json in my settings acrylicopacity version background closeonexit true colorscheme campbell commandline systemroot system32 windowspowershell v version powershell exe cursorcolor ffffff cursorshape bar fontface consolas fontsize 10 guid 61c54bbd c2c6 5271 96e7 historysize 9001 icon ms appx profileicons 61c54bbd c2c6 5271 96e7 png name powershell x64 padding 0 0 0 0 snaponinput true startingdirectory userprofile useacrylic false t t acrylicopacity background closeonexit true colorscheme campbell commandline systemroot syswow64 windowspowershell v powershell exe cursorcolor ffffff cursorshape bar fontface consolas fontsize 10 guid 61c54bbd c2c6 5271 96e7 historysize 9001 icon ms appx profileicons 61c54bbd c2c6 5271 96e7 png name x86 padding snaponinput true startingdirectory userprofile useacrylic false only x86 shows up in gui image url am i hitting a known limitation a bug i really wish d been able to have both x64 and x86 need to use both architectures from time to time
switch to a font that contains ligatures that effect the character in my case i used fira code type a character such as on a fresh line and it will combine in with the text that you are normally unable to edit image url
install font with glyphsupport like nerdfonts i tried droidsansmono nf and hack nf and use a powerline promt for example
running moment version moment relativetimethreshold h 73 moment relativetimethreshold d 91 moment relativetimethreshold m 25 relativetimerounding x x i use relativetimerounding x x tofixed 1 in my application unix date now 1000 86400 54 fromnow true 54 days unix date now 1000 86400 55 fromnow true version days unix date now 1000 86400 56 fromnow true 55 days subtract 54 days fromnow true 54 subtract 55 subtract 56 55
steps to reproduce the behavior 1 moment js console 2 moment 2014 1 1 isvalid returns false on safari but true in chrome 3 moment 2014 01 01 isvalid returns true for both scenarios
set moment locale like that moment locale fr en or any other language than fr and run the app with release configuration
url steps 1 create ref with useref hook 2 pass it to a material ui component on the ref prop
steps 1 open url in ie11 2 expand menu in any example
demo here url steps 1 open the select 2 styling breaks
steps 1 clone the repo url 2 add any element i use the textfield element variant outlined for example 3 push the refresh button in you browser and you will see this issue
repro repo url codesandbox i can t reproduce this using codesandbox for some reason however it s here for reference you ll find the example in app tsx url steps 1 install project 2 run yarn tsc noemit 3 see type error in app tsx
url steps 1 click the first select 2 click the second select 3 the first select should be blured
steps 1 go to url 2 scroll down to outlined section 3 click on multiline textbox with controlled written inside it 4 type enough for it to start overflowing onto 4 lines 5 try and scroll
url steps 1 enter 12t34 into the number field 2 3 4
use a button or input field i haven t checked anything else in a table with sticky headers
steps the code is straightforward just copy paste and use in any component to see this ts error
try this source code in a typescript setup button variant contained color primary size large bestellen button
url steps 1 use textfield with variant outlined 2 change dynamically the length of the label
example here url
codesandbox link url
add field fallbacks as array of objects to the styles object code on codesandbox url result url screenshot 2019 08 30 at 17 20 08 url steps 1 added fallbacks prop to app js classes root 2 3 4
as you can see the styled toolbar loses its styles when using component prop with materail ui styles sandbox showing the error with material ui styles url sandbox showing that the error is not present when using emotion styled url
url inspect the markup of this code sandbox
see the use of makestyles in this code sandbox it should highlight the error in the editor url
try to look at this codesandbox url clicking either the plus or minus buttons creates a double log statement
it worked on codesandbox but not on my deployment i am thinking that the sandbox is not taking in some of the stricter settings but well who knows just grab the zip and run yarn install frozen lockfile yarn run build the lockfile should reproduce most of my environment 9vjki core4 1 3 zip url uploaded version contains both yarn lock files for build default one is for working core version version one with 433 in name has latest mui just swap them around and do yarn thing
edit select value warning url javascript import react usestate fragment from react import select from material ui core select const app const itemtype setitemtype usestate custom return fragment select value itemtype onchange setitemtype option value custom custom option option value cycler cycler option windowsramdisk windows ram disk windowssetup windows setup windowsimage windows image linuxramdisk linux ram disk linuximage linux image fragment
steps 1 create a component using tabs and try jest snap shot testing it
url steps 1 click the open popout button 2 click the open menu button in the popout window
steps 1 in the theme specify any styling for body2 component for example overflow hidden 2 overflow hidden is applied to the body tag
link url the background color only updates when the theme color is updated steps 1 change the background color and it doesn t update the style 2 change theme color and it updates both styles
steps code sandbox url 1 open console 2 trigger open close of drawer
url unfortunately codesandbox has issue with cors that prevents from seeing the full error message url but the error is such as i described above some stack trace is visible in codesandbox though
url the issue is with the implementation of backdrop url l32 l47 children gets spread into fade but the nested div will just overwrite that i recommend doing this instead javascript const backdrop react forwardref function backdrop props ref const classes classname invisible false open transitionduration children other props return fade in open timeout transitionduration other div data mui test backdrop classname clsx classes root classes invisible invisible classname aria hidden ref ref children div fade
url steps 1 open the console either in your browser or from the sandbox 2 play with the slider and the switch 3 checkout console and see log messages
live example url steps 1 click on each of the 4 exclusive toggle buttons 2 observe the 2 that work and the 2 that don t
steps 1 add new styles to override badge rule 2 and then the badge component shows as the overridden badge rule sets instead of the default invisible rule
try to compile the following code import link listitem from material ui core listitem button dense component link to pathname worksheets
tablecell typography variant caption align center left aligned unexpected typography tablecell tablecell typography variant body2 align center center aligned correct typography tablecell
live example url steps 1 go to the live example in ios safari 2 touch a mui switch 3 observe unexpected toggle animation
url i ll see if i can t make a code pen
reproduction url steps 1 create muitheme with custom spacing option 2 use grid spacing prop in the app
url treeitem nodeid 1 label span applications span
url steps 1 open the link above in firefox 2 drag slider for a few seconds 3 notice that it isn t working correctly 4 repeat in chrome it s working well there
steps 1 imported arrowdropdown at the top of the file import arrowdropdown from material ui icons arrowdropdown 2 passed in arrowdropdown to iconcomponent within the tablesortlabel component tablesortlabel iconcomponent active currentsort field field props sortby field props source direction currentsort order asc asc desc data sort field props sortby props source onclick updatesort classes classes 3 run yarn start there is the sandbox link url url
steps 1 open webpage like url using chrome and macos 2 press e g one of the example contained buttons e g primary 3 switch focus away from chrome typically cmd tab 4 switch focus back to chrome typically cmd tab the lighter color bubble also expands and shrinks like inhale and outhale of breathing image url
the bug above happend while upgrading material ui core from version version to version rollback to the previous version solve the problem clear cache didn t help
1 clone the material ui repo 2 navigate to the nextjs example 3 replace index js in the existing nextjs example with the following import react component from react import proptypes from prop types import grid withstyles from material ui core import head from next document const styles theme root borderstyle solid borderwidth 4px bordercolor black item borderstyle solid borderwidth 4px theme breakpoints up sm bordercolor yellow bordercolor red class index extends component static getinitialprops async return pagetitle custom index title render const classes this props classes return grid classname classes root container head title this props pagetitle title head grid classname classes item item xs 6 p test p grid classname item xs 6 p test p index proptypes pagetitle proptypes string isrequired export default withstyles styles
url steps 1 2 3 4
put this anywhere in a new react app using yarn create react app my app typescript javascript chip avatar avatar a avatar color secondary size small label hello steps 1 yarn create react app my typescript ive seen same issue using npm 2 yarn add material ui core 3 yarn start everything should look good here 4 build serve s build you should see the bad chip avatar style the is larger than the chip and the wrong color
steps 1 open a menu with menu items 2 open a dialog with an input 3 start typing into the input
steps 1 go to url using a mobile browser with a device that meets theme breakpoints down sm default breakpoint values were not modified 2 tap on any image in the projects section bottom of the page 3 put the device in landscape orientation to force the content to be larger than height of screen 4 try to scroll content following same steps issue can also be reproduced with swipeable temporary drawer open bottom example on demo page url
url steps 1 go to url 2 open your chrome developer tools 3 refresh page 4 you ll not both that a warning is issued in the console regarding transitionprops and also that a transition callback is not called
url steps 1 go to url 2 open your chrome developer tools 3 refresh page 4 you ll not both that a warning is issued in the console regarding transitionprops and also that a transition callback is not called
1 open the example url 2 click around or hover around hovering the textfields or the button after clicking or hovering the monster link leads to shrinking of textfields or button as like their fullwidth true is ignored
url collapse in appear onenter node isappearing console log node isappearing object node htmldivelement isappearing undefined div classname app h1 hello codesandbox h1 h2 start editing to see some magic happen h2 div collapse
steps 1 go to the codesandbox example url 2 the item one tab should have a working textfield 3 the item two and item three tabs should have a broken textfield
url javascript import react usestate from react import button textfield from material ui core function app const formvalues setformvalues usestate text1 text1 text2 text2 const istextfield2hidden settextfield2hidden usestate true const handlechange name event setformvalues formvalues name event target value const handleclick event settextfield2hidden false return div button onclick handleclick show textfield button div textfield label text 1 value formvalues text1 onchange handlechange text1 margin normal variant outlined div div hidden istextfield2hidden textfield label text 2 value formvalues text2 onchange handlechange text2 margin normal variant outlined export default app steps 1 open the linked codesandbox 2 textfield1 should be rendered correctly 3 click on show 4 the rendered shows line behind label text
steps see above
url steps 1 2 3 4
i made a small code sandbox example of the issue url the first example is without the span tag enclosing the child second is with span tag enclosing child when clicking on button it will get disabled tooltip stays displayed no matter what steps 1 hover button tooltip get displayed fine 2 leave button tooltip disappears fine 3 click on button tooltip will still be displayed even if you leave it
link 1 import mui box 2 render with bordercolor property box bordercolor red 3 url
1 render element with high z index and with input inside 2 open mui dialog 3 try to write something in the input link url
link codesandbox url 1 open demo tsx 2 sees 3 compilation errors code tsx import react reactnode from react import makestyles from material ui core styles import link linkprops from material ui core link import link as routerlink from react navi const usestyles makestyles theme marginright theme spacing 1 cursor pointer interface props to string children reactnode function simplelink props props const to children restprops props return a restprops href to children a function iconlink linkprops return component routerlink someicon export default function buttonrouter const classes usestyles return classname classes plain classname classes component simplelink simple classname classes to url component simplelink simple classname component routerlink navi router href url routerlink navi router iconlink
randomly trows this error
link url 1 open browser s dev tool 2 toggle device toolbar set to mobile resolution iphone pixel 3 click icon 4 click gear icon
link url 1 clone the above repo 2 run yarn installs material v version 3 run yarn start see that the app works properly toolbar is red etc 4 upgrade to material v version or version 5 run yarn start see that the theme is no longer applied toolbar is blue etc the initial styles also don t seem to be applying correctly first page paint before react starts running is virtually unstyled which i m guessing due to same issue
link url 1 initalize new gatsby project 2 add material ui core material ui styles gatsby plugin material ui 3 create dialog with props open disableportal 4 yarn build
1 press esc button 2 click on iconbutton
link url 1 create a snackbar with the following prop transitionduration exit 0 2 observe console
i use the vscode native auto import
i think i found the cause of the bug link to the function causing bug url l125 the handleitemclick function implementation is as follows const handleitemclick child event if multiple update false event if onchange let newvalue if multiple newvalue array isarray value value here suppose newvalue is name item1 and child props value is name item1 itemindex is computed as 1 and it results to insertion of duplicate element rather than splicing it const itemindex value indexof child props if itemindex 1 newvalue push child props else splice itemindex 1 else props event persist event target name onchange link 1 sandbox link url 2 probable issue in codebase url l125
link url 1 pay attention to the border glitch label on the input 2 notice that on creation the border cuts through the text 3 i ve got component remounting every second to make issue more obvious i think solution is to omit this notchedoutline transition url l35 when a label is set to shrink
link url sorting amp selecting 1 turn on chromevox extension with google chrome 2 tab to a sorting button on the table in the demo above like calories 3 click it and listen to the screenreader 4 no sorting announcements
link url just loading the page takes ages navigating between typography and icons sections takes in the order of 2 3 seconds on a beefy desktop browser sorry for not providing a reduced testcase but meh its quite clear whats going on
link url 1 see sandbox above 2 first tile has broken hover state 3 second tile has working hover state 4 only difference is the use of props
link url 1 create a column grid 2 on each item create a new row grid 3 create some combinations of items taking different number of columns 4 some combinations messes up with the gutter to the next item is as if the father container is ignoring the negative margin of its child and just taking space as if there was no negative margin
link url 1 click on the toggle pupper button 2 3 4
link url 1 provide a container for drawer by setting container prop in modalprops 2 set anchor to right if anchor is set to left the problem disappears 3 set material ui core version to version or higher with version the problem disappears
link 1 code sandbox demo url 2 tooltip documentation url
os ubuntu version browser firefox version 64 bit link url 1 open the codesandbox link above in firefox 2 click to expand the expansion panel 3 see error
compare versions v1 url input adornments url input adornments v4 url input adornments url input adornments
link 1 go to url 2 you ll see the custom styles from button switch from white font with padding to no padding and black 3 if you set to important all the missing styles it works but this shouldn t be the case that s the bug imo
link url 1 go to above codesandbox link 2 go to console notice that the message warning invalid aria attribute arialabel did you mean aria label is present
create a component that uses any component the extends overridablecomponent without supplying a component prop
add a lot of content in dialog so it becomes scrollable add paper component url
it is reproduced in codesandbox url
link url 1 just click the mount children 2 see dev tools console
link url 1 click open dialog 2 click click me 3 press esc to close
link url this is my component styling expansion panel js const styledexpansionpanel styled expansionpanel margin auto in mui version 3 it was working fine when expanded the margin was correctly applied v4 mui expanded has higher priority than my custom class class muipaper root muipaper elevation1 muiexpansionpanel root sc gzvnrw uvrkt mui expanded muiexpansionpanel rounded muipaper rounded v3 minimized custom classes have highest priority jss1142 jss1145 jss1143 jss1138 jss1140 jss1139 jss96 jss104 jss128 styledexpansionpanel lksmip izvvji
the examples for the menu component will show that this behavior is not working
1 create a new theme js import createmuitheme from material ui core styles import as colors from material ui core colors export default createmuitheme palette primary colors deeporange overrides muidrawer paper backgroundcolor colors grey 900 color grey 100 2 create a drawer js import react from react import makestyles from material ui styles as material ui core drawer core drawer box box avatar avatar typography typography button button divider divider list list listitem listitem listitemicon listitemicon listitemtext listitemtext dashboardicon icons dashboardtwotone clientsicon icons peopletwotone loansicon icons attachmoneytwotone employeesicon icons motorcycletwotone routesicon directionstwotone reportsicon showcharttwotone settingsicon settingstwotone const drawer width 220 const usestyles makestyles width width drawerpaper width avatar backgroundcolor deeporange 500 height 120 120 export default function appmenu const styles usestyles return classname styles classes paper drawerpaper variant permanent anchor left box p 3 alignself center display flex flexdirection column alignitems center avatar classname kw box mt 2 typography align center variant h6 kevin wolf typography divider flex auto list listitem button listitemicon dashboardicon listitemicon listitemtext primary dashboard listitem button clientsicon listitemtext primary clients loansicon primary loans employeesicon employees routesicon routes reportsicon reports settingsicon settings list divider p 3 fullwidth variant contained color logout
sandbox with v version running v version url v version url link 1 2 3 4
link 1 url 2 examples on url
i just took the default template and turned the tip sideways it looks bad but it gets the point across link url 1 try to use writingmode on a div set to vertical lr 2 the div should appear sideways in edge it does not because css got prefixed with ms and ms prefix does not work there
link url 1 create a contained button group 2 set the color to primary or secondary 3 disable all buttons
the bug is reproducible here url it is a live changing in development site but i ll try to keep it in the state so the bug is reproducible for some time 1 shrink the page to xs size 600px width 2 click on dark diagnosis in header this will go to another route thus unmounting components from current route 3 widen page above xs size 600px width 4 click on some image for example one that was open initially thus going to single image route if you clicked on image that was open in beginning you will go initial route image and description will stay at 100 width and description should shrink 50 width each and they should fit same row grid s sm class was not applied component following code describes mentioned components on above given website grid container grid item xs 12 sm 6 img src diagnosisdata imageurl 100 height 100 style borderradius 5 grid item xs 12 sm 6 descriptioncomponent
link url 1 in the demo change window size to see the described bug 2 check the inspector that media queries are in fact in wrong order
link url 0 open with chrome 1 focus then blur the input 2 notice label jumps left 3 if it doesn t jump adjust window width 4 repeat steps 1 3 until you notice the bug
jsx const usestyles makestyles theme sortformlabel fontsize version rem color theme palette secondary main display flex flexdirection column justifycontent center sortform display flex flexdirection column alignitems center theme breakpoints up sm justifycontent center flexdirection row const options id price size none const sortoption const classes usestyles sortby setsortby usecontext sortbycontext handlechange event setsortby event target value return formcontrol classname classes sortform component form formlabel classname classes sortformlabel component div span sort by span formlabel radiogroup aria label position name sort value sortby onchange handlechange row options map option formcontrollabel key option value option control radio color secondary label option labelplacement start radiogroup formcontrol export default sortoption
link 1 url 2 review signin tsx line 64 3 4
link 1 git clone url 2 cd react hot starter 3 git checkout material ui 4 4 npm install 5 npm start 6 open console and compare provided theme and consumed theme values
link import react usestate from react import box slide from material ui core import css prev css import css next css export function home const twoslide settwoslide usestate boolean true const oneslide setoneslide usestate boolean false function nextslide setoneslide prevstate prevstate settwoslide prevstate prevstate function previousslide setoneslide settwoslide return box box display flex flexdirection column style overflowx hidden height 400 button onclick nextslide change slide button div style display flex width 100 position relative slide style position absolute direction right in oneslide mountonenter unmountonexit timeout 10000 div style backgroundcolor green width 100 slide one div position absolute direction left in twoslide mountonenter unmountonexit timeout 10000 div backgroundcolor red width 100 two box
i have not been able to reproduce this issue outside of my application but you can see it in practice easily enough by going to armicus com url and setting the browser window to be less than 1000 pixels wide i have also copy pasted the component in question into a sandbox where unfortunately it works perfectly icon size demo url my application was originally built using mui v3 and the vast majority of my styling is done using withstyles hocs imported from material ui core styles withstyles when styled this way font size is applied correctly this issue is only apparant when styled using makestyles hooks imported from material ui styles
link url 1 go to the tests tab 2 note the failing test the error is actually different in the sandbox aybe this helps diagnose problem 3 note other variants of rendering textfield that do not fail 4 note workaround fourth test using createnodemock to return a textarea element
link 1 git clone url 2 cd react hot starter 3 git checkout material ui 4 4 npm install 5 import muithemeprovider in src app tsx
see example url
link 1 url simple demo taken from the popper demo page 2 3 4
import ceckbox and build with parcel bundler
i have not created a sandbox however if this appears to be a real issue and not some misunderstanding on my part i will happily attempt to recreate it
link url 1 launch unit test with jest
this repo contains the code that is currently breaking url link url steps 1 clone repo 2 in module directory do yarn install yarn build followed by yarn link 3 in another react project with react version and react dom version do yarn link sogec react module boilerplate 4 import import boilerplate from sogec module boilerplate 5 call it in a render boilerplate 6 see error in console 7 when deleting the themeprovider theme theme line and the import from the module it works correctly main app above error occurred themeprovider component
link url 1 click on the button or tab to it and hit kbd space kbd or kbd enter kbd 2 try to use down arrow key to change focus doesn t work 3 tab once 4 use down arrow key to change focus does work
link url 1 click the button to open two dialogs the important dialog should have higher z index 2 if you switch the version of material ui core to version and repeat you will see the expected behavior
codesandbox link url
1 go to url dialogs 2 turn on any screen reader app example nvda 3 navigate button which opening any dialog 4 open and close dialog by keyboard 5 try to open it again by keyboard
link url customized tooltips with version not working url with version working as expected url 1 just hover on arrow or bootstrap sample
link url 1 click on open dialog window button 2 click on cancel 3 snackbar is still on the page
see expected behavior example update example url
see this working demo on ios chorme and or safari you should see a blank area on the right url here s the source code for that demo url
link url 1 create a list with a listitem alignitems flex start 2 give the listitem a listitemicon child and a listitemtext child the icon will appear higher than the text 3 try the same with listitemavatar instead of listitemicon this time text and avatar line up note this is only in v4 layout for v3 worked perfectly
link tablecell s doc url 1 in props look for size property s description 2 in css look for sizesmall class description
link url contained buttons 1 tab till first default button is focus visible 2 hold down space
steps to reproduce the behavior 1 spot an unrecoverable jumptable 2 manually define the array of the jumptable 3 manually add the computed jump references to jmp instruction performing switch to target referenced by jumptable 4 click on jmp instruction 5 in script manager run switchoverride java 6 observe script executing correctly but decompiler is broken with error above
steps to reproduce the behavior 1 download windows version x86 msu from url and extract rdpcorets dll 2 download windows version x86 msu from url and extract rdpcorets dll 3 start vt session between the two rdpcorets dll s 4 add function bytes instructions and mnemonics match corelators 5 function wpp sf dd 24 is not matched by any of the correlators even though the function is bit identical
steps to reproduce the behavior 1 occurs randomly unsure how to reproduce
steps to reproduce the behavior 1 go to import file 2 select the elf binary i have provided
steps to reproduce the behavior 1 create a new ghidra project 2 import a file 3 let ghidra analyze the file 4 the exception about non returning functions shows up in a dialog
steps to reproduce the behavior 1 look at any moderately complex file to observe error
steps to reproduce the behavior 1 add the function name column to the reference view 2 view the reference to any function 3 select function name field in a target row 4 observe you go to start of function instead of reference location
steps to reproduce the behavior 1 go to any function 2 click on the display function call tree button 3 call tree window will appear 4 go to another function 5 click on the display function call tree button 6 new call tree tab won t open
steps to reproduce the behavior 1 color the first instruction of a code block with setbackgroundcolor 2 go to any other function 3 go back to the original function 4 observe the entire code block is now colored not just first instruction 5 hit reload graph and observe erroneous colors do not disappear 6 use clearbackgroundcolor on first instruction which was colored 7 observe that color does not disappear but if you hit reload graph then
steps to reproduce the behavior 1 import executable and analyze in code browser take note of a function you re about to change 2 exit out of code browser 3 go to program and add parameter recompile a before 4 import executable again and analyze take note of the same function as before
steps to reproduce the behavior 1 create an empty parser profile 2 add the following configuration i redacted xnu version osfmk i redacted xnu version libkern i redacted xnu version iokit i redacted xnu version bsd external headers d arm64 dkernel 1 diokit d gnuc 3 parse the following header from osfmk mach arm structs h you need to download the whole tree from url 4 try to parse
steps to reproduce the behavior 1 install server after building from source 2 change server conf argument ip dns name i localip 3 try to connect to the server using new project shared 4 enter dns name port 13100 5 see error
steps to reproduce the behavior 1 set user preferences such as the edit code block fields 2 export code browser tool 3 import code browser tool into ghidra in a new vm 4 notice code block field changes are not present
steps to reproduce the behavior 1 import a pe file 2 go to imported functions 3 you ll see a whole list of text labeled functions 4 see error
load the following minimal repro pdb file c test pdb exe test guid 94ca 4d6b 9079 age 1 t functions t t function name foo address 0x1230 length 0x8 t stack variable name this kind objectpointer offset 0x40 datatype doesnotexist length 0x0 function functions pdb
steps to reproduce the behavior 1 open code browser and analyze a binary analyze stops with a comlaint about the pdb loading 2 start load pdb file manually 3 see error
const label new label label style on marginleftchange console log marginleftchange label style on marginchange console log marginchange style marginleft 5 style margin 10
get the app from app store and test it
just open the sample app provided below
1 clone the nativescript project 2 tns create test bkg pos in the same folder where you cloned nativescript 3 npm install save nativescript tns core modules insede the project folder i e test bkg pos 4 tns run android
change styles of an app of moderate size complexity i haven t tested this on a small app as it s probably not going to take nearly as long but any app of decent size i d expect this to be an issue
ts home component ts const options context viewcontainerref this vcref fullscreen true this modalservice showmodal testcomponent options css test component css test inside this margin we should see the home component in the instead we get a white background tmargin top 150 tbackground color orange url
start the sample app provided below
start the project and focus the text field url
1 update to latest ng cli 2 ng new w1 3 cd w1 4 ng add nativescript schematics 5 tns test init 6 modify tsconfig tns json files src tests example ts 7 tns test ios
1 check bgred value in console by clicking get bgred you will get false 2 click toggle to invert bgred from false to true 3 check bgred value in console again by clicking get you will get true
material design icon fonts in tabstrip for tab icons
place a tap event handler on a textfield or textview and on its parent layout container click on the textfield on a device running ios12 and then again a device running ios13 ios12 the order of execution is textfield and then parent ios13 the order of execution is parent and then textfield see playground below
just follow the steps of the gif navigate forwards to the tabs page by tapping the button you can now swipe through tabs but you do not see tabstrip navigate forwards again by using actionitem navigate backwards by using hardware back button now you see tabstrip but it does not have complete style
just open the playground sample provided below maybe you have to switch the tab one time to see the error in the logs
create a new app using the tab navigation ng template tns create template tns template tab navigation ng nativescript bottom nav issue cd nativescript bottom nav issue tns run android make sure the app works open src app app component html change the first line to bottomnavigation selectedindex 1 wait till the refreshes and see crash
htmlview html scan the www google com and ask questions at www stackoverflow com something
url rotate device to landscape tested on iphonex
1 checkout url 2 check out the commit chore official versions version x ready for release tag 3 update the file app ng ui category modal view ng sample modal view module example sample modal view module example ts to use fullscreen mode 4 now run the app in android and navigate to modal view example 5 click enter start date choose any date you will see that the has start date updated 6 click enter end date choose any after start you will see that is not updated with selected end now any action you do on app like e g scrolling or going back screen won t refresh but if you just click without any other action on enter start will open again
1 vue init nativescript vue vue cli template project name select typescript and sidedrawer sample 2 cd project name 3 npm install 4 fix error in main ts file change import app from components app to import app from components app vue 5 tns preview qr code shows and scans normally but in preview there is an exception
put a view inside a layout and take pan pangestureeventdata deltax and deltay to translate the view with
set color through css
run unit tests app app crashes with the exception above reproducible only on ios9
1 on an app move between pages using navigateto with animation using tap etc 2 suspend app during the transition animation 3 resume
simplified test case url steps to reproduce use the same sample above and check the stylesheet output
steps to reproduce 1 run npx create next app example with react native web 2 access htttp localhost 3000 3 disable javascript execution on the browser 4 see that none of the css classes are there at this point 5 test again with javascript enabled 6 see that all classes are there
steps to reproduce 1 create a react app npx create react app test app typescript 2 in that app do yarn add git url 3 modify the tsx file add import rnwbutton from kikketer womponents then render it const react fc return div classname header classname header img src logo classname logo alt logo rnwbutton bonus notice that if you use a react native init style project and import rnwbutton from kikketer womponents dist mobile after doing the same yarn install the library works properly it responds to the onpress properly which is expected
simplified test case url
just import share api from react native package and run it locally if the issue is related to browser version then it should throw the same error upon sharing steps to reproduce 1 import share from react native package 2 use the share api to share a desired message 3 upon calling the api it should throw an error saying is not supported in this browser
jsx import react from react import text from react native import icon from react native vector icons materialcommunityicons export default test props fragment text numberoflines 1 multimulti linenline testnt text icon name send fragment
i tried to reproduce that issue in a completely local vm but no luck but i decided to file issue to find out who else got that behavior after the weekend i ll recompile netdata with debug and post logs
make opt a symlink like this example root version ls lah opt lrwxrwxrwx 1 root root 7 jun 26 19 26 opt var opt install binary flavor of netadata which by default installs into netadata which in this case goes into the physical location var netdata now try to run edit config
enable nvidia smi module start stop netdata
put netdata under test using the following command wrk t12 c50 d600s url
netdata installer sh install home amoss netdata dev install
run shellcheck on the files that appear in the image
run cmake build on ubuntu version with cmake installed from a standard package
1 setup hddtemp or sensors 2 create alarms as per above
1 remove netdata version version and old dependencies 2 reinstall using instructions documented here url pfsense 3 edit bind to in netdata conf 4 attempt to service netdata onestart without errors 5 check service netdata onestatus to verify that service is not running 6 run usr local sbin to confirm error in summary
write nginx logs in format log format basic remote addr time local protocol status post bytes sent bytes received session time sample version 08 oct 2019 12 29 42 0000 tcp 200 post 3129 3060 version have custom format configured in netdata nginx log name nginx path var log nginx access log custom format pattern p address da f p code 1 9 d 2 p method w p bytes sent d resp length d resp time 0 9 0 9
enable freebsd plugin in the config run netdata
class child public nlohmann json public explicit child const nlohmann json j nlohmann json j nlohmann json j parse a 1 child c j
1 run vcpkg search nlohmann json response vcpkg version vcpkg search nlohmann json nlohmann json version json for modern c 1a install vcpkg exe install nlohmann 2 installs to version packages lohmann x86 windows 3 use find package in cmakelists txt in project cmakelists txt set dir project source dir version packages
c include stdio h include json hpp using namespace nlohmann int main tjson cbor json from cbor a true false tprintf is discarded i cbor is discarded treturn 0 note json from cbor c static basic json from detail input adapter i const bool strict true const bool allow exceptions true
code json valgrind cpp include nlohmann json hpp int throw error throw std runtime error leak memory nlohmann json minimal leak return leak throw error int main try minimal leak catch return 0 build g json valgrind cpp o valgrind g o0 run valgrind
json data a 1 2 b true json
create a json tree of 300mb ram size serialize with dump works on linux and macosx but not on msvc x64
p measure students 8217 ability to engage p p measure students rsquo ability to engage p unicode should be preserved
here is source code url
see example here url
index html html doctype html
test pug pug doctype html html lang en thead t tmeta charset utf 8 t tmeta name viewport content width device width initial scale version t tmeta http equiv x ua compatible content ie edge t ttitle document tbody tp hello world
admin scss import mixins import general mixins scss mixin shadowed box shadow 0 2px 4px rgba 0 0 0 version 1px 0px rgba version general scss dropdown pane include shadowed
if this is somehow related tfjs is written in typescript i import it as such import as tf from tensorflow tfjs
index js js import tippy from tippy js umd index min js tippy setdefaults animation fade arrow true index html html div style height 100vh width 100vw background red data tippy test data placement top div
reduced test case url
the npm audit report parcel audit txt url
url is the repo url is the entry html file
js throws error as above if dev console log dev this works fine if process env node env production console log dev
no code i just try to run my program using below command js node modules bin parcel watch src core client index html
complete reproduction is here url
javascript index js const render async const app await import app reactdom render app document getelementbyid app render module hot accept render js import a import b export const null a js import cpt from c console log a cpt b js cpt from c console log b cpt c export const 1
1 clone url 1 npm install npm start 1 load url open browser js console 1 edit src index js to trigger hmr update js console error referenceerror window is not defined
parcel bundle with ts import build js var sbuw var testhositing class function function testhositing testhositing create function return new testhositing return parcel bundle with rollup import build js class gck var failurtesthositingrollup static create return new failurtesthositingrollup
1 run a portainer instance with ssl enabled 2 use a ssl tester such as url on your portainer instance 3 look at the result technical details
1 be behind an omnipresent corporate firewall that will by default block server access to github com 2 launch portainer on docker hosted on such a blocked server using either docker config json env passed to docker compose or an environment section in docker compose to set https proxy to the correct environment variable 3 with portainer pointing at some swarm or instance attempt install iron functions or some other built in app template that is hosted in the portainer templates repository technical details
1 install docker 2 run a portainer container 3 run a watchtower container 4 wait for everything to break when docker sock becomes a directory 5 spend hours trying to get your server working again because the thing you did last time this happened didn t work this time seriously the fix changes every time technical details
1 authenticate against the api using the admin account bash http post portainer mydomain net api auth username admin password pass 2 i try create the new user with method users bash http post portainer mydomain net api users authorization bearer token username bob password password role 1 technical details
1 have two docker swarms with their endpoints registered by and managed by one portainer gui 2 deploy traefik to the first swarm as a stack using the portainer gui 3 deploy traefik to the second swarm as a stack using the portainer gui technical details
1 deploy a stack as an admin named test image url 2 log in as a non admin and create a volume named test 3 see that non admin user now has ownership of the stack image url technical details
1 install a multinode docker swarm 2 connect portainer to the swarm using an exposed docker endpoint 3 deploy a stack 4 install portainer agent on the swarm using the instructions here url 5 connect portainer to the swarm using new agent endpoint 6 deploy a stack technical details
see above bug description technical details
1 go to a container with a shell 2 click on console 3 click connect 4 see the change to connecting where it remains 5 observe error on javascript console technical details
1 go to stacks new stack 2 click on web editor 3 copy above configuration 4 see error technical details
1 go to local then containers and click on the container name pihole in this case 2 click on duplicate edit 3 scroll down to the bottom 4 click on network 5 click add additional entry and add host ip 6 deploy the container 7 accept prompt are you sure a container with the same name 8 see error technical details
1 have portainer managing a docker swarm 2 go to volumes add volume and enter the following details name some name driver local use nfs volume yes address version nfs version nfs4 mount point vol061 3 go to stacks to add a simple stack to use the volume we want use the gui bind the volume so we will start with a tmp local binding version version volumes data1 services minio1 image minio minio volumes data1 data environment minio access key minio secret key minio123 command server data ports 9000 9000 4 once stack is started open it in stacks and then click on stackname minio1 service 5 scroll down mounts change source nfs created above type something random in target field enable apply changes button and click apply changes 6 now click on swarm cluster visualizer and see which node is running minio1 service 7 ssh server run docker ls list inspect volumes technical details
1 trigger the issue on develop branch
assign ldap user to endpoint and attempt to login technical details
1 go to a container s page 2 click on recreate 3 check pull latest image 4 click recreate 5 see error technical details
1 go to your portainer instance and login with a none admin user 2 click on home and memorize the key figures of an endpoint 3 click now on the entpoint to see more information s 4 now the key figures of the entpoint are no longer visible 5 do steps 1 4 now with an administrator account and key figures are visible technical details
1 install docker on windows 2016 2 setup tls connection with portainer host 3 try to create empty stack without any services with docker compose yml that looks like that version 2 4 see error technical details
1 go to any container s stats page 2 look at memory usage or network usage aggregate graphs technical details
1 go to registries 2 click on the manage access action on a custom authentication enabled registry 3 select a user or team on the create access section and click on create access 4 see error technical details
1 run a container with a health check like mysql mysql server latest 2 on the containers overview page it is not there 3 stop the container from the command line 4 on the containers overview page it is now there in a stopped state 5 start it and it will disappear you can also recreate this by pausing a container
1 follow instructions in the edge agent setup guide url 2 create edge agent on synology host using command sudo docker run d v var run docker sock var run docker sock v volume1 docker volumes var lib volumes v host restart always e edge 1 e edge id id e cap host management 1 p 8000 80 v portainer agent data data name portainer agent portainer 3 associate with portainer through web ui ui states that the is associated 4 attempt to connect to which fails 5 logs for container state that connection was successful and states fingerprint technical details
1 deploy the following datamodel with prisma deploy graphql enum test admin user type user id id id name test 3 deploy the same datamodel again with no migrate flag 4 see error expected behavior
1 set endpoint 2 test the mutation query like above expected behavior
1 create datamodel type user id id id last name string createdat datetime createdat updatedat datetime updatedat 2 create seeder 3 prisma deploy it 4 get seeded model with unique field 5 inspect value it will contains nil fields expected behavior
1 prisma init create new database mysql don t generate 2 docker compose up d 5 replace content of datamodel prisma with graphql type comment db name comment id int id children comment relation name commentparent parent comment db name parent id relation name commentparent type entity db entity id int parents entitylink relation entitylinkchild children entitylink relation entitylinkparent type entitylink db entity link int child entity child entitylinkchild order int parent parent entitylinkparent 6 prisma deploy works to simulate an existing database with correct schema 7 prisma deploy no migrate does not work expected behavior
1 using the following prisma yml file endpoint url self custom servicename self custom stage datamodel datamodel prisma generate generator typescript client output generated prisma client hooks post deploy prisma generate npx nexus generate client generated client output generated nexus custom servicename test stage dev 2 execute generate in my terminal will eventually throw the following error expected 690 138 688 689 690 export const makeprismaclientclass clientconstructor typedefs models endpoint url self custom servicename self stage 691 export const new 692 expected behavior
use this datamodel and deploy using prisma deploy graphql type bris db name bris id bris id id date datetime idetat etat db name id etat relation name brisetatrelation idmateriel materiel db name materiel relation brismaterielrelation type cle db cle relationtable cle idlocalisation localisation localisation relation clelocalisationrelation iduser user user relation cleuserrelation type emprunt emprunt emprunt date datetime idmaterielemp string materiel emp iduseremprunt string user emprunt qte int default value 0 type etat etat bris brisetatrelation label string default value null localisation localisation cle clelocalisationrelation label string default value null materiel brismaterielrelation codemateriel code description default value idlocalisationmateriel idtype materieltyperelation label lienachat lien achat qteinitiale int qte initiale 0 recommander int 0 sku 0 privilege privilege privilege label user privilegeuserrelation projet projet projet datedebut datetime date debut datefin datetime date fin userprojet userprojet projetuserprojetrelation reservation reservation reservation idmateriel idsource userprojet source qte int null materieltyperelation cleuserrelation cpuser cp idprivilegeuser privilege privilegeuserrelation mail nom prenom userprojet useruserprojetrelation projet idprojet projetuserprojetrelation iduser useruserprojetrelation reservation expected behavior
1 enable yarn pnp on the project by adding this to package json installconfig pnp true 2 instal prisma prisma cli 3 add valid prisma yml config file 4 run export debug yarn prisma expected behavior
1 install prisma globally by sudo npm install g prisma 2 run prisma deploy from the project root directory 3 see error expected behavior
1 go to 2 click on 3 scroll down to 4 see error expected behavior
init a new prisma repository have a large datamodel prisma for us it s approx 1600 lines coming to 46kb run prisma deploy expected behavior
make a following datamodel type itemcategory id id id name string parent itemcategory relation name itemrelation subcategories itemcategory relation name itemrelation then add some data i e 1 parent 1 child query itemcategories id name parent subcategories img src url alt scr border 0 width 500 basically if i replace subcategories with anything
1 create a type without createdat and updatedat in the datamodel 2 run prisma deploy 3 go to your api playground not the prisma one 4 make a request on that type with orderby createdat asc expected behavior
dockerfile from node 12 copy app workdir app run npm install unsafe perm cmd node server index js docker compose yml yml version version services app build depends on prisma image code challenge build name ports 8080 80 volumes app postgres environment postgres db resumes postgres pass dbpass unsafe postgres user dbuser unsafe image 11 ports 5432 5432 restart always prisma depends on environment prisma config databases default host connector migrations true password dbpass port 5432 user dbuser port 4466 image prismagraphql prisma version ports 4466 4466 restart always expected behavior
1 go to app prisma io 2 click on upgrade cluster 3 receive success message 4 cluster is never upgraded expected behavior
1 deploy this datamodel prisma graphql type a id int id strategy sequence name string type b id int id strategy sequence a a relation name b2a link inline 2 create instance of a graphql mutation createa data name a1 result javascript data createa 1 3 create instance of b connecting instance of graphql mutation createb data connect 1 result javascript data null errors message whoops looks like an internal server error search your server logs for request local path createb locations line 2 column 3 requestid local expected behavior
deploy prisma using the standard configuration and then view the log shown below info initializing workers info obtaining exclusive agent lock info successfully started 1 workers info obtaining exclusive agent lock successful deployment worker initialization complete server running on 53851 telemetry warning telemetry call failed with javax net ssl sslhandshakeexception general sslengine problem telemetry warning telemetry call failed with javax net ssl sslhandshakeexception general sslengine problem warning call failed with javax net ssl sslhandshakeexception general sslengine problem warning call failed with javax net ssl sslhandshakeexception general sslengine problem expected behavior
1 here s the complete repository url to clone 2 create a env file that contains node env production endpoint url frontend url prod frontend url google login app id jwt secret graph access token fb app secret fb app id prisma secret 3 run now dotenv env 4 visit the deployment and see the error or check the now logs expected behavior
1 in a new directory install prisma and prisma client lib 2 run prisma introspect or npx prisma introspect and select the option of using a mysql database with data on it 3 select typescript client 4 when the introspect step finishes run deploy or npx deploy and you will see this screen shot 2019 05 20 at 8 29 12 am url 5 visit url and notice that the schema is not being updated with the entities in database expected behavior
1 url 2 generated client in this repo via version and latest doesn t compile at subscriptionpromise subscriptionsubscription type s missing expected behavior
1 define your schema like this type country id id id title string createdat datetime createdat updatedat datetime updatedat deletedat datetime type address id country string 2 make a query to address and request country query addresses country 3 prisma will try and resolve as the type and then finally resolve it as a string expected behavior
1 add a field to an existing object such as number int id strategy sequence sequence name desk sequence initialvalue 1 allocationsize 1 note there is an existing id id id already on the type leveraging prisma s cuid 2 deploy should give a success message 3 attempt creating a new object of said type 4 fails expected behavior
1 use windows 10 x64 and install node js version or version 2 use the command line to install the npm package prisma v version 3 import the attached mysql schema in a mysql version server 4 run prisma init in the command line select use existing database select mysql select yes for does your database contain existing data enter your mysql credentials ex localhost port 3306 user password select database schema that you ve imported for introspection wait a bit and it will give you typeerror cannot read property type of undefined expected behavior
1 create a top level folder graphql mutation createfolder data name top level id 2 create a sub folder with the previously created folder as the parent graphql mutation createfolder data name bottom level parent connect id id 3 run the following query using id of the parent of subfolder graphql query folders where parent name 4 prisma returns an empty array instead of folder graphql data folders expected behavior
introspect any postgres instance that has many to many relationships example url expected behavior
1 deploy a field such as number int id strategy sequence excluding the decorator 2 deploys w o error expected behavior
1 init prisma and see a error info exception in thread main java lang runtimeexception unable to load prisma config com prisma config invalidconfiguration only postgres connectors specify a schema if they do they also need to specify a database other connectors only specify a database 2 i tried specifying database instead of schema and see the other error info exception in thread main java sql sqlsyntaxerrorexception conn access denied for user nuggets to database prisma expected behavior
1 create a prisma server with the above schema 2 seed with test data 3 execute the query written above expected behavior
1 have a large database on aurora mysql but i suspect this is not specific to this since the database is large and needs thousands of queries to export chances are that one of these queries will time out breaking the entire export expected behavior
steps to reproduce the behavior see code snipped above
steps to reproduce the behavior url
warning at tensor data const with t float is deprecated wdeprecated declarations home ehazar miniconda3 envs py3 night lib python version site packages torch include aten core tensorbody h 312 1 note declared here t data const
running python import torch import torch nn as nn torch jit script nn rnn 32 64 1 fails with traceback most recent call last file test py line 4 in module torch jit script nn rnn 32 64 1 file opt anaconda envs test lib python version site packages jit init py line 1203 in script return jit recursive recursive script obj file opt anaconda envs test lib python version site packages recursive py line 173 in recursive return copy to module mod overload stubs stubs file opt anaconda envs test lib python version site packages py line 95 in copy to module create methods from stubs module stubs opt anaconda envs lib version site packages init 1423 create methods from self c create methods self defs rcbs defaults runtimeerror tensor cannot be used as a tuple at modules rnn 184 67 def forward self input hx none is packed isinstance input packedsequence if is packed input batch sizes sorted indices unsorted indices input here max batch size batch sizes 0 max batch size int max size else sizes none max size 0 if self first else 1 sorted indices none unsorted indices none if hx is
steps to reproduce the behavior 1 change the worker process affinity in the worker init fn function 1 call torch randperm in the iter method of an iterabledataser 1 now worker process affinity is back to original one following code sample reproduce problem import os import torch import torch utils data class testdataset torch utils data iterabledataset def iter self assert len os sched getaffinity 0 1 randperm assert len os sched getaffinity 0 return range def worker init fn os sched setaffinity 0 list sched getaffinity 0 if name main assert len getaffinity dataset testdataset dataloader utils data dataloader dataset num workers init fn init fn for in dataloader pass
def func x s 0 s x s x return s x torch ones 2 2 func torch jit trace func print tensor 1 1 1 1 as expected func print tensor 2 2 surprisingly have changed while it shouldn t
python import torch for n in range 45 100 print f trying n line torch zeros size 1 n print f before arange shape is line shape assert len line shape 2 torch arange 1 1 2 n dtype torch float32 out line print f after arange shape is assert len 2 this will output trying 45 before arange is size 1 45 after is size 45 trying 46 before size 46 after 46 trying 47 before 47 after 47 48 48 48 49 49 50 traceback most recent call last file shapebug py 10 in module assert len 2 assertionerror
steps to reproduce the behavior 1 define a module with an empty buffer in the init function 2 set the buffer to something valid e g in forward 3 call state dict 4 instantiated a second instance of the module 5 call load state dict on second module
steps to reproduce the behavior 1 quantize a model follow the quantization tutorial model fuse prepare calibrate convert 2 apply copy deepcopy function to the quantized model error message traceback most recent call last file cm and ip matrix py line 208 in plot impact matrix params with fault copy deepcopy benign params file user local anaconda3 lib python version copy py line 180 in deepcopy y reconstruct x memo rv file user local anaconda3 lib python version copy py line 306 in reconstruct value deepcopy value memo file user local anaconda3 lib python version py line 161 in y copier memo user local anaconda3 lib python version site packages torch tensor 33 new storage self storage memo site packages torch storage 28 new storage self clone site packages torch 44 clone return type self self size runtimeerror from torch qint8storage to qint8storage isn t implemented
simply install pytorch conda install pytorch torchvision cudatoolkit version c pytorch
steps to reproduce the behavior install pytorch with cuda version in conda
import torch class foo torch nn module def init self super init initialize with placeholder data data torch randn 3 expand 2 1 self register parameter bar torch nn parameter data make a model checkpoint foo foo foo bar nn parameter randn 2 3 state dict state dict attempt to load the checkpoint new new load state dict state dict
steps to reproduce the behavior enable case 2 or case 4 and run the example below python import torch import torch nn as nn print torch version class test torch nn module def init self vocab size 10 rnn dims 512 super init def forward self x case 1 randomnormallike works mask randn like x to float32 case 2 randomuniformlike broken mask rand like x to float32 3 randomnormal broken mask randn x size to float32 4 randomuniform broken mask rand size float32 return pytorch model model test input ones 1 256 cuda output model input onnx export model input test rand onnx example outputs output errors reported by the onnx exporter 2 userwarning onnx export failed on aten operator rand like because symbolic opset9 like does not exist cases 3 4 typeerror i incompatible function arguments the following argument types are supported 1 self c node arg0 str arg1 int c node
using pytorch version running the following script python import torch import torch nn as nn class a nn module def init self super init self a 1 self b 2 def forward self inputs a b 1 2 return inputs a torch jit script fails with traceback most recent call last file test py line 14 in module torch jit script file opt anaconda envs test lib python version site packages jit init py line 1203 in script return jit recursive recursive obj file opt anaconda envs test lib python version site packages recursive py line 173 in recursive return copy to module mod overload stubs stubs file opt anaconda envs test lib python version site packages py line 95 in copy to module create methods from stubs stubs opt anaconda envs lib site packages init 1423 create methods from c create methods defs rcbs defaults runtimeerror lhs of assignment must be variable subscript or starred expression at 10 8 def forward inputs b 1 2 here return inputs
steps to reproduce the behavior compile with clang and stdlib libc
here s is a sample code that reproduces the error py import torch if name main a torch randn 32 100 3 requires grad true b torch sum a dim keepdim false print b b backward c torch mean a dim keepdim false print c c backward py tensor version grad fn sumbackward1 tensor version grad fn notimplemented traceback most recent call last file scratch py line 11 in module c backward file miniconda3 envs pytorch lib python version site packages tensor py line 150 in backward autograd self gradient retain graph create graph file miniconda3 envs pytorch lib python version site packages autograd init line 99 in allow unreachable true allow unreachable flag runtimeerror derivative for mean is not implemented
steps to reproduce the behavior 1 colab url python import torch import torch nn as nn class gru nn module def init self input size hidden size super init self gru cell nn grucell input size hidden size def forward self gru self gru cell weight hh data weight hh l0 data cell weight ih data weight ih l0 data cell bias hh bias hh l0 bias ih bias ih l0 return 512 512 rnn 512 512 rnn s torch jit script runtimeerror unknown 0 expecting kind variable but found at ipython input 8 10 7 def forward here
url on node 1 nvidia visible devices 0 python image classifier py model googlenet run name blahblah dataset dir mnt data dataset cifar10 ckpt dir mnt ckpt batch size 128 discover gpus world size 4 dist backend nccl dist method tcp googlenetxv machine1 master 0 googlenetxv machine2 2222 rank 0 on node 2 nvidia visible devices 0 python image classifier py model googlenet run name blahblah dataset dir mnt data dataset cifar10 ckpt dir mnt ckpt batch size 128 discover gpus world size 4 dist backend nccl dist method tcp googlenetxv machine1 master googlenetxv machine2 2222 rank 1 on node 3 nvidia visible devices 1 git clone url cd torch interference python image classifier py model googlenet run name blahblah data cifar10 batch 128 discover gpus world 4 backend nccl method tcp machine1 master machine2 2222 rank 2
steps to reproduce the behavior 1 create a onecyclelr scheduler python model models resnet18 pretrained false model train optimizer adam model parameters lr 1e 2 lr scheduler onecyclelr optimizer max lr 1e 2 total steps 100 cycle momentum false div factor 25 2 plot the learning rate python lr for epoch in range 100 optimizer zero grad optimizer step scheduler step for param group in param groups append param group plt plot 3 change the div factor and plot again step 2 python scheduler onecyclelr max 1e total steps 100 cycle momentum false div factor 10000
export squad dir path to squad python run squad py model type bert model name or path bert base cased do train do eval do lower case train file squad dir train v version json predict file dir dev v version json per gpu train batch size 5 learning rate 3e 5 num epochs version max seq length 384 doc stride 128 output dir tmp debug the smaller batch size the speed is more distinct
steps to reproduce the behavior 1 inferencing with efficientnet b0 on pytorch version cuda version 2 inferencing with efficientnet b0 on pytorch version cuda version 3 comparison i got auc of my model improved or decrease in or so
steps to reproduce the behavior import torch torch cuda synchronize import os print os popen nvidia smi read print torch cuda memory allocated
steps to reproduce the behavior the testing script is as following py import torch print torch version x torch randn 1 3 4 4 print x x torch var x dim 2 3 keepdim true print print size
code samples import os import psutil import torch import torchvision traced script module torch jit trace torchvision models resnet101 pretrained true torch rand 1 3 224 224 process psutil process os getpid print process memory info rss 1e9 for i in range 10 samples torch rand 32 3 224 224 predictions traced script module samples print predictions process psutil os getpid print memory info rss 1e9 output version tensor version version version grad fn tensor grad fn tensor grad fn tensor grad fn
a torch ones 5 2 dtype torch double b torch rand 5 tensor version version version version single column assignment works fine a 1 b a tensor dtype torch float64 multi column assignment breaks presumably b c of type promotion a 1 b unsqueeze 1 tensor e 00 e 10 e 00 e 06 00 03 00 05 315 dtype float64 multi column assignment works if no type promotion is involved 1 double unsqueeze tensor dtype float64
python import torch from torch distributions categorical import categorical dev torch device cuda logits torch randn 2 0 4 5 device dev dist categorical logits logits sample dist sample print sample shape will result in traceback most recent call last file bug py line 7 in module sample dist file cvlabdata2 home tyszkiew miniconda3 envs hardnet pytorch lib python version site packages distributions categorical py line 107 in 2d multinomial probs 2d 1 true runtimeerror invalid argument 2 prob dist must be 1 or 2 dim at opt conda conda bld pytorch work aten src thc generic thctensorrandom cu 44
here is simple code snippet that demonstrates the issue import os import time import torch import torch multiprocessing as mp psutil class consumer mp process def init self queue super consumer self init self queue queue def run self print consumer os getpid while true tensor queue get del tensor process psutil process print consumer mem process memory info rss end class producer mp def init super producer init device torch device cuda 0 def run print producer os getpid while true tensor torch ones 2 4 dtype float32 device device put tensor time sleep version if name main mp producer start start join join
here is some code to reproduce the problem which will print the time for a forward and a backward pass on a batch of 32 images with depth 8 and image size 32x32 using 5x5 kernels with a padding of 2 pixels python3 import time import numpy as np import torch import torch nn as nn n c h w 32 8 32 32 device torch device cpu model nn conv2d c c 5 padding 2 model model to device model train loss fn nn mseloss for iteration in range 100 t0 time perf counter x torch from numpy np ones n c h w np float32 to device y from numpy np ones n h w float32 to loss loss fn x y t1 time perf counter loss backward t2 perf counter print forward f seconds t1 t0 print backward f seconds t2 t1 print
steps to reproduce the behavior import torch m torch nn linear 500 10 torch save m test pth lib python version site packages torch serialization py 292 userwarning couldn t retrieve source code for container of type linear it won t be checked for correctness upon loading type obj name it won t be checked
steps to reproduce the behavior run the following script url it performs inference with resnet34 on images with fixed width and variable height and reports speed and memory growth over the course of the benchmark running under pytorch version python3 pytorch high mem py n 500 torch version heights mean 1004 p50 278 p95 5100 max 7680 n 100 memory growth kb 477 952 n 200 memory growth kb 503 948 n 300 memory growth kb 503 948 400 kb 518 652 time mean version s p50 version s p95 s 174 552 initial 518 652 running under pytorch python3 pytorch high mem py 500 torch cpu heights mean 1004 p50 278 p95 5100 max 7680 100 2 624 296 200 4 480 012 300 5 579 568 400 5 600 888 time mean s p50 p95 187 840 initial 6 200 664
steps to reproduce the behavior 1 try printing torch eig a to see they re all positive 2 try torch cholesky a and it d be negative
steps to reproduce the behavior 1 create a msnpu device with device torch device msnpu 2 boom 3 a torch zeros 1 device 4 print a 5 get runtimeerror p internal assert failed at c w 1 s windows pytorch c10 core impl deviceguardimplinterface h 213 please report a bug to pytorch deviceguardimpl for msnpu is not available
steps to reproduce the behavior 1 add a simple hubconf py to your repository 1 create a tag or branch with a path separator in its name 1 use torch hub functionality with that tag or branch
steps to reproduce the behavior 1 open pycharm 2 write from torch utils data dataset import iterabledataset 3 error
run this on mac import torch from torchvision import transforms from pil import image import torchvision numpy as np input image image open ios demo app helloworld helloworld helloworld image224 jpg preprocess transforms compose transforms totensor transforms normalize mean version version version std version input tensor preprocess input image input batch tensor unsqueeze 0 print batch 0 0 0 3 model torchvision models resnet18 pretrained true model eval with torch no grad output model batch output output numpy words open ios demo app helloworld model words txt read split idx np argsort output 3 1 print join map str zip idx idx get the tensor 270 269 248 run the ios demo app url example in xcode and get pixelbuffer 270 248 269
takes seconds with cuda version and minutes with cuda version torch zeros 25000 300 device torch device cuda
steps to reproduce the behavior 1 running this code git clone url deoldify cd deoldify pip install r requirements txt import fastai from deoldify visualize import torch backends cudnn benchmark true mkdir models wget url o models colorizeartistic gen pth from deoldify generators import gen inference deep gen inference wide root folder path path weights name str colorizeartistic gen learn inference deep root folder root folder weights name weights name dummy input torch randn 1 3 224 224 torch onnx export learn model cpu dummy input colorizer onnx
steps to reproduce the behavior import torch u1 torch unique torch rand 3 3 sorted false u2 torch unique 10 rand 3 3 round to dtype int sorted false u3 unique rand round to dtype bool sorted false which produces runtimeerror unique not implemented for bool
running the following code python class customseq nn sequential def init self super customseq self init nn linear 3 4 nn linear 4 5 self bar nn linear 4 5 net customseq print net will result in customseq 0 linear in features 3 out features 4 bias true 1 in features out features 5 bias true bar in out 5 bias true and fail when passed an n x 3 tensor because of vs shape mismatch at the end of execution
steps to reproduce the behavior python import torch import torch nn as nn batch size 5 seq len 10 embed dim 24 value dim 12 num heads 1 query torch randn seq len batch size embed dim key torch randn seq len batch size embed dim value randn seq len batch size value mha nn multiheadattention embed num heads vdim value attn out attn out weights mha query key output traceback most recent call last file stdin line 1 in module file afs inf ed ac uk user s sangelid venv pytorch 36 lib64 python version site packages nn modules module py line 547 in call result self forward input kwargs file afs inf ed ac uk user s sangelid venv pytorch 36 lib64 python version site packages modules activation py line 769 in forward v proj weight self v proj weight file afs inf ed ac uk user s sangelid venv pytorch 36 lib64 python version site packages functional py line 3103 in multi head attention forward assert key assertionerror
repro script python import torch as th src th zeros 8 3 ind th zeros 8 1 long ofs th zeros 8 3 src requires grad true ofs requires grad true out src scatter add 1 ind ofs out src scatter add 1 ind expand 1 3 ofs this line works l out sum l backward exception cpu runtimeerror expected tensor 8 3 and index to have the same size ap art from dimension exception cuda runtimeerror invalid argument 2 input tensor must have same size as output tensor apart from the specified dimen sion at mnt home gbschwartz pytorch aten thc generic thctensorscattergather cu 27
consider the following function python import torch def oom try x torch randn 100 10000 device 1 for i in range 100 l torch nn linear 10000 10000 l to 1 x l x except runtimeerror as e print e print at iteration i executing it one time gives the expected out of memory error after some iterations python oom cuda out of memory tried to allocate version mib gpu 1 version gib total capacity version gib already allocated version mib free kib cached at iteration 19 executing a second time gives a oom error immediately after the first iteration which means that the memory consumed by scoped variables in x is still occupied which is a little weird python oom cuda out of memory tried to allocate mib gpu 1 gib total capacity gib already allocated mib free kib cached at iteration 0 calling gc collect now sometimes leads to freeing and sometimes it doesn t
steps to reproduce the behavior 1 running the example code below import torch from collections import ordereddict model callbacks torch nn moduledict ordereddict lin a torch nn linear 20 5 lin b torch nn linear 20 10 another callbacks nn moduledict another callbacks update model callbacks at the last line a value error will raise traceback most recent call last file input line 1 in module file home user anaconda3 envs py37 th120 lib python version site packages modules container py line 331 in update 2 is required valueerror moduledict update sequence element 0 has length 5 2 is required
steps to reproduce the behavior import torch torch get num threads 1 torch torch set num threads 4 get num threads 1 import mkl mkl get max threads 4 intel mkl allows 4 but cannot make go multithreaded environment variables are set as export mkl num 4 export omp
steps to reproduce the behavior 1 compile version or later on os x with gpu and maga support 1 launch python import torch python version anaconda inc default jul 30 2019 13 42 17 gcc version compatible clang version tags release 401 final on darwin type help copyright credits or license for more information import torch traceback most recent call last file stdin line 1 in module file volumes home500 anaconda envs pytorch lib python site packages torch init py line 81 in module from torch c import importerror dlopen volumes home500 anaconda envs pytorch lib python site packages c cpython 36m darwin so 9 library not loaded rpath libmagma so referenced from volumes home500 anaconda envs pytorch lib site packages lib libtorch dylib reason image not found
the 7 steps are described as comments python 1 make a base tensor and save the data address base torch cuda floattensor 10 10 data ptr base data ptr 2 make a view tensor with storage offset 0 view base 5 3 compute something on the view tensor in a custom stream stream torch cuda stream with torch cuda stream torch cuda sleep 4 record the on view tensor record 5 delete relevant tensors del current synchronize 6 make a new when computations in are not finished yet try realloc floattensor 10 10 7 storage may be reallocated to new assert try realloc data ptr ptr it fails
i ve done my tests with titan xp 12gb of vram cuda version driver version version steps to reproduce the behavior python n 102 don t fail for n 102 x torch randn n 1 to cuda 0 x requires grad true dist torch cdist x x p 2 dist sum backward raises runtimeerror traceback most recent call last ipython input 20 in module 1 dist sum backward home douillard local lib python version site packages torch tensor py in backward self gradient retain graph create graph 116 products defaults to false 117 118 torch autograd backward self gradient retain graph create graph 119 120 def register hook self hook home douillard local lib python site packages autograd init py in tensors grad tensors retain create grad variables 91 variable execution engine run 92 tensors grad tensors retain create 93 allow unreachable true allow unreachable flag 94 95 runtimeerror cuda error invalid configuration argument
steps to reproduce the behavior 1 build pytorch with use nccl enabled 2 execute the following commands in python on a multi gpu machine import torch import os os environ nccl debug info os environ nccl debug subsys coll a torch tensor 10 cuda 0 b torch zeros 10 cuda 1 torch cuda nccl broadcast a b 0
run the following code snippet import torch import torch nn as nn torch backends cudnn benchmark true device torch device cuda 0 net nn conv2d in channels 128 out channels 512 kernel size 5 dilation 1 padding 2 to device x randn 1 128 135 135 device x net x produces error runtimeerror cudnn error cudnn status internal error
steps to reproduce the behavior 1 compile pytorch on 32 bit raspbian buster needs ldflags latomic 1 trace a function e g def mul2 x return x 2 torch jit trace mul2 torch randn 5 gives runtimeerror traceback most recent call last ipython input 8 in module 1 torch jit trace mul2 torch randn 5 usr local lib python version dist packages jit init py in trace func example inputs optimize check check inputs check tolerance force outplace module class compilation unit 866 traced c create function from name func example inputs 867 var lookup fn 868 force outplace 869 870 check the against new traces created from user specified inputs runtimeerror output of traced region did not have observable data dependence with this probably indicates your program cannot be understood by the tracer
const int thread cnt 10 torch jit script module load torch nogradguard no guard torch jit script module module torch jit load xxx jit module to kcpu eval return tensoroptions options tensoroptions dtype kfloat32 requires grad false device kcpu void working thread void param init num threads script script param nogradguard no guard while 1 tensor x randn 1 10 options tensor y forward x totensor return 0 void main load load muti threading pthread t thread handle thread cnt for int idx 0 idx cnt idx pthread create handle idx 0 working finished for int 0 cnt pthread join handle
run the following snippet python import torch a torch zeros 10000 10000 probability of drawing 1 is 0 print torch bernoulli a 1 sum it yields a value between 3 11 which is the number of 1 drawn on 100 million drawings
steps to reproduce the behavior 1 run python reproduction script py 1 check that memory is allocated on the second gpu screenshot 1 1 uncomment the fourth line import torch utils tensorboard run python reproduction script py again check that memory is allocated on the first gpu screenshot 2 below is reproduction script py code python import os import torch import torch utils tensorboard os environ cuda visible devices device torch cuda current device gpu tensor ones 200 200 200 device device input enter anything to terminate script
import torch this works fine a torch zeros 1 device cuda a true torch ones 1 this works fine a torch zeros 1 device cuda a true ones 1 device cuda this crashes zeros true ones device cuda this works fine zeros 0 ones
steps to reproduce the behavior build from source with build test off for example this script url l56
steps to reproduce the behavior 1 git clone etc 2 scripts build android sh from here it should already be clear that aten functions h does not exist but is required to actually get an error 3 try and build app in androidstudio with torch script h and relevant libraries linked
1 enable cudnn logging with export cudnn loginfo dbg 1 export cudnn logdest dbg tmp cudnn log 1 define and call a custom function that call f conv transpose2d 1 check the logs they are empty example import torch from torch nn import functional as f from torch autograd import function class functionconvtranspose2d function staticmethod def forward ctx input weight bias none stride padding 0 dilation groups return f conv transpose2d input weight bias stride padding dilation groups x torch rand 8 32 32 cuda requires grad weight rand 8 8 8 cuda requires grad bias rand cuda requires grad functionconvtranspose2d apply x weight bias 2
use scatter add along with a dynamic tensor input python cond input x 0 idx torch nonzero cond view 1 idx is dynamic shape w torch scatter add w 0 idx input x idx w input x x torch where cond zero 0
steps to reproduce the behavior i have a model where i manipulate some data and place it in a packedsequence here is the snippet i use it for t word attention self word attention packed sentences data packed words per sentence data t word attention self dropout t word attention input packed sentences packedsequence data t batch sizes packed sentences batch sizes sorted indices sentences sorted indices unsorted indices unsorted indices out self sentence rnn input it works great during training and inference however when i try to export the model to onnx get the following error onnx export failed cannot export individual pack padded sequence or pad sequence these operations must occur in pairs
steps to reproduce the behavior 1 load model c ttorch nogradguard no grad guard tif iscuda t tmodule torch jit load model path torch kcuda t telse t tmodule torch jit load model path t 2 forward c tif iscuda toutput module forward tensor image to torch kcuda telse toutput module forward tensor image 3 treat output c else if output istuple tcout output istuple tauto ouputtuple output totuple tcout tuple size ouputtuple use count ttorch tensor out tensor ouputtuple elements 0 totensor ttorch out tensor1 ouputtuple elements 1 totensor tcout out out sizes 1 288 384 2 576 768 tcout tensor1 tensor1 sizes tensor1 1 32 288 384 ttorch score tif iscuda new cpu to kcpu detach tscore new squeeze 0 288 384 2 telse tscore squeeze 0 288 384 2
python import numpy as np import torch import sys import torch multiprocessing as mp if name main print python version sys version python version print torch version torch image queue mp queue 50
steps to reproduce the behavior 1 import torch then other library segfault 2 import other library then torch free invalid pointer
steps to reproduce the behavior torch tensor mattotensor const cv mat image auto chans image channels bool isbyte image type 0xf 2 std vector int64 t dims image rows cols chans torch tensor tensorimage torch from blob data dims isbyte torch kbyte kfloat if isbyte tensorimage tensorimage to kfloat freezes here and never returns tensorimage sub tensor version f version f version f if i comment above it then freezes here instead return only happens the second time i do this in my application the looks valid and is size 1024 819 3
1 go to the exemple url 2 click on a calendar date and look at the two label under
steps to reproduce the behavior 1 run quasar dev m capacitor t android on windows with android studio installed in default path 2 see error
steps to reproduce the behavior 1 open dialog in fiddle and try to use qcolor 2 it closes on drag
steps to reproduce the behavior 1 go to the codepen url 2 if the image has a height of 0px rerender the display section by removing a character from html code then replace it this should make qimg have a height 0px 3 otherwise refresh page 4 once qimg is rendering if you open codepen a second time in another tab it will render immidiately
steps to reproduce the behavior 1 click on click causing error 2 see alert indicating an error was thrown 3 click on click with no error 4 see notification saying the hidden button was programmatically clicked
steps to reproduce the behavior 1 enter a value into the name field 2 wait for it to auto submit 3 notice age field failed validation but submit notification was still shown indicating that the form was submitted
steps to reproduce the behavior 1 go to url 2 click on the select it s the only element in view 3 try click one then option two 4 repeat this ten times and note that sometimes you have to click the option twice before it will take
1 use platform from quasar 2 use platform is 3 platform is mac is true 4 platform is desktop true
steps to reproduce the behavior 1 copy the sample text 2 click on
steps to reproduce the behavior 1 go to url examples url examples 2 choose an editor on the examples site 3 click on italic 4 click on bold 5 click on empty space in toolbar 6 click underlined 7 see the error all previous selected items will deselected
steps to reproduce the behavior 1 go to
look at dom structure and you ll see no role applied to the tab container
create a blank html document with script tags that include the following react development js react dom development js both v version and reactdnd js reactdndhtml5backend js both v version from the dist umd folders of the react dnd and react dnd html5 backend node modules folders
direct dopping works url iframe dropping doesn t work url steps to reproduce the behavior 1 go to the links 2 try dropping items over the drop zone
live reproduction url steps to reproduce the behavior 1 open a text editor and type some text 2 select the text and try to drag it on any of the inputs 3 none of the inputs allow you to drop text notok2 url
just render some listitem s i get the error when rendering multiple basic listitem title test
listitem title quantity rightsubtitle l quantity
my method searchforterm term searchforterm term let url this state feedurl term this setstate query term this setstate isrefreshing true console warn fetch url then response response json then newsitems this setstate loading false data newsitems loaded true isrefreshing false isanimating false catch error console error error the api url the toolbar see up
i have no way to reproduce this not sure how to see what s happening in production
import as react from react import view from react native import input from react native elements export default class app extends component render return view style margintop 100 input placeholder username view 1 start app with expo 2 enable debugging and toggle inspector 3 open developer tools 4 click hover on input and his child rctview 5 app crash
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior
yarn add react native elements or with npm npm i react native elements save class component extend react component render return socialicon title sign in with facebook button type facebook
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior steps on ios android 1 write text that is longer than the searchbar s width 2 take marker to beginning of text 3 insert new letter
steps 1 use image component from react native elements 2 add a placeholdercontent 3 run on android device 4 image will render with placeholdercontent always
url js import interval concat merge from rxjs import take share filter map finalize from rxjs operators const source interval 100 pipe take 10 const actual const secondsource concat source pipe filter x x 2 0 map x x 1 share source pipe filter 2 1 share pipe map actual push share const finalsource concat secondsource filter 2 0 map 2 secondsource 1 finalsource subscribe console log actual expected ends last with 0 4 6 8 1 3 5 7 9 0 4 6 8 3 5 7 should be 4 6 8 3 5 7 9
repl or repo link url
js import as rx from rxjs import as op from rxjs operators const stoper rx fromevent document click pipe op tap m console log stoper on message e console log stoper on error console log stoper on complete op finalize console log finalize pipe op take 1 subscribe next m next complete complete this will trigger the following lines on the message next complete finalize
no reproduction need to debug stack trace js this updatesubject pipe throttle interval 5000 leading true trailing true subscribe this doaction
this is an example in angular using filter as a typeguard for the router events repl or repo link can t do stackblitz as doesn t compile in strict mode here is one anyway but it works url not strict mode ts constructor router router router events property events observable event pipe filter navigationend event event instanceof navigationend subscribe event fails in strict mode with argument of type monotypeoperatorfunction navigationend is not assignable to parameter of type operatorfunction navigationend types of parameters source and source are incompatible type observable is not assignable to type observable not assignable to property urlafterredirects missing in routerevent but required ts 2345
execute the following test typescript js it does not call finalize in correct order of pipe finalize console info finalize 1 finalize console info 2 pipe console info 3 console info 4 subscribe onnext onerror oncomplete this is the output onnext oncomplete 4 3 2 1
ts it test should fail but actually passes const testscheduler new testscheduler testscheduler run expectobservable cold const obs cold a b a x b y expectobservable obs tobe
typescript const letters of a b 13 d const uppercase letters pipe map x x touppercase const materialized uppercase pipe catcherror error caught caught materialize materialized subscribe x console log x logs indefinitely url i added a take 100 to avoid the browse to freeze
repl or repo link you can use url to create one to attach here js const createprocessstream list return from list pipe concatmap getsomevalue buffertime duration seconds 5 null chunk size concatmap save from getevents pipe concatmap createprocessstream concatmap nextblockrange errorhandler
repl or repo link url js import observable from rxjs import rxjs add observable of import rxjs add operator switchmap console log switchmap observable of switchmap output switchmap e of is not a function
repl or repo link url note that with the mixed case stackblitz will complain but putting the same in my local vs code instance will build without error and show that unexpected bundling import of from rxjs versus import of from rxjs
repl or repo link stackblitz url ts import of subject throwerror from rxjs import map mapto catcherror toarray flatmap from rxjs operators const evt new subject void const obs evt pipe map throw new error catcherror of resume toarray topromise then data the error has been catched so the data should be resume resume but actual it is resume console log data evt next evt next complete
described above
url js import of from timer concat from rxjs import map windowcount mergemap concatmap tap delay from rxjs operators const source from 1 2 3 4 5 6 7 8 9 10 pipe o concat o timer 7000 uncomment to see another window start in 7 sec tap v console log source v null console log source complete windowcount 3 map win i console log opened window i return win pipe tap v console log in window i v null closed window i concatmap closes 1 2 immediately but mergemap behaves as expected concatmap w w pipe mergemap of pipe delay 1000 without delay works as expected tap null complete source subscribe x x this produces js opened 0 1 in 0 1 2 in 0 2 3 0 3 closed opened 4 5 6 opened 7 8 9 10 complete complete closed closed
url js let rx window rx window rxjs let forkjoin subject merge of rx let ajax rx ajax let map finalize tap takelast scan operators console clear const m ajax url incorrect const m ajax url correct m subscribe console warn
poc code provided below var1 test var2 test2 var1 var2 var1 filename txt echo var1
i will use the package colortest as an example 1 install the package sudo apt install colortest 2 type colorte and hit tab it should show colortest 16 colortest 256 etc but it doesn t show nothing 3 close the terminal and open an new one and repeat step 2 now it will work 4 remove the package sudo apt purge 5 repeat step 2 it will autocomplete command even with package removed 6 repeat step 3 now won t autocomplete removed
1 as an administrator go to admin accounts 2 under registration set custom fields to json t test t t type text t defaultvalue required true public true i ve only found out about the public field here url 3 goto account profile and set your test field to some value 4 make an authenticated api request to api v1 users list note how customfields test is included in the returned data 5 log out and back in again as a non admin user 6 make an authenticated api request api v1 users list note how customfields test is not included breaking everything that depends on custom fields
1 start otr with a user 2 if on same instance user gets prompt 3 if on separate instance user doesn t get any prompts
1 receive an e mail i e about new message 2 username login show instead name in sender
1 go to administration console 1 click custom emoj 1 add at least 51 emoji ideally with names over the spectrum of the alphabet 1 reload the page you should not see all emoji if you search for an emoji towards the end of alphabetically sorted list you added it will not appear
1 go to administration 2 click on rooms 3 check the direct messages filter
1 enable snippeting feature 2 try to snippet a message
1 create an encrypted channel with only yourself as the user 2 send message via app that supports e2e result encrypted message 3 login via android app which seemingly doesn t support e2e send message in channel message is sent unencrypted and can be seen on the thick client
1 go to your website with the livechat widget 2 start the livechat 3 try and open the livechat on your android device
1 go to administration 2 click marketplace 3 attempt to install any app with or without payment info
open room with attached pdfs in macos app and firefox browser
1 login rocket chat using admin account 2 go to ldap settings 3 scroll down to user search 4 in filter tried all above given filters scope sub search field samaccountname
1 set an endpoint in admin account iframe api url 2 open rocket chat in browser 3 logout the currently logged in user and refresh the page right away
configure oauth we are using the following settings to do oauth with o365 url url token path oauth2 token token sent via payload identity token sent via header identity path openid userinfo authorize path oauth2 authorize scope openid param name for access access id redacted secret redacted log in on android with an oauth account have another user attempt to dm this user and wait an appropriate amount of time to be alerted on your phone it won t happen also try to have the user sent a test alert through administrator push they will get an error about a missing
1 log in as admin user 2 make a room read only 3 enable allow reacting 4 log in as normal user 5 navigate to read only room 6 attempt to react to a message
1 open any chat 2 type paste an url that include an existing smiley like linkedin one url with the lithuania flag smiley 3 look at the result post
1 send emails via mailer option 2 go to unsubscribe link from recieved mail 3 on unsubscribe page text is invisible and visible after mark it
1 give permission edit room retention policy to role owner 2 login as normal user and enable automatically prune old message 3 switch to override global is greyed out
1 create a new discussion 2 open newly generated discussion 3 open room information flexbar 4 click edit
1 position your mouse cursor just above the message box 2 type and optionally some search chars 3 the autocomplete pops up in the same region as the mouse cursor
i was testing the office hours in livechat for someone in support and noticed if i changed the setting say from 9 10 saved and then back again to 9 quickly i got a oo many requests error on screen i checked the logs and saw this 4 times in the logs allowed false timetoreset 7636 numinvocationsleft 0 userid hyhbjxwqmsrmu2szg clientaddress version type method name livechat saveofficehours connectionid spb5g5pqre4dcpkwa broadcastauth false two issues here why is it rate limiting localhost version why can we whitelist an ip
1 create a custom status yellow description out for lunch 2 switch your status to out for lunch 3 switch your status back to online
1 logout close client close webpage 2 start client open webpage 3 enter server url try to login provide user credential
1 configure oauth via keycloak 2 use the oauth login button 3 desktop client windows houston we have a problem browser sometimes it works but sometimes it will give you a white page with the error an error has occured invalid code please sign in again via the application click here to return to the application new error page login completed click here to close this window doesn t work android ios similar white error page 4 hit reload and login again in most cases it only takes a second attempt on mobile devices reload fails you have to use x button get back login page on browser reload main without keycloak auth paths
1 go to administration permissions 2 scroll down to id delete d 3 assign id delete d to user
1 implement rocket chat via iframe html iframe src url id rocketchat iframe 2 open the page in your browser 3 open your console and try to run the login command js document getelementbyid rocketchat contentwindow postmessage externalcommand login with token token my token from rocket chat api 4 log into rocket chat 5 open your console and try to run another command js document getelementbyid rocketchat contentwindow postmessage externalcommand go path channel general also tried direct username
1 create a new discussion 2 go to the administration ui rooms
1 go to a channel 2 click the members list button note should really be member list list already implies plurality 3 click the invite users button 4 attempt to search for a user by name e g jim smith space is not allowed must search by username
1 update to latest develop docker 2 select a user dm conversation 3 select notification preferences from the room s menu 4 choose a different sound and save 5 try to get messages from contact 6 no sound will play
1 wget this file file omitted 2 rename it to something svg 3 upload it to rocketchat
1 remove permissions these permissions from role user view outside room view c room create c create p 2 create users a1 and a2 and put them into private group a general 3 create users b1 and b2 and put them into new private group b general 4 login with user a1 5 start a discussion in group a general 6 start typing to invite users
1 use ubuntu version lts xenial kernel version 154 generic machine cpu platform x86 64 x86 64 x86 64 xfce version python version libgtk 3 0 1ubuntu libwebkitgtk 0 0ubuntu 1 make a simple python app that renders a webkit frame holding url or use my example script url see readme for how to install 1 try to chat with people 1 in my case it looks like this screenshot url
1 set sorting to group by type 2 configure primary light to something other than the default i chose color black
1 log into web client of rocketchat with a chrome device 2 get someone to send you a message to trigger desktop notification 3 wait out the window freeze until this tab has crashed popup appears
1 go to channel first 2 record a new video message 3 cancel out the video message popup 4 switch active channel to channel second 5 record a new video message and upload it
1 activate auto translate feature message auto translate 2 create a channel and add two users as members of the channel 3 activate auto translation in the channel for each user to individual language 4 post a message and on the translated user channel click on the view original action from context menu
1 create a custom emoji with the same name or alias as a default emoji eg smile 2 use the custom emoji in a channel it will show the default emoji instead of the custom one as it did in past
1 write and send a message with formatting for example bold text 2 select the message text with the mouse and copy it to the clipboard 3 paste as a new message
in a channel with more than a couple hundred users go to the member list view all if necessary and filter a user that hasn t been initially loaded in the member list typically started with later alphanumeric characters they won t show up
upload file to rocket chat
1 go to login screen 2 click forgot your password 3 attempt to create a password not compliant with defined policy
1 install rocket chat in sub directory 2 access chat on two domains that are used as an alias of one install 3 attempt to upload file and it gets stuck on 0
1 install rocket chat experimental on android 2 copy some text 3 long press on the server url username or password input boxes 4 notice that no paste option pops up
1 create discusion go inside 2 click on info and edit setttings protected with pw 3 members of channel where id discussion can access it without pw
1 disable threads going into administration threads enable and setting it to false 2 open a room
1 go to directory globe icon in top left 2 type something to search for in channels
1 create 2 public channels type channel state active read only false default true 2 allow guest login 3 reach rocket chat 4 first channel in the list cant be read 3 dots always
1 a new user click oauth2 login button
1 send the message japanese for one two three in a channel 2 do a message search for in that channel
1 drag a file over a valid drop zone don t drop it 2 drag the same file to another application window doesn t matter what the application is 3 the overlay gets stuck until refresh
1 go to admin accounts custom fields to show in user info 2 enter field as telephonenumber telephonenumber sitelocation sitelocation telephonenumber and sitelocation are valid attributes in our active directory 3 go to admin ldap sync import enter in the user data field map to include telephonenumber and sitelocation cn name mail email customfields 4 not sure if it is required since registration is disabled on our rocketchat instance but created the custom fields entries under admin accounts registration type text required true minlength 4 maxlength 12 type text required true minlength 4 maxlength 10
1 send a message 2 click up arrow to edit previous message 3 send message and then get a reply 4 hit up arrow can t edit any previous message 5 to edit you have to click the individual edit button by your
1 start a chat direct or group 2 click the hamburger menu and click video chat click yes to the pop up 3 jitsi will successfully launch 4 the link click to join is instantly broken and reports the call has ended
1 send a file path wie in its url not in the filename e g the example above 2 see wrong urls
1 upload more than 50 emoji we have about 116 uploaded 2 go to the custom emoji pane in admin settings 3 try searching for emoji that are past the 50 limit
1 create custom application 2 add custom slash command for created application with permission property 3 disable mentioned permission for client 4 use created command by client without mentioned permission
1 admin configuration 2 roles 3 edit admin role 4 search for a user 5 click add
1 deploy the app on rocket chat using rc apps deploy on the terminal 2 try to register anything in extendconfiguration or in initialize
1 user receives a new discussion message 2 my realtime api get subscriptions catch unread changed by subscription events 3 result attribute name has got alphanumerical value of discussion and not effective name that is in fname attribute
1 deactivate threads 2 go to chat window enter a channel 3 thread icon is show beside room info icon
1 go to our open instance url 2 join support room 3 search for from frdmn 4 notice how it stops after showing messages from 20th february 2019
1 open thread 2 hover over icons above thread
1 scale to 2 dynos
1 logout from rocket chat 2 check that session still exists is userssessions collection 3 refresh browser 4 session disappear from userssessions
1 go to directory page as a logged out user 2 click on any channel 3 a blank white screen appears without any messages or option to login
1 reply to a message 2 see that the original message shows up below the reply
1 disable discussions in admin panel 2 check more menu in any channel
1 open starred messages 2 click the action button on any of the messages 3 no jump to message option
1 enter something in the search and make sure thread replies show up as results 2 empty thread replies appear
1 write a very long message in the composer 2 try to scroll up to change something in the message
1 open the left thread view by clicking on an thread reply in a channel or group 2 write a message with the thread composer 3 edit the message in the thread view 4 notice how main composer is used to actually edit message instead of view one
1 page login of rocketchat 2 connect with userldap for the firstime 3 wait
1 go to any channel
1 setup saml using rocketchat version 2 login 3 logout 4 update to version 5 login
1 configure a custom field in account settings 2 configure ldap auth with mapping to custom field 3 try to log on with ldap account
1 disable discussions in admin panel
1 deactivate delete user in crowd resp remove user from group with access to the used crowd application 2 start crowd sync
1 type me uses emoji d
i have only been able to reproduce this by changing the local time of my client machine to 7 days in the future
1 start a thread 2 start typing in the thread
1 open a chat window and paste the following url url
1 set always open in new window in jitsi configuration true 2 start join conference via windows desktop app 3 new window do not appear
end a message while offline and receive an e mail
1 login with ldap user a1234bcd 2 click on profile 3 username shows as a 1234 bcd
1 go to a live chat room with someone as agent 2 click on the visitor s name 3 visitor info is empty you can show it up by the top bar info icon though
1 start a thread 2 have a bunch of people reply to it 3 click on the last reply in a channel
try to send this to someone enclosed with triple backticks a b c it will display as a b c
1 activate and desactivate webrtc not sure but i could notice a change when doing that and instead of the edit button i had block user button
1 turn on server
1 suspend online user
1 edit localstorage s entry emoji recent to include an unlisted emoji name 2 open a run with an enabled message box containing the emoji picker
1 open edge browser 2 login to rocket chat 3 watch as no message typing notifications etc are not received
1 go to any old message in channel 2 react on it
1 go to the big channel where you know that there more then 100 users online 2 notice the counters values 3 click show more button and notice the counters values again
1 go to big channel and open members list 2 load a lot of users 1 or more click to show more button and notice some user name 3 close the member list 4 open the member list again 5 type the noticed user name in search field
1 go to big channel 2 open users list
1 reply in thread to an existing post 2 paste a screenshot as the first reply in a new thread 3 watch as a new post reply is created in the main channel
1 go to directory 2 resize window until they re cut
1 go to url 2 click on three dots on the right side of any message 3 click report see the text inside popup message
add any of the newest selenium dependencies to a lambda project and build into a shade jar click test i used an empty test so and upload the jar to aws to see a cannot unzip error from aws image url
just for example from stackoverflow url div class activity container div
1 locate an element on a page that is outside of the viewport 2 check displayed property
detailed steps to reproduce the behavior request the css color value of an element containing an hexadecimal color
detailed steps to reproduce the behavior
1 start up iedriverserver exe 2 start up a session by sending post request 3 send an execute sync post request 4 observe that the iedriverserver exe crash
java11 project with maven dependency groupid org seleniumhq selenium groupid artifactid selenium java artifactid version version alpha 3 version dependency module info java requires org seleniumhq selenium api requires org seleniumhq selenium chrome driver when running to following code webdriver driver new chromedriver starting chromedriver version refs branch heads 3865 442 on port 44634 only local connections are allowed please protect ports used by chromedriver and related test frameworks to prevent access by malicious code then a exception since the service cannot start
detailed steps to reproduce the behavior
try uploading file to a file feild in the below specified environment
detailed steps to reproduce the behavior 1 use any selenium test that involves clicking an element button etc that is sufficiently narrow 2 run on apple mac safari v version selenium standalone server jar v version or v version alpha 2 3 clicking will visibly occur below the element all clicking seems to be off expected location by a constant offset
jq args positional args test foo sequence json jq unknown option foo use jq help for help with command line options or see the jq manpage or online docs at url
bash date d 2019 10 04t10 37 14z u s jq version nr 2019 10 04t10 37 14z fromdateiso8601 jq version nr 2019 10 04t10 37 14z fromdateiso8601
bash echo jq k produces a long message and file jq exe stackdump excpect message expecting an object encountered a list with filter k echo id 1 jq id produces a long message and file jq exe stackdump expect message expecting an object encountered a string with filter id
javascript version button stories js import button from example components import react from react export default title buttons button component button export const basic export const withicon icon placeholder
steps to reproduce the behavior 1 clone repo 2 type yarn
steps to reproduce the behavior 1 regular webpack config module exports env use env variable here which was passed in to webpack as env variable somevalue 2 storybook webpack config although allows to return a function but that function gets called with the baseconfig as the first argument
steps to reproduce the behavior 1 create a csf story and a storyof story name the csf with a letter that starts earlier in the alphabet than the storyof story 1 note that csf is displayed last
steps to reproduce the behavior 1 follow the steps in writing addons url a more complex addon up to and including using the complex addon 2 run yarn add storybook api d 3 add the line import useaddonstate from storybook api to index js file of custom addon 4 add line const state setstate useaddonstate my addon test string into wrapper function 5 run storybook inside story area there should be error cannot read property getaddonstate of undefined
use the following in a stories js file javascript import boxreadme from box mdx const stories storiesof atoms box module stories addparameters docs page boxreadme and then put this in the mdx file javascript preview box label montezuma the cat description montezuma is honestly the best cat i ve ever seen preview you ll get no code available
steps to reproduce the behavior 1 create a mdx file 2 paste code from code snippet 3 no classes are applied to the dom elements
steps to reproduce the behavior 1 in your component file add import jsx from emotion core and use it 2 add comment in your file so it will be shown as description in the docspage
steps to reproduce the behavior npx react native init myapp cd myapp npx p storybook cli sb init detecting project type do you want to install dependencies necessary to run storybook server you can manually do it later by install storybook react native server yes yarn storybook
steps to reproduce the behavior here is the link to my repo that has the issue url 1 build the ui package 2 npm link it to a cra app typescript storybook 3 from cra app run storybook
steps to reproduce the behavior 1 clone url 2 yarn install 3 yarn start storybook 4 see an error 5 remove empty row in template url 6 no error 7 add at empty row 8 no error
steps to reproduce the behavior 1 have a long page with multiple stories 2 switch to the docs tabs 3 click on multiple links in the stories nav menu 4 see error
steps to reproduce the behavior 1 run storybook yarn storybook 2 check each story
steps to reproduce the behavior 1 turn on storybook server with react native 2 trigger action addon
1 fork url 2 run yarn install yarn storybook
create a component like this js export default class test extends react component static proptypes
steps to reproduce the behavior 1 clone the following repository url 2 checkout the following branch vinay storybook props issue 3 install the dependencies 4 start storybook 5 click on button and then navigate to docs 6 here in props table we expect to see other information too like prop type and description but nothing is seen image url
here s a new story in a cra kitchen sink fork url that demonstrates the issue
steps to reproduce the behavior 1 git clone git github com lindesvard storybook 5 react native git 2 yarn 3 yarn storybook or yarn storybook debug webpack
steps to reproduce the behavior 1 launch storybook 2 no addons panel is visible on the side or bottom
this is specified in url
steps to reproduce the behavior 1 clone repo url 2 npm run storybook 3 go to as dynamic variables 4 change knobs
steps to reproduce the behavior 1 click on docs tab for a component story 2 see error
see code snippet
steps to reproduce the behavior 1 create a fresh react native project 2 setup storybook as reference here url npx p storybook cli sb init type react native no server 3 add the code snippet reference below and you l see initially you can call tostring on promise prototype finally but after importing storybook you have to use require in this instance not import so the ordering works for the test to see that finally starts off being an actual function it no undefined example repo here url
steps to reproduce the behavior ready repro 1 clone the repro git clone git github com sharikovvladislav angular ivy storybook repro git or use https link url 2 go to the created directory cd angular ivy storybook repro 3 install the dependencies yarn 4 start storybook yarn run storybook 5 open browser console steps to reproduce on clear example preconditions stable angular cli is installed version at moment npm i g angular globally and you have also installed npm i g cli 1 execute ng new your name defaults enable ivy or without defaults just put default values when ng will ask you to interact 2 execute cd your name command 3 execute sb init 4 execute node modules bin ivy ngcc command this is required by get working and probably this step can produce problem 5 go src stories 1 button stories ts and put following code import storiesof from import appcomponent from app app component storiesof app component module add component with separate template component appcomponent props 6 run npm run task yarn run or npm 7 open browser console
steps to reproduce the behavior 1 have a storybook command in your package json like build target mycustomtargetname start storybook p 6006 2 run npm run storybook 3 the config in the file env mycustomtargetname has not been loaded
steps to reproduce the behavior 1 go to story that throws an error containing example text or create such story 2 see error example string is missing but it s present as html element in the dom
here is a very simple repo where you can reproduce it url the strong text in dumbcomponent is reseted this is what i want but the strong text in the description of the component is also reseted and i don t want to loose all docspage formatting
in my config file javascript import withinfo from storybook addon info adddecorator withinfo inline true header false style header h1 fontsize 25px h2 fontsize 20px h3 fontsize 18px i m setting the overrules as per this documentation url it clearly says overrides styles of addon the object should follow this shape which is what i did after restarting storybook the markdown styles are still the same i e too huge and not in line with other headers like story source i can prove that decorator works by setting header to true and seeing header appear after a restart so that tells me all scaffolding works and is not relevant to post here
json package json name learnstorybook design system version version private true dependencies polished version prop types version react react dom react scripts styled components scripts start react scripts start build scripts build test test eject eject storybook start storybook p 9009 s public build storybook build storybook s public eslintconfig extends app browserslist production not dead not op mini all development last 1 chrome last 1 firefox last 1 safari devdependencies addon a11y addon actions addon docs addon knobs links storysource addons prettier chromatic js webpack config js module exports config tconfig module rules unshift t ttest stories jsx t tloaders require resolve storysource loader t tenforce pre t treturn config js addons js import actions register import links register import storysource register import knobs register a11y config from configure adddecorator from witha11y from a11y globalstyle from src shared global chromatic adddecorator witha11y adddecorator story globalstyle story automatically all files ending in stories configure require context src true stories module
steps to reproduce the behavior 1 add select knob of numbers to story 2 go to story 3 click copy button to copy url for all knobs 4 paste in new window 5 notice the resolved value of the select is a
use reproduction repository repository url run and check examples
please follow the manual setup to create a new project
steps to reproduce the behavior 1 run npx p storybook cli next sb migrate storiesof to csf glob
steps to reproduce the behavior 1 set up my minimal stories git clone url cd storybook react ts knobs yarn install yarn view 2 click a button knob see increment decrement by 1 3 keeping storybook running change a source file see it hot reload 2 click a button knob see increment decrement by 2 2 repeat for more extra callbacks added with each hot reload
steps to reproduce the behavior 1 customize materialui button component using makestyles 2 host the app using storybook 3 you will find that your styles are ignored by the browser
clone this repo and follow readme url
steps to reproduce the behavior 1 repro is here at url 2 load storybook 3 go to the icon cheatsheet story 4 notice that it scrolls to the bottom
steps to reproduce the behavior 1 create a component based on styledcomponent 2 launch storybook
steps to reproduce the behavior 1 run storybook locally 2 follow an example like that one url 1 via imports 3 inspect the request currently it shows 304 not modified for assets
steps to reproduce the behavior 1 create boilerplate yarn create nuxt app project name 2 upgrade to nuxt version yarn add nuxt version 3 install storybook vue yarn add storybook vue version 4 install additional packages yarn add babel preset vue dev 6 create config file url step 3 create the config file 7 stories folder in project 8 add scripts storybook start storybook to package json 9 start nuxt in dev run dev 10 see error
steps to reproduce the behavior 1 create a story with an ugly comment on top 2 add the ugly comment to uglycommentsregex in the custom webpack config 3 launch storybook and go to the story addon panel 4 see gray highlight indicating selected story shifted down
using a project with storybook using storybook addon info start the project using yarn storybook navigate to the storybook served page in ie11 and see an error in the console
steps to reproduce the behavior 1 create a fresh react native app using npx react native init fooapp 2 install storybook for react native per the official documentation w the knobs and actions addons not sure if those are required to trigger the bug 3 launch storybook app 4 observe yellowbox errors and ui bug where addons panel renders on top of preview viewport
1 npx create strapi app my app 2 follow the steps and choose mongo as database 3 set your local db params and choose ssl true 4 it will fail and prompt params again 5 re enter the same settings but using ssl false instead 6 wait generation to finish 7 open config environments development database js you will notice that ssl is set to true
1 create an faq group with a string question and text answer create a content type course with faq as a field 2 in the content type creator add a course add question and answer 3 save the content type 4 see error
1 copy any image on you computer ctrl c 1 go to a markdown editor 2 paste the image ctrl v
1 create content type with some fields 2 create some content for that type 3 go to content type manager 4 change some fields name 5 go to that content type and you can see the we field with empty value 6 go to your database 7 check if the old field is there
1 create a contenttype category 2 create a contenttype recipe 3 add a string field and mark required true 4 add another field of type relation recipe has one category how to set required true
we don t know the exact reason and steps to reproduce this error i think this happens once in a while but can be very problematic to fix
1 set up a base strapi project 2 create a production and dev environment with settings in database json 3 set up postgres settings with connections default settings ssl false 4 run npm start 5 server will start normally 6 set env to production export node env production 7 run npm start
1 go to api documentation 2 select auth local register 3 click try it out 4 click execute
follow the aws deployment guide to step 6 and start pm2 with pm2 start ecosystem config js
1 upload image from mobile device or postman 2 go on user detail in admin panel 3 remove profile just uploaded 4 reload page 5 see old profile image is there
1 go to admin section 2 click on any link and open it in a new tab 3 automatically you redirect to login
1 query items with nested objects data that is returned from the service find function t id t name europa t type continent t description europa id children id name spanje description id parent type country blogdetails count 1 blogdetails count 0 data returned by graphql data destinations name europa blogdetails count 0 children name spanje blogdetails null
1 install local dependency npm install xxxxx strapi packages strapi plugin content manager 2 install all dependencies npm install 3 startup npm run develop 4 see error
1 send a query to a model with both a deep filter and a timestamp param like www example com events user office beijing createdat gt 2019 1024 2 result will be an empty array
this throws a compilation error but should output the item label input list list datalist id list each items as item option item label option each datalist this compiles but renders poorly input list datalist each items as item option value label option each datalist this renders correctly but you need to maintain some sort of label lookup if that s even possible input items as value
open repl url i created the simplest custom element that do console log of attribute prefix when connected but svelte can t create such attribute because there is a read only property prefix on htmlelement prototype actually svelte won t define any attribute if there is a property with the exact name instead it will try to assign the value directly to the property
first repl where you see the expected behavior url load the page hit the button see the error message second repl that shows how i actually want my code to be url load page hit button no error message type in input error message shows up
steps to reproduce the behavior 1 go to url 1 authorize via api key with some gibberish 1 close autorization window 1 open url in topbar of the same petstore browser window url this is just a minimal spec to reproduce this issue i created on gist url on the test spec open the authorization window again you will now see that you are still logged in with api key but for wrong api
try the below snippet on url yaml openapi version info title test version version paths survey surveyid get parameters name surveyid in path required true schema type integer responses 200 description successful operation survey post requestbody required true content application x www form urlencoded schema type object properties name type string fav number type integer required name responses 200 description survey created i took this example from the swagger documentation describing request body form data url
steps to reproduce the behavior 1 go to url 2 click on api bar 3 see ui jump to a new category
ust send request with matrix parameters
when runnig codes below it show errors steps per epoch np ceil image data samples image data batch size batch stats callback collectbatchstats history model fit generator image data epochs 2 steps per epoch steps per epoch callbacks batch stats callback
from tensorflow python framework ops import disable eager execution import numpy as np disable eager 1 resnet depth 96 if disable eager disable eager execution if true from tensorflow keras optimizers import from tensorflow keras layers import from tensorflow keras models def init game params board x board y 3 3 action size 10 depth dim 2 input boards input shape board x board y depth dim num chan 4 h conv1 activation relu batchnormalization axis 3 conv2d num chan 1 padding same use bias false input boards for i in range resnet depth h conv1 activation relu batchnormalization axis 3 conv2d num chan 1 padding same use bias false h conv1 hf flatten h conv1 s fc1 dropout version activation relu batchnormalization axis 1 dense 16 use bias false hf pi dense action size activation softmax name pi s fc1 model model inputs input boards outputs pi model compile loss categorical crossentropy optimizer adam version return model m init print inited m fit x np zeros 2 y np zeros 10
edit refer to latest gist below
will try to do this later
import tensorflow as tf import tensorflow contrib rnn as rnn import numpy as np npa np array 1 2 3 4 5 6 4 5 6 7 8 9 10 11 12 10 11 12 13 14 15 16 17 18 16 17 18 print npa shape x tf constant npa dtype tf float32 print x first cell cell encoder rnn conv2dlstmcell input shape x shape 1 x shape 2 3 output channels 4 kernel 3 3 name encoder initial1 cell encoder zero state batch size 0 dtype tf float32 x1 fs1 cell encoder call inputs state initial1 second decoder rnn conv2dlstmcell input 1 2 output channels 4 kernel name decoder initial2 decoder zero state batch size 0 dtype float32 x2 fs2 decoder call inputs state initial2 with session as sess sess run global variables initializer sess run x2 print minimal standalone code
python import tensorflow as tf from tensorflow python client import device lib def parse line line items tf string split line token ids tf string to number items values out type tf int32 return token ids def get gpu name devices device lib list local devices for device in devices if device type gpu return name def main data file data file txt with open data file w encoding utf 8 as f f write 0 1 2 3 4 5 6 7 8 dataset data textlinedataset file map parse line iter dataset make initializable iterator gpu get gpu name with features iter get next with session as session session run iter initializer tensorflow fails on this session run features tensorflow sometimes segfaults on this
provide a reproducible test case that is the bare minimum necessary to generate the problem python from tensorflow data import dataset
import tensorflow as tf from tensorflow import keras from tensorflow keras import layers from tensorflow keras metrics import metric numpy as np class custommetric metric def init self name score dtype tf float32 super custommetric self init name name self true positives self add weight true positives shape 10 initializer zeros dtype dtype def update state y true y pred sample weight none pass def result return 0 def get config returns the serializable config of the metric config base config super custommetric get return dict list base items list items reset states true positives assign np zeros num classes np float32 weights intermediate assign np zeros num classes float32 inputs keras input shape 784 name digits x layers dense 64 activation relu dense 1 inputs x layers dense 64 activation relu dense 2 x outputs layers 10 activation softmax predictions x model model inputs inputs outputs outputs 3 layer mlp model compile loss sparse categorical crossentropy optimizer tf optimizers adam lr 001 metrics custommetric model save save format tf new models load models load score
output names is not restored and outputs are given new auto generated names py import tensorflow as tf i tf keras layers input 1 x tf keras layers dense 1 name my output i m tf keras model i x m compile loss mse m save my saved model m2 keras models load model my saved model assert m2 output names 0 my output assertionerror fails to load when using dictionaries for losses py import tensorflow as i layers input 1 x layers dense 1 name m x compile loss mse assert names 0 save saved m2 models load saved valueerror unknown entries in loss dictionary only expected following keys
import tensorflow datasets as tfds import tensorflow as tf import datetime import os tf config threading set inter op parallelism threads 1 datasets info tfds load name mnist with info true as supervised true shuffle files false mnist train mnist test datasets train datasets test strategy tf distribute onedevicestrategy cpu 0 num train examples info splits train num examples batch size per replica 64 batch size batch size per replica strategy num replicas in sync def scale image label image tf cast image float32 image 255 return label dataset mnist map scale cache shuffle num examples batch size eval dataset test map scale log dir tmp logs fit datetime datetime now strftime y m d h m s with strategy scope model keras sequential keras layers conv2d 32 3 activation relu input shape 28 28 1 keras layers maxpooling2d keras layers flatten layers dense 64 activation relu dense 10 activation softmax model compile loss sparse categorical crossentropy optimizer optimizers adam metrics accuracy callbacks callbacks tensorboard log dir log dir histogram freq 0 profile 1 model fit dataset epochs 3 steps per epoch 20 callbacks callbacks
provide a reproducible test case that is the bare minimum necessary to generate the problem python my text b ren with open tmp ex1 w as f f write my text will read the whole string correctly with open tmp ex1 r as f print f read this will print 2 chars ba with open tmp ex1 r as print read 2 this will print 3 chars bar with open tmp ex1 r as read 3 this will the whole thing tf io gfile gfile r this crash tf io gfile gfile 2
the keras to tensorflow py file is from here url the vgg blstm ctc py file is from here url the input model is from here url has changed the keras to tensorflow py file like this def load model input model path input json path none input yaml path none if not path model exists raise filenotfounderror file does not exist format try keras models load vgg blstm ctc is training false img size 256 32 num classes 11 max label length 26 return except filenotfounderror as err logging error mode s does not exist flags raise err
provide a reproducible test case that is the bare minimum necessary to generate the problem method 1 plain python tf version import tensorflow as tf version version tf broadcast weights throws
import tensorflow as tf from tensorflow keras layers import flatten dense reshape from tensorflow keras losses import meansquarederror train images train labels tf keras datasets mnist load data train images train images reshape images shape 0 28 28 1 astype float32 setting this here to true will break the code toggle error true if toggle error batch size 1 else batch size 3 def map function image return image version version dataset tf data dataset from tensor slices dataset dataset repeat map map function tf data experimental autotune batch batch size prefetch 64 class autoencoder keras model def init self super autoencoder self init self flatten flatten self dense 1 dense 128 activation relu dense 2 784 activation relu reshape reshape 28 28 1 function def call inputs flatten inputs encoded decoded 2 encoded return decoded auto encoder autoencoder mse meansquarederror optimizer optimizers adam 1e 5 function def step with gradienttape as tape auto encoded auto encoder loss mse auto encoded grads tape gradient loss encoder trainable variables optimizer apply gradients zip grads encoder trainable variables return loss for step image in enumerate loss step image if step 1000 0 print
python import attr import numpy as np from tensorflow python keras import input model from tensorflow python keras layers import dense from tensorflow python keras optimizers sgd from tensorflow keras utils sequence def make model d x input shape d y dense 1 activation none x model model inputs x outputs y compile optimizer sgd loss mean squared error return attr s class feed sequence foo attr ib default np arange 12 remove this attribute to get the expected behavior batch size attr ib default 10 feature dimension ib default 3 def getitem self idx features np random randn self batch size self feature dimension targets np sum features axis 1 keepdims true return features targets def len self return 100 if name main feed feed make feed feature dimension fit x epochs 10
from tensorflow python keras applications import resnet50 from keras applications import resnet50 image size 224 model resnet50 input shape image size image size 3 include top true weights imagenet print model layers 13 name weights model layers 13 get weights 0 print weights print model layers 14 name layers 14 get 0 print
provide a reproducible test case that is the bare minimum necessary to generate the problem scala import java nio floatbuffer import org tensorflow tensor val buf floatbuffer floatbuffer allocate 4 buf put 1f buf put 2f buf put 3f put 4f val t tensor create array 1l 4l
the code is here url
python model get model model fit train images train labels epochs 1 callbacks tf keras callbacks modelcheckpoint filepath model path save weights only false w0 trainable weights 0 numpy opt w0 optimizer weights 1 numpy tf keras backend clear session this throws an error when save weights only true if save only false it doesn t restore optimizer variables tf keras models load path this throws an error when save only false get load path w1 trainable 0 numpy try opt w1 optimizer 1 numpy except opt w1 none print f correctly loaded np all w0 w1 print f optimizer correctly loaded np all opt w0 if is not none else false
from tensorflow keras layers import input dense lambda from tensorflow keras models import model from tensorflow keras backend import to dense test input input 10 5 sparse true dense net lambda to dense output shape 10 5 test input test net 50 net
import tensorflow as tf import numpy as np class testmaxpool tf test testcase def setup self tf reset default graph def test self sess image with 2 channels h 4 w 4 image t tf constant version version version version input t stack image t image t pool indices nn max pool with argmax input ksize 1 2 2 1 strides 1 2 1 padding same pool indices out sess run pool indices expected indices np array 10 3 14 7 16 17 20 21 self assertallequal out np stack expected expected 32 def test with normal session self with session as sess test sess def session and gpu session use gpu true as and cpu use gpu false
good dataset tf data dataset from tensor slices 1 2 0 4 bad dataset good dataset map lambda x tf debugging check numerics 1 x error tf data zip bad good apply tf data experimental ignore errors for bad good in print float float bad version version version version
import gc class tfimporter def init self name self name name print f tfimporter init self name def get tf self print f import tensorflow import tensorflow print tensorflow version version def get other module print f import logging logging logging info message def del f tfimporter delete main importer1 tfimporter 1 importer1 get other module del importer1 importer1 deleted importer2 2 importer2 get tf del importer2 importer2 deleted importer3 3 importer3 tf del importer3 importer3 deleted garbage collection gc collect waiting for input input main this outputs users jan miniconda envs foo bin python users jan code tensorflow error py init 1 logging 1 delete 1 deleted init 2 2 version 3 3 version delete 3 garbage collection 22 waiting for input foo delete 2 process finished with exit code 0 so is only freed after the python application finishes neither gc collect nor deleting the object causes it to be released in python this is not an issue in this toy example but could have a reference to a large number of other objects that take considerable space in memory in reality also this only happens for the first can be freed without issues
python class decoder model def init self dim super decodercell self init self input sequential input batch shape 32 1 num mels dense 128 activation relu self rnn lstm 256 stateful true def call x x input x x rnn return
lightly edited example using canned estimators url
our tf data pipeline looks roughly like python dataset tf data tfrecorddataset tf data dataset list files pattern shuffle true buffer size 32 1024 1024 num parallel reads 8 dataset dataset shuffle shuffle buffer size repeat map parse fn num parallel calls 8 batch batch size drop remainder true prefetch 4 tuning parameters after upgrading doesn t recover any performance nor does using tf data experimental autotune
import numpy import tensorflow as tf input tf keras input shape 1600 z tf keras layers dense units 200 activation relu input z tf keras layers dense units 1 z model keras model inputs input outputs z model compile loss mse x numpy full 100 1600 fill value version dtype numpy float32 y numpy full 100 1 fill value version dtype float32 while true backend clear session model fit x x y y
provide a reproducible test case that is the bare minimum necessary to generate the problem python import tensorflow as tf import sys tensor tf range 10 tf print tensor output stream sys stderr
import tensorflow as tf image tf io gfile gfile r datasets icdar2015 img 1 jpg r image read my tf version version below has the same problem with the beyond image data tf io gfile gfile os path abspath path rb read my tf1 x version below run well image data fastgfile os path abspath path rb read
python tf function def rnd return tf random uniform shape tf random set seed 42 print rnd the rnd function s seed is generated randomly now based on print rnd the current random seed which is 42 print tf random set seed 43 resets the sequence but ignores this print set 42 resets the sequence but ignores this output value is tensor version shape dtype float32 tensor version shape dtype float32 tensor version shape dtype float32 tensor version dtype float32 notice that we get same sequence of numbers every time ignoring value of global only value that matters is first one when function gets traced more code and examples of surprising behavior in this colab url
any network just feed dynamic batch sizes
1 wrapping a 1 layer convolutional nn with tf keras layers timedistributed python import tensorflow as tf input shape 100 100 3 embedding model tf keras sequential tf keras layers input input shape keras layers conv2d filters 32 kernel size 3 strides 1 input sequence layers none shape sequence embedding timedistributed embedding model outputs sequence embedding sequence model model inputs outputs outputs save model1 error valueerror 0 of layer conv2d is incompatible with the layer expected ndim 4 found ndim 5 full shape received none none 100 100 3 2 wrapping a pre trained applications closer to my actual use case python import tensorflow as 224 224 3 mobilenet applications mobilenet include top false weights imagenet pooling avg none timedistributed mobilenet outputs inputs save model2 error valueerror 0 of layer conv1 pad is incompatible with the expected ndim 4 found ndim 5 full received 224 224 saving as an hdf5 file instead python import tensorflow as mobilenet applications include top false weights imagenet pooling avg timedistributed inputs save model3 h5 save format h5 this works without errors 4 saving to the savedmodel format works with just dense python import tensorflow sequential dense units 10 inputs model4 this works without errors
code and log url i tested with this machine on gce n1 standard 4 1 x nvidia tesla v100 image c1 deeplearning common cu100 google deep learning vm common dl gpu installed anaconda3 cudnn version got some errors with the original version cudnn in the image tensorflow gpu version
provide a reproducible test case that is the bare minimum necessary to generate the problem
from tensorflow import keras from tensorflow keras import layers inputs keras input shape 784 3 name digits x layers gru 64 activation relu name gru dropout version inputs x layers dense 64 activation relu name dense x outputs layers dense 10 activation softmax name predictions x model keras model inputs inputs outputs outputs 3 layer model summary model save save format tf based on url
i created a small colab notebook to demonstrate the issue url i recommend downloading the py file and running it in command line so colab logging doesn t interfere because after the epoch is done the correct batch number is found problem is during epoch
from tensorflow core python keras engine training import model import tensorflow as tf print tf version attributeerror module tensorflow has no attribute version the following works import tensorflow as tf from core python keras engine training import model print tf version
python import numpy as np import tensorflow as tf from keras layers import input dense from keras models import model from keras optimizers sgd num features 100 train x np random rand 40 num features train y np random randint 2 size 40 the input layer input layer input shape num features name output dense 10 activation sigmoid name hidden 1 layer output dense 1 activation sigmoid name output output model model inputs layer outputs sgd sgd lr version decay 1e 4 momentum version nesterov true model compile loss binary crossentropy optimizer sgd metrics accuracy tensorboard callback tf keras callbacks tensorboard log dir os path join out dir datetime now strftime y m d h m s histogram freq 2 write graph true write images true my callbacks tensorboard callback fit x train x y train y validation split 2 epochs 5 callbacks my callbacks
session tf session variable tf variable 4j exp tf exp variable session run tf global variables initializer print session run exp 1 print run exp 1 also see colab notebook here url
it is not possible to provide code for every issue better logging is a much more efficient way to root cause and resolve issues
provide a reproducible test case that is the bare minimum necessary to generate the problem train images train labels test images test labels load cifar home user documents dataset cifar 10 datagen imagedatagenerator horizontal flip true width shift range version height shift range version fill mode constant cval 0 datagen fit train images datagenflow datagen flow train images labels batch size batch size model fit generator datagenflow steps per epoch iterations epochs epoch num callbacks change lr validation data test labels
provide a reproducible test case that is the bare minimum necessary to generate the problem import numpy as np from tensorflow keras applications vgg16 import vgg16 from tensorflow keras applications vgg16 import preprocess input from tensorflow keras preprocessing image import imagedatagenerator from tensorflow keras optimizers adam imagenet test some image directory model vgg16 weights imagenet include top true input shape 224 224 3 model compile adam loss sparse categorical crossentropy metrics acc datagen imagedatagenerator preprocessing function preprocess input test generator datagen flow directory directory imagenet test batch size 256 class mode sparse target size 224 224 steps np ceil len generator classes 256 model evaluate generator generator steps verbose 1
import tensorflow keras as keras from tensorflow lite python import lite interpreter define model that uses upsampling 2d and depends on it s output changing with the input size def demomodel inputs keras layers input shape none none 3 name input 1 a keras layers maxpooling2d 2 2 inputs b layers upsampling2d size 2 2 a c layers concatenate b inputs return models model inputs outputs a c convert to tflite model demomodel model compile optimizer sgd loss mean squared error save testmodel h5 converter lite tfliteconverter from file testmodel h5 input shapes 1 1 32 64 3 tflite converter convert run the tflite inter interpreter interpreter content tflite print inter get details inter resize tensor 1 16 32 3 inter allocate tensors print get details
compile the current r version release candidate and use the train py script from the od api to train a model
import tensorflow as tf x tf constant version a tf constant version b tf constant version c constant version with gradienttape as tape ttape watch x a b c ty a
provide a reproducible test case that is the bare minimum necessary to generate the problem import numpy as np import pandas as pd import tensorflow as tf import tensorflow probability as tfp sys time from tensorflow keras layers dense input add lambda from tensorflow keras model from keras models load model from keras optimizers scipy io loadmat scipy spatial distance cdist tf compat v1 disable eager execution x np random rand 100 reshape 100 1 astype float y np array x version reshape 100 1 astype float input1 input shape 1 name input1 d1 dense 12 name d11 input1 d1 dense 12 name d12 d1 d1 dense 1 name output1 input2 input shape input2 d2 12 d21 input2 d2 12 d22 d2 d2 output2 label input shape label model1 model inputs input1 label outputs model2 model inputs input2 outputs def cust loss xi yi yp loss tf reduce mean yi yp
mirrored strategy tf distribute mirroredstrategy def get data datasets ds info tfds load name mnist with info true as supervised true mnist train mnist test datasets train datasets test buffer size 10000 batch size per replica 64 batch size batch size per replica mirrored strategy num replicas in sync def scale image label image tf cast image tf float32 image 255 return label train dataset mnist train map scale cache shuffle buffer batch eval dataset test map scale return dataset eval dataset def get model with mirrored strategy scope model tf keras sequential keras layers conv2d 32 3 activation relu input shape 28 28 1 keras layers maxpooling2d keras layers flatten layers timedistributed dense 64 activation softmax timedistributed dense 64 activation softmax dense 10 activation softmax model compile loss sparse categorical crossentropy optimizer optimizers adam metrics accuracy return model get save test save
please see the short example test case here url in particular see cell 4 random noise image 4800 unique values vs cell 6 image after conversion to pil and back 256 unique values
please see the short example test case here url alternatively please see the same notebook rendered on a different site here url in particular see cell 6 expected output plotted by hand vs cell 7 model behavior right after being created matches expected vs cell 10 model behavior after being saved and re loaded does not match expected cell 4 model definition in particular see first few lines with lambda layer parameters defined in a loop
note with the code below there is no error message however uncomment the tf enable eager execution line and you will get a valueerror usr bin env python3 import numpy as np import tensorflow as tf from tensorflow keras import layers uncomment this line and you will get an error tf enable eager execution def tf dataset def data gen while true yield np random rand 72 96 1 np random rand 18 types float64 float64 shapes tensorshape none none none tensorshape none dataset data dataset from generator data gen types output shapes shapes dataset batch 16 return model keras sequential notice how the input dimensions are mismatched model add layers inputlayer 96 72 1 model add layers conv2d filters 32 kernel size 4 strides 4 activation relu model add layers conv2d filters 32 kernel size 4 strides 4 activation relu add flatten dense 18 activation softmax compile optimizer adam loss categorical crossentropy print summary fit steps per epoch 1 epochs 1
import tensorflow as tf from tensorflow keras layers import input convlstm2d from tensorflow keras models import model mirrored strategy tf distribute mirroredstrategy with mirrored strategy scope model input input shape none 3 3 1 batch size 1 model convlstm2d 1 kernel size 3 stateful true model input inputs outputs compile loss tf keras losses categorical crossentropy optimizer tf keras optimizers adadelta dataset data dataset from tensors random uniform 1 3 batch output dataset data dataset from tensors random uniform batch data zip output fit steps per epoch epochs
python import tensorflow as tf import numpy as np import timeit use eager false use v2 false if not use eager tf compat v1 disable eager execution if not use v2 tf compat v1 disable control flow v2 n steps 1000 n input 100 n hidden 1000 batch size 64 inputs tf keras input n steps input outputs keras layers simplernn units hidden return sequences true inputs outputs keras layers dense units input outputs model keras model inputs inputs outputs model compile optimizer optimizers sgd version loss mse x np ones batch size steps y np ones batch size steps warmup model fit x y epochs 1 start timeit default timer fit x y epochs 10 print execution time timeit default timer start
import tensorflow as tf import numpy as np import matplotlib pyplot as plt from google colab import drive get a image as input data for model tensorflow logo curl url output tensor logo png def train input fn def process string image img path raw image tf read file img path image decoded tf decode png raw channels 3 decoded tf cast decoded float32 255 dummy labels round decoded return dummy labels list files data dataset from tensor slices content tensor logo png files list files map process string files repeat 100 batch 1 drop remainder true return basic check to compare train input fn dummy data train input fn from records can t be run after tpu initialisation with session sess batch train fn make one shot iterator get next item sess run batch print shape of first item item 0 shape item 1 shape plt imshow 0 0 plt show plt imshow 1 0 def unet encoder inp layer nb activation relu padding same batchnorm true is pool true inp keras layers conv2d 8 2
just the tensorflow tutorial code directly from the tensorflow website ec2 user ip xxx xxx xxx xxx cat test tf py usr bin env python3 import tensorflow as tf mnist tf keras datasets mnist x train y train x test y test mnist load data x train x test train version version model tf keras models sequential keras layers flatten input shape 28 28 keras layers dense 512 activation nn relu layers dropout version layers dense 10 activation nn softmax model compile optimizer adam loss sparse categorical crossentropy metrics accuracy model fit y epochs 5 model evaluate y
import tensorflow as tf import zipfile import filecmp normal fd open normal zip wb normal2 fd open normal2 zip wb open gfile zip w close touch file so that it exists issue 32090 gfile fd tf io gfile gfile zip w b need issue 32122 for fd in normal normal2 with zipfile zipfile file w as zipfd with zipfd open test txt w as fid fid write hello world encode close print normal zips equal filecmp cmp normal2 print equal filecmp cmp
import tensorflow as tf test path test create a file at test path with open test path w as f f write hello world no error when creating dir tf io gfile mkdir path with tf io gfile gfile file txt w as f write throws exception since the directory does not exist f write hello
import numpy as np import tensorflow as tf session tf session for in range 4 print session run tf constant 1j np arange 64 also see colab notebook here url
provide a reproducible test case that is the bare minimum necessary to generate the problem install tensorflow and tfx in python version import tensorflow as tf import tensorflow transform as tft import tensorflow model analysis as tfma
from functools import reduce from operator import mul import tensorflow as tf b tf keras backend l tf keras layers def get size shape return shape 0 if len shape is 1 else reduce mul shape def pipe args repeats 1 def call x for i in range repeats for arg in args x arg x return x return call class hyper l wrapper def init self layer super init layer build self super build shapes w for w in self layer get weights self hypers for k in enumerate shapes print k hyper l dense get size super setattr hyper k hyper reshape l reshape super setattr reshape k reshape hypers append pipe flatten flatten tf function call inputs batch b int inputs 0 y split inputs batch flatten weights hypers w w squeeze 0 weights append layer set weights y y append y return concat 0
import tensorflow as tf from tensorflow keras layers import from tensorflow keras models import model from tensorflow keras optimizers import adam inp input shape 3 output dense 1 activation sigmoid inp model model inp output model compile optimizer adam 1e 2 loss binary crossentropy def simple generator while true yield version version version version yield dataset tf data dataset from generator simple generator output types tf float32 tf float32 dataset dataset batch 4 prefetch 1 fit throws valueerror as list is not defined on an unknown tensorshape note the following works for x y in fit x y break
provide a reproducible test case that is the bare minimum necessary to generate the problem
cd mktemp d virtualenv q p python version ve ve bin activate ve pip install q tf nightly version preview version ve python c import tensorflow as tf print tf version 2019 09 27 13 51 e tensorflow core platform hadoop hadoop file system cc 132 hadoopfilesystem load error libhdfs so cannot open shared object file no such file or directory
provide a reproducible test case that is the bare minimum necessary to generate the problem occured in a real case keras bert based code but reproduces in the following code import numpy as np import tensorflow as tf from tensorflow keras backend import set session from tensorflow keras layers import input embedding add from tensorflow keras models model config tf configproto config graph options optimizer options global jit level tf optimizeroptions on 1 set session tf session config config seq len 80 batch size 5000 tokens ids input input shape seq len dtype int32 name tokens ids input segments ids shape seq len dtype int32 name segments ids output add embedding dim 5000 output dim 16 tokens embedding dim 2 output dim 16 segments model model inputs tokens segments outputs output model predict np zeros batch size seq len np zeros batch size
import tensorflow as tf x tf keras layers input shape 10 softmax keras tf keras layers softmax x softmax tf nn softmax x y true keras layers input shape loss losses sparse categorical crossentropy y true loss losses sparse categorical crossentropy y true def transitive inputs tensor return set tensor op type inp for tensor in tensor op inputs for inp in transitive inputs print in transitive inputs loss prints true print in transitive loss prints false
full code at url and url relevant portion checkpointer tf keras callbacks modelcheckpoint filepath output dir output kernmodel cp val hdf5 verbose 0 save best only true monitor val loss reduce lr tf keras callbacks reducelronplateau monitor val loss factor lr decay patience 20 verbose 1 mode auto min delta 1e 6 cooldown 100 min lr 0 tensorboard tf keras callbacks tensorboard log dir output dir output histogram freq 1 write graph false write grads false batch size self batch size update freq batch write images false profile batch 0 callback list checkpointer reduce lr tensorboard history self model fit generator generator self generator validation data self validation generator steps per epoch steps per epoch validation steps validation steps epochs epochs verbose 1 callbacks callback list max queue size 30
provide a reproducible test case that is the bare minimum necessary to generate the problem std vector int sizes 1 240 240 3 interpreter resizeinputtensor interpreter inputs 0 sizes if interpreter allocatetensors ktfliteok log info failed to allocate tensors return false given that interpreter contains resizeops with 1 specified
official benchmark tool test and android integration test benchmark version version and android tflite gpu delegate nightly
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf tf io gfile copy label pbtxt label pbtxt overwrite true
version rc1 url version url
python import tensorflow as tf shape 1 2 class mylayer tf keras layers layer def build self input shape print input shape assert input shape def call self inputs return inputs layer mylayer layer compute output
steps to reproduce the behavior 1 follow steps on github page for setting up ec2 instance with algo 2 follow steps installed algo on localhost 3 execute algo
steps to reproduce the behavior 1 download algo unzip 2 deploy 3 stops at strongswan register p12 step due to error about mismatched cpus
1 register account at bithost or bitlaunch 2 setup algo on digital ocean or vultr server 3 do localhost provision 4 use
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior 1 install version version 2 connect to my redis server without any credential and succeded i can see the keys 3 then try to view the value of random key and application exited without any hanging nor warning 4 then go to windows event logs saw crash log
detailed steps to reproduce the behavior 1 create the file syntax prop vim containing the following vim hi hicolour ctermfg blue guifg blue hi hiitalic cterm italic gui italic call prop type add tphicolour highlight hicolour call prop type add tphiitalic highlight hiitalic colour lines 1 and 2 blue call prop add 1 1 type tphicolour end lnum 2 end col 36 apply italics to line 2 call add 2 type tphiitalic end col 36 apply italics to 2nd word of line matchaddpos hiitalic 4 8 run vim clean s txt txt edit filename 3 the 2nd word of line has had italics applied but colour of existing text property has been cleared
1 run vim clean or gvim clean etc 2 type or paste lorem ipsum dolor sit amet consectetur adipiscing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua 3 do set formatoptions al 4 enter insert mode anywhere on the line entered in step 2 and type anything 5 bug the line is reformatted
1 vim clean c set noesckeys 2 enter insert mode and type kbd c kbd
test vim vim call prop type add error highlight error call prop add 2 7 length 5 type error 1 so text properties is displayed 2 call prop clear 1 text properties is
test vim vim hi test gui none guibg none guifg red cterm none ctermbg none ctermfg 12 let id popup create bufnr line 0 col 0 maxheight 4 call win execute id call matchadd test popup 1 so
detailed steps to reproduce the behavior 1 build vim without x11 headers available or use the vim package from nixos 2 open a file in vim in an xterm 3 there now is now way to copy paste text from vim to an x11 application
detailed steps to reproduce the behavior 1 run vim clean filename rst 2 set configuration vim set listchars tab trail precedes extends eol nbsp set formatoptions 1jtroqlaw set comments fb tw 65 3 write the above shown comment longer than textwidth
detailed steps to reproduce the behavior 1 use set shell c program files powershell 7 preview pwsh exe 2 test that terminal works it does 3 now try to run xxd 4 observe that the command fails with c program files powershell 7 preview pwsh exe command xxd c program is not recognized as an internal or external command operable program or batch file shell returned 1 hit any key to close this window
1 deploy in k8s use docker elastic co kibana kibana version and docker elastic co elasticsearch elasticsearch version with ha mode es 3 node kibana 3 replics set elasticsearch hosts with 3 es headless service 2 kill es mian node 3 visit kibana do search
1 have a dataset with at least two document types that share at least one field name example all documents contain a person name keyword field but they have different person gender keyword 2 create a control visualization and add a control for the field of person name keyword with no parent control and multiselect enabled 3 apply filter to the visualization for person gender keyword is male 4 the drop down list does not actually do any filtering it s still showing all possibilities in the drop down rather than just documents with gender male
1 find monitor with current status down monitor should be shown as down also specific time frame can be used to get the same from recovered monitors 2 check the links for show host metrics show host logs probably others too
1 have a data set with two distinct metric types i m using average timer duration and count of timers 2 create a line visualization with both metrics applied one on the left axis and the other on the right axis 3 apply an x axis over time so you can use any time series related field here 4 split the series on a term that has two or more unique entries in it mine has four
1 apm server setup 2 get some data from apm server maybe something like a website that adds some cookie values 3 see that warning bang in the kibana discovery tab 4 hit the index refresh button in the kibana index pattern 5 nothing happens
1 collect some data from beats with monitoring enabled 2 go to the monitoring ui and beats tab 3
1 create index pattern for kibana 1 2 go to discover and select kibana 1 3 in the field list click type field to expand it 4 start filtering out types like dashboard visualization etc while watching the browser console
1 create some heartbeat data 2 stop heartbeat 3 observe the bug
1 create a scripted field 2 create a data table visualization 3 split rows using a terms aggregation on the scripted field 4 select to group other values in a separate bucket
1 turn on autoplay on a workpad 2 wait a few seconds 3 try to add a new workpad page
1 create a few regression job or outlier detection via the ml ui 2 delete the job s 3 go to kibana management index patterns and see deleted destination indices still listed 4 use the data frame analytics ui to create a regression job and see the error toasts pop up image url
1 create a new lens visualization 2 set timepicker to last 15 minutes 3 drag a date field into the view you should get a date histogram with 30 second intervals 4 click on the x axis link date histogram of timestamp 5 click the customize time intervals toggle the interval changes to d day
1 allow leading wildcards in query to false 2 analyze wildcard false 3 search in kuery error
1 change query string in kql search bar 2 click refresh 3 look into javascript console
1 set link via settings kibana index patterns edit field url link 2 label template as value 3 watch a document in discover and expand it
1 load management index patterns 2 click on the index you wish to delete 3 message pops up saying no indices match pattern your index pattern
1 launch and configure cross cluster search with multiple remote clusters 2 configure the siem defaultindex to reference those clusters without a local index pattern 3 navigate the to siem network page
1 created a saved search add some fields as columns 2 create an empty dashboard and add the saved search to it 3 click the download csv panel ection
1 load sample flight data 2 go to visualize 3 select the flights controls visualization 4 scroll to the average ticket price range control 5 change the decimal value to 2 6 hit save changes and notice the console errors see below for errors
1 open discover 2 click to change index pattern 3 scroll the index pattern dropdown list but don t select an index pattern 4 collapse the left hand panel 5 dropdown list is still visible
1 create multiple long index names with similar root name 2 use discover
1 go to lens visualization for kibana sample logs 2 under y axis select drop a field here 3 select an aggregation eg average 4 click on field selection get a list of fields 5 click on a greyed out field eg agent keyword error appears on the screen img width 354 alt screenshot 2019 10 07 at 14 14 32 src url and there is a console error
1 go to management app index management indices 2 click on index 3 go to edit settings tab 4 change index priority 1 to index priority 2 5 click save return to edit settings tab 6 remove line with priority 2 7 click save return edit settings tab 8 setting is still there with its old value 9 bonus bug click on another name settings form disappears
precondition no saved objects 1 create a matching index patten for your data 2 go to discover module everything is working fine as expected the created index pattern has become the default index pattern see also management kibana index patterns 3 export this pattern as saved object 4 delete the pattern 5 import the saved objects file with inside 6 got to discover module error occures in order to visualize and explore data in kibana you ll need to create an retrieve data from elasticsearch even after setting manually as default in managenent kibana patterns you can t use any discover visualize dashboard module of kibana
1 create a saved query with a query a filter and set the time filter 2 set the time filter to something other than what the saved query was saved with 2 in discover load the saved query you from 3 observe that portion of isn t applied 4 additionally from dev tools tab for network calls or on console observe that network call was aborted
1 load a kibana sample data set 2 create more than 20 saved queries you can do this manually or save and import these url 3 go to management saved objects and filter for a query type observe that there are 22 saved queries 4 go to discover visualize dashboard or maps 5 click on the next to the query bar input to access the saved query management popover 6 observe that only the first 20 are available
1 follow steps in tutorial url to load sample data 2 create an element and change data source to be select sum taxless total price as sum total price from kibana sample data ecommerce 3 change display to be
1 could be done manually but easiest to just run this x pack test once it s merged url
1 create more than 200 indices with names starting with 2 index some other data into elasticsearch 3 go to the index pattern creation page
1 as root user install kibana rpm package don t start kibana 2 as kibana user which was created by the rpm install try to install the java langserver for the code app in my case it looked like this centos7 rpm sudo u kibana usr share bin plugin install file vagrant qa downloads java langserver version snapshot linux zip centos7 rpm usr share node modules mkdirp index js 90 centos7 throw err0 centos7 error eacces permission denied mkdir usr share data at object mkdirsync fs js 753 3 at sync usr share node modules mkdirp index js 71 13 i don t know if there s a problem with the plugin and it s not even supposed to write to data dir or if we expect users will start first which presumably creates data dir and then plugins i haven t tried this way yet or if should create data dir and set it s ownership to user or owned by root but with open write permission
1 start kibana 2 query the kibana uri shown in the above example 3 observe the incorrect location header in the 302 response
1 open the expression editor in canvas 2 type tsvb or other things 3 things will be offered
1 adjust local computer s dns to use version to prevent access to the elastic map service 2 add an entry into etc hosts so you can route to idpgis ncep noaa gov version idpgis ncep noaa gov 3 open kibana in a private browser tab avoid any caching and create a coordinate map visualization the basemap shouldn t load and you ll be met with a blank visual 4 populate the wms options tab directly in the visual wms url url wms layers 1 wms version version format image png attribution national weather service styles default base layer url 5 hit blue apply play arrow and observe no layers are loaded if you open your browser s network console you won t see any calls server 6 if run through same motions again but with working dns basemap from ems will load and should be able apply panel options without issue note i also ran through above on a machine without internet access locally running server results were same
a minimal sample code url sh git clone git github com taku o electron crash on drap webp git cd electron crash on drap webp npm install npm run start
js const app net browserwindow require electron app on ready async t t switch between a proxy with and without authentication required t to see the described behavior t tlet proxy version 8888 let proxy version 8888 user pass tlet window new browserwindow width 800 height 800 show false tlet session window webcontents session tawait session setproxy proxyrules proxy tconst request net request session url url tif split length 4 trequest on login callback callback split 2 split 3 trequest on response response tlet body tresponse on data chunk body chunk tresponse end console log body trequest end
run this project electron same origin zip url img width 769 alt screen shot 2019 11 22 at 11 05 56 am src url
git clone url cd shell kiosk npm install npm start browserview is instantiated here url l17 this mainwindow new browserwindow fullscreen true webpreferences nodeintegration true webviewtag true
1 run this electron fiddle gist url 2 after initial page load open the devtools 3 in the devtools console type navigator cookieenabled 4 the value returned is true 5 now navigate to any other page for example click the about link in footer 6 again type navigator cookieenabled in devtools console 7 cookies are now broken value returned is false
1 run a gatsby local server like url 2 launch this fiddle with electron 6 and see that all 6 iframes load the site url 3 launch the fiddle with electron 7 see that none of the iframes load anymore 4 remove two iframes launch with electron 7 see that the iframes now do load
a snippet to get printers js const printers printerinfo mainwindow webcontents getprinters sh error ts2322 type void is not assignable to type printerinfo
check ffmpeg dll bundled in any electron release package for windows
set electron version as version for local app in package json build with electron packager plugin non proprietary codecs ffmpeg so that corresponding patent free ffmpeg is downloaded play video from url in electron browser window and it plays now switch to older version electron build with same plugin try to play the video again it will not play this indicates video support added in version is it intentional or bug
here is my code main js function settimerwindow const windowstate db get timer window state if windowstate bounds null windowstate bounds timerwin new browserwindow width 200 height 80 resizable false show false frame false setskiptaskbar true alwaysontop true transparent true titlebarstyle custombuttonsonhover webpreferences nodeintegration true contextisolation resize move close foreach e timerwin on e storetimerwindowstate timerwin setalwaysontop floating timerwin fullscreenable false timer renderer index ipcrend on set window e data document getelementbyid active task time textcontent data time ipcmain on set timer e data if null webcontents send set window data showinactive set window is called from my application s main which also sends the time to be displayed electron shadow url on this image you can see the shadow artifact or whatever is the correct term appearing and then updating when i change the workbench again i hope this is enough but if you need anything else i m here to help
ts const app browserwindow dialog require electron let mainwindow null app on ready mainwindow new browserwindow height 600 width 600 show an open file dialog and attempt to open the chosen file in our window if you provide a callback the method will be asynchronous but in thise case we ll just use the synchronous variant const file dialog showsavedialogsync title hello defaultpath some folder filters extensions code workspace console log file mainwindow loadurl cc deepak1556
in my case i m trying to run this from a node enable web worker but you can also trigger the error just from a node enabled renderer process try running this code in the renderer process setinterval 0 unref here is a gist that highlights the issue url
forked electron quick start url sh git clone url cd electron quick start npm install npm start then when you find yourself in the recent tab select any directory and click on open
sh git clone url npm install npm start
sh git clone url npm install npm start
const app browserwindow browserview require electron async function onready tconst mainwindow new browserwindow tconst view new browserview tview webcontents addlistener will navigate e url t tconsole log navigating to url t tmainwindow setbrowserview view tawait view webcontents loadurl url tview webcontents opendevtools app on ready onready after npm start ing in the devtools run location url notice that we log it then run location about blank notice that there s no log
create an electron app with following code js const app browserwindow dialog require electron function createmainwindow let win new browserwindow win loadurl data text html charset utf 8 test settimeout let win2 new browserwindow show false width 410 height 310 win2 loadurl data text html charset utf 8 textarea cols 47 rows 17 textarea settimeout console log show before win2 show console log show after 50 2500 return win app on ready createmainwindow start the app from console keep the console in sight wait for messages to appear on the second window will appear at the same time ok or after 1s bug both messages before and after always appear at same time i was unable to reproduce this issue on windows mac ubuntu version gnome
create an electron app with following code js const app browserwindow dialog require electron function createmainwindow let win new browserwindow win loadurl data text html charset utf 8 test settimeout dialog showopendialog win 2500 return win app on ready createmainwindow start the app put cursor over the window and press left mouse button hold it down until modal window appears at this point ui is frozen the key to reproduce this bug is to have mouse pressed inside an electron window while modal is opening this can happen even when user is just clicking another example visual code electron version use ctrl o while holding down left mouse button i could not reproduce this bug on windows mac
hard only happens sometimes
sh git clone url npm install npm start
for me just update electron version
run this command npm install electron save dev save exact verbose
download the official electron quick start repo at url in the package json change main main js into main electron js rename main js into electron js run start script npm run start crash with error
basic demo of the issue can be reproduced in electron fiddle url to reproduce with voiceover start voiceover cmd f5 navigate to the tray vo m m and attempt to click the icon vo spacebar voiceover will announce that the icon was pressed but no click event will be fired
1 make sure your secondary screen is bigger than the primary in my case the secondary screen is oriented vertically so the height is bigger than the height of primary screen 2 try to create a fullscreen browserwindow on secondary screen const width height x y electron getalldisplays 1 bounds const window new browserwindow width height x y await window loadurl url 3 observe that created window is cropped to of primary to
1 dock a window to the right side of the monitor 2 call the window show api from the main process
sh git clone url npm install npm start in this repo we test this by launching a simple http server and 2 proxies and running a simple script against them using multiple versions of electron when running this we can see that in electron 4 the requests correctly go through the proxy however starting with electron 5 the requests do not follow the proxy at all requests that should go through simple unauthenticated succeed anyway but there is no log from proxy and those that should go through authenticated proxy fail when setting works because credentials are not provided but succeed on electron 5 and greater
git clone url npm install npm start
url npm install npm run start on the exemple the header has a fixed height of 40px and width 100 when resizing on the width drag works fine after it but after resizing on the height not you can edit style in index html to test different behavior like height 100 width 40px not working after resizing on width best regards
1 unzip electron 21032 zip url 2 npm install 3 npx electron 4 press cmd o 5 double click file works when the dialog is opened by clicking on the menu item and not using the shortcut
run the following fiddle to see the behavior change in electron version beta4 the page can make an ajax request to the custom scheme in a loop and print contents in electron version beta4 page can occasionally make a few ajax requests but it will eventually halt when one request never reaches a xmlhttprequest done state url good console output version beta3 and bellow looks like index html 22 ajaxstatechange readystate 1 statuscode 0 index html 22 ajaxstatechange readystate 2 statuscode 200 index html 22 ajaxstatechange readystate 3 statuscode 200 index html 22 ajaxstatechange readystate 4 statuscode 200 25 just using this file as an example file to be served by custom scheme handler 1 0 2 200 3 4 25 just using this file as an example file to be served by custom scheme handler 1 0 2 3 4 25 just using this as an example be served by custom scheme handler and repeat bad console output version beta4 looks like 1 0 2 3 4 25 just using this as example be served by handler stop getting updates here
gist for electron fiddle url previous version
in a window execute the following code window open url blank a new window will be created with google then execute window open url blank instead of a new being created the google will navigate to youtube according to the specs url blank should open a new or tab my assumption is that this is not being considered and treated the same way as any custom name would be therefor navigating instead self url replaces current page this is also not working it opens new instea
my application was written with reactjs and i first try fetch in react but it failed i aslo used ipcrenderer ipcman to handle the request but it only ran correctly on dev mode is it a problem about cors or something like that which happens when packing app
please load the electron fiddle url and follow instructions in the opened window
javascript electron app on ready function var win new browserwindow show true frame false fullscreen true transparent true setinterval console log fullscreen win isfullscreen 3000 setinterval console log maximised win ismaximised 3000 check the console after toggle fullscreen or maximise it always return false if browserwindow transparent is set to false behavior is correct and it returns the good value
you ll need a proxy server to reproduce the missing login event which might be a somewhat difficult to get in our testing the issue exists regardless of the proxy server used even a simple basic auth proxy fails just like a fancy ntlm one url
fiddle url js const app require electron const path require path app on ready const desktoppath app getpath desktop app setapplogspath desktoppath const logpath getpath logs console assert logpath desktoppath expected logpath to equal desktoppath quit
you can reproduce using a small utility repo here url the package json starts with a working electron v version sh git clone url npm install npm start test that window stays above other focused windows and toggle a few times with ctrl shift x rm rf node modules and change the electron version in package json to version sh npm install npm start toggle with ctrl shift x and focus another window the electron window loses focus to see the problem immediately you can use executable from releases page here url v version uses electron v7 and exhibits issue v uses v works as expecte
url instructions are in the readme file the example website can load normally on first startup so please reload it using ctrl r
1 install angular cli npm install angular cli g 2 generate new angular app ng new electron angular app 3 install electron in app npm install electron latest save dev 4 configure electron and start 5 open dev tools and navigate to sources tab 6 notice available directories under webpack
electron fiddle gist url
1 run npx create react app app name 2 cd app name 3 yarn audit
write your steps here 1 create a new cra app 2 open app css and add opacity 70 to the app header class 3 run yarn start inspect the header element and confirm that the opacity is 70 4 run yarn build once the build is finished open minified css file in build static css search for opacity and observe that it is 1
write your steps here 1 create a react app 2 yarn add material ui core 3 import the module somewhere 4 yarn start the bug image url
1 create two cra apps and build them they have to have chunks 2 deploy both apps on a single index html 3 open the index html only one app will show up
write your steps here 1 add a new markdown doc 2 enter the following yaml id ev basics lesson title ethvigil primer deploying and interacting with smart contracts sidebar label lesson ev001 deploying and interacting with smart contracts
add an escaped html tag to an h3 header
1 open devtools and focus on styles body eg 1 open home page url and we can already see that the styles are duplicated image url 1 alright go ahead click on docs url in navbar and check the styles in devtools again now the styles are duplicated several times 3 new image url
trying to swizzle the navbar from the classic theme this is can be achieved by following the swizzling theme components section of the v2 documentation url swizzling theme components changes introduces by these steps can be found here on our docusaurus v2 implementation url motivation behind swizzling this element is that we want to be able to switch our logo from navbar from dark theme to light one in former case we would use one source while using another one for latter case
1 add a h2 id my anchor title h2 html tag anywhere in a documentation markdown file 2 notice it does not show up in the right toc
1 clone this repo url 2 checkout the jest github issue branch 3 run npm install 4 create env file containing node env test 5 run npm test
create a component that uses react redux connect create a test that does a shallow rendering of the component use tomatchsnapshot steps to reproduce the behavior
steps to reproduce the behavior bash git clone url cd jest import meta npm install npm test
steps to reproduce the behavior 1 install types mocha 2 install types jest looking for expect only types without jest 3 add both of them to tsconfig in order to use expect types with mocha runner
steps to reproduce the behavior 1 create an async function with a throw condition 2 create a test for that function that throws the error 3 validate the error
steps to reproduce the behavior bash clone minimal reproducible example git clone git github com rien node tree sitter bug minimal reproducible example git cd node tree sitter bug minimal reproducible example install dependencies yarn install run jest with all tests yarn run jest will possibly succeed yarn run jest will fail with typeerror invalid invocation run jest a single test at a time yarn src lib test one test ts succeeds src lib test two ts succeeds all 100 ava tests ava succeeds
add this code to a project and place a test in the server directory javascript module exports testenvironment node rootdir server
create a project where you are using string matchall setup babel with babel node to make it runnable setup babel jest to make the same code runnable in tests write a test for the same code run the test and see the error above
mkdir test jestjsdom cd jestjsdom npm init yest npm i d jest npm ls left pad
i created a repository with an scenario where this issue can be reproduced see link to repl or repo section in master branch the test fails and in the workaround branch babelrc is replaced with babel config js and then the test passes
js test concurrent should test 2 1 expect 2 1 toequal 3
steps to reproduce the behavior the following test reproduces the behavior i ve also created a repl it demo url illustrating the issue javascript const assert require assert strict test example assert fail this prints an unexpected failure description this produces following output fail sample ts example 3ms example assert fail received expected expected value fail to undefined received undefined message this prints an unexpected failure description difference compared values have no visual difference 2 3 test example 4 this prints an unexpected failure description 5 at object anonymous sample js 4 12 i get output when i manually throw an assertionerror and set operator to as well
js mocks someutil js export default m1 jest fn 42 js someutil test js import someutil from someutil jest mock console log m1 expected spy stuff console log m1 undefined details summary other variations that also do nothing summary mocks throw does throw export default m1 jest fn throw does not throw export default jest fn mockimplementation 42 export default fn mockimplementation does not mockreturnvalue 42 mockimplementation 42 mockreturnvalue details
jest config js js module exports modulenamemapper gif require resolve gif image gif image js js var gifimage image gif module exports gifimage spinner import bluesrc from spinner blue 64px import whitesrc from spinner blue 64px export default function spinner color return color blue bluesrc whitesrc test import from jest mock blue 64px 64px jest mock white white import for both modules will return last mocked value white it is expected to return different value depending on exact module name test supports color fails expect toequal test supports white color passes expect toequal
create test file with only one test call mocked function before test starts in created test check if this function have been called fails when clearmocks is set to true it pass when clearmocks is false
feature file written in cucumber scenario i am scenario given i am given step when i am when step then i am then step step definitions test a scenario given when then given when then this is a wrong declaration of definition the main issue is jest is not identifying the issue and skipping these type of tests and not running at all in a test suit
test async snapshot async expect some value not matching previous snapshot tomatchsnapshot
steps to reproduce the behavior 1 create an object with matcher a createdat expect any string 2 create a matcher b using the previous matcher under two different keys foo timestampmatcher bar timestampmatcher 3 create a value that satisfies the matcher b but has additional values for one one of the values for a foo createdat def bar createdat def baz ab1 4 test expect value tomatchsnapshot b
clone this repo url run yarn run yarn test sample test js
it is working fine in my mac and the docker containers eg awslinux2 ubuntu in my mac but in aws amplify it s occurring sometimes maybe 30 probability
steps to reproduce the behavior take a look at this repo and try out the three approaches none of them work url
create a new angular 7 x project write a test todo description
command node modules bin jest coverage watchall false jest configuration module exports clearmocks true collectcoveragefrom src js coveragedirectory report coverage node modules lib build dist coveragereporters text cobertura reporters default jest junit outputdirectory report tests usepathforsuitename true roots src setupfiles jest canvas mock
on a windows system create a folder containing chars checkout any project containing jest test in this folder run tests
i ve produced minimal public repo as i ve spotted the issue at my work and i can t share the code here simply create a class which imports to another classes creates its instances and uses them the simpler the better then write tests for a given class with mocking class constructor test execution takes aprox 6 second
steps to reproduce the behavior i m afraid i don t have a reproduction i m using lerna and material ui in jest the library i m experiencing the issue with is dependent on another library in my mono repo
steps to reproduce the behavior create empty spec file run watch mode see the failure run watch mode with passwithnotests still receive the failure
steps to reproduce the behavior just follow this guide from scratch url i did this on two different systems and got eslint errors in both cases
steps to reproduce the behavior 1 run jest on the following file js const cexpect require chai expect const foo const obj bar bar get baz return foo baz touppercase it fail cexpect obj to deep eql bar bar
steps to reproduce the behavior repo spec js js describe uncaught error hiding original error it should show both errors try setimmediate throw error some uncaught error later throw original catch console log catch throw
launch jest cli command with u instead of u
bash git clone url cd anonymous zether packages anonymous js npm i cd src then create a js file with the following code eg commitperftest js js const generatorparams fieldvector require prover algebra const bn128 require utils bn128 const params new generatorparams params extend 64 const gexp new fieldvector array from length 64 map bn128 randomscalar hexp new fieldvector array from length 64 map bn128 randomscalar starttime new date params commit gexp hexp randomscalar endtime date console log commit took endtime starttime milliseconds run the code on my macbook pro this takes around 400ms bash node commitperftest now run the above code in a jest test eg commitperf test test commit perf test generatorparams fieldvector require prover algebra require utils params generatorparams extend 64 gexp array from length map randomscalar hexp array from length map starttime date commit gexp hexp endtime date console log took endtime starttime milliseconds expect tobelessthan 1000 now run the jest assuming you have jest installed globally jest commitperf on my laptop last line takes around 60000 milliseconds i ve also tested with 23 and 22 and they also take around one minute
use my trick to remove a file from an input type file and have jest run the function that does so
steps to reproduce the behavior you can produce this by running the tests in my repo bash git clone git github com lukasbombach sblendid git git checkout cd packages sblendid yarn yarn test sblendid test ts
steps to reproduce the behavior steps url
steps to reproduce the behavior 1 create src index js with code javascript use strict module exports rec function rec p return new proxy p get obj prop return rec obj 2 create test index test js with code javascript use strict const rec require src test const inner inner const outer inner expect outer inner toequal 3 run jest fail test index js 9ms prettyformatpluginerror object is not a functiontypeerror object is not a function at regexp anonymous 7 const outer 8 9 expect outer toequal 10 at testname node modules pretty format build plugins domcollection js 47 53 at object toequal index 9 23 suites 1 failed 1 total tests 1 failed total snapshots 0 total time version s ran all suites
steps to reproduce the behavior 1 install redis npm i redis version 2 create a test file mocking redis test js with following content jest mock redis const require describe tests ttest test1 t texpect true toequal true t
img width 961 alt 2019 09 25 15 29 src url
having alias configuration in package json and same in file name
bash git clone git github com danielruf test app git cd test app yarn yarn test steps to reproduce the behavior run the tests
steps to reproduce the behavior 1 choose a testcase 2 annotate it with only it only should print only one test async await promise resolve true 3 run jest
steps to reproduce the behavior in some place place code folder ex run media denis data code create link to this folder in your home ex home denis code open project in webstorm ex run media denis data code test project try to run tests
try to execute this test the file should exists javascript describe error found in jest test it should throw an error the second time as well async try require users user nodejs project build api openapi yaml catch e console log e try require users user nodejs project build api openapi yaml console log reaching code that it shouldn t fail reaching code that it shouldn t catch e console log e
babelrc plugins module resolver root alias components src components hooks src hooks remote src remote state src state utils utils test js jest mock utils environment jest requireactual utils environment brand jest fn validmobileorderingenvs jest fn requireactual environment logs a message that it cant find the module changing it to a relative path fixes it
steps to reproduce the behavior perform an assertion via tomatchobject or toequal as done here url javascript const actual typedarray new uint8array 16 foo const expected typedarray new uint8array 16 foo expect actual tomatchobject expected fails correctly but shows wrong diff expect actual toequal expected fails correctly but shows wrong diff
steps to reproduce the behavior 1 create a named export 2 attempt to mock it without any custom mock works just fine 3 attempt to mock it with custom mock like so const mockplaysoundfile jest fn jest sound player return jest fn mockimplementation return playsoundfile mockplaysoundfile now we can track calls to playsoundfile 4 get error something like typeerror wrappedsoundplayer 1 soundplayer is not a constructor 5 google around for a while and find solution as above
i import code this way import as certificates from usecases export default certificates coming from this file import download from download import from retrieve retrieve read read parse parse export download retrieve read parse and this is my stub domainparsestub sinon stub domain certificates parse spy also fails
todo find out how to consistently reproduce minimal project hoped that does it but nope if you push f5 in the browser few times too fast working in multiple tabs this bug often occurs
steps to reproduce the behavior error argument is a fastifyerror instance we need to cast to node js errnoexception to get code property js fastify seterrorhandler error request reply void const e error as nodejs errnoexception if e code econnrefused e code enotfound reply send new create serviceunavailable
js const fastify require fastify logger true fastify get strangeid req reply reply send strangeid req params strangeid fastify listen 3000 curl x get url h accept h accept encoding gzip deflate h connection keep alive h host localhost 3000 user agent postmanruntime version all work with an encoded path param curl x get url accept accept encoding gzip deflate connection keep alive host localhost 3000 user agent postmanruntime version
babelrc json presets babel preset env plugins babel plugin proposal pipeline operator proposal minimal index js js import fastify from fastify const app fastify app listen 3000 localhost err if err throw err console log application on
have a fontawesome pro version and try to install with the npmrc alias and the token
package json name test version version description main index js scripts test echo error no test specified exit 1 author license isc dependencies fortawesome pro solid svg icons version npmrc save exact true fortawesome registry url run npm i
steps to reproduce the behavior 1 build a simple html page 2 embed the testing javascript the head of that page
steps to reproduce the behavior 1 sign in to fcc successfully 1 navigate to project to be submitted i see this error in the console image url 1 press run the tests 1 press submit and go next challenge i see this error in the console image url and i see this error on page image url i press freecodecamp logo on top middle of page in order see my progress on lessons and am suddenly logged out this page after pressing logo image url
1 go to any challenge 2 try to scroll inside the code editor 3 it does not work
steps to reproduce the behavior 1 go to profile page 2 hover over the github icon below profile image 3 the background colour will not cover the icon on hover image url
steps to reproduce the behavior 1 select a word or a character 2 press ctrl d until you ve selected the desired words that you wish to change 3 when trying to deselect with esc the editor loses focus
steps to reproduce the behavior 1 visit profile page and view footer
steps to reproduce the behavior 1 go to any repo of your choice 2 click the pull requests link 3 create new pull request using in title 4 see error
steps to reproduce the behavior 1 be sure not to have a public css custom css file 2 logout 3 login 4 404 page with url server css custom css
steps to reproduce the behavior 1 present grouped tableview as modal 2 click first text field cell 3 see error
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior submit any application that uses your code to the app store
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
steps to reproduce the behavior generate a pki secret engine open api explorer in ui go to post your pki secret engine sign role use a request body like this is used between begin certificate request and end certificate request csr begin certificate request end certificate format pem
steps to reproduce the behavior 1 run vault cacert not found vault operator init 2 run vault operator init ca cert not found 3 see different outputs
setup vault autocomplete install vault secrets enable path org1 team a kv1 kv vault secrets enable path org1 team a kv2 kv vault secrets enable path org1 team b kv1 kv secrets enable path org1 team b kv2 kv org2 a kv1 org2 a kv2 org2 b kv1 org2 b kv2 put new inside value hi put more inside value hi
i followed the documentation here url
1 access the web interface using firefox 2 try to select an auth method with a screen reader 3 you have no idea what method you selected
steps to reproduce the behavior 1 demonstrate that vault requires ca cert to be set using cli
i have a script that recreates the issue url you may need to run this multiple times to see the issue
steps to reproduce the behavior 1 setup a vault docker container that should use a config file without region identified see below for the config file 2 try to boot the container assuming you have already access set up for this iam role to vault 3 see error error type sender type code signaturedoesnotmatch code message credential should be scoped to a valid region not us east 1 message error
steps to reproduce the behavior 1 run a development server nohup vault server dev the problem happens in my production server aswell 1 export the vault address export vault addr url 1 get the root token root token cat nohup out grep root token cut d f3 1 create an oauth2 token in google cloud url getcredentials with url and url authorized redirect urls suppose g client id is a variable that contains google auth client id and g client secret is a variable that contains google auth client secret run vault login root enable oidc auth enable oidc configure oidc write auth oidc config default role gmail id g id discovery secret g secret configure default role write role gmail allowed redirect uris bound audiences policies default user claim email scopes email profile test command line login login method should work fine open ui on a browser with stylus installed select in authentication dropdown click google sign in button to login with see problem cleanup kill rm nohup out and delete created api key
i don t know how the secret got created in the first place
steps to reproduce the behavior 1 use vault version beta1 2 run vault login method oidc role woop callbackhost callback example com 3 redirect uri is still set to lolcahost redirect uri http 3a 2f 2flocalhost 3a8250 2foidc 2fcallbac
steps to reproduce the behavior 1 curl h x vault token url xpost d token ttl 10m token max ttl 15m
when following the oracle database secrets engine found here url i get the following error log error writing data to database config my oracle error making api request url put url code 400 errors error creating database object plugin exited before we could connect this appears after running the following command vault write database config my oracle plugin name oracle plugin connection url
steps to reproduce the behavior 1 create an auth backend with a leading whitespace 2 run vault auth list auth backend is shown without a leading whitespace 3 check auth backend in the ui in the overview it shows it without a whitespace but in the details view whitespace is prepended with 20 4 run vault disable with either path including excluding backend is not disabled
try to use any of hyperlinks from list above
steps to reproduce the behavior 1 run vault write auth ldap config binddn cn myuser gen ou generics ou company users dc company dc com case sensitive names true groupattr cn groupdn insecure tls true starttls true url ldap ldap company com 389 userattr cn userdn ou company users dc dc com bindpass mypasspw 2 run vault login method ldap username myusername 3 see error cli error authenticating error making api request url put url code 400 errors operation failed log errors vault 23180 2019 10 15t17 53 version z debug auth auth 9feba499 error getting user bind dn bind service failed result code 49 invalid credentials ldaperr dsid comment acceptsecuritycontext data 52e v2580
steps to reproduce the behavior 1 define windows service using i e ansible name create vault agent service win service name vault agent path vault config dir vault exe agent config config dir agent hcl description hashicorp start mode auto state stopped 2 run ps c program files sc exe start 3 see error sc startservice failed 1053 the service did not respond to the start or control request in a timely fashion
steps to reproduce the behavior run the following set of commands to make the required api calls to vault bash create the rabbitmq secrets engine mount curl header x vault token token request post data rmq payload json url configure connectivity to rabbitmq curl header x vault token token request post data rabbitmq payload json url create a vault role for rabbitmq permissions assign dynamic user curl header x request post data rmq role json url read role we have just created curl header x url following are payload files used in some of commands payload json connection uri username guest password guest rmq type description secrets engine config default lease ttl 300 max lease ttl 300 listing visibility unauth rmq role name rabbitrole tags administrator management vhost configure write read
vault pki tidying up procedure url tidy
steps to reproduce the behavior 1 deploying 3 etcd nodes and 3 vault nodes 2 confirmed that vault secrets list detailed is working 3 shutdown one etcd node most likely the first one in endpoints list then vault command is not working properly with below error context deadline exceeded or local node not active but active cluster node not found
steps to reproduce the behavior 1 a provision the template policy with terraform hcl resource vault policy users name base user policy eot path secret data identity entity name capabilities create update read delete sudo path secret metadata identity entity name capabilities list read create update delete eot 1 b create the entity with the alias hcl resource vault identity entity user name user policies base user resource vault identity alias mount accessor auth userpass xxxxxx canonical id vault id 1 c create auth enable userpass write auth userpass users password test 2 cli test bash curl request post data password test url json pp curl header x token request list url json pp request id warnings null auth null data keys test 3 web ui permission denied
just sign any certificate with ssh vault secret engine
import torch from transformers import berttokenizer tokenizer berttokenizer from pretrained bert base cased test string text with percentage encode converts a string in a sequence of ids integer using the tokenizer and vocabulary input ids tokenizer encode test string output tokenizer decode input ids print output text with percentage
from transformers import autotokenizer encoder autotokenizer from pretrained gpt2 encoder add special tokens pad token pad sep token sep print encoder sep token encoder sep token id print pad pad id print all special tokens all special tokens print all special ids all ids
steps to reproduce the behavior 1 load config file and add summary info config xlmconfig from pretrained os path join args data path xlm mlm 17 1280 config json config summary use proj true summary type mean summary proj to labels true num labels len labels activation tanh 2 load the model model from pretrained os path join args model path xlm mlm 17 1280 tf model h5
unfortunately i cannot give a complete example of this because it is a private project but if needed ask and i will try and give you all the possible information
add an ion infinte scroll element at the bottom of the page and scroll down
start with tabs starter and build for debug and production in case of debug the border color styled via css variable works but in case of production apk the css variable does not work
ionic start test sidemenu type angular cd test ionic serve 1 open safari url 2 choose a ios user agent from developer menu 3 edit src app list list page html and add a ion spinner wherever you want 4 now in the menu click home list home list until you see the spinner gets frozen and the menu item gets with the background frozen in gray
click pop button in example project and not console log url
install ionic react sidemenu app and check default navigation
1 download the ionic tabs project 2 add home page with button navigation to tabs page 3 add back button to tabs page
create a next js app with typescript in my case add ionic react as a dependency import a ionic react component like ionheader and use it
navigate from one route to another on the target route create component with ion nav set root and push another component to that ion nav click ion back button on that newly pushed view
navigate from one route to the other using router this router navigate alternatively same behavior can be observed on ion nav
npm install g ionic version ionic cordova platform add android version quiet no interactive project myproject ionic cordova build android prod release no interactive project myproject this generates a app debug apk if you do npm install g ionic version cordova platform add android version quiet no interactive project myproject cordova build android prod release no interactive project myproject it properly generates a release apk app release unsigned apk
run the given stackblitz demo on a ios device with ios version
create ionic tab application select ion tabs from your class then create a dynamic way of changing tabs without clicking the tab icon in my case i used android hardware back button
create ion select multiple true with number of options then select enough so they wont fit in one line
i was not able to reproduce the issue using this ionic angular stackblitz using test bugsnag account url i believe this may be related to the change detection strategy or some similar setting
create an app that tries to use the getselected methods from iontab
see the code above
create an app that tries to use the ondidpresent event as a prop on an ionmodal it will fail when ts does its compile step
create an project using modal emulate in genymotion or other emulator like android studio the device nexus 5x with this version of android version or version 8
upgrade ionic angular to version
demonstration here url change commenting on lines 39 to 41 to see the different behaviors js const type overlay const type reveal const type push you can also change the mode by uncommenting lines 30 to 32 and refreshing app js setupconfig mode ios
this is what i have in my html file ion select slot end ionchange onprovincechanged event formcontrolname provincectrl interfaceoptions custompopoveroptions interface popover placeholder province translate div ngif cities length 0 ion select option ngfor let city of cities value city id city name translate ion select option div ion select and this is what i have in my ts file onclearfilter this form controls provincectrl reset emitevent false
you need to add an ion slide fill one slide from content and add a button at the bottom so you ll need to scroll to the bottom of the slide to see the button you have add following style in slide style scss ion slides ion overflow y scroll border radius 10px height 100 important
put an ion select on the page and select one of the options
repo url 1 download above repo and switch to picker branch 2 click on go to form page 3 open any ion select and select any of the item from list
1 press enter again and again after opening the picker
set background focused property to any color other than primary for ion fab button
this sample code demonstrates the feature working correctly because it is implemented with ionic react version url the sample code implements a component with a leaflet map react leaflet on a tabbed page this is pertinent because leaflet maps can render incorrectly in a react environment e g if not completely visible when rendering the supported way around this is to invoke the invalidatesize method on map element which can be accessed from react once your page is visible hence need to access map element from function bound to useionviewdidenter see effect of not calling invalidatesize by commenting out line 10 in page1 js to see effect of trying run this with ionic version you would need copy code elsewhere since at time of writing version version wasn t available in stackblitz workaround bind leaflect map element global window variable instead of using usestate setter but not ideal
add an ionbackbutton to the page give it a default href navigate around the page click on the back button note that it goes to the default href
ion toggle onofftoggle mode ios ion toggle
see stackblitz for this example assuming a 3 item list 1 drag item from top position to bottom position slowly note that the change should be from 0 to 2 as 0 is the first element and 2 is the last 2 drag item from top position to bottom position quickly note that the change should be from 0 to 2 again but is instead 0 3 because while item is being dragged it still considers that in list in its original order
as noted above this is tricky but i do know what the problem is so see below
include hammer js to your project create an ion item sliding component on your template bind a press event to your component make a condition to disable the item slide with the press event
create a page with a collapsible header create another page also with a collapsible header with an ion back button but ion buttons is placed in the primary slot navigate from page one to two
place a collapsible header in an otherwise empty ion content run it on an ios device and try to scroll the page until the point where the scroll header should be hidden and the main header should be visible
on any of the sample apps replace ionpage in one of the tabs with div when the user clicks the iontabbutton to switch to that tab it silently fails to switch however if user navigates directly to tab it will render properly on page load
ionic cordova build android prod
use ion searchbar submit from the input clear it and then use setfocus see that the first letter capitalization has disappeared this searchbar value this searchbar setfocus
deploy the react code example code on the ionic framework api page url click the button show toast 1 or show toast 2 wait for the toast to dissappear or dismiss it click same button again toast does not reappear
create a slider with some slides of different height
vue create ionic core issue cd ionic core issue vue add router npm install ionic vue npm install ionic core npm install ionicons version 1 save dev vue add cordova please select platform android please add the following code block to main js import from import core css bundle css use buld the app and run on android version
i have just done prod build i e ionic build prod release and deployed to aws
1 in ionic native app on ios that has menu with reveal type navigate forward to a child page so that back button is displayed 2 click on the back button animation starts and then while animation is still in progress click on the menu s hamburger button menu animation starts 3 try clicking on the menu button to open the side once both animations finish
create an application on one component disable the menu with menucontroller enable false based on a condition once condition has been met be navigated elsewhere with router navigate location sidemenu will still be disabled
1 add ion img src url to your vue page or component 2 run ionic build with ionic build vue cli service build 3 run cap copy npx cap copy 4 run app in android studio to start app on your real device mine was huawei p20 lite 5 check if img is shown
to illustrate the problem i have taken the sample starter tab app of ionic and extended it with a second tab page this is the setup first tab page tabspage tabs tab1 tabs tab2 tabs tab3 second tab page othertabspage other tabs other tab1 reproduce the problem like this open tab2 click button open nested to go to new page other tab1 now click back button on top left you will end up on tab1 instead of tab2
clone the test repo url run npm i then npm run start open test page from the menu if you open the console you ll see that ionviewdidenter event fired only for the component d and not for other three components similar behavior can be seen if you wrap testpage in withionlifecycle only page will fire event and not components inside it
see code snippets below all of this testing was done with chrome v78 installed on the web platform a button makes the following transitions button normal yellow button mouse over green button mouse down light green mouse up green mouse out yellow on the android platform using the android 9 pie emulator normal yellow down light yellow up note there s no green at all when using emulator on android platform using android 9 pie on a real device moto g6 normal down then light up when looses focus it returns to i can understand why you might want a to stay highlighted after it has been activated brandyscarney mentions that this behavior was changed to comply with md spec 18534 that s a design decision i can live with but why would colors behave differently depending if you re using emulator or real device
see stackblitz below very easy to reproduce 1 assuming you are starting from page 1 use the button on the bottom to go to page 2 2 use the button on the bottom of page 2 to go back page 1 3 app will crash you can also start from 2 and it will crash when you return
1 run ionic start and choose react as your framework 2 select the side menu template which comes with an ionlist list none by default 3 when the project has been created run ionic serve 4 notice that the ionlist still shows lines under each item in the side menu even though property list is set to show none no lines screen shot 2019 10 28 at 1 53 25 pm url
src url apk url open below apk in android phone and try to close with back button
1 enable ios mode 1 go to tabs tab1 page 1 tap button tab one 1 tap link navigatebyurl page1 url url
in our code we have a global loading status in the redux state and the loader uses that to control whether or not it is displayed this generally works ok when it is shown then some time passes then it is dismissed but if we show it and then immediately dismiss then will stay on the screen for the other issue have some code that displays loader with isopen set to true waits a little while and changes isopen to false before loader is displayed on screen switch to a different tab wait a little while and switch back you may find that still displayed
1 make first page 2 make second page 3 routing pages like tsx ionreactrouter ionrouteroutlet route exact path render redirect to users route exact path users component userlistpage route exact path users id component userdetailpage ionrouteroutlet ionreactrouter 4 access the first page with query parameters users name test 5 push the second page routerlink 1 6 the query parameters are gone
link to repo url 1 run app you will start on the page a 2 click the icon in the fab button this will bring you to page b notice the ionbackbutton that is visible 3 click go to child page this will bring you to page c 4 click ionbackbutton this will bring you back b 5 notice that ionbackbutton on b no longer shows up it is still in dom but has display none set
i just created blank app using ionic cli and used code below which contains two pages home page and first page 1 open app which will open home page by default 2 go to first page 3 use back button inside first
screen recording 2019 10 24 at 7 49 49 pm url
i created ion radio group in there are ion item with ion label and ion radio
it should reproduce with any multi page application
take an ion select do an api call or big delay to fill in the select options and the default value this bug can not be reproduced in the browser it needs to be on android or ios chrome shows the bug on mac os when an android or ios device is selected in dev tools
try to use ion split pane with ion menu normally
1 clone repo url 2 npm install 3 ionic serve open console to check the tabs exception being thrown by the tabs entry js file
install ionic angular version
make a simple app with multiple ion slides put an html5 audio player with the controls attribute set on each slide the first slide will show an audio player with pause play button and the time control slide subsequent slides will briefly show the time control slide but it will disappear leaving only a play pause button
detailed description url repository of related code url url
1 make an app with nested routes 2 push a page 3 pop the page with history goback 4 push the page again then a blank page will be shown
start with the react tabs project add the ionmenu portion notice that the menu icon does not appear in the header and you get a warning in console that menuid is now deprecated and you should use containerid i did try to update code to use contentid first and then added an id first to menu ioncontent element that removed warning and icon actually appeared but clicking button didn t do anything i m sure i m just missing something from docs but it s not entirely clear how to add a menu item a page
schedule a local notification
create infinite scroll example according to the official documentation url run on apple ios device as app with most recent ios version scroll down to load more data the view jumps back to the top as soon as data is added to the view
create a simple ionic react app using the steps mentioned at url npm i g ionic ionic start my react app pick react ad frontend framework pick sidemenu as starter template run ionic serve to start your app open url to run the app on the browser open sidemenu and click on list option see there is a list with a bunch of items with icons now go to the source code open file my react src pages list tsx find line 41 and replace icon icons x 1 for name arrow back check each of items on list display arrow back icon go to same line and now use other icons like home or star see none of those icons are displayed and no errors are displayed on console
1 access url 2 click tab2
take the generated tab app and do the following
the upper part of japanese title is not displayed url if font size is set smaller ex font size 30px back animation is rattling after display you should click item and navigation back url
url 1 clone 2 npm install 3 run it using android emulator api 28
best experienced on mobile 1 pick up the picker column 2 move it to the option to select 3 release the picker column while not moving the finger up or down
start a sample project and put my code with some sample data and run it in ios device
create a react tabs app make sure you are on android or emulating android click the tab2 button in the tab bar click details click the tab2 icon again in the tab bar page will navigate back then click details again details page will be hidden problem doesn t exist on ios
1 ionic start myapp sidemenu 2 ionic g page popup 3 after the homepape page card we add ion button color primary click loadpopup load popup ion button in home page html in home pase ts public loadpopup tthis presentmodal async presentmodal const modal await this modalcontroller create component popuppage return await modal present 4 in home module ts we import popuppagemodule as indicated in the documentation of ion modal ion modal controller lazy loading import popuppagemodule from popup popup module and add popuppagemodule to imports array now clicking on the home menu option the popuppage page is loaded instead of homepage
typescript export const modal react fc const showmodal setshowmodal usestate false return ioncontent ionmodal isopen showmodal slides ionbutton onclick setshowmodal false close modal ionbutton ionmodal ionbutton onclick setshowmodal true try it in modal ionbutton ioncontent const slide react fc n number n ionslide div classname ion padding h1 slide n h1 div ionslide const slides react fc return ionslides pager true slide n 1 slide 2 3 ionslides home react fc return ionpage ioncontent modal ioncontent ionpage
put an ion slides with 2 or 3 photos in a modal page and present it try to drag left or right you will get stuck between photos
before open 1 have an ion list with ion item s containing ion item options on the right side of the screen i e you swipe left to reveal them 2 if you repeatedly tap on the far right side of the screen and trigger right most ion item option will eventually be triggered before close 1 have an list with item s containing options on right side of screen i e you swipe left to reveal them 2 swipe to reveal options of one 3 tap another to trigger close transition open 4 quickly tap in area where options were visible they can still be triggered for even a couple hundred milliseconds after it appears closed here s a video reproduction url notice that i can trigger color picker even though appears closed
using the sample application select one of the list items and watch the background of the footer on page
please see url url
import youtubevideoplayer from ionic native youtube video player ngx export class mypage constructor private youtube youtubevideoplayer playyoutubevideo videoid string this youtube openvideo videoid
create a ion item with a checkbox at start with a label
1 git clone url 2 npm install 3 npm start 4 steps 2 7 from
1 add ion alert with inputs 2 run the app on ios and open the keyboard by focusing on the input field of the ion alert
you can try it on my beta website url visiting in on mobile
create new ionic app subscribe to the pause and resume events and console log ngzone isinangularzone
create a stencil component which uses shadow true and custom styles use an ionic component somewhere within the render function note the issue only happens with ionic components which use shadow false eg ion list integrate the component into a vue app which uses ionic vue
start app on home page click on button on homepage at the bottom list navigated to listpage click on item 1 navigated to homepage
imagine an ionic stencil component such as refresher use it in this way ion refresher slot slot ionrefresh dosomething event ion refresher content ion refresher content ion where slot is a variable defined as fixed in the component class you can also directly set slot fixed ionrefresh dosomething event content content while this works in android and the web without problems in an iphone or iphone simulator i will get the following error error make sure you use fixed the does not work at all on this device only way to make work on ios is following fixed ionrefresh dosomething event it is not nice to use constants within templates thus i usually use variable binding for all input properties as this does not work on ios i consider a bug if is not a bug probably docs would need to specify that properties need to be constants within template i suspect issue has something do with change detection component probably initialized before property variable passed and thus property ignored
ion radio group disabled ion radio value 1 ion radio ion radio value 0 value 1 group
generate new sidemenu app and run on android version
create an ionic app with the ios platform and add an ion menu that includes an ion item that uses routerlink to navigate to another page then click an ion back button
create an empty page with the above ion textarea code see warning appear in the console
see related code
start project and then refresh home page
1 write a simple sample program to open the picker 2 open chrome open the developer console and click toggle device toolbar 3 select the emulated device for iphone6plus 4 open the picker and scroll down picker until it crosses border 5 error reproduction
ion tab bar slot tabslotposition in the template and tabslotposition set to top in the component
sample code below just the default example from the website
1 enable scrollassist imports ionicmodule forroot scrollassist true 2 put input area at page moved by push
insert a ion progress bar to your page open a new page from the page go back to the previous page using the back button the progress bar will stop animating
tap twice on a tab in a tab bar or open a page from a side menu and then open the side menu again and open the same page again then open page from the selected page you can just use the ionic tab starter add new and navigate to this new from within one tab it will work but if you go back and tap another time on then new back button is disappeared
1 run ionic cordova plugin add url 2 run npx cap sync 3 run npx cap open ios clean and build the project and got below error img width 1398 alt screen shot 2019 09 25 at 3 10 13 pm src url
sample app url note there are two ion list s with a direct child ion reorder group the difference between the two is that one uses ion item as a child the other a custom component the ion item version works fine but custom component version does not
create a ion range and append ionchange event please see related code
create an empty ionic project ionic build prod and take a look at the common es2015 file
url 1 open datetime picker change value and select cancel 2 datetime displays original value 10 00 which is an expected behavior 3 open datetime picker change value and select cancel again 4 datetime displays the changed value
we can found this by checking platform is url is platformname platforms boolean in desktop browser device browser i e mobileweb and in ipad iphone or android
run ionic serve and click on present modal button on landing page
installing the firebase fcm plugin both ionic package and cordova plugin also setting up the google services json file that s all the changes that led this app to stop working
run ng build prod and publish the project
using the barcode reader
1 create a blank app 2 create a module named menu 3 create a module named tabs 4 create 4 modules named 1 through 4 5 make the first three modules childs of the tab module 6 make the fourth module direct child of the menu 7 navigating to fourth page will play transition animation 8 navigating to third page will not trigger transition animation
download the latest conference app as a base integrate cordova and the ionic wkwebview plugin version do an optimized prod prod build integrate slides as below and wait for the render problems to happen you may need to try a few times thus i integrated everything into the schedule modal sliderefreshbug url
1 clone and serve repo below 1 visit all three tabs or at least tab2 but leave the menu on tab2 closed 1 go to tab3 or tab1 1 swipe from the left go to tab2 note that the menu is open even though we did not swipe on this page
n a just want backwards compatibility ie there should be an option to allow datetime to behave as it did before all the changes with respecting timezones
1 get a windows machine if you don t already have one 1 clone the app below on your windows machine 1 npm i npm serve etc 1 load app in chrome edge and ie11 note that the paragraph in chrome and edge is blue in ie 11 it is still black and the styling of the header bar is also messed up
the easiest way to reproduce is with a not found route that matches anything this is included in the stackblitz below
clone this repo url run npm i run ionic build run npx cap sync android run npx cap open android on the device click any of the items on the main home screen after the tutorial focus on ion input on top of screen click here to focus input tap navigation back button header toolbar of app bug happens also when you tap yes you return to previous screen which is empty because it s virtual scroll
1 render modal from parent with conditional 2 set conditional to false see stackblitz
open the sample with google chrome 71 on android
in an app with ionic version and wkwebview plugin version create a modal dialog with enough content to enable scrolling scroll and close the modal you can observe that the page beneath has also scrolled down
in the form below press the enter key and observe that the form does not attempt to submit
ionitem ionlabel htmlfor firstname first name ionlabel ioninput name firstname id firstname placeholder enter your first name ionitem in a typescript aware ide you will see that the htmlfor is underlined and generating the error type children string htmlfor string is not assignable to type intrinsicattributes pick ionicreactexternalprops ionlabel reactprops htmlionlabelelement
1 create a page with anchors using routerlink with fragment directive to different sections 2 try clicking on anchors
1 create a new ionic 4 x application 2 create a fab container with a fabbutton and a fablist with buttons inside it and use viewchild to get reference from the fabcontainer 4 use the fab container activated property as render condition to any element on the template
show the loading and run the http fetch after the promise resolve or reject i need to hide the loading
create a new ionic project with a simple menu or blank start page on any page add a link to a new page on this new page add tabs with an ion back button
basic routing doesn t work see included stackblitz
use stackblitz as a good example
1 create a html page with ion input 2 it s component ts file at the init
run the program on ios and android i get two completely different results app component html ion app dir rtl ion router outlet main ion router outlet ion app home page html fab vertical top horizontal start fab button size small icon name menu icon fab button fab
create a new project ionic start fixedpostest tabs capacitor on tab3 i added a div to the ion content tag with class floating button and some random text in global scss i added floating button position fixed bottom 20px right 20px background red run project in chrome show the mobile layout and switch orientation
the following snippets demonstrate the problem html ion list class scroll y striped ngswitchcase instructor ion item ngfor let item of filteredlist let zi index click beginreport item ion label item fullname id id ion label list component async beginreport group output js return click n t 1 l component select l context index t t this code works in debug builds when built with release the term l component select is undefined l component corresponds to this and all the expected local variables exist however there s no select property in object or prototype
to reproduce all i have is a map with the sliders on top of it from there i have a listener map on for googlemapsevent map click and googlemapsevent marker click
1 use an ion searchbar inside a tabs page 2 click on the searchbar so the keyboard opens 3 click on an ion item in the search 4 app routes to detail screen 4 tab bar stays in the middle of screen
step 1 select an input step 2 click ion select
just run the following application in an android device open the console inside the inspector and trigger the keyboard directly from code keyboard show keyboard hide keyboard show hide
copy the code below into your ionic react project and run
create a project with the ionic start command and just add a button
create ionic project with ionic angular version version create popover and then try to open popover twice
open the app and click the login button press the device home button to put the application in background mode open app from background after 20 30 second you will see text is not rendering behind alert also after a click on login when you come to home page it will show blank initially
1 create an application with the newest version of ionic and cordova version 2 create elements and associate them with touch events 3 run the app on a device that has ios 13 4 scroll stop scrolling and immediately touch any of the elements that react to some touch event
generate the ionic conference starter upgrade to ionic version swipe around and notice the issue
on master open the ion modal basic test and add animated false to the createmodal function open the test url url in safari on ios a simulator works ios version or 13 click present modal the modal will be inserted into dom but won t display from initial investigation modal wrapper on ios seems to have a translate3d 0 100 0 transform on it to prevent flickering url l15 when you disable animation with 0ms url l209 ios safari it takes translate3d into account causing to be hidden off screen
create an ionic app and a button with these styles position fixed bottom 0 left 50 transform translatex 50 margin 0 0 16px 0 z index 1 now resize the browser window on chrome v76
1 clone example repo 2 npm i 3 ionic serve 4 open dev tools 5 on tab1 click on push page with radio group 6 navigate back to tab1 7 click on push page with radio group again 8 check console infinite loop
please see the demo below in
right menu bug from ios browser or running on an ios device simulator click the right menu button in the toolbar and then try and click on backdrop to close the menu works in browser but not on ios device simulator or ios browser
1 build this url 1 install on android device 1 in system menu increase the system font size up from default a few times 1 eventually you will get the ellipses
tabs are affected heavily because all of their views are cached and reused it happens on all platforms and on both virtual devices and real devices screen recording 2019 09 04 at 1 08 00 pm url
create a tab view with four tab buttons long press any tab button that is currently not active for about 5 secs then release
create an application with two components navigate from one component to the other with a root navigation and use the value back for the animationdirection
1 start a page in small size so the ionmenu is collapsed 2 open the left menu and click something it it to open a modal 3 close the ionmodal and collapse the ionmenu 4 make browser size larger so ionmenu becomes visible 5 you should now clearly see bug in ionmenu
navigate through multiple pages and use the hardware back button to return when on the root page click the hardware back button again multiple times
show the loading and run the http fetch after the promise resolve or reject i need to hide the loading
create a virtual scroll list with ion virtual scroll create several virtualitems within that list and add tap test or press test to them then try to scroll with touch in the chrome simulator make sure that it s in touch mobile mode by dragging on the list
the easiest way to reproduce it is by repeatedly navigating between two pages while monitoring the dom nodes count simple demo app which easily reproduces the problem ionic navigation dom node leaks url steps to reproduce inside the demo app open app in chrome while keeping devtools performance monitor open repeatedly perform following steps 1 click navigation leak link 1 use browser back button to navigate back to homepage 1 optional press collect garbage button in chrome devtools found inside performance tab notice how each iteration of opening and closing demo page increases number of dom nodes reported by performance monitor ionic navigation dom leaks url staircase pattern seems suggest there s a memory leak that happens while navigating between pages in an ionic app
create a new react based project with ionic start sidemenu react sidemenu type react serve the project and open in browser click the external links to documentation in the home page notice the url updates to url
below is a link to a page with a bunch of components that i ve thrown all about for testing ui ux designers should avert your eyes to reproduce this i ve just been navigating to the page and refreshing url
create a simple ionic picker and click on twice ionic ui issue url
modals created do not animate or open properly
1 create an empty component and write a basic button like this ion button click icononly icononly ion icon slot icononly icon only start icon logo ionic ion icon ion label ngif icononly label button 2 in the components definition file add this protected boolean false 3 try to toggle it and check out inspector for button has only class
create an ion input with type date or time and run it on an ipad pro device or simulator
create a new project add ion textarea with autogrow attribute and insert text
ionic start put ion input clearinput value clear me ion input on html set color on app scss root ion color step 600 red
1 set up datetime with display picker format to hh mm a 2 assign model with current utc string 3 open datetime picker and change hour
have an ion toggle set the color for the two parts background and handle and the two states
the example has been stored in github url and the steps required to duplicate the issue are explained in the readme md file stencil colorpicker web component has been built with stenci core version
transition between pages in mobile view
1 insert an ion refresher in a page with content in it 2 build on ios device or simulator 3 start pulling to refresh slowly 4 see that the content makes a little jump before the refresher appears
let ticketmodal await this modalctrl create tcomponent modalticket tcomponentprops t tpurchase purchase t tbackdropdismiss true tenteranimation customanimation scaleupenter tleaveanimation customanimation scaleupleave return ticketmodal present
1 checkout conference app add translucent true to ion header and fullscreen to ion content 2 click a link to go to another back 3 go back 4 observe title is blurred until transition animation is done
in the code example press the button make pic three active with the setting public slideoptsthumb slidesperview 3 it will not mark the third slide as active with setting public slideoptsthumb slidesperview 1 it will correctly mark third slide as active
start a new ionic react app with sidemenu template add the footer after ioncontent in scr pages home tsx ionfooter iontoolbar iontitle footer iontitle iontoolbar ionfooter
just using the sidemenu starter template with no changes at all tried that with capacitor and cordova and the i got the same problem ionic start myapp sidemenu capacitor ionic build ionic capacitor add android ionic capacitor copy android open android run the application from android studio
easier to show with the navigation on the demo conference app 1 start from a page without modals let s say the login page url 2 navigate to the schedule page 3 press settings button in top right corner modal will be available to user 4 press back button in browser empty frame still stays on top of application issue is critical for users on mobile devices no backdrop available to click just a blank screen or if backdropdismiss is set false
create a blank ionic react app and add notifications component with the code from here url
stackblitz url ts event detail complete false should reset the reorder component s position
in a stenciljs app start the app and then navigate to the button press it and thus the lag url
add text wrap attribute to ionlabel text wrap attribute not in final html output
i create a popover this popover has wrong value for top on popover content if i resize the screen then the top value is sometimes calculated correctly the popover contains a different component and that component contains a ion list not virtual which is populated through an observable async
installed latest ionic cli and inited a react project using ionic start myreactapp type react then added isplatform to the import list import ionapp ionicon ionlabel ionpage ionrouteroutlet iontabbar iontabbutton iontabs isplatform from ionic react
create an application with a page rendered in a router outlet and dom elements adjacent the outlet and the ion toolbar from inside the outlet will overlap the status bar
npm install g ionic ionic start test blank blank cd test blank ionic serve
1 first the project this project is some months old and suffered various migrations until these latest versions of ionic 2 i was being able to correctly build android apks that target the 7th version of this os they were working okay except for very known bugs as the back button bug and so on i was currently trying to fix this precise feature 3 as i had to test various approaches i wanted to use the very useful ionic devapp for that purpose as did in past therefore tried using command serve it but it didn t work it started giving a different error ng cmd run app ionic cordova serve host version port 8100 cordova mock consolelogs consolelogs port 53703 ng unknown option consolelogs ng unknown option consolelogs port error ng has unexpectedly closed exit code 1 4 looked for solutions online and stumbled upon this solution url updated package but then it started giving error reported before afterwards went other solution url but didn t work
click the react readme link on the main readme md page
1 create a loading overlay and present it 2 create another loading overlay but don t present it 3 loadingcontroller gettop returns the second overlay instead of the first one 4 loadingcontroller dismiss doesn t dismiss the open loading overlay and returns false
use class with any ionic react component as of the version in this report
on ios 1 add the following image to assets back background url 2 use the following scss on a page ion content background linear gradient rgba 0 0 0 version rgba 0 version url assets images back background jpg no repeat center center cover this should set the image to fill the entire content 3 open a side menu or display a popup anything that will add a darker overlay on top of ion content you will notice white flash see an example video here ezgif com optimize url
try to execute the code below
add alertcontroller to ts file
example app url steps to reproduce 1 launch app 2 touch input field keyboard appears 3 touch button loading controller appears keyboard dismisses but page does not resize leaving a blank space on the page where the keyboard was until the loading controller is dismissed
as can be seen on example app the slide with 0 index red background flashes for number milliseconds before it is set to index set in options property yellow background
see above simply create and run an app using the blank template
start up the sample project on the homepage there is an icons example section which will show 5 icons which only 2 are displaying
create an app with the ion infinite scroll component at the end of a list long enough to fire ioninfinite twice console log the event emitted from ioninfinite and you ll notice it only fires once
in a react app add a floating action button and set the vertical alignment to bottom
create 2 services pointing the same pod and the same port e g vip headless pilot logs should show messages about conflict where existing incoming values are not stable message conflicting inbound listener pod ip pod port existing vip service incoming headless service message conflicting inbound listener pod ip port existing headless service incoming vip service message conflicting inbound listener ip port existing vip incoming headless each time listener changes its envoy tcp proxy value proxy sidecar reloads its and drains connections
i ve downloaded istio version and took the command straight from url excluding specific kubernetes namespaces but there is a problem with istio cni value overrides istioctl manifest generate set cni enabled true set values cni loglevel info set values cni excludenamespaces istio system kube system foo ns bar ns bad path value values loglevel info unknown field loglevel in v1alpha1 cniconfig same for the
you can deploy url and see that cassandra 1 fails cause it can t handshake with cassandra 1 but the issue is because it can t connect to itself you can exec into cassandra 0 and run apt get update apt get install y netcat net tools nc cassandra 0 7000 when istio is disabled the last command does not return and accepts characters
generate manifests and check for grep context proxy version istioctl manifest generate grep context proxy version this produces two entries for me and looking in the file i can see two entries that look like context proxy version valuetype string they are on lines 173 and 207
1 install istio version 2 deploy your service 3 using locust to run test 4 watching grafana dashboard
install operator with default profile stevens macbook pro 2 sdake grep if operator log 2019 11 24t22 12 version z info manifest after resources and overlay tls certificates certificate chain verify subject alt name spiffe cluster local ns istio system sa istio galley service account if disablereportcalls tls certificates certificate chain require client certificate true if disablereportcalls i don t expect to see disablereportcalls in the generated log this is the only entry
1 replace probe path by invalid path e g kubectl edit deployments n istio system istio galley readinessprobe exec command usr local bin galley probe probe path invalid path interval 10s 2 galley will be redeployed and readinessprobe does not fail kubectl get pod n istio system istio galley hhg52 name ready status restarts age hhg52 1 1 running 0 59s
does not happen consistently it has to do with installation ordering in the operator
this is a bit hard to reproduce since you need to get the istio system namespace stuck in terminating this can be tried with the following steps from istio operator repo 1 deploy istio controller operator kubectl apply k deploy 2 deploy the demo icp kubectl apply f deploy crds cr yaml 3 watch the istio control plane come up 4 kill operator forcefully kubectl delete k 5 start namespace delete which should hang now kubectl delete ns system 6 with ns in terminating 7 do steps 1 3 8 operator will attempt deploys but will fail 9 will never attempt a 2nd reconcile loop 10 only way to fix this is to cleanup namespace forcefully and then edit icp add a label trigger a reconcile loop
run the cmd above
install istio in gke and configure prometheus
the setup documentation at here url install istio using the default profile lists example manifest apply commands if you execute them in the sequence presented in the documentation you end up with a functioning ingressgateway like so yes istioctl manifest apply istioctl manifest apply set values global mtls enabled true set values global true istioctl manifest apply set profile demo but if you shorten this to one invocation wtih all those parameters ingressgateway will fail to forward any requests and return a 503 bad gateway error instead yes istioctl set profile demo values global mtls enabled true values global true my assumption when reading docs looking at commands is that when you invoke are updating current configuration to enable or disable something based on commandline parameters however behavior seems to indicate something else is going on that every time it s going add some things and remove some things if this is expected then it would be nice update docs reflect this fact and perhaps explain it
create any http service and envoy filter with provided configuration matching the workflow
create an out of process adapter listening on check events it is never called
gke gcloud beta container clusters create cluster1 create subnetwork name sub cluster range version 24 services ipv4 cidr version 24 default max pods per node 64 enable autorepair enable autoupgrade network k8s net machine type n1 standard 4 enable ip alias metadata disable legacy endpoints true enable private nodes no master authorized networks master ipv4 cidr version 28 autoscaling max nodes 5 min nodes 1 num nodes 1 cluster version latest kubectl create clusterrolebinding cluster admin binding clusterrole cluster admin user gcloud config get value account istio istioctl manifest apply create namespace and label it accordingly test deployment works without sidecars and with manual injection network communication works as i can curl url
1 using istio version try to install with the configuration provided
manually install sidecarinjectorwebhook
update namespaceselector from namespaceselector matchlabels istio injection enabled to namespaceselector matchexpressions key istio injection operator notin values disabled via kubectl edit istio sidecar injector
use docker io istio proxyv2 version version in your application deployment plan e g docker io istio proxyv2 version note docker io istio proxyv2 version works fine
i created the following gw vs apiversion networking istio io v1alpha3 kind gateway metadata annotations kubectl kubernetes io last applied configuration apiversion networking istio io v1alpha3 kind gateway metadata annotations name gateway edge namespace default spec selector istio ingressgateway servers hosts port name http number 80 protocol http creationtimestamp 2019 11 16t16 49 30z generation 1 name gateway edge namespace default resourceversion 18078 selflink apis networking istio io v1alpha3 namespaces default gateways edge uid 4deaa965 4b3c 4961 9008 spec selector ingressgateway servers hosts port name http number 80 protocol http apiversion networking v1alpha3 kind virtualservice metadata annotations kubectl kubernetes last applied configuration apiversion kind virtualservice metadata annotations productpage vs namespace default spec gateways edge hosts match uri exact login uri exact logout uri exact productpage uri prefix api v1 products route destination host productpage creationtimestamp 2019 11 16t16 49 30z generation 1 productpage vs namespace resourceversion 18079 selflink apis namespaces virtualservices vs uid 1dfd7736 4c1d 41e2 881e spec gateways hosts match exact login logout prefix api v1 products route destination host
install istio using the command istioctl manifest apply set profile demo manually updating the images brings up the cluster
create a new demo injected namespace kubectl create ns demo kubectl label ns demo istio injection enabled create a deployment with a dot in the name cat eof kubectl apply f apiversion extensions v1beta1 kind deployment metadata labels app nginx version v1 name foo bar namespace demo spec replicas 1 selector matchlabels app nginx version v1 template metadata labels app nginx version v1 spec containers image nginx name ports containerport 80 name http eof check the source namespace mixer attribute in the envoy config kubectl port forward foo bar cdb8b9694 rtfbx 15000 15000 curl localhost 15000 config dump grep c 10 source namespace mixer attributes attributes context proxy version string value context reporter kind string value outbound context reporter uid string value kubernetes foo bar z688n source string value bar z688n source uid kubernetes foo z688n forward attributes attributes uid kubernetes z688n
use istioctl manifest apply ertmanager enabled true et values certmanager email a a com
download and look in the istio version tools1 directory
1 create a k8s cluster with a dual stack cni calico was used in my test 2 create a pod with sidecar injected 3 try to ping or curl an external ipv6 address
follow the guide
kubectl rollout restart deployment my deployment
look at the control plane pod deployment yaml
install istio with this value rewriteapphttpprobe true in sidecarinjectorwebhook and mutual tls is enabled readinessprobe httpget path port 3000 initialdelayseconds 120 periodseconds 10 timeoutseconds 10
install istio have a gateway for wildcard host on port 80 have a virtual service with an exact match route and nothing else send traffic to gw not matching the route with a host header with junk info observe results
deploy istio enable injection for a particular namespace delete all k8s worker nodes
enable mtls globally and inject sidecar in both services
i ran istioctl manifest apply f install kubernetes operator examples multicluster values istio multicluster gateways yaml force to install istio to uninstall i tried istioctl manifest generate f install kubernetes operator examples multicluster values istio multicluster gateways yaml force kubectl delete f and got an error error error parsing stdin error converting yaml to json yaml line 3 mapping values are not allowed in this context if i instead piped to a file the top portion contained run the command with the force flag if you want ignore the validation and proceed run command with force flag if you want ignore validation and proceed proceeding despite following validation errors unknown field poddnssearchnamespaces in v1alpha1 globalconfig run command with flag if you want ignore validation and proceed proceeding despite following errors unknown field poddnssearchnamespaces in v1alpha1 globalconfig run command with flag you want ignore proceed proceeding despite following errors unknown field poddnssearchnamespaces in v1alpha1 globalconfig i removed that from file did a kubectl delete f file things were uninstalled
follow the steps in the istio version kiali task create the secret with custom username and passphrase such as kiali kiali verify the username passphrase are what you expect install istio with default profile but with kiali enabled then notice your secret was overwritten with demo secret i e credentials become admin admin here s step by step 1 create secret in istio system kubectl create ns istio system kubectl create generic n system from literal username from literal passphrase 2 look at your credentials in kubectl get n system o jsonpath data map passphrase a2lhbgk username a2lhbgk 3 install enabled istioctl manifest apply set profile default set values enabled true 4 look at your now it was overwritten and your credentials were changed now has demo credentials kubectl get n o jsonpath data map ywrtaw4 ywrtaw4
1 create k8s cluster i used v version iks 2 target cluster and run istioctl x manifest apply set values tracing enabled true 3 wait for completion and then kubectl get pods n istio system to see failed pod start
cd istio istioctl cmd go run istioctl main go x analyze testdata mesh config yaml
set gw config from this message curl url iv tlsv version but get cert from default host
install istio version with helm setup a cert issuer letsencrypt install a certificate install bookinfo demo with a reference to the credentials of the certificate
1 create 2 tcp services prefix port names with tcp that have selectors that match the same pod and port 2 periodically dump the listener config for the pod over a period of 30min 1hr 3 observe that the listener config changes non deterministically sometimes it contains a listener for one of services and sometimes other this changing listener config causes connections to get dropped
install istio with the operator
see url do istioctl manifest apply set profile demo look at services kubectl get svc n istio system
go to the logs tab for any workloads page and you ll see the error
istioctl profile list
1 install istio version with default values 2 deploy a web service written by go 3 increase the requests to the web service 4 see node filefd allocated metric on prometheus 5 exec lsof c envoy on the node where istio ingress gateway in and you will see many open tcp connections
git clone url helm template namespace istio system n istio ingress installer gateways istio ingress f installer global yaml ig yaml kubectl apply prune l release istio ingress f ig yaml output on apply serviceaccount ingressgateway service account created service ingressgateway created deployment apps ingressgateway created horizontalpodautoscaler autoscaling ingressgateway created poddisruptionbudget policy error from server timeout error when creating ig yaml timeout request did not complete within requested timeout 30s error from server timeout error when creating ig request did not complete within requested 30s events m39s normal pulled pod successfully pulled image gcr io release proxyv2 release version latest daily 2m38s warning unhealthy pod readiness probe failed http probe failed with statuscode 503 2m18s normal deletedloadbalancer service deleted load balancer 2m18s normal ensuringloadbalancer service ensuring load balancer 100s warning failedgetresourcemetric horizontalpodautoscaler did not receive metrics for any ready pods 100s warning horizontalpodautoscaler failed to get cpu utilization did not receive metrics for any ready pods 84s normal ensuredloadbalancer ensured load balancer 8s nopods poddisruptionbudget no matching pods found 8s nopods poddisruptionbudget no matching pods found 8s nopods poddisruptionbudget no matching found 8s nopods no matching found
1 deploy operator 2 apply the icp 3 look at the operator logs
1 set status sidecar istio io port 0 to your k8s job 2 call curl x post version 15020 quitquitquit from main container
helm install name istio init namespace istio system in the init chart kubectl apply f url as a work around as described in github com helm charts issues 10949 helm install name istio namespace istio system in the chart
simply follow steps as described in url create the corresponding installation using helm helm template name istio namespace istio system set global mtls enabled true set security selfsigned false set global true set global proxy accesslogfile dev stdout global meshexpansion enabled true meshnetworks network1 endpoints 0 fromregistry kubernetes meshnetworks network1 gateways 0 address version meshnetworks network1 gateways 0 port 443 gateways istio ingressgateway env istio meta network network1 network meshnetworks network2 endpoints 0 fromregistry n2 k8s config network2 gateways address version network2 port 443 install kubernetes helm auth yaml create namespace secrets and install everything kubectl create context ctx cluster1 ns system kubectl create context ctx cluster1 secret generic cacerts n system from file samples certs ca cert pem from file samples certs ca key pem from file samples certs root cert pem from file samples certs cert chain pem for i in install kubernetes helm init files crd yaml do kubectl apply context ctx cluster1 f i done kubectl apply context ctx cluster1 f auth yaml
i have a service deployed in kubernetes that exposes a grpc server via envoy another service is acting as the grpc client and establishes a connection to the server and starts to stream data server streaming the client service polls the grpc channel state and when this changes from ready to anything else it assumes connection is dropped and tries to re connect when i manually delete server pod on client side stream is closed but channel s state remains as ready performing exactly same actions locally running both services in debug mode via visual studio instances results in channel state changing immediately from ready idle my client service attempting reconnect
1 follow the kubernetes example for a service with endpoints url services without selectors kubectl apply f eof apiversion v1 kind service metadata name my service spec ports protocol tcp port 80 targetport 9376 apiversion v1 kind endpoints metadata name my service subsets addresses ip version ports port 9376 eof 2 define a destination rule with a subset kubectl apply f eof apiversion networking istio io v1alpha3 kind destinationrule metadata name my spec host my subsets name subset trafficpolicy loadbalancer simple round robin portlevelsettings port number 80 tls mode disable eof 3 define a virtual to use the subset kubectl apply f apiversion networking istio io v1alpha3 kind virtualservice metadata spec hosts http subset route route destination host 4 check the pilot logs kubectl logs l istio pilot n istio system c discovery tail 1000 there appears proxystatus pilot eds no instances outbound 80 default svc cluster local outbound 80 default svc cluster local note that the endpoint for without appears in dump of endpoints as expected outbound default svc cluster local addedviaapi true hoststatuses address socketaddress address version portvalue 9376
install operator create istio control plane resource cr use the control plane run basic smoke test delete istio control plane resource if the istio namespace still exists check what s left over in the istio system namespace usually some secrets are left behind
1 create a serviceentry with resolution as static with fully resolved ipaddresses as end points 2 let it propagate to the mesh 3 after the same serviceentry with resolution as dns and add a new dns address to the existing end points 4 after this eds push to any new proxy connections will fail with above error existing proxies eds push also fails
i can consistently reproduce it with this script replacing lines 100 116 with kubectl expose deployment app name url
screen recording 12 url
1 create a new secret type tls httpbin tls 2 create ssl gateway 3 update the secret with kubectl replace command 4 ingress still serves the old cert 5 logs show a warning warn tsecretfetcherlog tunexpected server key cert change in secret
1 deploying k8s cluster using kubespray 2 installing istio without helm following this procedure url installation steps
deploy bookinfo on openshift version on ibm cloud and access the app using productpage svc by exposing it securely
start an app shell into istio proxy and kill envoy
im not sure but i guess create a sidecar injector for version gke gcr io istio sidecar injector version gke 0 and over 100 pods running
url evented listens has one parameter url l207 listens method has second argument propagate
made second click on circlemarker with popup
steps to reproduce the behavior step 1 count number of occurrences of tileloadstart event and compare to number of occurences of tileload event
steps to reproduce the behavior i don t know if it can be reproduced
steps to reproduce the behavior create map widget output map getbounds coordinates attach mousemove to output coordinates of current mouse location in map slowly move cursor to any edge of visible map and compare last mouse coordinates with previously printed getbounds coordinates left edge with southwest longitude right edge with northeast longitude top edge with northeast latitude and bottom southwest latitude
steps to reproduce the behavior init a map use wheel event image url
steps to reproduce the behavior open leafletjs com on mobile put your finger on the map and wait for a moment note holding finger on the is not dragging per se yet this also happens to me while dragging slowly users may also want to pause while dragging as they explore the map
code snippet to reproduce following steps in testsuite libra fuzzer readme md cd testsuite libra fuzzer cargo build p libra fuzzer cargo run list cargo run fuzz vm value stack trace error message circleci project libra testsuite fuzzer cargo run fuzz vm value finished dev unoptimized debuginfo target s in version s running home circleci project target debug fuzz vm value using default corpus directory home circleci project testsuite fuzz corpus vm value using default artifacts directory home circleci project artifacts error no such subcommand did you mean fix thread main panicked at called result unwrap on an err errormessage msg run failed with status exit code 101 src libcore result rs 1165 5 note with rust backtrace 1 environment variable to display a backtrace
code snippet to reproduce rust your code goes here please make sure it does not require any external dependencies cd libra cargo run p libra swarm s n 4 stack trace error message paste the output here package libra swarm is not a member of the workspace
1 copy paste the provided code snippet in marktext 1 copy paste the provided code snippet in commonmark parser 1 compare the result permalink to commonmark url
1 install deb package 2 launch application 3 trace breakpoint trap error
create a file with this content some text try to open it with marktext
1 on macos preferences set general appearance to auto 2 wait to change from day to night or 1 wait to night 2 select appearance auto
1 open program 2 create a fenced code block speciifying language as julia or python 3 enter a triple quoted multiline string
just copy the source code to marktext to see the render result
1 click the preferences icon in the bottom left corner of the editor
add bold or italic style to a hyperlink text and try to use cmd click to open it
1 create this md file markdown 1 x open the refrigerator 2 put the elephant in 3 close the refrigerator 2 open the file in mark text
paste expected behavior copy the whole list in preview editor and past it into another editor
paste example below and copy the whole list and paste it into another editor foo bar bar foo
1 create paragraph like foo cursor bar 2 copy html heading from web page and paste ctrl v it into preview editor at marked cursor position
1 enter this text x lorem ipsum dolor sit amet x ut enim ad minim veniam
1 with the cursor resting on a normal paragraph press option command u
1 build latest develop version and load markdown syntax md url 2 the first lag should occur after the file was loaded 2 scroll a bit and set cursor in some paragraph short freeze lag should occur 3 set cursor to another paragraph short freeze lag should occur 4 move the cursor in the same paragraph no lag occurs
1 type something in source code mode 2 undo it cmd z etc
1 use node version 2 run yarn dev
recreated on codepen url
go to url i class material icons play circle filled white i button class mdc icon button material icons play circle filled white button
1 admin settings formatting set to 2018 1 7 and 24 hour 2 admin data model sample dataset orders created at gear set field type to no special type and check formatting side menu which shows default formatting 1 simple question sample dataset orders shows created at with default formatting can be overruled by model and question 2 native question sample dataset select from orders shows default can be overruled by question 3 revert field type to creation timestamp and check side menu which shows global 1 simple sample dataset orders created at with global 2 native select from default can be overruled by
no particular steps after 3 days or so this will occur and i will need to restart the pod to get a new instance to start up
steps to reproduce the behavior 1 create a chart which overlays a few questions on a time series on version x 2 upgrade to version 3 have broken charts
steps to reproduce the behavior 1 go to ask a question simple question 2 pick a table 3 go to editor 4 click on sumarize pick count of rows and a column 5 click on filter an choose the count column greater than and a number 6 click on visualize
steps to reproduce the behavior 1 modify dockerrun aws json image to either v version or v version 2 upload and deploy to aws elastic beanstalk 3 see error in elb logs
steps to reproduce the behavior 1 go to admin 2 click on settings update 3 see update notification
steps to reproduce the behavior 1 create a simple question that counts grouped by a field that contains null values 2 click the count summary of the null row click view these xxx 3 resulting table is filtered with an empty is list for the grouped by field 2 add that question to a dashboard 3 in dashboard click count summary of null row click view these xxx 4 resulting table is
steps to reproduce the behavior 1 go to custom question screen 2 setup as shown below orders filter for product category doohickey sum total by user id join people count by people id image url 3 in the first filter section add category gizmo and click the update filter button 4 note the 2nd step of question is removed see screenshot meaning i need to repeat those step from memory image url
steps to reproduce the behavior 1 open any table of data either in main interface or embeds
steps to reproduce the behavior 1 go to custom question 2 join one or few tables 3 click save 4 saving failed
steps to reproduce the behavior 1 create 30 000 cards 2 create a new dashboard 3 click to add a new question 4 try to add a question
1 using windows terminal preview version version try to go full screen on a second monitor with f11 or alt enter
1 set a custom scaling factor in settings system display advanced scaling settings for example image url 2 start the terminal
1 open windows terminal 2 run cmd shell 3 hit ctrl c twice very quickly 4 then the cmd shell just hangs
start windows terminal
1 switch to microsoft chinese input method 2 press shift to insert a chinese
1 create lots of split panes and resize some panes 2 run exit on some of panes to close some panes 3 sometimes other won t take up the spaces of closed
i created a profile like this json name vs2017 developer cmd tabtitle vs2017 developer cmd commandline cmd exe k c program files x86 microsoft visual studio 2017 professional common7 tools vsdevcmd bat icon ms appx profileicons 0caa0dad 35be 5f56 a8ff afceeeaa6101 png suppressapplicationtitle true startingdirectory c source
press alt enter to enter full screen mode
1 configure a profile with a batch file like this name build myapp guid 7651 44a5 9eab commandline batch build myapp bat startingdirectory c projects myapp closeonexit false fontface fira code fontsize 10 icon c projects myapp ico 2 execute the profile build
not sure haven t been able to reproduce it myself
open cmd in windows terminal use input method he cusor bar not following the emoji picker also not normal terminal emoji error url
open or create a new file vim index html type is the cursor position html 5 then type c y kbd ctrl kbd kbd y kbd and you should see
logon with windows system with a non domain admin account find windows terminal shortcut right click on it choose run as administrator input your local admin account or domain admin account when you get prompted
trying to redefine the exact rgb value for color index 256 echo ne e 4 256 rgb ab cd ef e
allegedly already fixed in 313 but doesn t work in v version echo ne e 4 15 rgb ab cd ef e echo ne e 4 16 rgb ab cd ef e
just use the new shortcuts alt enter or f11
hit the key or other punctuation in windows terminal with chinese input method
1 close windows terminal if it was already open 2 open windows terminal 3 open a new tab 4 execute the following minimal node js session node process exit 5 try to paint some text on screen
1 launch windows terminal as user mode bug doesn t occur when running windows terminal as admin 2 move it to another display
1 remove systemroot system32 windowspowershell v version from your system path variable 2 start windows terminal
open windows terminal with a powershell tab copy a function containing an if statement paste the copied code with mouse right click ctrl v does not produce this behavior
1 minimize terinal 2 expand terminal
1 start a wsl bash shell in conhost 2 do a long directory listing so you get some content in the backscroll buffer 3 execute this command printf e 1049h e 3j e 1049l that command switches to the alternate buffer private mode 1049 executes the ed escape sequence with parameter 3 i e erase the scrollback buffer and then switches back to main buffer
1 start a wsl bash shell in conhost 2 do a directory listing or anything that produces some output 3 execute this command printf e 1049h ec e 1049l that command switches to the alternate buffer private mode 1049 executes the ris url escape sequence reset to initial state and then switches back to the main buffer
1 launch ubuntu version bash inside terminal and create a new file and edit it by using vi config 2 launch ubuntu version bash separately and create a new file and edit it by using vi config 3 open a json file no matter use a notepad or notepad or other text tool 4 copy slice of json code paste into the config file in step 1 step 2
open multiple tabs in terminal the switch tab between them
1 open a bash shell in a conhost window 2 press enter a few times until you reach the bottom of the viewport 3 run cmd exe to switch to a cmd shell 4 run the ver command just to get something in the command history 5 press f7 to view history
1 install ubuntu version on wsl version install minicom inside ubuntu 2 open windows terminal and run ubuntu version 3 open minicom from windows terminal and try to capture serial console message from any embedded dev board say raspberry pi 4 you will see messages scrolling above the view port if you scroll up you won t see the messages from the minicom
start terminal terminal window opens on main screen high dpi scaling 150 move window on secondary screen scaling 100
on a touchpad capable device try scroll using the 2 finger gesture on any terminal with some lines on the buffer
if you run powershell 7 preview 6 in windows terminal out gridview show command and get help showwindow don t get a focus they open windows behind the terminal
engage the emoji ime kbd win kbd type a thing
drag the tabs around
i am using a microsoft surface pro 7 along with a surface dock and two external monitors i expect that this issue is related to scaling a common problem in my setup my surface s display is set to 200 scaling while my two external monitors are set to 100 scaling as i dock and undock lock and unlock throughout the day terminal can get into some funny visual states usually i can get everything working again by restoring windows down and maximizing windows up but today when did that cannot see all of my tabs without scrolling see screenshot even though there is plenty of space to display them
1 make sure windows terminal is in dark theme and windows 10 default app mode is light 2 open about modal 3 highlight some text and right click
open up the about box resize the window
1 set the following global settings in profile json json alwaysshowtabs false showtabsintitlebar false 2 start terminal no tab bar visible 3 control shift t to create a new tab here it s powershell core but reproduces with git bash for example tab bar becomes visible here switching between tabs here does not affect the outcome 4 type exit to terminate the currently visible shell middle clicking the active tab also works middle clicking other does not reproduce if extra shells were opened this doesn t reproduce it seems to only happen when bar is hidden as part of closing current setting close on exit means this doesn t reproduce until is closed so not related to shell process terminating
1 open cmd exe 1 go to window properties colors page 2 set screen background value to exactly 128 128 128
open terminal and create enough new tabs that some tabs aren t visible without scrolling hit the nexttab or prevtab keyboard shortcuts repeatedly ctrl tab and ctrl shift tab by default
setup a git diff tool in your git config see below for example run git difftool in any git repo that has pending changes example gitconfig section diff tool winmerge difftool winmerge cmd c program files x86 winmerge winmergeu exe e u local remote
1 ssh to a linux i tired centos7 2 maximize the windows terminal window 3 enter a command which print something to the terminal for example ls 4 restore down the window 5 keep pressing enter to create new lines
run midnight commander mc with fontsize equal to 12 and with cascadia code or consolas font it is worth noting that with fontsize 14 or 10 the background renders correctly without black lines
open terminal and look at the window title bar
1 open terminal and maximize its window 2 attach a new default monitor to the device with a different scaling percentage from the previous one the window is moved to the new monitor retaining its maximized state 3 it s easier to notice this if new default monitor is placed on left of previous one
when i open the terminal on my surface laptop it works fine but when i try to drag the windows to another monitor the application crashes i have a surface laptop hooked up to surface dock which is connected to 2 monitors and the behavior appears on both of them
1 start terminal 1 focus another window 1 re focus terminal by clicking on the active tab 1 enter text using your keyboard
1 set the historysize of a terminal profile to a sufficiently large number i modified the default profiles in my testing 32747 or larger for powershell 32797 or larger for wsl 2 create a new terminal tab using the modified profile 3 record the current reported terminal size use host ui rawui windowsize width host ui rawui windowsize height for powershell use tput cols tput lines for wsl 4 resize terminal window 5 record new reported size
open cmd type any chars until line breaks type backspace until the cursor gets back to the previous row
launch terminal as administrator create a couple of tabs try to reorder the tabs via click drag
run vim from powershell with the following powershell function powershell function vim write host char 0x1b 1049h vim exe args write host char 0x1b 1049l this is used to work around how vim screen scrapes the screen so it can restore it but colors are messed up because screen scraping doesn t work with 24 bit colors edit a file with at least double the number of lines in the window go to bottom reposition cursor and move cursor line wise up rendering will be horribly broken kbd g kbd kbd z kbd t k k k k here s a guess at commit introducing regression url
1 open the terminal 1 select some text
1 install anaconda 2 create a profile in profiles json which is the same as the following with updated references where needed json profiles json profiles guid 6641 4b31 b81d 2afca23ddc5f icon ms appx profileicons 4f2a 5b96 ac1e png hidden false name anaconda powershell prompt current startingdirectory homepath commandline windir system32 windowspowershell v version powershell exe executionpolicy bypass noexit command c users redacted scoop apps anaconda3 current shell condabin conda hook ps1 conda activate c users redacted scoop apps anaconda3 current 3 try to launch launch this profile in terminal
open a wsl shell in conhost and execute the following command printf ec e 1 15r e 3g e 1 20h eh e 25l 9 20h 1049hstart 99bmargin h ttab this initialises a number of terminal properties the scrolling margins are set to 1 15 decstbm the tabstops are cleared and then a single tabstop is set at column 20 tbc hts the cursor blinking is disabled dectcem cursor position is set to line 9 column 20 cup it then switches to alternate screen buffer private mode 1049 and tests state text start is output to indicate starting position cursor moved down 99 lines cud and text margin output indicate bottom margin position cursor moved home position cup a tab output followed by text tab indicate of tab stop
1 checkout a recent version of the terminal 2 build the code 3 execute runut in the tools directory
when i try to either engage runas on c program files windowsapps microsoft windowsterminal version x64 8wekyb3d8bbwe windowsterminal exe or shift right click and run as another user on windowsterminal exe it gives me an error can this be fixed or alternately can a feature be built into windows terminal where you can relaunch as a different user
i am using wt with psc inside it i issue git push command it require me to input account and password instead of typing them manually i tried to paste the password i tried two things 1 using the right mouse button 2 using ctrl v
1 launch terminal move to right display 1 maximize on right display with win up 1 set to left half of right display with win left
open windows terminal and move it with cursor to a new screen in a dual screen setup specifically from a 4k to 1080p monitor
make the windows terminal go full screen on a 4k monitor
run sudo apt update
add a new custom profile for example jsonc guid 4f2a 5b96 ac1e name powershell core commandline pwsh exe without startingdirectory it will crash acrylicopacity version closeonexit true colorscheme one half dark cursorcolor ffffff cursorshape bar fontface delugiacode nf fontsize 10 icon ms appx profileicons 4f2a 5b96 ac1e png padding 0 0 0 0 snaponinput true useacrylic true and try to launch it from the profiles dropdown
copy any text with multiple lines into the wsl terminal tab note this bug does not occur in the command line and powershell tabs
1 use ssh to connect to a linux server through the terminal app running ubuntu with wsl v2 2 start tmux on the linux server you are connected to through ssh 3 run find 4 wait a few seconds 5 10 5 attempt to ctrl c
1 open up windows terminal open up any other window make sure windows terminal has the useacrylic set to tru and the opacity set to something like 5 snap the two windows to either side when terminal is in focus the acrylic will work when it s not it will not
1 ssh to a linux box and execute these seq f normal f 100 echo ne e 1049h
moment month nan format 0nan nan nant nan nan 00 00 moment month isvalid true moment year isvalid true
javascript import moment from moment const m moment 2019 11 08 console log m d m offset fri nov 08 2019 00 00 00 gmt 0900 x95r undefined const m2 m clone utcoffset 540 asia tokyo console log m2 d m2 offset fri nov 08 2019 09 00 gmt 0900 x95r 540
steps to reproduce the behavior 1 we have the date string that we wanna convert into a date object 2 we use the pattern yyyymmmdkkmm to be able to parse the string where yyyy used for 4 digit year mmm used for month representing month name first 3 characters d used for day of month with no preceding 0s kk used for hours 1 to 24 mm minutes 3 run moment yyyymmmdkkmm 4 result should be moment 2019 11 01t12 05 version but we get moment 2019 11 11t20 05 version instead
issue is reproduced in codesandbox edit dazzling leftpad 6lme4 url import moment from moment const now moment const lastyear now clone subtract 1 year const duration moment duration now diff lastyear document getelementbyid app innerhtml div now format div div lastyear lastyear format div years duration years months duration months totalyears asyears
steps 1 url the browser window needs to be over 1200px wide to see the nbsp
here s a codesandbox io reproduction url steps 1 select 1 from the drop down an item gets added to the options every second image url 2 keep selecting 1 image url 3 eventually onchange will select undefined image url
i modified the chips example from material ui docs to demonstrate the issue url
i have mocked the issue here url steps 1 place absolutely positioned component and add a transform or just use popper 2 add select component
see current behavior
edit create react app url steps note i added a test for both my custom component and the raw html it generates the former works while the latter fails and i don t understand why for simplicity i removed classes and styles 1 render component 2 get the select input with getbylabeltext 3 assert value
here is the demo url that reproduces it steps 1 click on the switch 2 see that the tooltip is not centered
url steps 1 style a modal with withstyles hoc 2 styles are not applied to the modal
steps you can see the problem on the codesandbox 1 focus the first input 2 select a value with key enter expected focus the next input current stay on same input a just open second but didt focused edit material demo url
steps 1 codesandbox io reproduction url 2 the alert shows up when the page is fully loaded 3 click on the textfield and then click outside 4 the alert shows up again
steps 1 codesandbox io reproduction url 2 type a letter 3 check that loading message and options are visible at the same time
url steps if you look at this function the component property on listitem component renderlink is throwing an error function listitemlink props listitemlinkprops const primary to props const renderlink react usememo react forwardref function f linkprops return link to to linkprops to return li listitem component renderlink listitemtext primary primary listitem li
providing code for this issue is not immediately relevant here because i have a working build and a non working build where the only difference is that the broken build uses typescript tsx and the non broken build uses js files meaning that the problem can only be related to config and typescript compilation hopefully this is just a stupid mistake i made i will provide a code sandbox if no issue is identified at first glance in tsconfig
click on any material ui select url steps 1 click on a non native select 2 3 4
steps 1 visit url multiple values 2 move fixed options 3 select the shawshank redemption and the godfather part 2
steps 1 use the demo page url 2 in first combobox type shank 3 decide that you don t want the shawshank redemption 4 press shift home to clear the field
edit create react app url note that in codesandbox io i had to explicitly write try catch because the console seemed to be swallowing exceptions
steps 1 use create react library to create a new project 2 add material ui v4 dependencie 3 for this example is not necessary to code in the src directory so in the example directory write the code bellow
url steps 1 use the typography component 2 specify a component prop of a 3 specify a href prop 4 see the type error
sorry couldn t create a sandbox with next js cause of some error steps 1 use next js 2 install and add require next transpile modules to the top of the next config js and transpilemodules material ui core material ui icons field to your config 3 install and add plugin to your babel config babel plugin transform imports material ui core transform material ui core esm member preventfullimport true icons transform icons esm member preventfullimport true 4 open the page with button with ripple effect 5 check console
steps 1 inject autocomplete code snippet into your code 2 click in the textfield
url edited steps 1 click in this case the two chip s x button 2 the select will remain focused without possibility to click away from it to blur it 3 this can be viewed by clicking inside an input next to the select
steps 1 visit the demo page url 2 inspect the autocomplete s generated input with dev tools extra 1 install axe extension for chrome url 2 run axe analysis on demo page
steps 1 go to url 2 select demo js 3 set textfiled s variant filled
steps 1 visit url country select 2 in the choose a country input field type in label code or phone 3 you will still see all values none of them are filtered
url multiple values start adding values to the textfield it happens when the placeholder takes up the rest of the line it pushes dropdown arrow even x to beginning of next line image url
this can most easily be seen in the material table docs here url docs features styling on the selected row styling example if you change the pagesize and select a row it will resize to the default
i ll set up a codesandbox later tonight after dinner and edit this issue accordingly when it is done steps more or less covered above
steps 1 create a component which displays a timer that counts up every 1000ms 2 within that component create a snackbar with autohideduration 2000ms url the snackbar hides 2000ms after the timer is disabled url
select inputprops disableunderline true select 1 open codesandbox example url 2 check the input underline is still visible even though the prop disableunderline is passed
unfortunately i m not a js dev and can t easily create a js ts repro i use mui through f fable but it should be easy to repro here s a gif the tooltip is the only relevant part note the horizontal scrollbar when the label overflows bug url
i tried to replicate the issue but it doesn t happen in the sandbox
so the oddest thing is that it seems to work fine in codesandbox url url image url
steps 1 use the example demo url 2 add the disabled tag to the htmltooltip button child 3 wrap the button between span span
url steps 1 write something in the input field 2 the list is filtered accordingly but in the console the value of inputvalue is always undefined
steps live example url 1 in one of the select elements select a value 2 hit enter 3 the app should crash
steps 1 run test
url steps 1 click the first node applications mdash it s now focused and opened 2 press the down arrow key to select the first child mdash the child calendar should get selected instead nothing happens sandbox has three trees first one exhibiting issue second with workaround described above third is original example from documentation with an event handler that does not modify state at all
steps code jsx chip classes avatar classes avatar avatar avatar classname classes typography this is a long text typography label this is a label borderradius spacing 2 width initial padding spacing 1 note that if i specified important after initial like initial important it works
url 1 and 2 are working 3 and 4 are not working if you open the console you will see the onchange event is getting fired for all 4 radio buttons
url steps 1 make a column container with grid 2 see the item fill the height even though it should not
it s present on all of the demos on url if you select an option for any of the demos and then press the enter key the value is removed cleared
1 go to url 2 scroll down to checkboxes with formgroup 3 click on random checkboxes 4 see error
using the mui labs page url multiple values using any of the three multi selects i am using the filteredselectedoptions steps 1 click inside of the input on right of inception chip 2 select any value inside of popup 3 click inside input again to right your selected option 4 you should not see a popup appear
steps sh git clone single branch branch repro url cd gatsby material ui embed custom font yarn gatsby build gatsby serve go to url observe that the page has issues as font is not loaded and the material ui styling is not applied on the appbar you can also find this in this video url click on page1 or page2 and this will load the fonts and styling correctly go to home url and you will see rubik font material ui styling being applied correctly refresh page you are back on step 0 where page did not load fonts styling is broken this complete video shows every part in detail p s as i understand from gatsby documentation we do not need to use plugin to use material ui is what you would see in codebase where issue reproducible however i also tried plugin issue still persists
steps its not really needed with a codesandbox as this bug is apparent in the material ui docs 1 go to url 2 scroll down to multiple values 3 in any of the three autocompletes add another value for example pulp diction 4 click the x on the chip of newly added value 5 watch first value be removed 6 cry
steps 1 start voiceover on an iphone 2 open autocomplete demo page url 3 navigate to combobox example 4 start writing t 5 place focus back on the input field 6 swipe right to go to the next element
url steps 1 check the console see that the value is undefined 2 click the button at the top 3 see that value is now an array with two elements 4 autocomplete is not showing new values 5 if you change initial usestate value to usestate everything works as expected
url steps 1 open the dialog with the open simple dialog button 2 try to use the autocomplete
steps 1 multiple values url multiple values focus any of the 3 demos 2 try to access the x button with the keyboard 1 multiple values url multiple values focus any of the 3 demos 2 use left arrow key to highlight pre selected chip 3 once highlighted try to delete chip with space enter
steps 1 install axe plugin for chrome 2 open url 3 run axe 4 look for error aria attributes must conform to valid values
steps 1 open url 2 inspect for attribute on label and id attribute on input they should be the same
link to sample example url if you are on core lib version version the onchange handler for custom inputcomponent is giving correct values if you are on core lib version version latest the onchange handler for parent onchange is giving correct values
example url reproducing the problem
url steps 1 write any text it works ok 2 press enter it breaks with error in console
reproduction url steps 1 change the borderradius under the shape property of your theme s options the default is 4 i m using 8 2 change the default background under palette property of your theme s options default is i m using f2f4f8 3 render an textfield component filled or outlined variant 4 set background color of textfield to be anything other than background default
url steps 1 create a new component that returns a button 2 use that component in a buttongroup 3 apply styling to it other than the default
edit autocomplete freesolo test url steps 1 add an autocomplete freesolo component like one of the demos in the documentation 2 add a onchange and value connected to state to it 3 try typing in the field the controlled value will not update but field text will
codesandox url select any option press escape to clear the value
steps 1 open up the popover demo page on the latest mui site url 2 click the show popover button to show the popover in first example simple popover 3 with open run html codesniffer tool url
the issue can be seen on in the official docs url select inspect any of the selects and you will see no id attribute that matches the label s for
steps 1 use semantic ui project 2 add material ui core and material ui icons 3 open a specific component which has a semantic button and put mui button 4 open the browser and see the error
run the code above and look in the console
link 1 url multiple values 2 url fixed options steps 1 add a new option 2 try to delete the new option 3 the option already present will be deleted
steps 1 open this codesandbox url 2 click toggle button 3 see error in console
url steps 1 add speeddial component 2 pass fabprops size small to the speeddial component
build a page with vh 100 use any dialog within the page close the dialog steps 1 2 3 4
open this link in both chrome and firefox to see the the issue url
steps 1 create a table with stickyheader prop reference url fixed header 2 create multiple tablerow inside tablehead reference url 3 scroll down and second tablerow content will replace first url
steps code sandbox 1 url 2 open developer tools f12 and refresh code sandbox 3 you ll see warning prop classname did not match server muisvgicon root makestyles lightbulb 47 client muisvgicon root makestyles lightbulb 48 steps running locally 1 git clone url 2 cd material ui examples nextjs 3 npm install 4 npm run dev 5 open the browser f12 and you ll see the error warning prop classname did not match server muisvgicon root makestyles lightbulb 47 client muisvgicon root makestyles lightbulb 48
provide a link to a live example you can use codesandbox io and an unambiguous set of steps to reproduce this bug include code to reproduce if relevant which it most likely is import createbreakpoints from material ui core styles createbreakpoints const breakpoints createbreakpoints muitypography hero breakpoints up md fontsize 11rem background red fontsize version rem lineheight 5rem fontweight 700
url steps 1 assign value using theme spacing x to the lineheight property 2 value gets assigned without px unit 3 4
url there are toggles to show the proposed solution slider must be disabled to see current issue and patch steps 1 import slider and use makestyles hook to add custom styles 2 pass classes to the slider as shown above
url steps 1 observe demo works as expect 2 uncomment index js 36 observe dialog no longer appears when the icon is clicked 3 also uncomment datepicker jsx 24 26 observe dialog will appear like before but closes on any interaction not just the ok cancel buttons
url steps 1 hover button
speeddial arialabel save feedback icon speeddialicon icon menuicon openicon saveicon onclick fabaction open true direction left speeddialaction icon addicon tooltiptitle add point onclick fabactionadd speeddial steps 1 2 3 4
steps import react from react import renderer from react test renderer import fade from material ui core test fade should render correctly const tree renderer create fade in true div some text div fade tojson expect tree tomatchsnapshot
please visit the following codesandbox url
you can see the problem on line 21 url l21 of packages material ui src formcontrollabel formcontrollabel d ts that line currently is export type formcontrollabelclasskey root start disabled label but it should be export type formcontrollabelclasskey root start disabled label labelplacementstart labelplacementtop labelplacementbottom steps 1 use this code sandbox url 2 open up the theme tsx file 3 add the following css to the theme after palette on line 19 make sure to include comma so object is valid overrides muiformcontrollabel root color blue labelplacementstart color red 4 you should see typescript compiler complain about labelplacementstart
the following is a example on the described situation the class applied through tooltipclasses is tooltip i ve set an obnoxious width and height for the labels just to show difference url steps 1 observe that styles are not applied to labels 2 remove tooltipopen prop styles can then be seen on label when hovering over label 3 i ve attempted to override all other possible classes for tooltip component but don t see a difference
steps 1 open the docs 2 observe
steps 1 you can see this behavior in documentation of button when inspect element on dev tools
we are generating a select box via portal that removes itself after a blur event or losing focus there are instances that we would like the select menu to start open initially when the control is set initially to true the onblur event is called immediately causing the select box to be removed codesandbox issue url i can avoid calling onblur if i have a loading tag codesandbox workaround url
minimal code example javascript import react from react import reactdom from react dom import formcontrol grid input from material ui core function app const breakingstyle textalign center return div style breakingstyle grid container direction column grid item formcontrol input type number formcontrol grid item formcontrol input div const rootelement document getelementbyid root reactdom render app rootelement you can find the codesandbox here url steps 1 hover over the first input 2 hover from left or right into the bottom to note the issue only occurs in chrome not in firefox it seems related to textalign center style as example works without it it seems a mix of different styles for example default and number is needed to reproduce
steps test the bug here codesandbox url click and hold on the drag me to bottom and drag it to bottom click and hold on any tab and drag it
steps 1 create a select field 2 add inputadornment with position end to the endadornment prop js select endadornment inputadornment position end iconbutton clearicon iconbutton inputadornment
1 create a select component 2 specify that the component is disabled 3 style the disabled state with classes disabled classes classname url steps 1 simply load the demo and you should see the bug select component is disabled and css is there and not being recognized unrelated i tried to delete that second select component but got a cors error when doing so i have no idea what s going on there
steps 1 create a react app and add some mui components to it 2 run the app on ie
check package json files for both packages
1 go on sandbox url 2 look on the right 3 the tooltip is not centered version resize de preview window it should now be centered reload the page version remove the cssbaseline it should now be centered version add back cssbaseline then remove css import it should now be centered
we use react dnd library so the syntax looks as follows const h react createelement connectdroptarget connectdragpreview connectdragsource h div h card h cardactionarea the underlying syntax div draggable true card cardactionarea card div steps 1 interact with cardactionarea with the intention to drag 2 parent div is not dragged
url steps 1 open above url 2 under transitions click button react transition group 3 in the popover there is typo react transiton group which is supposed to be react transition group
screencast url url steps 1 open console 2 use keyboard to move around the tree rapidly press up down left right etc 3 it will eventually lock up logging the error i ve pasted above i also suspect this happens more frequently with a more complex label
url steps 1 try this with typescript enabled listsubheader component listitem divider 2 see this frustrating red line under listsubheader
i m not sure that a live example would be helpful for a test running issue but i d be happy to put together a repo to recreate what i m experiencing
url steps 1 the textfield need the following parameters rows rowsmax fullwidth multiline 2 type text in textfield until crashing fill all visible space
steps 1 open url
you can see the behavior here url textfield in the example that has the select label
steps 1 visit url url
see demo url try to print via browser ctrl p or print from main menu or via button print via window print to see how it behaves
steps 1 npx create react app my app 2 npm install material ui core
open this codesandbox url click the button and you will see a popover that changes its size dynamically while displayed while specified to be anchored on the right side of the button it will move its anchor point during resizing
steps 1 follow the docs guide on creating a virtualized list 2 follow the docs guide on adding a secondary action to a list item codesandbox demo url
1 go to the material ui site s snackbars demo page url 2 open view any of the snackbars that do not have buttons such as the positioned snackbars section s top center snackbar 3 right click and inspect the snackbar you will notice that snackbar s div shows role alertdialog even though there are not interactive elements on snackbar this is being hardcoded on line 55 in snackbarcontent js url l55
run yarn add material ui icons steps 1 2 3 4
url create a grid like so grid container flexdirection column grid item xs textfield grid item xs textfield select and input some text in the normal input then enter a select value and go back to the regular text input
steps on windows 10 using the create react app example 1 download the example or clone the repo 2 npm install 3 npm start
steps 1 go to url code s9ougybaz2rocg44a cwsek ub28aaylnmfqpdo li16udlraexaa 2 note that shouldbetrue is of type true and shouldbefalse is of type false 3 go to url code s9ougybaz2rocg44a cwsek ub28aaylnmfqpdo li16udlraexaa 4 note that shouldbetrue is of type false and shouldbefalse is of type true
link to codesandbox url javascript function demo const transition react forwardref function transition props ref return slide direction up ref ref props return div button variant outlined color primary onclick handleclickopen slide in alert dialog button dialog open open transitioncomponent transition keepmounted onclose handleclose aria labelledby alert dialog slide title aria describedby alert dialog slide description dialogtitle id alert title use google s location service dialogtitle dialogcontent dialogcontenttext id description let google help apps determine location this means sending anonymous location data to google even when no apps are running dialogcontenttext dialogcontent dialogactions button onclick handleclose color primary disagree button onclick handleclose color primary agree dialogactions div
create extra select after creating and rendering form and then try and select something please see example at url
link to live code showing the issue url steps 1 create a css rule that uses animation for example here is one that rotates a element ts const usestyles makestyles theme createstyles interpolation props gearprops animation rotation props speed infinite linear this doesn t work transform origin center center keyframes rotation from transform rotate 0deg to transform rotate 360deg 2 apply the rule to the relevant element ts path classname classes interpolation 3 notice the element doesn t rotate and output styles doesn t have animation rule on css class declaration it s not interpolation per se it stops working as soon as class declaration in makestyles is made a function instead of an object literal 4 notice that it all works if interpolation class is created without it being a function
steps 1 visit url or url 1 click the button click me 1 wait for 1 second you will find the button goes to the left note if you interacted with the button through keyboard event this behavior won t happen sep 22 2019 14 41 26 url
example without responsive font url example with responsive font url
on sandbox url 1 open simple dialog 2 try to focus the editor after 200ms the focus will lost so you cannot inoput something in the editor
url steps 1 create a normal buttongroup containing 3 buttons or more 2 set backgroundcolor to any 2 buttons
steps 1 create button 2 hover focus 3 witness variance
steps 1 override typography in createmuitheme like so typography subtitle1 fontweight 500 2 use the theme created by the call to createmuitheme in a muithemeprovider 3 create a select containing some menuitems 4 observe that their font weight is affected by the changes made to subtitle1 obrazek url if i comment out the typography override in theme styles are as expected obrazek url
url steps 1 use circularprogress 2 set font size to something big on a wrapper element or set size to something small
link to codesandbox url tsx function example const inputref react useref return textareaautosize ref inputref steps 1 import textareaautosize in a typescript project 2 pass ref prop textareaautosize 3 error
steps 1 go to the material ui documentation page for color tool url color tool 2 click on any of the text field e g the primary one 3 press on your keyboard i e shift 3 4 the demo would fail and show runtime error message
checkout this codesandbox url just find the tooltip element in the dev tools element panel and see the wrong placement class
codesandbox url repo url i ve added the stylesprovider url as such however when i view the page source i can t find my new class prefix anywhere img width 1280 alt screen shot 2019 09 14 at 5 05 27 pm src url but when i do inspect element can find it img width 1280 alt screen shot 2019 09 14 at 5 09 16 pm src it seems like class name generator is applied to client side only my suspicion is that the instance of the class name generator is not same for ssr and csr but don t know how to confirm this solutions ve tried 1 new serverstylesheets options 2 adding node env production to both build and start step according to this issue 3 removing js ctx renderpage originalrenderpage enhanceapp app props sheets collect app props from pages document js this worked but there was a flash of unstyled content there s also no documentation regarding enhanceapp so wasn t sure about this implementation 4 using seed property works but there was also a flash of unstyled content
1 clone url 2 install dependencies with yarn install and start the app with yarn start 3 go to url and notice 1 the warning in the js console 2 the button is not red 4 switch to astorije sort of fix branch where dependencies were updated to latest restart app and see red button
i ve created an example here url it s a meteor project so you ll need to do the following 1 install meteor curl url sh 2 clone the project 3 run meteor npm install inside the project 4 run meteor
codesanbox demo url steps 1 open the demo in mobile view 2 swipe from left to the right to open the drawer 3 click open dialog button a dialog will appear on top of drawer covering it 4 on the dialog swipe from right to left will close drawer under it
1 open the documentation page of material ui url using safari 2 open the dialog with a form example
url see demo first click open me first then click the plain html button
url steps 1 click on add button the panel should be dynamically added 2 click on the panel but the panel is not getting expanded 3 but now click on the add button again panel is expanded
please see this sandbox url
steps 1 go to codesandbox url 2 scroll down to the last line 3 hover an element 4 scroll fast to the top 5 you should see a 2nd scrollbar that appears code sandbox demo url
go to the demo url standalone radio buttons or the codesandbox url
steps 1 place a textfield within a tab swipeableview with an outline 2 open the page the textfields on the starting tab should have notches in the outline 3 switch tabs tabs besides initial one will have no notches in outline i have reproduced this issue on a minimal codesandbox url
codesandbox reproduction url steps 1 open the live example link in chrome v version 2 observe that hovering over fields does not change width 3 click add helper text button 4 hover over fields
i can t get codesandbox to work with any react apps but here s the code url anyway steps 1 copy the source code from the customized selects demo here url customized selects 2 add as a prop to the select component following code menuprops paperprops component react forwardref props ref div props ref ref 3 click on select to open dropdown then click on an option that isn t selected 4 dropdown should suddenly jump to top left corner of screen while it closes
steps to reproduce the behavior 1 run ghidra version 2 run a script with this body taddress addr currentaddress tbookmark b1 createbookmark addr category 1 comment 1 tprintf bookmark b1 id d category s comment s b1 getid b1 getcategory getcomment tbookmark b2 createbookmark addr category 2 comment 2 tprintf bookmark b2 id d category s comment s b2 getid b2 getcategory getcomment tprintf bookmark id d getid getcategory getcomment 3 see the output bookmark id 1 2
steps to reproduce the behavior 1 extract the attached sample zip pw infected then import and open the attached icedid dll gzf file 2 go to the function with name fun 3 in decompiler window rename local 60 variable to something else e g buffer 4 note invalid storage in listing window and autogenerated variable name in decompiler window
steps to reproduce the behavior 1 drag the sample with sha256 into a project
steps to reproduce the behavior 1 import a dex file as a single file in version 2 carry out analysis with default auto analyzers 3 once complete head over to the strings data section 4 open up any string data structure 5 observe that while the comment and the name of structure show correct string data field skips every second byte 6 this effect also appears in defined strings window as well as when structure data is queried directly through scripting api
steps to reproduce the behavior 1 open python inside of gui 2 execute getprojectrootfolder inside of python window
using standard options to decompile some code the code was presumably compiled using visual studio version
decompile the following code block
steps to reproduce the behavior 1 create a simple script with a javax swing gui and button who s action is to update the current function name 2 click the gui button to change the current function name and observe current function name has not changed 3 check function name via a script to see that it has indeed changed e g getfunctioncontaining currentaddress
1 decompile any application variant that makes use of vfpv2 vfpv3 variants of vmul 2 notice that it gets decompiled as a cdp instruction 3 despair
steps to reproduce the behavior 1 load the attached test bin file as a real mode x86 binary let it start from 0010 0000 2 don t let auto analysis start 3 create word sized data values out of the ascii bytes shown 4 convert any of those into a char sequence via the convert context menu
steps to reproduce the behavior 1 load the attached test bin file as a z80 binary starting at 8000 2 let auto analysis start nothing will happen 3 start disassemble from the very first instruction the decompiler window will fill up with some invalid code
steps to reproduce the behavior 1 import url 2 run the auto analysis defaults specifically objective c 2 class 3 get the report that includes symbol name can t be empty
steps to reproduce the behavior open a program of an active project a pe executable for example move the cursor to a random function by double clicking the function name of a call change the name of current function save program and exit code browser open program again and cursor is at top of disassembly window just before pe header section
steps to reproduce the behavior 1 go to a function label 2 stick a namespace and before the function name 4 see error
import the binary attached it is a standard pe several mistakes can be seen at the following adresses decompiler output being if bullet state 0 bullet state 5 bullet sprites 0 additional infos something 56 bytes 0x0 in pf in pf while the correct output should be something more along the lines of if bullet state 0 state 5 sprites 0 additional infos 0x0 30 sprites additional infos height speed 0x40dbc0 where decompiler is showing a fsincos being unused while it is actually used in binary
steps to reproduce the behavior 1 get the latest version via git 2 open ghidra 3 gui labels are missing space characters
playground link url 1 click navigate leak 2 click the button on the new page it will set the page background 3 go back the background on start page is also set
1 create a nativescript with angular project 2 include the nativescript theme 3 create two buttons on a page 4 add the h2 class from the theme and a custom hello class on the first button 5 css hello margin 0 doesn t remove bottom margin from button that has h2 class margin bottom 0 does remove bottom margin if uncommented 6 see that first button has a bottom that is only removed if we uncomment 0
actionbar title tab class action bar actionbar gridlayout gridlayout tabs tabs selectedindex 0 selectedindexchanged onselectedindexchanged event tabcontentitem backgroundcolor tablist 0 backgroundcolor page router outlet name maintab actionbarvisibility never style margin top 20 margin bottom 20 page router outlet tabcontentitem tabcontentitem backgroundcolor tablist 1 backgroundcolor stacklayout page router outlet name secondtab actionbarvisibility never style margin top 25 page router outlet stacklayout tabcontentitem tablist 2 stacklayout name carstab actionbarvisibility never style margin top 25 stacklayout tablist 3 name profiletab actionbarvisibility never style top 20 4 label text bottom nav content 5 class h1 text center p t 20 label tabs gridlayout gridlayout dragcircle column 0 colspan 5 pan oncentercirclepan event verticalalignment center horizontalalignment center height 90 width 90 transparent borderradius 45
see the playground link when the create component button is tapped on the homecomponent the view is changed to render testcomponent when create component button is tapped in modal view nothing happens
css keyframes example from border color red to border color green view animation name example animation duration 4s animation fill mode forwards border width 5 padding 5 background color white template label text css test class view label the result is either a plain black border around the label or the app won t even build however if i change color to background it works perfectly
tns run android
1 tns create app ng 2 tns debug ios 3 open url and make a livesync 4 open the elements tab and change the title you will see that it doesn t apply on device emulator
using the provided sample project open sidedrawer by pressing menu button in actionbar open menu item settings use back button in actionbar or hardware button try to open the sidedrawer again
1 open the link in the environment section 2 scan the qr on your phone 3 click on open modal
create a blank angular typescript app in sidekick and run on an android phone hold and release the menu button on the phone the app window becomes half height and status bar disappears and the action bar remains with extra padding on top
i have a structure like below radsidedrawer gridlayout t scrollview stacklayout button text tab me tap ontabbutton event button to reproduce 1 open radsidedrawer 2 scroll the scrollview 3 tap on the button and tap event is not firing if you tap twice then it is working on second i have test 6 android phones and one is working well the other 5 android phones are not working android version of the other 5 phones are 6 8 and 9
1 create a component with html scrollview stacklayout label textwrap true height 5000 text i have a border and background color style background color eee color red border width 1 stacklayout scrollview 2 run tns run android
npm install g vue cli vue cli init vue init nativescript vue cli template my app select
add nativescript dev webpack version to angular project
1 get fontawesome to work like you normally would 2 create a new component and add a fontawesome icon in a label 3 do import app variables in your new components scss file 4 see that the icon stopped working it shows the little rectangle with the x for symbol not found
tns platform update ios
install the angular sidedrawer template and try to change some code in other pages approximately 50 of the time it doesn t refresh the app but cannot find when it doesn t work
i need a nsdatecomponent as it is a parameter required by the function alloc used to retrive data from healthkit const intervalcomponent nsdatecomponents alloc intervalcomponent day 1 what i get in the console is the following nativescript caught signal 6 native stack 1 sig handler int 2 redacted 3 redacted 4 abort 5 err 6 redacted 7 8 ffi call sysv 9 ffi call int 10 ffi call 11 nativescript functionwrapper call jsc execstate 12 vmentrytonative 13 jsc interpreter executecall jsc execstate jsc jsobject calltype calldata const jsvalue arglist const 14 callsetter execstate jsvalue jsvalue jsvalue ecmamode 15 jsobject putinlineslow execstate propertyname putpropertyslot 16 llint slow path put by id 17 llint entry 18 llint entry 19 llint entry 20 entry 21 22 23 24 25 26 27 28 29 30 31 js stack which i don t know how to interpret i m not sure if this commit url diff can be somehow related to my issue
have a list of elements in a scrollview and then try and do a long fast scroll with a flick gesture then try to stop the scroll with tap tap event is triggered in ios on android it works correctly scrolling stops and tap event is not triggered
clone url select button open modal
1 create app that use tabs 2 select one of the tabs except the first one that is the default selected 3 minimise the app e g open another app 4 go back to your app with tabs stacklayout tabs height 400px tabstrip tabstripitem label text home label image src res home image tabstripitem tabstripitem label text settings label image src res settings image tabstripitem text search src res search tabstrip tabcontentitem gridlayout text home page class h2 center gridlayout tabcontentitem tabcontentitem gridlayout settings page class h2 center gridlayout tabcontentitem search page class h2 center stacklayout
1 have this repo cloned and set up 2 npm install g nativescript next 3 inside this repo cd tests tns run ios
just get the nativescript angular radsidedrawer template via cli tns create command
on ios app has a nav bar at the bottom gridlayout class page rows auto stacklayout row 0 page router outlet page router outlet stacklayout stacklayout row 1 navbar navbar stacklayout gridlayout in a page with a full list open an external app from the app i e contacts back to the list scroll the list to bottom simulator screen shot iphone xs max 2019 10 19 at 21 54 29 url last item is partly overlapped by nav bar
tabstrip mainnavigationstrip isiconsizefixed false iosiconrenderingmode alwaysoriginal tabstripitem class nav icon class ios isios class selected selectedtab 0 image src font xf25d class fas image tabstripitem tabstripitem nav icon ios isios selected selectedtab 1 image src font xf375 fas image tabstripitem nav icon ios isios selected selectedtab 2 src font xf100 fas nav icon ios isios selected selectedtab 3 src font xf153 fas 4 xf345 tabstrip
try this expression css css calc nested width calc calc var undefined var 16 2 2 this give the incorrect width 8 but it should be 16
open url and search names
simplified test case test case url steps to reproduce 1 attempt to set the accessibilitystate of a touchableopacity by providing an object per rn docs 2 open dom inspector and inspect the touchable element 3 the element does not have the appropriate aria attributes img width 1039 alt screen shot 2019 11 13 at 2 31 37 pm src url img width 1005 alt screen shot 2019 11 13 at 2 33 24 pm src url
include window open aroutename in your app i notice that doing window open url doesn t group the tabs in the chrome task manager and doesn t result in the bug
simplified test case url steps to reproduce 1 run example observe crash
url steps to reproduce 1 open sandbox from this link url 2 open chrome dev tool 3 press on the text touch me and you will see errors on console
url steps to reproduce 1 open codesandbox in firefox 2 type inside textinput without keyboardtype numeric 3 add keyboardtype numeric and check the input again
run the one liner bash and install required packages but then it fails to find a package that isn t available on the repository anymore
i am not sure i just found this system like that
download the latest stable release tarball from github release page and install netdata the release channel written in etc netdata environment will be nightly
allow netdata to update via netdata updater cron daily this may be reproducible by another means but i can t seem to make that happen
i used to update netdata via an ansible script that pulled the new code from a git repo but lately switched to a lightweight docker container option by using a tagged version such as version i was expecting to conceptually move from a nightly channel to stable one meaning that i am no longer asked update every time the is commit netdata master however i still see an exclamation mark next the update button which looks like false positive me img width 590 alt update check netdata modal src url
this bug is reproducible only when multiple paths to which keep files are installed resolve to single directory in case of default buildroot url configuration this is true for var log netdata and var cache netdata paths var log and var cache are symlinks to tmp during installation phase two install processes are spawned to put keep into tmp netdata this is when the race starts installation procedure fails when this happens 1 install 1 check whether tmp netdata keep is already there and unlinks it in that case 2 install 1 creates file at tmp keep 3 install 2 checks whether there and unlinks it 4 1 tries change permission but it fails because there no such file 5 2 creates a 6 2 changes permission at the end the directory structure okay but installation stops because 4 step has failed
install netdata run the uninstaller until it says that netdata has been stopped switch to another shell and run ps a to verify that it is still running
enable irc notifications see alarm reports sent to irc channel but test notification will report error 421 which indicates err unknowncommand and is a false error bash x usr lib netdata plugins d alarm notify sh test 2019 10 31 01 02 22 alarm notify sh error failed to send irc notification for wireguard bombay test chart test alarm is warning to str alarms with error code 421
open web interface in firefox click on my netdata tab
rpmbuild ba rpmbuild specs netdata spec
have a lot of postgresql databases and drop one of them
1 access netdata dashboard on safari version 2 try to open list of nodes in the top left corner
install using kickstart static64 sh the reinstall command in opt netdata etc netdata environment is always netdata installer sh install opt
install netdata using kickstart static64 sh run the netdata updater sh script etc cron daily netdata updater the netdata updater script is removed from etc cron daily
perform a clean netdata installation using kickstart sh run the netdata updater sh script etc cron daily netdata updater sh a reinstallation update will be performed regardless of whether there is a newer version available or not
c include nlohmann json hpp int main const nlohmann json j key1 value1 key1 value1 const nlohmann json missingkey j key2 missingkey here is ub
benchmark code cpp include benchmark benchmark h include nlohmann json hpp static void benchmark json creation destruction state state size t n state range 0 std string s for size t i 0 i n i s 1 s 2 for size t i 0 n s for auto state nlohmann json j j nlohmann json parse setcomplexityn n creation destruction range 1 10000 complexity oauto int main int argc char argv initialize argc argv runspecifiedbenchmarks return 0
either use bad json parsers url or generate a deeply nested file like input json zip url parse it and let the destructor be called
include nlohmann json hpp using json nlohmann json include iostream std cout include fstream std ifstream include ostream std ofstream iomanip string note nlohmann operator currently doesn t work with vs2019 so read file manually std ifstream i i open examplefile json ifstream in string x char c i get while i good x c c get close parse explicitly auto j3 parse x c str examplefile models path thispath notworking dae x 0 y 0 z 0 path other dae 0 y z note that forward slash does work examplefile2 models path thispath working dae y z path other dae y z
auto j time json
sample cmake script cmake project test cmake minimum required version version add executable test main cpp target include directories test system private path to nlohmann json simple c cpp include nlohmann json hpp int main don t even have to call anything return 0
1 define float float 2 include json hpp
ts new worker some module
bash step to reproduce git clone url cd openvidu tutorials openvidu insecure js parcel web index html click join and you will see joinsession is undefined or just create another function and place it on onsubmit or onclick
url js const parcel require parcel core default const config require parcel config default new parcel defaultconfig config entries src test js targets test distdir dist browsers last 1 chrome versions sourcemaps true minify true scopehoist true watch err build if err console error err console log build successful
i have a reproduction repository at url where master is using v2 and a branch parcel v1 url uses parcel 1
edit see a smaller sample here url issuecomment index html html doctype html main main script src index js script index js jsx import react suspense from react import render from react dom import styled from styled components const page react lazy import page const section styled section width 100 render suspense fallback null section page suspense document queryselector main page js jsx from styled components const div div width 100 const div export default
import vue notification in a project run parcel on it
index js js class a static gettest test render return a gettest const a new a render parcel build index js dist index js function class e render return var gettest e gettest test new e render
nothing wrong with my sass files
img width 828 alt capture d ran 2019 10 11 11 54 40 src url
see url for a full minimal repro you can find the repro project here url
for example that spect app logic can be loaded each by own entry html script src materialize js script script src app js script src decorations js src i18n js microdata since each that entry includes spect internally materialize import use from spect import mdlfab from material fab use mdl fab el el mdlcomponent new mdlfab el app import on from spect on app form submit e send form that results in duplication of imports n times per each entry
parcel watch src index ts outputs to lib index js parcel serve src index ts outputs to parcel cache dist index js
1 on portainer go to registries 2 add a new registry 3 enter as registry url docker pkg github com enable authentication enter your github credentials 4 push one of your images on github package registry with the following command docker login u github username p password url docker push docker pkg com org name repo name image name tag 5 on portainer go to stack 6 add a new stack 7 enter a compose file of your own and enter as an image the new image pushed to package registry image pkg com org name repo tag 8 deploy the stack 9 see the bug many containers appear as rejected before finally running technical details
1 connect to a docker machine using docker api using domain port 2 add nginx container which points to used domain and deploy it 3 refresh portainer technical details
1 assign a user to a team with the helpdesk role 2 assign them to another team with the standard user role 3 see that the user has read only abilities technical details
as a portainer administrator 1 go to registries and add mcr microsoft com as microsoft container registry 2 open app templates and make sure container templates is shown 3 click update on sql server linux 4 change the image to mssql server and choose microsoft container registry 5 also fix eula so it has a label while you are here 5 save and leave the screen 6 try deploy sql sever technical details
deploy stack with the following compose file version version services agent image portainer agent volumes var run docker sock var run docker sock var lib docker volumes var lib docker volumes ports target 9001 published 9001 protocol tcp mode host networks portainer agent deploy mode global placement constraints node platform os linux networks portainer agent driver overlay attachable true amd64 node manager 2019 11 12 15 04 34 info main message running on a swarm cluster node running in cluster mode 2019 11 12 15 04 37 info serf eventmemberjoin gen8 version 2019 11 12 15 05 18 info http server addr version server port 9001 secured true api message starting api server arm64 node workers 2019 11 12 15 04 33 info main message running on a swarm cluster running in cluster mode 04 36 serf eventmemberjoin tethys 36 serf eventmemberjoin atlas 36 serf eventmemberjoin titan 36 ganymede 47 http server addr port 9001 secured true api message starting api they are on the same network and i ve launched a container connected on the portainer network and did a nslookup tasks all ip s show up technical details
1 restrict a stack to an rbac user 2 login as any other endpoint admin or helpdesk user that does not have the stack assigned to them and see it is shown as restricted to administrators technical details
1 as an endpoint administrator browse to the services view and remove a service that is related to a stack 2 browse to the stacks view and see that the stack related to the service that was just deleted is missing 3 login as an administrator and see that stack is still visible technical details
1 set a total control stack as owned by administrators 2 log in as endpoint admin or helpdesk user 3 see that it shows as limited stack technical details
1 go to a container as an endpoint admin or standard rbac user 2 click on attach 3 see that portainer hangs on attaching image url technical details
1 restrict a resource to a non admin user e g container to helpdesk user eve 2 login as an endpoint admin and try to delete this container 3 recieve error failure access denied to resource technical details
1 have rbac enabled and assign some users roles 2 disable rbac 3 login as the users and see they still have the abilities from their previous rbac role technical details
1 create a stack based on a compose file i can t share mine due to mission critical applications in the container 2 remove stack 3 stack is not completely removed 4 trigger remove again technical details
1 assign an rbac user access to an endpoint e g adam as endpoint admin 2 log in as adam and see you have the option to console into a container screenshot from 2019 11 06 10 36 07 url 3 refresh the browser and see that you no longer have any abilities effectively read only user screenshot from 2019 11 06 10 36 20 url 4 log out and back in and see you have the abilities back technical details
change image version from version to version in docker stack yml and update the stack technical details
version info is shown in the left bottom corner technical details
1 create a container image with an healthcheck type cmd shell 2 run a container from that image 3 update the image changing healthchecks parameters i tried changing cmd shell in cmd 4 re create or edit the container the new container will use old configurations for healthchecks technical details
1 get url on a deployment in which there are pre existing external stacks technical details
1 deploy version with rbac enabled 2 grant access to an endpoint for a user who is not admin 3 upgrade to version from version which is working properly with rbac 4 the members granted via rbac can not login to portainer anymore technical details
1 go to images 2 fill the image name and choose the right registry 3 click on pull the image and then wait for the operation 4 at end there is a green message saying image is successfully pulled 5 image is not displayed in list of images 6 check docker log var log daemon log technical details
1 go to create container view 2 configure the container and click on the deploy the container button 3 see failure access denied to resource error image url 4 see that the container is stuck in a created state technical details
1 on an old ipad go to the portainer url 2 see no login fields technical details
1 add a user to dev team assigned as endpoint administrator on endpoint1 2 add same user to prod team assigned as read only on endpoint1 3 delete prod team 4 login as user and see user is still being restricted to read only technical details
1 use google chrome here version on mac os x 2 use the external authentication extension here configured to go to a custom oauth provider but maybe this also happens for other configs 3 login via oauth 4 observe url technical details
1 add a field on a type in prisma datamodel prisma 2 set the type as either boolean default value false or boolean default value false 3 deploy prisma instance 4 observe expected behavior
1 go to url 2 follow the tutorial through until implement resolver functions
see above expected behavior
1 use this scheme 2 use prisma generate 3 look at the generated typescript javascript client expected behavior
i have tried different ways to put the config string with all configuration variables in the docker secret here is an example how i did it printf port 4466 managementapisecret api secret databases pridefault connector postgres host host url port 5432 user prisma password password migrations true docker secret create app prisma config to start the service i did docker service create name app prisma replicas 1 prismagraphql prisma version e config run secrets app config then the logs say exception in thread main java lang runtimeexception unable to load java lang runtimeexception no valid could be loaded expected behavior
1 docker compose up d with screen shot 2019 10 17 at 6 20 24 pm url 2 run docker ps to check the status of the container container id image command created status ports names prismagraphql prisma version bin sh c app sta 2 seconds ago up less than a second version 4466 4466 tcp server prisma 1 3 able to access localhost 4646 4 run prisma deploy and after quite some time has expired i get a request to url failed reason socket hang up error expected behavior
see above expected behavior
1 datamodel type someentity id id id fieldabc string unique 2 prisma client method call simplified it to running single promise all call const someentities const duplicateuuid uuid v4 someentities push fieldabc duplicateuuid someentities push fieldabc duplicateuuid for let i 0 i 2 i const newsomeentity fieldabc uuid v4 someentities push newsomeentity await promise all map async entity try await prisma createsomeentity entity catch e console log error e message entity 3 see error a unique constraint would be violat being printed out 4 times expected behavior
1 init a new prisma project with the model provided upper 2 deploy it on aws with the provided fargate tutorial 3 use an amazon load balancer with prisma 4 try to create update a site with multiple signinputs at once like the mutation upper expected behavior
1 use this scheme 2 use prisma generate 3 look at the generated typescript javascript client expected behavior
1 deploy prisma version sample compose file version 3 services prisma image prismagraphql prisma version restart always ports 4466 4466 environment prisma config port 4466 databases default connector mysql host mysql port 3306 user root password migrations true mysql image mysql version restart always ports 3306 3306 environment root password volumes data var lib volumes data driver local 2 deploy a service with a secret sample yml endpoint url secret devsecret datamodel datamodel 3 run token 4 explore the admin interface with this token or perform queries in the playground which will return your token is invalid it might have expired or you might be using a token from a different project reverting back to e g work fine expected behavior
1 setup local prisma server with management api secret enabled 2 run prisma deploy 3 run prisma seed 4 see error expected behavior
1 create a database type with a unique constraint 2 create an object with that field explicitly set to null 3 create another object with the same field explicitly set to null 4 see error error message a unique constraint would be violated on user details field name email datamodel prisma type user tid id id tcreatedat datetime createdat tupdatedat datetime updatedat temail string unique docker compose yml version 3 services prisma image prismagraphql prisma version restart always ports 4466 4466 environment prisma config port 4466 uncomment the next line and provide the env var management api secret my secret to activate cluster security managementapisecret my secret databases default connector mongo uri mongodb mongo mongo image mongo version restart always uncomment the next two lines to connect your your database from outside docker environment e g using a database gui like compass ports 27017 27017 environment initdb root username initdb root password volumes var lib volumes expected behavior
0 install prisma and prisma cli 1 create a little test schema and setup working database 2 run prisma deploy if not automatically generated run prisma genereate 3 create a test index file and include the generated primsa client 4 create a function that hardcoded calls the create function javascript const require generated client function main console log start call produces an error because createat is required and null doesn t match return createuser createat null name olaf der schneemann age 2017 new date date now insert that for a working call then user console log id user userid return meins rejected when this is commented the promise just skips to fertig console log type rejected return promise reject rejected promise reject throw both lead to execution within catch throw new error rejected catch err console log err err main then fertig output start fertig output when then gets the additional reject function start type some error description err some error description fertig expected behavior
0 define a type without an id 1 notice that the generated typescript type has export type mytypeorderbyinput notably with no text afterwards 2 in the example below clozepiece and contentpiece are missing ids while flashcard has an id type one can see the difference between the generated code that results in a syntax error louis varnothing gql master 3 prisma generate 0 branches srs gql generating schema 52ms syntaxerror expected 158 8 156 export clozepieceorderbyinput 157 158 export contentpieceorderbyinput 159 160 export flashcardorderbyinput id asc 161 id desc expected behavior
i run prisma init which works perfectly but uses schema instead of database i then run prisma deploy instead of connecting to database schemaname i get this output deploying service default to stage default to server default it creates a new schema named default and my queries all return null as the data is stored under schemaname not i set the endpoint to url schemaname in the prisma yml file and that produces a new schema named schemaname there appears be no way just use am doing something wrong or is prisma not actually able connect existing mysql databases have never seen a mysql db use that s postgresql expected behavior
1 clone git clone git github com prisma prisma examples git 2 cd prisma examples node docker postgres npm i 3 docker compose up d 4 prisma deploy expected behavior
i haven t isolated repro steps yet but i think this may be caused by the metrics endpoint responding with a 502 error expected behavior
1 setup both types as indicated above 2 build a resolver that tries to make use of either updatemany update or upsert update in order to update several elements from a list above a list of two assets expected behavior
1 install angular cli 2 generate a shell app 3 create a server folder 4 in this folder follow these steps but with mongodb url expected behavior
1 npx prisma login 2 npx prisma init 3 npm i g prisma 4 npx prisma deploy 5 deploy expected behavior
this bug has three scenarios described on url code that reproduce this bug is available there url expected behavior
1 have any schema 2 update schema using generated prisma client 3 await count on update function to retrieve number of updated rows 4 count returns a number but type definitions say its a string expected behavior
1 go to url 2 click on f12 3 scroll down to 4 see error expected behavior
reset the postgres database on heroku then check the docker logs expected behavior
create type hoge db name hoge id id id name string foo fuga bar fuga type fuga embedded value int time datetime createdat and prisma deploy then will get hoge the relation field foo must specify a relation directive relation name myrelation the relation field bar must specify a directive name myrelation expected behavior
reduce the queuesize available in version url and version url the reproduction is in version so a high concurrency can be used to reproduce this issue there expected behavior
add this line to a file for c in results paid session query constituency filter constituency onscode c code one paid which returns an integer when you run black on the file it converts this to for c in results paid session query constituency filter constituency onscode c code one paid this code returns a tuple expected behavior
1 paste the following into a python source file at the global level py def foo bar fmt off baz qux fmt on def biz baz pass 2 run black on it with no arguments 3 see error expected behavior
use pre build nightly version for cuda version for any project project include paths c libtorch release include c libtorch release include torch csrc api include lib paths c libtorch release lib c10 lib c libtorch release lib c10 cuda torch
steps to reproduce the behavior import torch import torchvision models as models dummy input torch tensor torch randn 12 3 299 299 cuda inception model models inception v3 pretrained true cuda inception model inception model eval torch jit trace model dummy input usr local lib python version dist packages jit init py 1007 tracerwarning output nr 1 of the traced function does not match the corresponding output of the python function detailed error not within tolerance rtol 1e 05 atol 1e 05 at input 8 146 version vs version and 8991 other locations version check tolerance force outplace true module class
steps to reproduce the behavior 1 just run the sample code 2 the backward is not called no print message 1 import torch 2 import torch nn as nn 3 4 class customop torch autograd function 5 staticmethod 6 def forward ctx x 7 x version 8 return x 9 10 staticmethod 11 def backward ctx grad output 12 print running in backward 13 grad output version 14 return grad output 15 16 def custom op x 17 return customop apply 18 19 class net nn module 20 def init self in channel out channel scale version 21 super net self init 22 self fc nn linear in channel out channel 23 self s scale 24 25 forward input 26 fc input 27 logits custom op 28 logits logits s 29 logits s 30 return 31 32 if name main 33 bs 32 34 in 128 35 out 512 36 dummy torch rand bs 37 38 net net out 39 dummy 40 mean backward
import torch import torch nn functional as f theta torch randn 32 2 3 device cuda dtype torch float16 size 32 8 32 32 output cudnn affine grid generator theta size works output f affine grid theta size fails python foo file foo line 8 in module output f affine grid theta size fails file python version site packages nn functional py line 2785 in affine grid return generator align corners runtimeerror linspace cuda not implemented for half
steps to reproduce the behavior 1 create a zero tensor 2 create a conv2d with a kernel size of 3 and 3 output channels 3 apply the layer to the tensor import torch import torch nn as nn tensor torch zeros 1 1 10 14 float conv1 nn conv2d in channels 1 out channels 3 kernel size print conv1 tensor
the code is very similar to this link url the only difference is in the initiation phase python def init process rank size fn backend gloo initialize the distributed environment os environ master addr version os environ master port 8888 os environ world size 4 dist init process group backend rank rank world size 4 fn rank size 2 worker id int sys argv 1 processes for in range p process target init process args worker id run p start processes append p for p in processes join
url steps to reproduce the behavior 1 clone the repo 1 make torchbench see related tensorflow issue for context url
steps to reproduce the behavior import torch x torch zeros 1 x requires grad true y x 2 dy torch autograd grad y x create graph true 0 z 2 d2y torch autograd grad dy create graph true 0 dz autograd grad z create graph true 0 print d2y requires print dz requires d3y autograd d2y create graph 0 d2z dz throws an error print d3y requires outputs false false
python from argparse import argumentparser import torch from torch import tensor def check jacobian x tensor weight tensor print f contiguous if x is contiguous else incontiguous input tensor y1 x weight y2 torch einsum x xy y weight assert torch allclose y1 y2 grad none y1 backward eye 2 device device print f matmul jacobian grad view 1 grad none y2 backward eye 2 device device print f einsum jacobian grad view 1 if name main argument parser argumentparser argument parser add argument type int default 1 args argument parser parse args cuda set args manual seed 42 f cuda args rand 1 2 x1 expand 2 requires x2 expand contiguous requires w rand check jacobian x1 w check x2 w this code will output as below but as you notice einsum of incontiguous input is different from all the others incontiguous input matmul version version version version cuda 0 einsum cuda 0 contiguous input matmul 0 0
steps to reproduce the behavior 1 run simple mnist py with python version
run this import torch utils data class e exception def init self a b pass def str self return special exception message class g torch utils data iterabledataset def iter self raise e a 1 b 2 yield 1 d torch utils data dataloader g num workers 1 next iter d the result traceback most recent call last file stdin line 1 in module file usr local miniconda3 envs openai lib python version site packages torch utils data dataloader py line 819 in next return self process file usr local miniconda3 envs openai lib python version site packages dataloader py line 846 in process reraise file usr local miniconda3 envs openai lib python version site packages py line 369 in reraise raise exc type msg typeerror init missing required positional argument b
steps to reproduce the behavior python import torch import numpy as np batch size 32 sequence length 512 torch matrix torch full size batch size sequence length fill value 0 dtype int numpy matrix np full shape batch size sequence length fill value 0 dtype int def index over matrix matrix for row index in range batch for column index in range sequence length row index column timeit n 30 over numpy version ms 917 s per loop mean std dev of 7 runs 30 loops each timeit n 30 over torch version ms version ms per loop mean std dev of 7 runs 30 loops each
steps to reproduce the behavior 1 build from source using python setup py develop 2 run git status git status on branch master your branch is up to date with upstream master untracked files use git add file to include in what will be committed torch python version m nothing added to commit but untracked files present use git add track
steps to reproduce the behavior details are shown in the below code snippet import torch nn as nn model nn transformer sz 3 original mask model generate square subsequent mask sz sz print original mask output tensor 0 0 0 inf 0 inf inf
python import torch for me quiet completion for another user the following traceback most recent call last file stdin line 1 in module file n soft rhel7 deeplearning python version lib python version site packages torch init py line 228 in module class bfloat16storage c bfloat16storagebase storagebase attributeerror module torch c has no attribute bfloat16storagebase
import random import torch from torch import nn from memory profiler import profile class dummymodel nn module def init self super init self embed nn embedding 100 self conv nn conv1d 100 200 3 def forward self x x embed x x torch transpose 1 2 conv return torch mean model dummymodel profile def run randint 0 300 random randint 100 3000 model for i in range 20 run when running python example py i get this oom error after 30 iterations runtimeerror enforce fail at cpuallocator cpp 64 defaultcpuallocator can t allocate memory you tried to allocate bytes error code 12 cannot allocate memory the memory profiler output url clearly shows a steady increase and never decrease at each model call of 190mb per call on average
python import torch from torch import nn f nn linear 20 10000 x torch randn 16 20 y1 f x 1 y2 f x 1 y1 y2 tensor version e 00 version e 00 version e 08 version e 08 08 08 grad fn subbackward0 torch allclose y1 y2 false
steps to reproduce the behavior import torchvision models as models from torch import onnx import torch import onnxruntime as rt m models inception v3 pretrained true progress true m eval dummy input torch randn 1 3 244 244 torch onnx export m dummy input test onnx opset version 10 sess rt inferencesession test onnx
python from torch quantization import default qconfig prepare model with qconfig qconfig default qconfig model prepared prepare model with inplace false this will insert observers model not prepared prepare without default inplace false this will not insert observers
python import torch import torch nn as nn gg nn batchnorm2d 64 eval prob torch empty size 0 64 112 112 print gg prob floating point exception in the actual model batchnorm2d is actually trained and then eval is called segfault still happens
consider the following three code snippets python snippet 1 import torch torch cuda reset max memory allocated x torch rand 10000 device cuda print torch cuda max memory allocated python snippet 2 import cuda reset max memory allocated x rand 10000 device print x cpu print max memory allocated python snippet 3 import reset x rand 10000 device print on my machine the first two both out 40448 but the third prints out several times as much just to out a few numbers
steps to reproduce the behavior import torch nn as nn model nn transformer model generate square subsequent mask 4 tensor 0 0 0 0 inf inf inf inf
import torch from torch import nn class dummy nn module def forward self x return x class model nn module def init self dummies nn modulelist super init self dummies dummies def forward self x out for dummy in dummies out append dummy x return tuple out dummy torch jit trace torch randn 1 2 modulelist model model script jit script model got runtime error runtimeerror jit mangle 19 constmodulelist is not compatible with the type jit constmodulelist for the field addorcheckattribute at caffe2 aten src aten core type h 1510
steps to reproduce the behavior np random seed 1024 a torch tensor np random rand 26 54 w a version numpy a w then it reports an error indexerror too many indices for tensor of dimension 2 however if you transpose both a and w it works fine t w t c
attempt to compile this cpp include vector include torch script h void func std vector torch jit ivalue inputs inputs push back int 0 inputs push back long 0 inputs push back long long 0 home dreiss work demo libtorch example app cpp 8 32 error conversion from ong long int to td vector c10 ivalue std allocator c10 ivalue value type aka 10 ivalue is ambiguous 8 push back 0 home dreiss opt libtorch include aten core h 251 3 note candidate 10 const char 251 const char v std string v home dreiss opt libtorch include aten core h 226 3 note candidate 10 bool 226 bool b home dreiss opt libtorch aten core h 215 3 note candidate 10 int32 t 215 int32 t i opt aten core 209 3 note candidate int64 t 209 int64 t i 192 double 192 double d
import numpy as np np std 4 returns 0 import torch torch std torch tensor 4 returns nan
python import torch a torch nn conv1d 24 42 3 3 b torch nn conv2d 24 42 3 3 a weight shape b weight shape out 5 true a bias shape b bias shape out 6 true a weight b weight bias bias t torch randn 1 24 12 12 t t all out 10 tensor true
steps to reproduce the behavior 1 pip3 install torch version torchvision version f url 1 don t install cuda toolkit separately 1 import torch 1 observe importerror dll load failed the specified module could not be found
steps to reproduce the behavior 1 install pytorch version from conda conda install pytorch torchvision cpuonly c pytorch 2 run code from quantization tutorial url
python import torch t1 torch tensor 1 2 3 4 t2 torch tensor version version print t1 t2 tensor version version correct print t1 0 tensor 1 3 correct print t1 0 t2 whaaaat executing this code yields a wrong result for the last addition the second element even changes if the snippet is executed multiple times so far i got and nan
you can get the code from a temporary repository i ve created for this issue url run export model py file you will get the following error traceback most recent call last file export model py line 42 in module torch onnx export model torch input save name gives error file home kasparas local lib python version site packages torch onnx init py line 132 in export strip doc string dynamic axes file home kasparas local lib python version site packages torch onnx utils py line 64 in example outputs example outputs strip doc string strip doc string dynamic axes dynamic axes home kasparas local lib python version site packages onnx utils line 329 in retain param name do constant folding home kasparas local lib python version site packages utils 213 model to graph graph out trace and get graph from args training utils 174 trace and get graph from raise runtimeerror state dict changed after running the tracer runtimeerror state dict changed after running the tracer something weird is happening your
steps to reproduce the behavior console python setup py develop cd benchmarks operator benchmark pt extension python setup py install this will throw an error console creating build temp macosx version x86 64 version clang wno unused result wsign compare wunreachable code dndebug g fwrapv o3 wall wstrict prototypes i applications xcode version fb app contents developer platforms macosx platform developer sdks macosx version sdk usr include i applications xcode fb app contents developer platforms macosx platform developer sdks sdk usr include i users zaf pyenv versions lib python site packages torch include i users zaf pyenv versions lib python site packages torch include torch csrc api users zaf pyenv versions lib site packages torch th users zaf pyenv versions lib site packages thc m c extension cpp o build temp x86 64 extension o dtorch api extension h dtorch name cpp d glibcxx use cxx11 abi 0 std c 11 cpp 1 10 fatal error cpuinfo h file not found cpuinfo h 1 error generated error command clang failed with exit status 1
in 23 sparse torch sparse coo tensor indices torch tensor 0 0 1 1 values torch tensor 5 6 dtype torch int16 size 2 2 device cuda dtype int16 in 24 sparse out 24 tensor indices 0 0 1 1 values 5 6 device cuda size 2 2 nnz dtype int16 layout sparse coo in 25 coalesce out 25 indices values 11 device cuda size nnz dtype int16 layout coo in 26 to dense out 26 device cuda 27 coalesce to dense out 27 11 30 add zeros 30 wasn t able to repro on cpu or with any other
steps to reproduce the behavior 1 a pytorch python pretrained script module been prepraed 2 load a pretrained fron python script module by method auto presavedmodule torch jit load model pt 3 save this module after retrained or inferenced by method presavedmodule save testmodel pt 4 reload it auto local torch jit load testmodel pt
steps to reproduce the behavior tim url change the script to a 0 contiguous eq 1 can temporarily solve this problem
python t torch arange version q torch quantize per tensor t version 0 torch qint8 q2 torch empty affine quantized q shape scale version zero point 0 dtype qint8 q3 empty affine quantized q shape scale version zero point 0 dtype qint8 q2 q q3 dequantize q2 q3 gives tensor size 4 dtype qint8 quantization scheme per tensor affine scale zero point 0 tensor size 4 dtype quantization scheme per affine scale zero point size 4 quantization scheme per
check the issue here url
code 1 import torch from typing import list torch jit script def myfunc my list list float return my list works normally code 2 fails import torch import typing torch jit script def myfunc my typing float return my fails with error runtimeerror unknown type constructor typing at d programming braille mycode qwe py 6 13 jit script def myfunc float here return the same trouble with dict tuple and with scripting classes
steps to reproduce the behavior 1 install python python version amd64 exe 2 run pip install numpy 3 run pip install torch torchvision f url
python import torch nn as nn import torch class b nn module def forward self return none class a nn module def init self super init self mod b def forward self a mod forward assert a is none print torch jit script a forward code print torch jit script b code print jit script fails with def none 0 uninitialized none ops prim raiseexception exception return 0 return traceback most recent call last file py line 22 in module jit script c jitexception exception the above operation failed in interpreter with the following stack trace at py 15 8 mod assert is here interestingly if you explicitly annotate b as returning an optional int for example then this passes runs perfectly with the code that you would expect
script to reproduce the behavior import torch import torch nn as nn import numpy as np class samplemodel nn module def init self super samplemodel self init input layer nn embedding 500 10 max norm version output layer linear 10 2 self layers sequential input layer output layer self loss criterion nllloss def forward input labels em x layers 0 input sum 1 out layers 1 em x loss loss criterion out labels return loss if name main device torch device cpu model samplemodel to device data for i in range 0 500 data append np random randint 0 20 size 30 inputx torch longtensor data to device labels longtensor 0 250 1 250 to model inputx labels print backward stack trace file bug report script py line 34 in module backward file data anaconda envs bletchley lib python version site packages tensor py line 118 in backward autograd backward gradient retain graph create graph file anaconda envs bletchley lib python version site packages autograd init py line 93 in allow unreachable true allow unreachable flag runtimeerror leaf variable has been moved into the graph interior
from torch utils data import dataset dataloader class set ex dataset tdef init self t tself lst 1 2 3 4 5 6 7 8 tdef getitem self index t treturn self lst index tdef len self t treturn len lst if name main t
steps to reproduce the behavior t torch tensor 1 2 5 6 t1 t permute 1 0 m torch tensor version version t tensor 1 2 5 6 t dtype torch int64 t1 tensor 1 5 2 6 t1 dtype torch int64 m 2 m dtype float32 m 3 7 8 t1 3 7 8
1 try to create a tensor from numpy ndarray using torch as tensor image cv2 imread imgpath image cv2 cvtcolor image cv2 color bgr2rgb image torch as tensor dtype torch uint8 names h w c align to c h w e typeerror as tensor got an unexpected keyword argument names
steps to reproduce the behavior 1 clone repo 2 mkdir build cd build 3 cmake dbuild custom protobuf off dbuild torch on dbuild shared libs on dbuild python off dcmake install prefix usr local call stack most recent call first cmakelists txt 373 include looking for clock gettime in rt looking for clock gettime in rt found looking for mmap looking for mmap found shm open shm open found shm unlink shm unlink found malloc usable size malloc usable size performing test c has thread performing test c has thread success gcc version adding gcc and gcc s libs to link line don t use numa performing test compiler supports no avx256 split performing test compiler supports no avx256 split success cmake error at cmake codegen cmake 172 message failed to get generated cpp list call stack most recent call first caffe2 cmakelists txt 2 include
steps to reproduce the behavior python will crash with import torch while true x torch randn 10 x x refine names batch if x is only created once then it runs fine import torch torch randn 10 while true refine names batch however removing rebinding triggers the crashes again import randn 10 while true refine names batch also the issue seems to be related to refine names only since declaring in randn works fine import while true 10 batch
steps to reproduce the behavior
steps to reproduce the behavior 1 run models with benchmarking turned on 2 profile the application
steps to reproduce the behavior 1 run the script below usr bin env python import torch import numpy as np t1 torch rand 16 100 t2 t1 clone m np zeros 1 100 dtype np int64 m 0 10 1 m torch tensor m dtype torch bool print t1 print t2 print t1 masked scatter t2
steps to reproduce the behavior example python import torch import torch nn as nn from copy import deepcopy net nn sequential nn utils weight norm linear 2 3 linear 3 10 net2 deepcopy net error out here result bash runtimeerror only tensors created explicitly by the user graph leaves support the deepcopy protocol at the moment
steps to reproduce the behavior 1 model initialization 2 model training printf output result with an all ones intput at last training step 3 torch save model path to model pt 4 initialization model2 5 torch load model2 path to pt 6 std cout parameters i std endl std cout parameters i std endl 7 torch tensor t1 forward torch ones 1 1 224 224 to kcuda tensor t2 model2 forward ones 1 224 224 kcuda
steps to reproduce the behavior 1 use the follow code to reproduce the error import torch print torch version mask torch triu torch ones 3 3 1 transpose 0 1 print mask mask mask float masked fill 0 float inf masked fill 1 float version print with pytorch version or above i have version a0 3fce612 tensor true false false true true false true tensor 0 0 inf inf inf
see snipped above
python import torch a torch tensor true true false true print a t 0 i got tensor false false true false
steps to reproduce the behavior 1 create an electron vue project 2 vue add quasar 3 node electron vue dev runner js
steps to reproduce the behavior 1 go to url in chrome or safari 2 click on the image tab and observe the weird behavior in the corner s 3 click on no image tab 4 click on image tab and observe weird behavior in corner s 5 click on change image button and observe weird behavior in corner s chrome bottom left corner appears twice once briefly before is changed and again after has changed safari all 4 corners appear while is being changed 5 no tab 6 go to step 2
steps to reproduce the behavior 1 open the jsfiddle example and see the problem on ie11 or edge 2 play around with display block
steps to reproduce the behavior 1 go to the jsfiddle link you can directly copy paste it 2 select an option 3 see the problem
steps to reproduce the behavior 1 click on one of the headers to sort the rows e g calories
create a button with a width wider than the label eg full width or fixed width and set align left as soon as you add type a the label will be centered and not aligned to the left anymore
steps to reproduce the behavior 1 tap on the image without long pressing 2 see menu
steps to reproduce the behavior 1 use wsl wsl2 ubuntu 2 generate new project using quasar create folder name 3 run npx quasar dev
1 make an app for capacitor 2 use a div v if q platform is capacitor div to hide an element on an android app doesnt have to be done this way just examining the value of q platform is capacitor is sufficient 3 build it with quasar dev m capacitor t android to a real device or the emulator same result 4 notice that the element will not be hidden even though it should be 5 try it with q platform is chrome still in a app and same build command instead and it will be hidden even though shouldn t 6 cry
steps to reproduce the behavior 1 run a quasar version app 1 open chrome debugger and set screen mode to responsive and adjust screen width to 675 pixels 1 set a break point in the component being test 1 in chrome debug console i checked these values this q screen gt sm
steps to reproduce the behavior 1 open chrome firefox is ok 2 go to url dynamic update 3 click on checkbox to hide all tabs 4 see button with chevron right icon at right side of toolbar
press the prompt of this codepen to input japanese since the dialog closes when the phrase is confirmed you cannot enter multiple phrase
steps to reproduce the behavior 1 initialize a new project 2 npm i grpc 3 import and use grpc
steps to reproduce the behavior 1 init quasar app quasar init qselect demo with standard options 2 add cypress to app quasar ext add quasar testing e2e cypress say yes to everything 3 edit src pages index vue to look like this vue template q page class flex flex center q select outlined label number options options q page template script export default name pageindex data return options array 5000 keys script 4 add cypress test test cypress integration home init spec js js import as ctx from conf js describe landing beforeeach cy visit it should select the number cy get q page contains number within cy contains arrow drop down click cy get menu scrollto bottom contains 4999 click 5 remove chrome hack for shaking aut from test plugins index js as this will break current versions 6 start server dev 7 run npm run test e2e 8 click init spec in the opened browser for 9 see that some items are not rendered in the list
you can see this on the documentation examples for the navbar component 1 go to url navbars mobile friendly 2 notice the navdropdown in the example code has an id attribute 3 inspect example ui and notice a element has no id
steps to reproduce the behavior 1 create a component with a required onclick prop 2 provide it as the as prop of a dropdown toggle 3 type checking doesn t succeed
steps to reproduce the behavior 1 go to url 2 click on launch demo modal 3 inspect dom and find div with role modal and aria hidden true
steps to reproduce the behavior 1 create a card 2 put a nav inside it that isn t inside a card header 3 give the nav a variant either will do and at least one complete nav item 3 add another element after the nav 4 observe that the overlaps element after it
steps to reproduce the behavior 1 create dragsource 2 create a position fixed element with a higher z index that overlaps the dragsource 3 drag the dragsource element
excample single target url steps to reproduce the behavior 1 focus password input 2 drag box 3 box cannot drag into dustbin but box opacity changed
steps to reproduce the behavior 1 enable font and app scaling in win10 125 or more 2 go to handle and previews react dnd example url in chrome tested in v77 3 start a drag action in lower box with the cursor placed the middle of the box i image 4 preview image offset is top lefter corner
live reproduction url steps to reproduce the behavior 1 drag the first drag me item see the drop zone enlarge 2 attempt to drag the second drag me item
check this on ie11 url steps to reproduce the behavior 1 use drag handle to drag item it will display only handle being dragged
live reproduction codesandbox io steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
set rtl to true on any example using the tooltip provided that the tooltip is not centered and you should be able to reproduce
icons javascript view style styles mapmenucontainer icon reverse raised name map marker plus type material community color white size 25 reversecolor gray onpress this handlecreatebtnpress icon reverse raised name map search outline type material community color white size 32 iconstyle styles filtericonstyle reversecolor gray onpress this handlefilterbtnpress view view style mapmenucontainer position absolute bottom 3 right 2 alignitems center zindex 1 react native elements theme icon underlaycolor transparent type ionicon this is totally random sometimes it appears transparent and after killing the app and reopen it it appears with a white background
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior use the component tab to it using a keyboard and press enter does not actually press button example bash snack url steps 1 go to 2 click on 3 scroll down to 4 see error image url
snack reproducing issue here url i have color coded the button as blue and its container as red to better illustrate what is occurring steps 1 run snack on android observer expected and desired behavior note that no red appears since the button is filling its container 2 run snack on ios observe thin button along top with no text displaying notice the size of button and its container which fills the screen 3 remove or comment out flex 1 on searchbutton style 4 observe now both android and ios look same but does not fill container
we highly recommend that you re create the bug on snack url if not list the steps that a reviewer can take to reproduce the behavior
bash const index setindex usestate null buttongroup onpress i console log selectedi i setindex i console log usestatei index selectedindex index buttons element view style styles buttongroupstyle icon name ios school color size 30 text style styles tagtextstyle button 1 text view element view style styles buttongroupstyle icon name ios school color size 30 text style styles tagtextstyle button 2 text view containerstyle tagitemstyle selectedbuttonstyle tagitemselectedstyle selectedtextstyle tagtextstyle
repo link url the repo has a readme describing more i ve created example unit tests one that consume a pipe containing withlatestfrom and another that does the same thing using switchmap
repl or repo link url i used a take 100 here just to limit the amount of output js import timer from rxjs import tap take from rxjs operators import ms from ms timer 0 ms 25 days if you change this to 24 it works fine supposedly i didn t wait 24 days to see the next emittion but it doesn t do it immediattely pipe tap e console log tap e new date subscribe
js import behaviorsubject from rxjs behaviorsubject
repl or repo link you can use url to create one to attach here url typescript import observable from rxjs import of from rxjs import catcherror switchmap tap from rxjs operators import fromfetch from rxjs fetch export type httperror code string message string stack string export class apiservice model private fetch input string request init requestinit observable response
repl or repo link url code ukkdzaa
this does not represent the flow on which i had the issue is just a simplification of the problem js import observable from rxjs import catcherror delay from rxjs operators const observable new observable observer observer error error thrown observer complete const observablewithdelay new observable observer next delayed data complete pipe delay 3000 pipe catcherror err observablewithdelay subscribe data console log the data data err console log error err console log end result is end rather than dalayed end
minimum code which reproduces bug url run npm start from within the app folder or open this link url and open console code from the app which reproduces the issue js import behaviorsubject interval from rxjs import createobservable from lib const subject1 new behaviorsubject undefined createobservable subscribe subject1 const subject2 new behaviorsubject undefined interval 1000 subscribe subject2 subject1 subscribe v console log observable lib value v getvalue subject1 getvalue subject2 subscribe v console log observable app value v getvalue subject2 getvalue code the lib js import interval rxjs export default function createobservable return interval 1000 console output observable lib value undefined undefined observable app value 0 0 0 1 1 1
repl or repo link url
1 within a fresh angular cli project copy paste the code shown above into app component ts 2 in the terminal run ng lint
repl or repo link url js promise promise all promise resolve 1 promise resolve 2 1 2 all resolve 1 1 all rxjs combinelatest of of 2 2 combinelatest of combinelatest never produce a value
url switch with the takewhile operator this piece of code is throwing a stackoverflow error const value new behaviorsubject number 1 const source value pipe map x value x takewhile x x includes 4 true source subscribe console log value next 4
url fix repo url
install zsh oh my zsh use my zshrc url
use the theme chooser
steps to reproduce the behavior 1 install jenv so that it is in usr local bin e g via homebrew on macos 2 run zsh export path my really important path path echo path tr echo plugins jenv source zsh oh my zsh sh echo tr echo
1 enable plugin git auto fetch 2 get ssh key with passphase that is used to pull git repos 3 add addkeystoagent yes to ssh config 4 exec zsh 5 start ssh agent e g eval ssh agent do not add key
1 use internet explorer
1 go to channel room 2 open notification preferences 3 see 4 values in email notification 4 go to my account preferences notification
1 set the clock format to 24h 2 start a conversation with one of the users 3 observe the last message shown in the sidebar
1 setup a saml connetion with an idp to pass channels claim with multiple values in my scenario specifically microsoft adfs with multiple group memberships passed as claims with the claim values set to the desired channel name for the user s ad groups 2 login a previously unregistered user
1 go to general tab of the administration page 2 enable restrict access inside any iframe and set options to x frame options to deny 3 embed rocket chat server in an iframe in another server
1 start a conversation between two users 2 click on start video call on desktop 3 click on join video call on mobile ios
go to jfwebdev com
1 create a livechat session from the widget as a guest visitor 2 post a new message as the agent using the rest api containing an image url image1 attached with collapsed set to false 2 post a new message as the agent using rest api containing an image url image2 attached with collapsed set to true
1 curl to api v1 users info using token 2 rinse repeat 3 success false error error too many requests please slow down you must wait 26 seconds before trying this endpoint again error too many requests
1 activate livechat in admin panel 2 go to frontend 3 ie11 shows a syntax error in console output but no widget
1 open chat admin accounts scroll to custom fields to show in user info input 2 enter role telegram phone in input 3 scroll down to registration custom fields 4 enter following json in textarea t role t t type text t required true public true defaultvalue chief procrastination officer minlength 3 maxlength 30 telegram type text required true public true minlength 3 maxlength 30 phone type text required public minlength 8 maxlength 30 5 press save changes button
1 go to prune messages 2 set older than to 2 days 3 check exclude pinned messages
1 go to administration 2 go to file upload 3 set the storage type drop down to amazon s3 4 fill out the relevant fields in the amazon s3 section 5 upload an image 6 error non file stream objects are not supported with sigv4
1 stop rocketchat nodejs server and mongodb server 2 start rocketchat nodejs server 3 wait 10 minutes 4 start mongodb server 5 nodejs does not automatically connect to mongodb after mongodb is available
1 go to administration messages autolinker 2 set enable to true and set all other settings in the autolinker panel to false 3 leaving the autolinker url regular expression field as it s default www or change it to something like url 4 save changes 5 post a message like url
1 as administrator go to administration users and click on symbol in right sidebar 2 fill in necessary user fields but keep verified switch off 3 save the user
1 don t really know how to reproduce this it s just happening
1 go to account settings on a new default account 2 see that the settings claim mentions only 3 have someone send a message in a random channel without a mention
users chats and messages are submitted to push
1 pull the latest rocketchat rocket chat develop image 2 check the commit hash
1 bug 1 set fileupload storage type to filesystem 2 set accounts avatarresize to true 3 sync ldap 4 some users avatars are rotated 2 bug 1 set fileupload storage type to amazons3 2 set accounts avatarresize to true 3 sync ldap 4 all avatars are broken and 0 bytes size on amazons3 storage
1 setup custom oauth provider keycloak ldaps in our case 2 in rocket chat accounts settings accounts registration authenticationservices enabled set to no 3 login with user that does not exist in rocket chat 4 user successfully created in rocket chat
1 create a channel and activate auto translation to the desired language 2 ask someone to write a message on another language 3 the translated message will be now displayed if the issue 15762 is fixed 4 now change the translation language to something different than previously selected 5 repeat step 2 6 message will not be translated
1 subscribe to a channel and activated the auto translate feature to your wish language 2 ask someone to write a message to the channel in a different language then you have configured 3 the translated message will not replace the original message although message has been translated which can be seen in database
1 use any incoming webhook 2 define a message limit of 5000 chars 3 post a message with 100 000 chars via the incoming webhook
sidebar sorted by unread on top click the channel when it s bright bold and has a new message i couldn t see a pattern it just happens randomly
1 user1 write message 2 user2 quotes user1 message 3 you see user1 login instead user1 name in quoted message
1 have large install with many messages 2 use retention policy 3 wait while cpu usage grows
1 click on the search tab in full resolution of browser 2 resize the browser to a sufficient width 3 the sidebar breaks
1 write a sentence and end it with a 2 attach an emoji without a space 3 send the message and observe that the emoji doesn t render on the chat
1 get any message in a channel 2 open the unread chat conversation
1 fill in the name and alias field in chinese for example 4 click on choose file button and select the emoji file 5 click on save button
1 press ctrl k expecting the current input to be killed 2 be annoyed
1 go to my account 2 click on profile on the left 3 click on the save changes button
1 activate anonymous user login 2 wait for users to login 3 observe the memory consumption increase indefinitely
1 in the channel click on any of the options present in the upper right corner like room info search etc 2 now resize the screen 900px 3 channel box goes behind options
1 deploy latest docker develop image commit 699e6fe as of initial report 2 attempt to check logs from app nothing will display 3 multiple errors will be logged to stdout
1 install matterbridge 2 connect to rocketchat and another supported server that supports attachments 3 post attachment on another server and edit its associated message
1 upload an audio clip and start listening 2 while listening add an emoji react to the message 3 my audio stops playing
1 any channel options button 2 click on leave room 3 observe the dialog box that appears
1 install rocket server on premise url using amazon web services url 2 configure oauth with a custom provider 3 when configuring oauth rocket chat provides you with a redirect uri url 4 change subdomain to url without a t 5 change docker configuration for rocket chat using root with the new domain 6 change on administration general site to the new domain 5 uri provided by rocket chat in oauth services doesn t get updated
1 go to my account profile update email box 2 click on save changes 3 click on resend verification email
1 use a docker compose file similar to the official example url 1 use as db tag version bring the project up and running 2 change db tag to version error occurs see log output below root docker compose logs f app attaching to backendrocketchat app 1 app 1 app bundle programs server node modules fibers future js 313 throw ex mongonetworkerror failed to connect server db 27017 on first connect mongonetworkerror connect econnrefused version 27017 at pool anonymous bundle programs server npm node modules meteor npm mongo node modules mongodb core lib topologies server js 564 11 at emitone events js 116 13 at pool emit events js 211 7 at connection anonymous bundle programs npm node modules meteor npm mongo mongodb core lib connection pool 317 12 object oncewrapper events 317 30 emittwo events 126 13 connection emit 214 7 socket anonymous bundle programs meteor mongo mongodb core lib connection 246 50 object oncewrapper 315 30 emitone 116 13 socket emit 211 7 emiterrornt internal streams destroy 66 8 combinedtickcallback internal process next tick 139 11 process tickcallback internal process next tick 181 9 backendrocketchat exited with code
1 go to account page on the change password screen 2 change password enter your current password or 1 from the admin panel force a user to change their password 2 login as that user and enter the current on the change screen
1 go to administration 2 go to layout 3 select use full name initials to generate default avatar
1 go to directory 2 click on users in the top 3 see the missing table header
1 install rocket chat from snap on the edge channel including its own mongodb 2 get spammed with messages that this included mongodb server version is deprecated
1 go to livechat menu 2 click on facebook and insert key and secret omni save configuration 3 access livechat menu e click on facebook messenger you will receive the pop up from facebook insert your credencials after this you will see the errors
1 add plain text in accepted media types 2 try to send cfg file 3 is not possible to send cfg files
1 our retentionpolicy settings img width 1834 alt msg src url
1 start a discussion 2 send a few messages 3 delete a message 4 observe that the message count printed on the button in the parent channel does not decrement
1 use a custom port for rc 2 receive push notification on mobile can only confirm android 3 tap on the notification and the app will not be able to proceed beyond the initial wake as it will try polling the server address using default port
1 there is a new message on the channel the channel name has turned into bold to indicate this 2 the user clicks on the channel and sees new message on message pane
view rocketchat documentation on federation url federation url
1 open web site url in browser
1 enter message 2 click three dots menu 3 no edit message entry anymore
1 sign in with saml 2 change your username or email in saml environment 3 sign in with saml
1 tap on file that buddy upload 2 tap save on save dialog 3 have to go in explorer finder or different file manager were file save and open it
1 in rocket chat web or fat client my account preferences hide avatars true 2 start a thread 3 see the issue
1 set url sudo snap set rocketchat server caddy url url 2 activate https sudo snap set rocketchat server https enable
1 go to rocket chat instance send a markdown text like title test url url 2 check on the returned object payload s urls
install fresh unbuntu version follow developer instructions
1 create a user with a ldap password containing and some other caracters after 2 try to connect using the regular password 3 that should fail until you type only the part before
1 go to rocket chat instance send a markdown text like title test url url 2 check on the returned object payload s urls
1 authenticate as an administrator user 2 call any api endpoint for a specific group such as groups members groups info groups history
1 rocket chat conf unit description the rocket chat server after network target remote fs target nss lookup target nginx target mongod service execstart usr local bin node opt rocket chat main js standardoutput syslog standarderror syslog syslogidentifier rocketchat user rocketchat environment mongo url mongodb localhost 27017 rocketchat replicaset rs01 mongo oplog url mongodb localhost 27017 local replicaset rs01 root url url port 3000 install wantedby multi user 2 nginx conf upstreams upstream backend server version 3000 https server server listen 443 name mysite com you can increase the limit if your need to client max body size 200m error log var log nginx rocketchat access log ssl on ssl certificate etc letsencrypt live mysite com fullchain pem ssl certificate key etc letsencrypt live mysite com privkey pem ssl protocols tlsv1 tlsv version tlsv version don use sslv3 ref poodle location proxy pass proxy http version proxy set header upgrade http upgrade proxy set header connection upgrade set header host http host set header x real ip remote addr x forwarded for add x forwarded for x forward proto http nginx true redirect off
1 go to a channels notification preference sidebar 2 switch the sound to a non default value eg ding 3 switch it back to default
1 setup ldap backend and setup a group to channel mapping enable merge existing users 2 setup an oauth login method enable merge users 3 synchronize ldap users and groupd 4 login with ldap username password combination notice that the channel memberships are correct 5 change ldap user group memberships notice that the logged in users channel memberships change 6 login with oauth same user notice that the channel memberships are correct 7 change user group notice that the oauth logged in session is not updated user s groups will never update until logs in with username password
1 go to a channel or direct message 2 click notification preferences 3 click sound change it to ding or any other value 4 click save
1 without being logged into rocket chat on a new browser go to url 2 the window only shows grey loading dots like these img width 985 alt screen shot 2019 09 17 at 8 01 02 am src url 3 to fix this issue we have realized you can go to url and then to url and that will work but this is cumbersome
1 upload file 2 error 500 when finished 3 the file has been uploaded to webdav except rc gives a 500 error
1 set the below config on the docker daemon json file and restart the docker service 2 pull the rocketchat latest version from dockerhub docker pull rocketchat rocket chat version
1 find a message that has more than 15 emoji reactions with a single emoji 2 hover the mouse over that emoji 3 see that there is no space between the last name and and word
follow the mentioned use case from above for example you may log into the admin ui as administator create a blank new room with a participant open the e g chrome developer tools watch the websocket frames being send use administrator to follow use case
1 create a new discussion with any name 2 go to the channel and type in which should bring up the autocomplete menu
1 update rocket chat via official updating guide of manual installation
1 start rc server as docker compose 2 set file upload to filesystem 3 as you can see if you upload a file you cant browse it on the docker host 4 short look in the container the files are located in the directory app bundle programs server uploads and not app uploads 5 owner of app uploads directory in container is root not rocketchat
1 go to the directory page e g click the globe icon at top left 2 look for a channel name or a username that has a descending character like g or y
1 configure smtp mail notification 2 configure direct reply 3 send a message with a tag on rc 4 reply to the message into your mailbox with signatures
1 setup a drupal 8 with oauth2 server 2 setup a rocket chat 2 x 3 configure both drupal and rocketchat to utilize oauth for login 4 utilize the following javascript snippet in your drupal adjusted to your rocket chat url script type application javascript function chatlogin timeout settimeout function document queryselector iframe contentwindow postmessage externalcommand call custom oauth login service drupal rocket chat domain transferable 2000 this next code block will allow for a rudementary workaround comment out to help illustrate the problem window addeventlistener message function ev if ev data eventname room opened cleartimeout timeout false script div class rocketchatchannelblock iframe id rocketchatchannelframe src rocketchatchannelurl width 512px height 512px onload chatlogin sandbox allow popups allow scripts allow forms same origin iframe div
1 go to livechat dashboard and the installation section and copy the installation of the new version 2 paste the code in wordpress
1 create announcement 2 view room and announcements don t show 3 announcements still don t show even after refreshing the page or leaving and reentering the room
1 make a request to v1 rooms info roomname a valid room name 2 check the response in the network tab note how there is no entry usernames
1 register a new user 2 delete all groups from user and leave guest only 3 add user to a private channel 4 select any other user 5 make a call
1 setup a fresh rocket chat installation with ldap as user authentication background 2 run curl k url d user demouser password demouser as many times as you want you always get status error error unauthorized message unauthorized 3 login the user demouser via the browser interface 4 run curl k url d user demouser password again you receive status success data userid zkezwgy8vfmbrnvuc authtoken
1 go on rocket chat 2 click on search and search something 3 click somewhere 4 you lose focus and the research you typed
1 login into rocket chat 2 start a private conversation with a lot of users 100 or more 3 view browser debug console in chrome watch as websockets have a hard time connecting and fall back to xhr
1 on a docked ms surface tablet computer running windows 10 enterprise v1709 open the desktop rocket chat app
1 updating to version 2 attempting to load files using gridfs
1 post a message containing a link to a song in spotify 2 once the preview loads click the next to the preview
launch an existing docker or snapd image attempt to use ldap that has a non prime256v1 certificate issued to it
1 set system language to german 2 open the info panel in any channel 3 experience the misplacement
1 update to latest develop docker image a75e0f5 2 refresh client 3 no icon will be shown
1 configure a custom oauth with merge roles from sso true 2 sign in for the first time with user1 3 add on the idp a role to the user1 4 reconnect with user1
1 go to a site 2 save to home screen 3 rinse and repeat for another
0 set up bundled in snap web proxy caddy rocketchat proxy localhost 3000 websocket transparent 1 set up new version of rocket chat livechat in your website 2 go to the web page with embedded livechat widget
1 have a channel that has unread messages but not more then perhaps 1 or 2 pages of unread ones 2 click on the channel to view its messages 3 see no unread message marker nor the jump to first unread bar 4 channel is marked as read
1 add multi line code 2 insert following text without the min start heap size java memory min 128m max heap size java memory max 1024m max permgen size default 64m java memory perm 64m
not sure if reproducible but this is what i did 1 migrate mongodb database from wiredtiger to mmapv1 by restoring back up into fresh db set to mmapv1 storage engine 2 downloaded latest rc from url 3 started new version of rc
1 open any chat 2 paste a code block containing
1 start ie11 2 open url 3 stuck on the loading animation
1 click on the file download button
1 enter a channel 2 directly link a tweet ex url 3 observe no embedded link shown
run the code snippet with the packages listed at the top of the snippet it will produce above error stack track
using openqa selenium remote using openqa selenium appium using openqa selenium appium android desiredcapabilities capabilities new desiredcapabilities capabilities setcapability devicename android emulator capabilities setcapability platformname android capabilities setcapability app path to your app appiumdriver appiumwebelement driver new androiddriver appiumwebelement new uri url
create an application that depends on selenium remote driver version version or any other 3 x version
use ubuntu version bash apt get install chromium browser chromium chromedriver run a java program java system setproperty webdriver chrome driver snap bin chromium chromedriver new chromedriver
run the test on the attached project from the repo i made to reproduce the issue
detailed steps to reproduce the behavior 1 create a console project from scratch 2 add selenium nuget package 3 add code from above 4 run it
org openqa selenium sendkeystoactiveelement build info version version revision time 2018 11 14t08 17 03 system info host desktop ahamql5 ip version os name windows 10 os arch amd64 os version java 192 driver info driver remotewebdriver tat org openqa selenium remote http abstracthttpcommandcodec encode abstracthttpcommandcodec java 218 tat org openqa selenium remote http abstracthttpcommandcodec encode abstracthttpcommandcodec java 117 tat org openqa selenium remote httpcommandexecutor execute httpcommandexecutor java 152 tat remote remotewebdriver execute remotewebdriver 552 remoteexecutemethod execute remoteexecutemethod 35 remotekeyboard sendkeys remotekeyboard 38 interactions sendkeysaction perform sendkeysaction 56 interactions compositeaction perform compositeaction 34 interactions actions builtaction perform actions 642 interactions actions perform actions 595 detailed steps to reproduce the behavior
the error happens when i am running 40 50 chromedrivers in parallel it doesnt happen if i use small number of chromedrivers like 5 or 10 the more chromedrivers i use the faster that error happens detailed steps to reproduce the behavior
detailed steps to reproduce the behavior 1 be on any webpage 2 do driver findelements for any locator which is not in current context
detailed steps to reproduce the behavior 1 use an selenium test that involves clicking an element button table row etc that is sufficiently narrow 2 run on windows 10 chrome v 78 selenium java v version or v version 3 clicking will be occur above the element all clicking seems to be off expected location by a constant offset
the best example of this requires an incorrectly setup environment specifically install chrome and provide an incompatible version of the chromedriver if you install chrome 78 then install chromedriver 76 execute a c application which initializes a chromedriver url updated example workaround from comments csharp iwebdriver driver null chromedriverservice service chromedriverservice createdefaultservice try driver new chromedriver service catch exception service dispose
start the selenium server root okhatavk downloads java jar selenium server standalone version jar 20 17 version info gridlauncherv3 parse selenium server version version revision 20 17 info gridlauncherv3 lambda buildlaunchers 3 launching a standalone selenium server on port 4444 20 17 info seleniumserver boot is up and running on port 4444 run below python code python from import webdriver options webdriver chromeoptions prefs download prompt for download false options add experimental option prefs prefs options add argument disable web security options add argument no sandbox add argument disable dev shm usage driver 1 webdriver remote desired capabilities to capabilities driver 1 get url executor url driver 1 command executor url session id driver 1 session id driver2 webdriver remote command executor executor url desired capabilities driver2 sessions id session id
steps to reproduce the behavior 1 use wifi network to test it works 2 close wifi and then connect 4g 3 test it and show a message alert that contains sth like unexpected end of stream on com android okhttp address 4 see error
steps to reproduce the behavior 1 go to shadowsocks 2 click on share icon 3 choose qr code 4 app exits
quit the program or using return to home gesture on nex s quit is a gesture that swipe up from the right bottom of the screen sometimes it is both recognized as quit by system and delete config by program cancel is not helping by this case hope there would be a way to disable this feature
1 enable shadowsocks in transproxy mode 2 add iptable rules iptables w t nat n shadowsocks iptables w t nat a shadowsocks o lo j return iptables w t nat a shadowsocks d version j return iptables w t nat a m owner uid owner shadowsocksuid j return a p udp dport 53 j dnat to destination version 5450 p tcp dport 53 dnat to destination version 5450 p tcp dnat to destination version 8200 output 3 resolve any domain by browser or dig like dig p 5450 qq com 4 resolve response is very slow
sh echo api url url jq api url segmentation fault core dumped
1 install jq version 2 pipe in some data and apply a test that evaluates to true print bar jq test bar 1 20397 done print bar 20398 segmentation fault jq test bar
this shows the 0a in the wrong location echo longstring jq r longstring hexdump tail 2 5f5f 5f5f 5f5f 5f5f 0a5f this is one character shorter and shows an 0a at an expected location the end echo longstring jq r longstring hexdump tail 2 000a notice the 0a is misplaced in first example this causes a lot of problems with data that needs to be decoded like base64 etc
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
1 create an addon like this js import react usestate from react import story rendered from storybook core events import text view from react native import addons types from storybook addons useparameter useaddonstate storybook api const addon id myaddon const param key myaddon const panel id addon id panel const mypanel bla useaddonstate test blablaaaaaaaa return text bla text addons register addon id api title my addons addpanel panel type types panel title render active key view mypanel view paramkey param key 2 add it into a react native storybook 3 watch it crash
steps to reproduce the behavior 1 have a markdown title in a mdx doc file 2 the title has a position relative
steps to reproduce the behavior 1 create a new storyboard html project via npx p storybook cli sb init h html 2 add latest storybook addon cssresources as a dev dependency 3 add trivial css resources similarly as described here url 4 run npm run storybook and observe that the css resources tab is empty 5 intentionally create a webpack build error by modifying stories index stories js incorrectly 6 fix the webpack build error 7 browser will automatically refresh with the css resources tab displaying proper css resources which can be activated and deactivated successfully 8 refresh browser manually and observe that tab is empty once again if you wish you may clone project that i re created issue above in here url
steps to reproduce the behavior 1 go to a story and look at it in the canvas 2 click on docs tab 3 find your component in the relevant story 4 see component isn t working
steps to reproduce the behavior 1 clone repo url 2 run yarn install 3 run yarn storybook and you ll see the issue 4 run yarn dev and you ll see it working correctly the repo was setup by simply running yarn create next app adding storybook and creating a basic button component
steps to reproduce the behavior 1 follow guide linked to above i did the following add storyshots install require contex macro as recommended installed react test renderer added the storyshots test js to initstoryshots 2 run npm run test 3 see error
setup storybook with addon docs with a different framework e g react
use the docgen types story in cra ts kichen sink the prop arrayofstring should be listed if it works
1 place a component that has hidden absolute positioned element by default 2 make them appear onclick onhover
steps to reproduce the behavior 1 start cra ts kitchen sink 2 go to the docgen types docs story 3 find a prop that have jsdoc and no description
1 using storybook version version beta 3 with typescript version and react version installing the storybooks addons docs 2 create a component in typescript using material ui withstyles hoc 3 add a component story with addparameters for the component
steps to reproduce the behavior 1 upgrade to storybook version 2 try and import initstoryshots from storybook addon storyshots in ts
if you change examples official storybook components forwardedrefbutton js to have a destructuring on props the props extraction process will fail e g 3 and then check the story examples official storybook stories addon docs props stories mdx there would be no props available for the component
steps to reproduce the behavior 1 create a very simple story of a component with knobs actions 2 trigger an action an event is emitted one time good 3 modify multiple knobs values 4 trigger the same action an event is emitted multiple times bad
1 use the recipe above or try with sample files listed below 2 run npm run storybook 3 see the story s canvas or doc
steps to reproduce the behavior 1 start storybook p 3000 with storybook html 2 open internet explorer 11 3 see that storybook is stuck in the loading state
declare a component in way mentioned under code snippets
steps to reproduce the behavior 1 npm run storybook 2 error shows up in browser
url steps to reproduce the behavior 1 create a story in a tsx file 2 type a generic jsx element 3 open storybook and see the error
steps to reproduce the behavior 1 visit storybook locally 2 change device type in chrome dev tools to mobile 3 reload the page 4 see error
steps to reproduce the behavior setup the following scenario
steps to reproduce the behavior 1 create a documentation only mdx page with enough content that it runs off the screen 2 open the rendered page to the docs tab
steps to reproduce the behavior 1 add a union type in a prop and make it optional 2 view the props table props of xxx 3 see that the type is any
steps to reproduce the behavior 1 i followed the most basic writing addon instructions found here url to create a panel addon 2 all i want the addon to do is render an iframe doesn t matter what url src it has 3 open the dev tools 4 see error
steps to reproduce the behavior 1 add a story with hooks and knob 2 change the knob state the story should update 3 change the knob state again story will stop updating
steps to reproduce the behavior 1 got to a story that has stories before and after 2 reload the page f5 3 hit alt right arrow once it works 4 hit now alt left arrow it doesn t work this is the issue 5 but if you now click on the canvas to give it focus alt left arrow will work as expected
steps to reproduce the behavior 1 go to url 2 click on show code 3 notice the blue background on tags and the missing text
steps to reproduce the behavior 1 setup a storybook with addons actions and addons docs 2 create a story with mdx format 3 try to use addon actions in the story for example story name basic button onclick action onclick story 4 when the button is clicked the action is not logged
go to story using colorpalette go to canvas tab see error
steps to reproduce the behavior 1 go to my github url 2 clone repo 3 run npm run storybook 4 alternatively run npm run jest
steps to reproduce the behavior 1 create a tsx files with two named export components and configure a prop with default value for each of them that prop must have the same name for both of them but different accepted values 2 create a mdx story 3 import one or both it doesn t matter components and render their props 4 change the order of the components in tsx file 5 see how default value changes to value of last component
steps to reproduce the behavior 1 install the latest version of docs following these instructions url currently installs version alpha 40 2 rebuild reload storybook
upgrade storybook addon docs from version alpha 33 to version alpha 39
steps to reproduce the behavior 1 make sure story source is enabled 2 build a story in mdx 3 make sure the story contains vanilla elements in some way
steps to reproduce the behavior 1 go to a story using addon actions 2 click on a button that triggers an action 4 see error in console 5 see no action message logged
steps to reproduce the behavior 1 create a functional vue component by adding functional keyword 2 notice that by adding the functional keyword the component would not render correctly
refer to the code snippets below
js monorepo packages package1 package2 package3 this package uses storybook storybook src components stories storyshots test js jest config js package json webpack config js storybook config import configure adddecorator from storybook react import withknobs from addon knobs import configure as config from enzyme import adapter from enzyme adapter react 16 add knobs addon globally adddecorator withknobs function loadstories const req require context src stories true stories req keys foreach filename req filename configure loadstories module configure enzyme adapter new adapter storyshots test initstoryshots addon storyshots initstoryshots jest module exports clearmocks true testenvironment node package json name package3 version version main dist package3 scripts test jest build webpack start dependencies react version react dom version router dom devdependencies babel core babel preset env babel preset addon storyshots rc 6 babel jest enzyme 16 to json styled components test renderer specifications styled components webpack webpack cli peerdependencies styled components 4 const path require path module exports entry src index module rules exclude node modules use loader loader options presets preset env preset externals jsdom window cheerio window lib executionenvironment true lib reactcontext window addons true styled commonjs commonjs2 amd output filename package3 path path resolve dirname dist library ui librarytarget umd
1 define host background red styling in an angular component 2 go to storybook 3 component does not have a red background as host styling is not applied
steps to reproduce the behavior 1 add a string knob to any component 2 see it render on the storybook 3 change the value 4 see it update the console will say something about storybookjs knobs set 5 change value again 6 assert there has been no change rerender console will say something about storybookjs knobs change for each subsequent
use this repo url or create fresh react native repo via react native init rn61storybookissue version version cd rn61storybookissue npx p storybook cli sb init type react native npm run ios
steps to reproduce the behavior 1 go to url in a narrow width browser 2 click on the tests panel 3 scroll down to see the tests panel 4 see the total number of tests and total time covering up todo text
using these package versions storybook react version storybook addon docs version 1 add this into an mdx file jsx preview story name hello p hello child 1 p p hello child 2 p story preview 2 see error in the rendered preview
npm install url
1 create a model 2 add some entries 3 remove all permissions for public role 4 perform a graphql connection query ie image url
1 default user content add type avatar field type is media 2 request upload api
1 go to url 2 send an empty post request
deploy your app from local machine to a production using this guide url configuration
1 create a new api controller with a custom function e g sample 2 create a custom local policy under config isowner js 3 create a config schem graphql js file create new query that uses the sample function above as well as the local isowner policy 4 start the server the following error comes up ignored attempt to bind to graphql query sample with unknown policy isowner
to help us help you if you ve found a bug please consider the following url when you type a value in the input it should change the enter your pin it is actually good when you remove the reactive declaration
simple use the svelte repl and paste the following into app svelte javascript script tfor let i 0 i i t t t t tlet name the avett brothers script h1 hello name h1 if you can demonstrate the bug using url please do repo url url if that s not possible we recommend creating a small repo that illustrates problem reproductions should be small self contained correct examples xa8c url occasionally this won be possible and that s fine xa8c we still appreciate you raising issue but please understand that svelte is run by unpaid volunteers in their free time and issues follow these instructions will get fixed faster
i created a live demo here url the source is here url url the issue i see is rooted here on the generated code url let outros function transition in block local if block block i outroing delete block i local const null transition duration 0 function create out transition node fn params let config fn node params let running true let animation name const group outros outros is undefined group r 1
see example here url in the above link it works as expected at the very
docker run publish 8080 8080 rm read only docker io swaggerapi swagger ui v version
1 wrap the markdown component js wrapcomponents tmarkdown source pre source pre 2 render an openapi spec e g url 3 expand an operation
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf tf set random seed 1 with tf session as sess print tf random normal format sess run random normal 1 2 a cast constant 1 constant 2 float32 with session as sess print random normal format sess run normal 1 2
tf function def accumulate no error graph d arr tf tensorarray tf float32 num rows for i in range num rows arr arr write i d i return arr concat def accumulate no error eager d tf tensorarray float32 num rows for i in range num rows write d return function def accumulate error graph tensorarray float32 for in range write return 10 a random uniform 2 works well data accumulate no error eager a print f from eager data data no graph a print f from graph with concat data doesn t work a print f from concat
usr bin env python import tensorflow as tf def gen tnoise tfrecord test tfrecord traw noise dataset tf data tfrecorddataset noise tfrecord tnoise count sum 1 for in raw noise dataset tyield 1 def do bug tsignal tfrecord test traw signal dataset tf data tfrecorddataset signal tdataset raw signal dataset interleave lambda x tf data from generator gen t t toutput types float32 t t targs tcycle length 2 tblock length 1 tnum parallel calls 1 tfor d in tprint d treturn def int feature value return train feature int64 list train int64list value value def make ttfrecord filename test twith io tfrecordwriter filename as writer tfor i in range 4 tfeature feat int feature 42 texample proto train example features train features feature twriter write example proto serializetostring if name main tmake tdo bug
import tensorflow as tf from tensorflow keras import layers def get model stateful false batch size none n channels 1 sample size 10 n units 5 inputs layers input batch shape batch size sample size n channels name timeseries inputs y layers lstm units n units input shape sample channels activation tanh recurrent activation sigmoid return sequences false stateful stateful inputs y layers dense 1 y model tf keras models model inputs outputs y return model stateless get stateful false get true batch 1 stateless save stateless h5 save h5 stateless save tf save tf
start container docker run rm it tensorflow tensorflow version py3 bash start python3 in the container without site initialization python3 s add package locations to the sys path and import tensorflow import sys sys path usr lib python36 zip usr lib python version usr lib python version lib dynload usr local python version dist packages python3 dist packages import tensorflow
please find gist here url scrollto gebbaqugimyu
import tensorflow as tf import tensorflow datasets as tfds from tensorflow keras layers import batchnormalization conv2d dense dropout flatten maxpooling2d ds train tfds load name cifar100 split tfds split train ds test tfds load name cifar100 split split test input shape 32 32 3 num classes 10 epochs 10 model tf keras sequential conv2d 32 5 padding same activation relu input shape input shape maxpooling2d 2 2 2 2 padding same batchnormalization conv2d 64 5 padding same activation relu maxpooling2d padding same flatten dense 1024 activation relu dropout version dense num classes activation softmax model summary model compile loss tf keras losses categorical crossentropy optimizer adam metrics accuracy model fit ds train epochs epochs validation data ds test verbose 1
this is the model in question import tensorflow as tf import tensorflow keras layers as layers from tensorflow keras import model class mrf block model def init self out channels num inputs use deconv true kernel size 3 3 strides 1 1 padding same super mrf block self init add the conv deconv layers for i in range num inputs convolve input tensors to output tensors of same channel depth of channels conv layer layers conv2d out channels kernel size strides strides padding padding setattr self f conv i conv layer deconv input tensors input tensor at index i will be upsampled by factor 2 n inputs i 1 eg if input tensors are t1 t2 t3 t1 will be upsampled x 4 t2 upsampled x 2 t3 not upsampled if use deconv layer conv2dtranspose out channels kernel size padding same strides 2
the following code snippet reproduces this behavior i execute the code twice to account for tf function s tracing which has to be one once for df python tf function def df x tf print start inner start tf timestamp result x x end timestamp print end inner took end start return result custom gradient def f x def df dy print before outer start timestamp grad df end timestamp print after outer took return dy grad return for i in range 2 random normal 1000 1000 t with gradienttape as tape tape watch r f forwardpass took t t tape gradient r backwardpass took t output forwardpass version before outer inner inner version e 05 after outer version backwardpass version forwardpass before e 05 after backwardpass
images0 images1 self load batches self images0 tf placeholder tf float32 shape self batch size self c dim output size output size images1 tf placeholder tf float32 shape batch size c dim output output for i in range config num gpus with device device setter if i 0 set tower loss images0 generator discriminator else set tower loss images1 generator discriminator g grads sess run d grads feed dict images0 images1
attached to this report to reproduce python3 m venv venv3 source venv3 bin activate pip3 install tensorflow python3 fizz py full version url
minimal example python class mymodel tf keras model def init self
python import tensorflow as tf from tensorflow keras import layers import numpy as np model from tf keras overview model tf keras sequential layers dense 64 activation relu input shape 32 layers dense 64 activation relu layers dense 10 activation softmax model compile optimizer tf keras optimizers adam version loss categorical crossentropy metrics accuracy data generator def get dataset batch size num batches get random data dataset with given batch size and number of batches def generator for i in range num batches data np random random batch size 32 labels np random batch size 10 yield data labels dataset dataset from generator generator float32 float32 32 10 return create datasets get 32 num batches 1024 val get num 128 train model fit epochs 10 validation val
i didn t manage to get a minimal example using fit generator basically it relies too much on me using my model which is complex however i have a minimal example which reproduces the bug when i mimic the model iteration url l41 function you need to install the following to make it work pip install tensorflow gpu version b1 numpy tqdm python imports import time import numpy as np import tensorflow as tf from tensorflow python keras import callbacks as cbks from tensorflow keras callbacks callback from python keras models model from python keras engine training utils preprocessing image imagedatagenerator utils data utils utils generic tqdm tqdm notebook helper function taken url l500 def make enqueued generator generator workers 1 use multiprocessing false max queue size 10 shuffle false enqueuer data orderedenqueuer generator use multiprocessing use multiprocessing shuffle shuffle enqueuer start workers workers max queue size max queue size output enqueuer get return output enqueuer my silly callback class noise callback def on batch end self batch logs image shape 1 2
python import tensorflow as tf tf ragged stack 1 2 3 1 2 axis 0
bug import keras import numpy as np import tensorflow keras as keras x np empty 10 224 224 3 y np empty 10 2 model keras applications vgg16 vgg16 weights none classes 2 model compile optimizer optimizers adam loss categorical crossentropy metrics accuracy model fit x y epochs 10 model compile optimizer optimizers adam loss categorical crossentropy metrics metrics get accuracy fit x y epochs 10 example output train on samples epoch 1 4s 389ms sample loss inf accuracy version epoch 2 0s 8ms sample loss nan accuracy version epoch 3 0s 8ms sample nan version epoch 4 0s 8ms sample nan version 5 0s 8ms nan 6 7 8 9 train on samples 1 1s 131ms e 00 2 e 00 3 e 00 4 e 00 5 6 7 8 9
import keras import numpy as np import tensorboard plugins hparams api as hp import tensorflow keras as keras tb callback keras callbacks tensorboard log dir tmp tb train writer tb callback get writer tb callback train run name pylint disable protected access hp callback hp kerascallback train writer param 42 model applications vgg16 model compile optimizer optimizers adam loss categorical crossentropy model fit np empty 1 224 224 3 np empty 1 1000 callbacks hp
from tensorflow python keras layers import conv2d globalaveragepooling2d input dense from tensorflow python keras models import sequential from tensorflow python keras regularizers import l2 model sequential input 224 224 3 conv2d 256 3 3 kernel regularizer l2 globalaveragepooling2d dense 10 activation sigmoid metrics are added model compile optimizer adam loss categorical crossentropy metrics accuracy print model metrics metric are empty model compile optimizer adam metrics accuracy print
colab notebook url for where one hot encoding wasn t done colab notebook url with one hot encoding
python import tensorflow as tf from tensorflow python keras testing utils import layer test a dummy layer that just returns a list of input class mycustomlayer tf keras layers layer def call self input return input input layer test mycustomlayer shape 1 2
in order to reproduce the behavior i prepared a google bucket with the following structure the bucket is public accessible please feel free to use it to reproduce the behavior on your end gs tensorflow issue reproduction level0 url level1 url level2 url level3 url in summary we have 4 jpg images nested in different folder levels tensorflow 2 code to reproduce files tf io gfile glob gs tensorflow issue reproduction
with tf device gpu 0 cpu to gpu stage data flow ops stagingarea dtypes dtypes data shapes shapes data cpu to gpu op cpu to gpu stage put data data2 cpu to stage get train op model build graph data2 sess run op while 1 res sess run train op 0 provide a reproducible test case that is the bare minimum necessary generate the problem
provide a reproducible test case that is the bare minimum necessary to generate the problem here the link to the colab code url
from tensorflow keras layers import conv2d upsampling2d leakyrelu concatenate from tensorflow keras import model layers from tensorflow import keras import tensorflow as tf encoder encoder input keras input shape 28 28 1 name img conv1 layers conv2d 16 3 activation relu encoder input conv2 layers conv2d 32 3 activation relu conv1 max1 maxpooling2d 3 conv2 conv3 conv2d 32 3 activation relu max1 conv4 16 activation relu conv3 encoder output globalmaxpooling2d conv4 model input output name decoder resh reshape 4 4 1 output upconv1 conv2dtranspose 16 resh upconv2 conv2dtranspose 32 upconv1 upsample upsampling2d upconv2 conc concatenate conv2 upsample conv5 conv2dtranspose 16 conc decoder output conv2dtranspose 1 conv5 autoencoder autoencoder model decoder name autoencoder conversion converter tf lite tfliteconverter from model autoencoder tflite converter convert open tflite wb write tflite inference interpreter tf lite interpreter path tflite details interpreter get details interpreter resize tensor details 0 index 1 56 56 allocate tensors
here a notebook url in cell 8 just uncomment this line loss tf nn softmax cross entropy with logits v2 labels s logits dec v2 does not work and run for the code to fail yet with softmax cross entropy with logits the result looks fine with softmax cross entropy logits epoch 5 outlosshat version always 1 version epoch 10 outlosshat version always 1 version epoch 15 outlosshat always 1 epoch 20 outlosshat always 1 25 30 35 40 45 50 softmax cross entropy v2 5 10 15 20 25 30 35 40 45 50
python import tensorflow as tf from tensorflow python keras mixed precision experimental import autocast variable var tf variable 0 dtype tf float32 var autocast variable autocastvariable var with tf compat v1 get default graph enable auto casting variables float16 assert var dtype float16 assign should return an autocastvariable but returns variable assign assign 5 assert not isinstance assign autocast autocastvariable assert dtype float32
from tensorflow keras models import sequential from tensorflow keras import layers import numpy as np y train np random rand 1 epochs 1 x train np random rand 1 20 16 model sequential model add layers lstm activation sigmoid units 3 batch input shape 1 20 16 model add layers dense 2 activation softmax model compile loss sparse categorical crossentropy optimizer adam metrics accuracy summary history fit x train y train batch size epochs epochs this reproduces the error in my usecase edit using the solution proposed in url did not work for me requirement already satisfied gast version
import tensorflow as tf class mymodel tf keras model def init self super mymodel self init self x self add weight shape 1 dtype tf float32 def call inputs return inputs x model mymodel optimiser tf keras optimizers adam version function def train with gradienttape as tape output model version loss output grads tape gradient loss model trainable variables optimiser apply gradients zip grads trainable variables train print first call ok optimiser keras optimizers adam version train print second call ok
a executable notebook can be found here url python coding utf 8 import numpy as np import tensorflow as tf from tensorflow python keras import backend layers models x layers input shape 4 y layers dense 1 activation softmax x model models model inputs x outputs y model compile optimizer adam loss mse metrics accuracy x data np random random 10 4 y data np random random 10 model fit data y data epochs 5 batch size 10 save save format tf loading this will raise an error save h5 save format h5 loading this will work this block will load the savedmodel without compiling and will perform the inference raising an error backend clear session model2 models load compile false model2 predict batch size 10 this block load the keras saved without compiling and perform the inference working as expected backend clear session model3 models load h5 compile false model3 predict batch size
tensorflow version 2 x import tensorflow as tf import numpy as np inp tf ragged constant np arange 1000 dtype np float32 reshape 10 10 10 tf function if not using tf function it runs well def ragged example r tensor s constant version for i in range 10 inner r tensor i for x in inner b reduce sum x s s b return s inp inp to tensor if this is uncommented it runs well ragged example inp this hangs
provide a reproducible test case that is the bare minimum necessary to generate the problem
i made a dummy network to try and isolate the issue i built the network using the following import tensorflow as tf import numpy as np model tf keras models sequential model add tf keras layers conv3d 1 4 4 4 input shape 4 8 8 1 name conv model compile loss tf keras losses sparse categorical crossentropy optimizer keras optimizers rmsprop lr version metrics metrics categorical accuracy x np random random 1 8 8 1 y np random random 5 5 model train on batch x y predict x save in hdf5 format file conv3d h5 models save file convert the to tflite format converter lite tfliteconverter from file file converter target ops lite opsset tflite builtins lite opsset select ops tflite converter convert open conv3d tflite wb write i then load and run on android using bytebuffers to hold input outputs i can provide this code if requested but don t suspect it to be problem as use it for other working projects m confident that this is a conv3d issue because have also built a
python import os path as op import time import numpy as np from tensorflow keras callbacks import tensorboard from tensorflow keras layers conv2d input from tensorflow keras models model size 512 im input size size 1 im conv conv2d 512 3 padding same activation relu im im conv conv2d 1 3 padding same activation linear conv model model conv model compile loss mse optimizer adam metrics mae data np random rand 1 size 1 run id f int time time log dir op join logs run id tboard cback tensorboard log dir log dir histogram freq 0 write graph false write images false profile batch 2 fit x data y data validation data callbacks tboard cback epochs 100 verbose 0
import tensorflow as tf var tf variable initial value 12 checkpoint tf train checkpoint var var manager tf train checkpointmanager checkpoint checkpoint directory delete me max to keep 2 manager save 0 manager save 1 manager save 2 manager2 train checkpointmanager directory delete me max to keep 2 manager2 save 3 manager2 4 manager2 5 why were 1 and 2 deleted by
colab notebook that reproduce problem url import tensorflow as tf import tensorflow datasets as tfds model don t work if uncomment following line tf config experimental run functions eagerly true train dataset tfds load name cifar10 train model tf keras models sequential tf keras layers flatten input shape 32 32 3 keras layers dense 10 activation softmax batch size 50 model compile loss sparse categorical crossentropy metrics accuracy train set train dataset map lambda item item image item label batch batch size model fit set epochs 5
first run this script to define and save the sequential model import numpy as np import tensorflow as tf from tensorflow keras models import sequential from tensorflow keras layers import dense embedding from tensorflow keras layers lstm model sequential model add embedding 20000 128 model add lstm 128 add dense 1 activation sigmoid compile loss binary crossentropy optimizer adam metrics accuracy tf keras models save imdb include optimizer true save format tf then run the following script to restore the and train it on the imdb dataset as tf from datasets imdb preprocessing sequence x train y train imdb load data num words 20000 x train sequence pad sequences x maxlen 80 models load fit x y epochs 1
provide a reproducible test case that is the bare minimum necessary to generate the problem import pandas as pd pip install q tensorflow version alpha0 import tensorflow as tf from tensorflow import feature column from tensorflow keras import layers from sklearn model selection train test split url url dataframe pd read csv url train test train test split dataframe size version train val split size version a utility method to create a tf data dataset from a pandas dataframe def df to dataset dataframe shuffle true batch size 32 copy labels pop target ds tf data dataset tensor slices dict labels if shuffle ds ds shuffle buffer size len ds batch batch return feature columns numeric cols for header in age trestbps chol thalach oldpeak slope ca feature columns append feature column numeric column header layer tf keras layers densefeatures columns batch 32 df to dataset val df val shuffle false df false model keras sequential layer layers dense 128 activation relu layers dense 128 activation relu dense 1 activation sigmoid model compile optimizer adam loss binary crossentropy model fit validation data val epochs 5 save my h5 keras new models load my h5
provide a reproducible test case that is the bare minimum necessary to generate the problem as above
import tensorflow as tf tf enable eager execution tf keras backend sqrt tf constant version numpy sqrt constant version numpy
borrow the benchmark code from here url python import os import sys import tensorflow as tf import time n 8192 dtype tf float32 matrix1 tf variable tf ones n n dtype dtype matrix2 variable ones n dtype product matmul matrix1 matrix2 avoid optimizing away redundant nodes config configproto graph options graphoptions optimizer options optimizeroptions opt level optimizeroptions l0 sess session config config os sys tensorflow as time 8192 float32 matrix1 variable ones matrix2 variable ones product matmul matrix1 matrix2 avoid optimizing away redundant nodes config configproto graph options graphoptions optimizer options optimizeroptions opt level optimizeroptions l0 sess session sess run global variables initializer iters 10 pre warming sess run product op start time time for i in range iters run product op end ops
see above only way i was able to test was by also creating the python bindings for the op
python import tensorflow as tf ft col numeric tf feature column numeric column test input ft col buk tf feature column bucketized column ft col numeric boundaries 1 3 5 7 ft col embed tf feature embedding buk dimension 4 embed layer keras layers densefeatures embed crash when the call number is greater than 4 layer call num 5 function def run inputs with gradienttape as tape res list for i in range layer call num x embed layer inputs res list append x y reduce sum sum res list weights trainable variables gradients tape gradient y weights return gradients test input constant 0 2 4 6 8 inputs test input test input run inputs
provide a reproducible test case that is the bare minimum necessary to generate the problem as the description above
python import tensorflow as tf def main dim 20 capacity 256 batch size 4 buffer tf variable initial value tf zeros capacity dim trainable false w tf variable initial value zeros trainable true def loop body loss loss w value indices range batch size indices expand dims indices axis 1 error disappears if running buffer scatter nd update inside cond cond shape indices 0 0 lambda buffer scatter nd update zeros shape batch size dim lambda buffer value return loss error disappears if function is removed function def loop unroll length 10 loss zeros with gradienttape as tape while loop cond lambda true body loop body vars back prop true maximum iterations unroll length error disappears if removing the previous while and uncomment the following line body error disappears if removing tape gradient tape gradient w w assign add name main main
url python try tensorflow version 2 x except exception pass import tensorflow as tf import numpy as np from tensorflow keras layers import input dense from tensorflow keras models import model from keras models load model input seq input shape 1 name x embedding model model inputs input seq outputs seq compile optimizer adam loss sparse categorical crossentropy x x embedding np array version 100 y np array 0 100 fit y works with original res evaluate y print evaluate res works with h5 save my h5model h5 save format h5 model2 load my h5model h5 res model2 evaluate y print model2 evaluate res doesn t work with savedmodel format save my savedmodel save format tf model3 load my savedmodel model3 print model3 work with savedmodel format if i rename embedding 1 x2 1 np array version 100 model3 x2 print
import tensorflow as tf print using tensorflow version git version format tf version version tf git from tensorflow python keras metrics import meanmetricwrapper from tensorflow python keras metrics import accuracy def custom accuracy y true y pred return accuracy y true y pred class customaccuracy meanmetricwrapper def init self
check this gist url
please find the colab gist to reproduce the issue url url
save the entire model as a savedmodel base data path c grewe classes cs663 mat lstm data load the previously saved h5 model try to reload the saved h5 file recreate the exact same model including its weights and optimizer model file os path join base data path my h5 tf keras models load file show architecture summary create directory to save savedmodel saved dir os path join base data saved catsdogscnn mkdir p dir save dir provide a reproducible test case that is bare minimum necessary to generate problem
import tensorflow as tf good cell tf keras layers lstmcell units 2 dropout version implementation 1 bad cell tf keras layers lstmcell units 2 dropout version implementation 1 inputs tf ones 1 2 state good cell get initial state inputs function def no dropout output good cell inputs state return output function def dropout output bad inputs state return output print 50 print no print 50 print
here is google colab code url with mnist example
code to reproduce this issue can be found on the related stackoverflow page url another good reproduction of this since i m using attention layers is found here url issuecomment
import tensorflow as tf from tensorflow import keras x keras input shape none 10 dtype int32 name input t tf shape x 0 to pad t 2 y tf pad x 0 to pad 0 0 model keras model inputs x outputs y model save model h5
training in c tensorflow configproto config sessionoptions config config set allow soft placement true config set log device placement true mutable gpu options set allow growth true prediction in c configproto new configproto logdeviceplacement true allowsoftplacement gpuoptions gpuoptions new gpuoptions gpuoptions allowgrowth version devicecount add gpu 1
provide a reproducible test case that is the bare minimum necessary to generate the problem import tensorflow as tf tf random set seed 0 inputs tf keras layers input shape none dtype int32 x tf keras layers embedding input dim 10 output dim 3 mask zero true inputs outputs keras layers lstm 2 return sequences true x model keras model inputs outputs padded inputs constant 1 3 0 0 print model padded it prints the following tensor version version version version 0 instead of tensor which is what it is supposed to print note that when only using a cpu it gives the correct result
python import numpy as np import tensorflow as tf from tensorflow keras import layers model tf keras sequential layers embedding input dim 1000 output dim 64 layers lstm 128 return sequences true layers dense 10 activation softmax model compile optimizer adam loss sparse categorical crossentropy metrics tf keras metrics data np random randint 0 1000 32 10 batch size 32 seq length 10 labels np random randint 0 10 32 model fit data labels epochs 1 batch size 32
import numpy as np import tensorflow as tf num points 100 dimensions 2 points np random uniform 0 1000 num points dimensions def input fn return tf train limit epochs tf convert to tensor points dtype tf float32 num epochs 1 num clusters 5 kmeans estimator experimental kmeans clusters clusters use mini batch false train iterations 10 previous centers none for in xrange iterations kmeans train input fn cluster centers kmeans cluster centers if previous centers is not none print delta cluster previous previous cluster print score score input fn print map the input to their clusters indices list predict index fn for i point in enumerate index indices i center index print point point is in index centered at center
import datetime import os import tensorflow as tf import tensorflow datasets as tfds def preprocess for mnist image label image tf cast image tf float32 version return image label datasets info tfds load name mnist with info true as supervised true shuffle files false strategy tf distribute onedevicestrategy device gpu 0 train dataset datasets train map preprocess for mnist batch 32 log dir os path join os path expanduser logs datetime datetime now strftime y m d h m s with strategy scope model keras sequential keras layers conv2d 32 3 activation relu input shape 28 28 1 keras layers maxpooling2d keras layers flatten layers dense 10 activation softmax callbacks callbacks tensorboard log dir log dir histogram freq 0 profile batch 2 model compile loss sparse categorical crossentropy optimizer optimizers adam metrics accuracy model fit train dataset epochs 2 steps per epoch 10 callbacks callbacks
provide a reproducible test case that is the bare minimum necessary to generate the problem
provide a reproducible test case that is the bare minimum necessary to generate the problem not a contribution import os import numpy as np import tensorflow as tf def foo x r return np matmul x r def baz x r return foo x r def bar registered baz return registered def gen callable for i in range 1 np eye 3 astype np float32 random randn 40000 3 astype float32 prod bar yield prod make tf generator tf dataset tf data dataset from generator gen callable output types float32 output shapes none 3 for d in dataset print d if name main make generator
attempt to install algo on macos version
steps to reproduce the behavior 1 create version ubuntu server vm 2 git clone url 3 sudo apt install y python3 virtualenv 4 python3 m virtualenv python command v python3 env source env bin activate python3 m pip install u pip virtualenv m pip install r requirements txt 5 add a few users to config cfg 6 run algo
steps to reproduce the behavior 1 docker pull trailofbits algo latest 2 docker run cap drop all it v users sam vpns data trailofbits algo latest
steps to reproduce the behavior 1 go to 2 click on 3 scroll down to 4 see error
detailed steps to reproduce the behavior 1 run vim clean 3 edit vimtest vim and type sign place here call sign define clapcurrentselected t text t texthl warningmsg t linehl error t let g display winid popup create hello world wrap v false mapping v false cursorline 0 scrollbar 0 minwidth 20 maxwidth 20 minheight 20 maxheight 20 let g display bufnr winbufnr g display winid add sign to current buffer call sign place 1 clapcurrentselected2 clapcurrentselected bufnr lnum 1 add to popup buffer call place 2 clapcurrentselected clapcurrentselected g display bufnr lnum 1 4 run so 5 popup window has no placed
detailed steps to reproduce the behavior 1 run gvim clean on pc with touch screen 2 split window ctrl w v 2 type long text with many rows 3 activate left window touch it 4 try scroll left window touch the window with your finger and slide it up 5 right is scrolled
write this in tmp vimrc set ls 2 hi link statusline errormsg ino expr c b func fu func let g on get g on 0 redraws return endfu fu status return get g on 0 on endfu set stl status then start vim like this vim nu none s tmp vimrc finally press i to enter insert mode and c b to invoke the mapping is displayed in the status line and the cursor is drawn right afterward
detailed steps to reproduce the behavior vim clean c set buftype nofile selection exclusive c call setline 1 here c normal wvi y c execute here quit or using the example from 5183 vim clean set selection exclusive cr i foo bar baz esc 0wvi
1 set terminal column size to 160 or more 2 type make test or make test quickfix
detailed steps to reproduce the behavior 1 run gvim clean 2 enter some text 3 using the mouse select the text to the end of line if line starts with a tab selection stops before it hits end of line if line numbers are on selection stops earlier still
detailed steps to reproduce the behavior 1 run vim 2 open netrw for directory with c files 3 type mf c 4 nothing is selected
1 set vimrc with the following contents vim vimrc set nocompatible syntax on set laststatus 2 set number 2 leave vim folder empty 3 edit any file long enough to allow for multiple full screen scrolls
test vim vim func filter winid key echom v mouse winid v mouse lnum v mouse col if a key esc call popup close a winid redraw endif return 0 endf func filter2 winid key echom v mouse lnum col if a key esc call popup close a redraw this redraw should be removed endif return 0 endf let id popup create bufnr title test line 1 maxheight 5 padding 0 0 1 scrollbar mapping 1 zindex 1 filter filter call win execute id setlocal nu let id2 popup create bufnr title test line 8 maxheight 5 padding scrollbar mapping zindex 9 filter filter2 call win execute id2 setlocal nu echom id id2 so 2 press esc 3 the two windows don t close at once expected behavior is both are closed at once 4 if remove the redraw the two windows are both closed
run this shell command vim nu none call matchadd conceal set cole 3 cocu n nowrap pu repeat x columns 2 repeat y columns 2 z then press to move the cursor on the last character of the line which here is z the cursor jumps to some location way beyond z
endofbuffer test vim vim let id popup create bufnr line 0 col 0 padding 0 1 1 1 maxwidth 60 minheight 7 1 so ps i am using colorscheme url
detailed steps to reproduce the behavior 1 run vim clean or gvim clean etc on windows 10 2 edit any existing file from a remote machine with command such as e scp user hostname port file path 3 the underlining scp command that netrw is using appears to be something like scp p port user hostname file path drive tmp file path
1 start vanilla vim vim u none c set ft java syntax on 2 paste the above example java code 3 use m and m motions to move the cursor across the file
1 create bug vim with the content autocmd bufunload redraws 2 vim u bug vim p a b c 3 q to close the tab for a
materialdialog this show datepicker currentdate mydate datetime style name apptheme parent theme materialcomponents light noactionbar item name md corner radius 12dp item style
1 create a dialog with title buttons and custom view with edit text 2 have the edit text with flagnoextractui and open the keyboard when dialog shows 3 using device with smaller screen and or increasing font size might be necessary
after starting the weex project locally scan the qr code with weexplayground and open the page written with wxc swipe action component
simple page layout happens occasionally reproduce path not found yet
steps to reproduce the behavior 1 run apollo sh build
steps to reproduce the behavior 1 follow github instructions to download build images start docker containers and build apollo inside container 2 follow github instructions to launch apollo by cyber recorder play demo version record l 3 open dreamview and see the update 4 if now we keep switching the setup mode from one to another 5 a lot of traffic lights will be spawn during those switches
pass in an httpsagent with an invalid configuration which should cause axios request to reject in version it rejects on master it does not see code snippet below js require axios url url httpsagent new require https agent ciphers does not exist catch err console error err message
js axios post user params id 12345
create a request interceptor as follows js const x xsrf token x xsrf token axios interceptors request use attachcsrftoken function attachcsrftoken config if document cookie document cookie length document cookie match new regexp xsrf token length 1 let csrf token document cookie match new regexp xsrf 1 config headers common x csrf return config and make a request then view the request in chrome dev tool network section in headers you can see the header image url
as root user create view defaultdb test view as select node id key from crdb internal node statement statistics create user matt grant select on defaultdb test view to matt as sql user matt matt 26257 defaultdb select from defaultdb test view pq only users with the admin role are allowed to access application statistics
first create a network so containers can communicate with each other by name bash docker network create test start cockroachdb in single node mode bash docker run name cockroachdb network test d p 8080 8080 p 26257 26257 cockroachdb cockroach v version start single node insecure advertise addr cockroachdb logtostderr run my database migration container against the container bash docker run network test t e cockroach database defaultdb t e cockroach host t e cockroach insecure true t e port 26257 user root password testafette estafette ci db migrator version although the error doesn result in a failing container you ll see the following error in the logs 2019 11 21 12 11 33 ok 00012 create releases table sql severity warn app estafette ci db migrator version version error fail pq transaction committed but schema change aborted with error 42703 verify inverted idx count column releases does not exist quitting migration time 2019 11 21t12 11 34z message failed migrating database schema
what did you do describe in your own words i load data to a table load like batch insert a large number of rows which has auto increment after 25hours later the replica running gc old version for the table but there are too many version and when running gc we copy all version into memory i known auto increment is not recommended in cockroach but i think it is a bug and i found another problem when a key has to many version to gc more than 256kb it will increase normal read and write request latency in that key since the latch if possible provide steps to reproduce the behavior 1 set up cockroachdb cluster 2 send sql cli command 3 look at ui log file client app 4 see error
1 install postgres locally brew install postgresql 2 start single node crdb instance docker run d name crdb hostname crdb p 26257 26257 p 8080 8080 cockroachdb cockroach latest start single node insecure 3 create a gbench database in crdb docker exec it cockroach sql insecure execute create database pgbench 4 execute local pgbench against docker instance pgbench i pgbench username root host localhost port 26257
attached are system descriptor system namespace and system jobs as well as debug zip all files can be dowloaded here url
1 set up version cockroachdb cluster 2 connect to sql shell and run the following create database imdbload drop table aka name import table imdbload aka name tid integer not null primary key person id integer not null name text not null imdb index character varying 12 name pcode cf character varying 5 pcode nf character varying 5 surname pcode character varying 5 md5sum 32 t csv tdata gs artem cockroach bucket aka csv
consider the following valid postgresql schema create table a ta int primary key create table b tb int primary key ta int references a a tunique b a create table c tc int primary key ta references tunique c create table d td primary key tc tb ta references tconstraint d c foreign c references tconstraint d b foreign b when creating d user is required to use workaround due to the redundant foreign td tc tb alter add constraint foreign is detected to be partial duplicate of and is rejected however when we inspect the current state of we see root 26257 foo show name statement int8 not null int8 null int8 null int8 null constraint asc constraint fk ref index auto index fk ref asc constraint index auto index asc asc family 1 row time version ms which is not valid syntax for this version root 26257 foo not fk ref auto fk ref auto family pq column cannot be used by multiple constraints
like in native postgresql the following is not supported in cockroachdb sql create table t a int update t set t a 1 while postgresql reports this error sql fehler 42703 error column t of relation does not exist position 16 cockroachdb reports a more misleading one sql fehler 0a000 error at or near a syntax error unimplemented this syntax detail source sql update set 1 hinweis you have attempted to use feature that is not yet implemented see url specifically issue url has nothing to do with this
to reproduce just do cockroach workload init tpcc warehouses 3500 data loader import here is what saw as the number of handles open before start lsof wc l 2942 after cockroach started lsof wc l 4310 1 min after cockroach workload init tpcc warehouses 3500 data loader import lsof wc l 27602 10 min after workload init start lsof wc l load finished grep sst 46 grep sst 46 cockroach terminated 2942 the limit in my case was a default and set to 1024 ulimit n 1024 if possible provide steps to reproduce the behavior
use the management console and click our docs under the connection parameters
1 start a secure cluster 2 try to access the admin ui but do not log in with a sql user 3 observe the logs for the cockroach node of which you accessed the ui from
1 create a database and a table with geo partitioned rows 2 verify the location of data with show range from table table name for row row this outputs the desired replica localities 3 backup a database with backup database 4 drop the database 5 restore the with restore 6 verify location of data show range from table name for row row now all rows in are distributed not geo partitioned
try to backup an empty database to s3 and then restore it
create a multi region cluster create a database with a large number of tables 10 create a user grant that user permissions on all tables in the database
1 connect to laughing ladybug as a non admin user confirm the kv rangefeed enabled cluster setting is set to false 2 create changefeed create changefeed for table epics into experimental s3 airtable cc airtable v1 aws access key id abcd aws secret access key 1234 with updated resolved 5m 3 changefeed is created successfully data appears in the above s3 bucket 4 the web ui will then eventually show an error on the changefeed img width 1319 alt image src url
1 npx create docz app docz app typescript example typescript 2 move button mdx and button tsx from src components into scr components button 3 npm run dev shell error 98123 webpack generating ssr bundle failed can t resolve src components button tsx in c users radulian documents git docz app typescript docz cache caches gatsby plugin mdx mdx scopes dir file cache caches gatsby plugin mdx scopes dir js
here url is a reproduction with docz basic example this file url or steps 1 create docz app my docz app cd my docz app 2 add typescript true in doczrc js 3 in alert mdx wrap alert component inside playground with react fragment using jsx syntax mdx playground alert some message alert playground 4 run npm run dev 5 see error in browser shell referenceerror react is not defined
1 follow the steps in url download manually use docz typescript example 2 npm run dev everything is normal image url 3 rename src components button tsx to src components index tsx 4 edit src components button mdx mdx import button from index tsx props of button 5 npm run dev props works wrong image url 6 undo rename and edit 7 npm run dev everything is normal again
1 npx create docz app docz app basic 2 change src index mdx to mdx import readme from readme md some mdx content readme 4 run npm run docz dev 5 see error in browser shell typeerror cannot read property frontmatter of undefined findentry node modules gatsby theme docz src base layout js 29 26 27 const findentry db ctx 28 console log db 29 const isindex ctx frontmatter route 30 const eqindex propeq value route 31 if ctx entry isindex return db entries find eqindex 32 const filepath get entry filepath ctx
i have built a small sandbox to reproduce the issue url run yarn docz dev
1 npx create docz app docz app typescript example typescript 2 create a random exported component in the file src index tsx either named export or default export 2 change src index mdx to mdx import component from or import component from component 4 run npm run docz dev 5 see error in browser
1 have data set with 2 distinct ip ranges in it and that follows ecs or some standard that shows server originating and client responding in my data set i have a lot of public ip s and my test environment version x 24 2 apply a filter for server ip is between version to version 3 apply a second filter for client ip is not between version to
1 open kibana with ie11 2 content will be remdered menu left sidebar will be missing probably due to the above error
1 create a new platform plugin 2 use appmountcontext core http get and provide it an invalid api route 3 analyze the response in the browser network tab html is returned see this branch for a working example url
1 navigate to snapshot and restore 2 you must have some snapshots present 3 click delete snapshot 4 and i get an error
1 upload a geojson file containing polygon or mutipolygon features 2 on preview move the mouse to hover over a single polygon feature 3 move the mouse to a different feature it doesn t update the tooltip
1 create new pie chart visualization 2 add a slice parameter on term count 3 add another slice parameter on term count 3 add a third slice parameter on term count
1 create a plugin that cannot be used with the current kibana version for example a plugin for version 2 start kibana 3 kibana crashes
1 follow the instructions for adding a choropleth layer url 2 at the layer style step instead of choosing a gradient color choose customer color ramp 3 after completed go to the legends and the custom color levels are not displayed
1 install version elasticsearch and kibana 2 load some data same data should do here because the splash screen in kibana only shows up if there s no index pattern saved objects and it wouldn t be the normal case for someone to upgrade when they don t have any kibana index patterns 3 upgrade to version 4 start kibana and see if any banner or notification appears
1 go to management index lifecycle policies create policy 2 type a policy name 3 activate the cold phase 4 save as new policy error a number is required 5 set timing for cold phase to 0 error only numbers above 0 are allowed
1 set up heartbeat with some monitors for es kibana version 2 navigate to the uptime ui 3 expand the integrations popover 4 click a link like view in infra ui
1 configure some heartbeat monitors for current and expired tls services 2 observe that those monitors do not display tls data
1 create a custom map using upload geojson vector file 2 cretae a layer 3 click on term joins 4 select a field wih field name keyword 5 select rigth index and field
1 create a dashboard with a visualisation that has an error which prints to the screen see below example screenshot 2 attempt to generate a report from the dashboard
1 setup winlogbeat 2 turn on process creation audit logging 3 look at the siem ml job rare process by host windows ecs 4 look at the data feed and see bool filter term event action process create rule processcreate 5 look at the influencers and see host name process name and user name
this is more of an implementation mistake than a bug that breaks functionality there should be no noticeable difference in the user s interaction with kibana after the issue is fixed
1 create a tsvb visualization 2 change the title of the series or split the series by a term aggregation 3 save the visualization 4 after clicking save sometimes page refresh with a default visualization some times no 5 when opening visualization from a dashboard displayed is default tsvb one
1 open metrics app 2 start typing in the kuery bar
1 open timelion tab 2 click on the button on the right upper corner of tip to collapse the tip
i am actually not entirely sure in my test environment i searched after a pipeline and after clearing the search i saw duplicates in my production environment i simply upgraded elastic stack from version and went to the page discovering duplicates
1 create a watcher 2 use index as action and do not enter a index and use transform script to generate a doc in payload with index field doc index
1 state field has valued open open closed closed 2 open visualize and create new visualization 3 click add filter select field state and operator is one of 4 start typing clos notice the display is wrong strings overlap 5 select one version of the value start typing again no matches are displayed and there is no way to add the second version
1 navigate to the uptime app with some monitors loaded ping me if you need assistance configuring heartbeat 2 navigate to the monitor page for one of your monitors 3 look at the link the breadcrumb provides in upper left
1 load up master 2 go to dev tools 3 attempt to enter some method name index command keywords etc
1 load up latest master with some heartbeat monitors 2 apply some filters say port 3 look in chrome console for the relevant network call you ll see it void of filters
1 load the uptime ui 2 navigate to the monitor page 3 wait for it to autorefresh 4 see the updated route
1 start up master version kibana with some uptime monitors 2 navigate to the monitor page 3 observe the bug in the bottom table s ip column
1 run version or master kibana with some uptime monitors 2 navigate to monitor page 3 observe the bug
1 base64 encode a 1mb image here s one url 2 create a markdown visualization and copy paste the linked base64 image your browser will likely hang a bit as you try to apply it 3 try to save the visual
1 collect some data with an index mapping that has dynamic false 2 hit the refresh button in the index pattern management and nothing happens 3 update index mapping via put 4 index mapping is fixed
1 scroll up or down through the logs until you hit the edge of the data 2 wait for loading additional entries to disappear 3 notice that no additional entries appear 4 use the log minimap or toolbar to change timestamp and notice that additional entries are actually present earlier or later than currently loaded data
1 create a saved search 2 share saved search via csv copy post url 3 use this url to create an advanced watch
1 query timeline with bars and width as shown after derivative 2 bask in the loveliness of incorrectly drawn negative buckets
1 switch to a timezone like america new york 3 reload the page in ie11 4 open discover in ie11
1 start a new es cluster 2 in kibana set xpack security sessiontimeout to a low value like 90000 ms 3 start kibana 4 log into kibana and navigate to the logs app 5 click to view details on any log event 6 in your browser s developer tools view the api call to foo api infra graphql and observe a new session cookie being set in the http response header 7 continue clicking view details on log events 8 after 30 seconds the session idle timeout notification will be displayed 9 session idle timeout notification will not be dismissed even though session is being extended with each api call 10 after a total of 90 seconds logout event will be triggered will be destroyed and user redirected login page
